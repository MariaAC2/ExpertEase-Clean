<form (ngSubmit)="onSubmit()" class="form-layout">
  <div class="form-group" [ngClass]="field.class" *ngFor="let field of fields">
    <label [for]="field.key">{{ field.label }}</label>

    <div [ngClass]="field.type === 'select' ? 'select-box' : 'input-box'">
      <ng-container [ngSwitch]="field.type">

        <!-- Text, Email, Password, Number -->
        <input *ngSwitchCase="'text'" type="text" [id]="field.key" [name]="field.key"
               [placeholder]="field.placeholder" [(ngModel)]="formData[field.key]" />

        <input *ngSwitchCase="'email'" type="email" [id]="field.key" [name]="field.key"
               [placeholder]="field.placeholder" [(ngModel)]="formData[field.key]" />

        <input *ngSwitchCase="'password'" type="password" [id]="field.key" [name]="field.key"
               [placeholder]="field.placeholder" [(ngModel)]="formData[field.key]" />

        <input *ngSwitchCase="'number'" type="number" [id]="field.key" [name]="field.key"
               [placeholder]="field.placeholder" [(ngModel)]="formData[field.key]" />

        <!-- Select -->
        <select *ngSwitchCase="'select'" [id]="field.key" [name]="field.key"
                [(ngModel)]="formData[field.key]"
                [ngClass]="{ 'placeholder-selected': formData[field.key] === '' }">
          <option value="" disabled hidden>{{ field.placeholder || 'Selectează o opțiune' }}</option>
          <option *ngFor="let option of field.options" [value]="option">{{ option }}</option>
        </select>

        <!-- Textarea -->
        <textarea *ngSwitchCase="'textarea'" [id]="field.key" [name]="field.key"
                  [placeholder]="field.placeholder" [(ngModel)]="formData[field.key]" rows="4">
        </textarea>

        <!-- Fallback -->
        <input *ngSwitchDefault [type]="field.type" [id]="field.key" [name]="field.key"
               [placeholder]="field.placeholder" [(ngModel)]="formData[field.key]" />
      </ng-container>
    </div>
  </div>

  <div class="form-group full-width">
    <div class="button-wrapper">
      <button type="submit" class="send-button">{{ submitText }}</button>
    </div>
  </div>
</form>
