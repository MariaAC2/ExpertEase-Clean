import{$ as te,A as m,Aa as Ma,B as Qn,Ba as se,C as A,Ca as Oa,D as R,Da as L,E as Ni,Ea as Ye,F as me,Fa as _e,G as Re,Ga as Ra,H as D,Ha as Va,I as Ca,Ia as ka,J as wa,Ja as Ui,K as y,Ka as Ie,L as Gt,La as it,M as l,Ma as Na,N as c,Na as Li,O as k,Oa as q,P as fe,Pa as Bi,Q as ge,Qa as Co,R as N,S as I,T as E,U as Ve,V as d,W as re,X as F,Y as xa,Z,_ as ee,a as z,aa as Je,b as pe,ba as Le,c as ae,ca as St,d as Ri,da as Kt,e as an,ea as $,f as cn,fa as de,g as _a,ga as Ge,h as ya,ha as Ea,i as va,ia as Sa,j as ba,ja as Jn,k as Et,ka as Ia,l as qt,la as Fi,m as Vi,ma as vo,n as Qe,na as pt,o as ie,oa as un,p as ki,pa as bo,q as zt,qa as Ke,r as W,ra as ue,s as jt,sa as Q,t as M,ta as dn,u as O,ua as hn,v as $t,va as Ta,w as j,wa as Aa,x as Hn,xa as Pa,y as ln,ya as nt,z as $e,za as Da}from"./chunk-GKTSWIB4.js";var Ka=(()=>{class i{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||i)(A(Qn),A(Hn))};static \u0275dir=me({type:i})}return i})(),ii=(()=>{class i extends Ka{static \u0275fac=(()=>{let t;return function(o){return(t||(t=$t(i)))(o||i)}})();static \u0275dir=me({type:i,features:[Re]})}return i})(),Ht=new zt(""),Gl={provide:Ht,useExisting:Qe(()=>So),multi:!0},So=(()=>{class i extends ii{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=$t(i)))(o||i)}})();static \u0275dir=me({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,o){r&1&&I("change",function(_){return o.onChange(_.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Je([Gl]),Re]})}return i})(),Kl={provide:Ht,useExisting:Qe(()=>ke),multi:!0};function Wl(){let i=bo()?bo().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Hl=new zt(""),ke=(()=>{class i extends Ka{_compositionMode;_composing=!1;constructor(t,r,o){super(t,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!Wl())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||i)(A(Qn),A(Hn),A(Hl,8))};static \u0275dir=me({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&I("input",function(_){return o._handleInput(_.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(_){return o._compositionEnd(_.target.value)})},standalone:!1,features:[Je([Kl]),Re]})}return i})();function Io(i){return i==null||To(i)===0}function To(i){return i==null?null:Array.isArray(i)||typeof i=="string"?i.length:i instanceof Set?i.size:null}var ri=new zt(""),Xi=new zt(""),Ql=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,It=class{static min(e){return Jl(e)}static max(e){return Yl(e)}static required(e){return Wa(e)}static requiredTrue(e){return Xl(e)}static email(e){return Zl(e)}static minLength(e){return eu(e)}static maxLength(e){return tu(e)}static pattern(e){return nu(e)}static nullValidator(e){return zi()}static compose(e){return Za(e)}static composeAsync(e){return ec(e)}};function Jl(i){return e=>{if(e.value==null||i==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<i?{min:{min:i,actual:e.value}}:null}}function Yl(i){return e=>{if(e.value==null||i==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>i?{max:{max:i,actual:e.value}}:null}}function Wa(i){return Io(i.value)?{required:!0}:null}function Xl(i){return i.value===!0?null:{required:!0}}function Zl(i){return Io(i.value)||Ql.test(i.value)?null:{email:!0}}function eu(i){return e=>{let t=e.value?.length??To(e.value);return t===null||t===0?null:t<i?{minlength:{requiredLength:i,actualLength:t}}:null}}function tu(i){return e=>{let t=e.value?.length??To(e.value);return t!==null&&t>i?{maxlength:{requiredLength:i,actualLength:t}}:null}}function nu(i){if(!i)return zi;let e,t;return typeof i=="string"?(t="",i.charAt(0)!=="^"&&(t+="^"),t+=i,i.charAt(i.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=i.toString(),e=i),r=>{if(Io(r.value))return null;let o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}function zi(i){return null}function Ha(i){return i!=null}function Qa(i){return Ca(i)?cn(i):i}function Ja(i){let e={};return i.forEach(t=>{e=t!=null?z(z({},e),t):e}),Object.keys(e).length===0?null:e}function Ya(i,e){return e.map(t=>t(i))}function iu(i){return!i.validate}function Xa(i){return i.map(e=>iu(e)?e:t=>e.validate(t))}function Za(i){if(!i)return null;let e=i.filter(Ha);return e.length==0?null:function(t){return Ja(Ya(t,e))}}function Ao(i){return i!=null?Za(Xa(i)):null}function ec(i){if(!i)return null;let e=i.filter(Ha);return e.length==0?null:function(t){let r=Ya(t,e).map(Qa);return va(r).pipe(ya(Ja))}}function Po(i){return i!=null?ec(Xa(i)):null}function Fa(i,e){return i===null?[e]:Array.isArray(i)?[...i,e]:[i,e]}function tc(i){return i._rawValidators}function nc(i){return i._rawAsyncValidators}function wo(i){return i?Array.isArray(i)?i:[i]:[]}function ji(i,e){return Array.isArray(i)?i.includes(e):i===e}function Ua(i,e){let t=wo(e);return wo(i).forEach(o=>{ji(t,o)||t.push(o)}),t}function La(i,e){return wo(e).filter(t=>!ji(i,t))}var $i=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ao(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Po(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},mt=class extends $i{name;get formDirective(){return null}get path(){return null}},Wt=class extends $i{_parent=null;name=null;valueAccessor=null},Gi=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},ru={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ym=pe(z({},ru),{"[class.ng-submitted]":"isSubmitted"}),Ne=(()=>{class i extends Gi{constructor(t){super(t)}static \u0275fac=function(r){return new(r||i)(A(Wt,2))};static \u0275dir=me({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Gt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Re]})}return i})(),rt=(()=>{class i extends Gi{constructor(t){super(t)}static \u0275fac=function(r){return new(r||i)(A(mt,10))};static \u0275dir=me({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Gt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Re]})}return i})();var Yn="VALID",qi="INVALID",pn="PENDING",Xn="DISABLED",Tt=class{},Ki=class extends Tt{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ei=class extends Tt{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},ti=class extends Tt{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},mn=class extends Tt{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Wi=class extends Tt{source;constructor(e){super(),this.source=e}},Hi=class extends Tt{source;constructor(e){super(),this.source=e}};function Do(i){return(Zi(i)?i.validators:i)||null}function ou(i){return Array.isArray(i)?Ao(i):i||null}function Mo(i,e){return(Zi(e)?e.asyncValidators:i)||null}function su(i){return Array.isArray(i)?Po(i):i||null}function Zi(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function ic(i,e,t){let r=i.controls;if(!(e?Object.keys(r):r).length)throw new Vi(1e3,"");if(!r[t])throw new Vi(1001,"")}function rc(i,e,t){i._forEachChild((r,o)=>{if(t[o]===void 0)throw new Vi(1002,"")})}var fn=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return pt(this.statusReactive)}set status(e){pt(()=>this.statusReactive.set(e))}_status=un(()=>this.statusReactive());statusReactive=ln(void 0);get valid(){return this.status===Yn}get invalid(){return this.status===qi}get pending(){return this.status==pn}get disabled(){return this.status===Xn}get enabled(){return this.status!==Xn}errors;get pristine(){return pt(this.pristineReactive)}set pristine(e){pt(()=>this.pristineReactive.set(e))}_pristine=un(()=>this.pristineReactive());pristineReactive=ln(!0);get dirty(){return!this.pristine}get touched(){return pt(this.touchedReactive)}set touched(e){pt(()=>this.touchedReactive.set(e))}_touched=un(()=>this.touchedReactive());touchedReactive=ln(!1);get untouched(){return!this.touched}_events=new Ri;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ua(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ua(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(La(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(La(e,this._rawAsyncValidators))}hasValidator(e){return ji(this._rawValidators,e)}hasAsyncValidator(e){return ji(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(pe(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ti(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new ti(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(pe(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ei(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ei(!0,r))}markAsPending(e={}){this.status=pn;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mn(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(pe(z({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Xn,this.errors=null,this._forEachChild(o=>{o.disable(pe(z({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ki(this.value,r)),this._events.next(new mn(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Yn,this._forEachChild(r=>{r.enable(pe(z({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yn||this.status===pn)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ki(this.value,t)),this._events.next(new mn(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(pe(z({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xn:Yn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=pn,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=Qa(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new mn(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new j,this.statusChanges=new j}_calculateStatus(){return this._allControlsDisabled()?Xn:this.errors?qi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(pn)?pn:this._anyControlsHaveStatus(qi)?qi:Yn}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),o&&this._events.next(new ei(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ti(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zi(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=ou(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=su(this._rawAsyncValidators)}},gn=class extends fn{constructor(e,t,r){super(Do(t),Mo(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){rc(this,!0,e),Object.keys(e).forEach(r=>{ic(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var xo=class extends gn{};var oi=new zt("",{providedIn:"root",factory:()=>er}),er="always";function oc(i,e){return[...e.path,i]}function Qi(i,e,t=er){Oo(i,e),e.valueAccessor.writeValue(i.value),(i.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(i.disabled),cu(i,e),uu(i,e),lu(i,e),au(i,e)}function Ba(i,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Yi(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Ji(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function au(i,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}function Oo(i,e){let t=tc(i);e.validator!==null?i.setValidators(Fa(t,e.validator)):typeof t=="function"&&i.setValidators([t]);let r=nc(i);e.asyncValidator!==null?i.setAsyncValidators(Fa(r,e.asyncValidator)):typeof r=="function"&&i.setAsyncValidators([r]);let o=()=>i.updateValueAndValidity();Ji(e._rawValidators,o),Ji(e._rawAsyncValidators,o)}function Yi(i,e){let t=!1;if(i!==null){if(e.validator!==null){let o=tc(i);if(Array.isArray(o)&&o.length>0){let u=o.filter(_=>_!==e.validator);u.length!==o.length&&(t=!0,i.setValidators(u))}}if(e.asyncValidator!==null){let o=nc(i);if(Array.isArray(o)&&o.length>0){let u=o.filter(_=>_!==e.asyncValidator);u.length!==o.length&&(t=!0,i.setAsyncValidators(u))}}}let r=()=>{};return Ji(e._rawValidators,r),Ji(e._rawAsyncValidators,r),t}function cu(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&sc(i,e)})}function lu(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&sc(i,e),i.updateOn!=="submit"&&i.markAsTouched()})}function sc(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function uu(i,e){let t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}function ac(i,e){i==null,Oo(i,e)}function du(i,e){return Yi(i,e)}function cc(i,e){if(!i.hasOwnProperty("model"))return!1;let t=i.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function hu(i){return Object.getPrototypeOf(i.constructor)===ii}function lc(i,e){i._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function uc(i,e){if(!e)return null;Array.isArray(e);let t,r,o;return e.forEach(u=>{u.constructor===ke?t=u:hu(u)?r=u:o=u}),o||r||t||null}function pu(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}var mu={provide:mt,useExisting:Qe(()=>ft)},Zn=Promise.resolve(),ft=(()=>{class i extends mt{callSetDisabledState;get submitted(){return pt(this.submittedReactive)}_submitted=un(()=>this.submittedReactive());submittedReactive=ln(!1);_directives=new Set;form;ngSubmit=new j;options;constructor(t,r,o){super(),this.callSetDisabledState=o,this.form=new gn({},Ao(t),Po(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Zn.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Qi(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Zn.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Zn.then(()=>{let r=this._findContainer(t.path),o=new gn({});ac(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Zn.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Zn.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),lc(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Wi(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Hi(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||i)(A(ri,10),A(Xi,10),A(oi,8))};static \u0275dir=me({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&I("submit",function(_){return o.onSubmit(_)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Je([mu]),Re]})}return i})();function qa(i,e){let t=i.indexOf(e);t>-1&&i.splice(t,1)}function za(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var ni=class extends fn{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Do(t),Mo(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zi(t)&&(t.nonNullable||t.initialValueIsDefault)&&(za(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qa(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qa(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){za(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var fu=i=>i instanceof ni;var gu={provide:Wt,useExisting:Qe(()=>Be)},ja=Promise.resolve(),Be=(()=>{class i extends Wt{_changeDetectorRef;callSetDisabledState;control=new ni;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new j;constructor(t,r,o,u,_,T){super(),this._changeDetectorRef=_,this.callSetDisabledState=T,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=uc(this,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),cc(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Qi(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){ja.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,o=r!==0&&vo(r);ja.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?oc(t,this._parent):[t]}static \u0275fac=function(r){return new(r||i)(A(mt,9),A(ri,10),A(Xi,10),A(Ht,10),A(Fi,8),A(oi,8))};static \u0275dir=me({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Je([gu]),Re,jt]})}return i})();var ot=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275dir=me({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return i})(),_u={provide:Ht,useExisting:Qe(()=>Ro),multi:!0},Ro=(()=>{class i extends ii{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=$t(i)))(o||i)}})();static \u0275dir=me({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&I("input",function(_){return o.onChange(_.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Je([_u]),Re]})}return i})();var dc=new zt("");var yu={provide:mt,useExisting:Qe(()=>Vo)},Vo=(()=>{class i extends mt{callSetDisabledState;get submitted(){return pt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=un(()=>this._submittedReactive());_submittedReactive=ln(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new j;constructor(t,r,o){super(),this.callSetDisabledState=o,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Qi(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Ba(t.control||null,t,!1),pu(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),lc(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Wi(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Hi(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,o=this.form.get(t.path);r!==o&&(Ba(r||null,t),fu(o)&&(Qi(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);ac(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&du(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Oo(this.form,this),this._oldForm&&Yi(this._oldForm,this)}static \u0275fac=function(r){return new(r||i)(A(ri,10),A(Xi,10),A(oi,8))};static \u0275dir=me({type:i,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&I("submit",function(_){return o.onSubmit(_)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Je([yu]),Re,jt]})}return i})();var vu={provide:Wt,useExisting:Qe(()=>ko)},ko=(()=>{class i extends Wt{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new j;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,o,u,_){super(),this._ngModelWarningConfig=_,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=uc(this,u)}ngOnChanges(t){this._added||this._setUpControl(),cc(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return oc(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||i)(A(mt,13),A(ri,10),A(Xi,10),A(Ht,10),A(dc,8))};static \u0275dir=me({type:i,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Je([vu]),Re,jt]})}return i})();var bu={provide:Ht,useExisting:Qe(()=>At),multi:!0};function hc(i,e){return i==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function Cu(i){return i.split(":")[0]}var At=(()=>{class i extends ii{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),o=hc(r,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=Cu(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=$t(i)))(o||i)}})();static \u0275dir=me({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&I("change",function(_){return o.onChange(_.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Je([bu]),Re]})}return i})(),_n=(()=>{class i{_element;_renderer;_select;id;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(hc(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||i)(A(Hn),A(Qn),A(At,9))};static \u0275dir=me({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})(),wu={provide:Ht,useExisting:Qe(()=>pc),multi:!0};function $a(i,e){return i==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${i}: ${e}`.slice(0,50))}function xu(i){return i.split(":")[0]}var pc=(()=>{class i extends ii{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let o=t.map(u=>this._getOptionId(u));r=(u,_)=>{u._setSelected(o.indexOf(_.toString())>-1)}}else r=(o,u)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let o=[],u=r.selectedOptions;if(u!==void 0){let _=u;for(let T=0;T<_.length;T++){let V=_[T],B=this._getOptionValue(V.value);o.push(B)}}else{let _=r.options;for(let T=0;T<_.length;T++){let V=_[T];if(V.selected){let B=this._getOptionValue(V.value);o.push(B)}}}this.value=o,t(o)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=xu(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=$t(i)))(o||i)}})();static \u0275dir=me({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&I("change",function(_){return o.onChange(_.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Je([wu]),Re]})}return i})(),yn=(()=>{class i{_element;_renderer;_select;id;_value;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue($a(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue($a(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||i)(A(Hn),A(Qn),A(pc,9))};static \u0275dir=me({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})();var Eu=(()=>{class i{_validator=zi;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):zi,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||i)};static \u0275dir=me({type:i,features:[jt]})}return i})();var Su={provide:ri,useExisting:Qe(()=>si),multi:!0};var si=(()=>{class i extends Eu{required;inputName="required";normalizeInput=vo;createValidator=t=>Wa;enabled(t){return t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=$t(i)))(o||i)}})();static \u0275dir=me({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&wa("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Je([Su]),Re]})}return i})();var mc=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=Ni({type:i});static \u0275inj=ki({})}return i})(),Eo=class extends fn{constructor(e,t,r){super(Do(t),Mo(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){rc(this,!1,e),e.forEach((r,o)=>{ic(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Ga(i){return!!i&&(i.asyncValidators!==void 0||i.validators!==void 0||i.updateOn!==void 0)}var fc=(()=>{class i{useNonNullable=!1;get nonNullable(){let t=new i;return t.useNonNullable=!0,t}group(t,r=null){let o=this._reduceControls(t),u={};return Ga(r)?u=r:r!==null&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new gn(o,u)}record(t,r=null){let o=this._reduceControls(t);return new xo(o,r)}control(t,r,o){let u={};return this.useNonNullable?(Ga(r)?u=r:(u.validators=r,u.asyncValidators=o),new ni(t,pe(z({},u),{nonNullable:!0}))):new ni(t,r,o)}array(t,r,o){let u=t.map(_=>this._createControl(_));return new Eo(u,r,o)}_reduceControls(t){let r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){if(t instanceof ni)return t;if(t instanceof fn)return t;if(Array.isArray(t)){let r=t[0],o=t.length>1?t[1]:null,u=t.length>2?t[2]:null;return this.control(r,o,u)}else return this.control(t)}static \u0275fac=function(r){return new(r||i)};static \u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Y=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:oi,useValue:t.callSetDisabledState??er}]}}static \u0275fac=function(r){return new(r||i)};static \u0275mod=Ni({type:i});static \u0275inj=ki({imports:[mc]})}return i})(),Pt=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:dc,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:oi,useValue:t.callSetDisabledState??er}]}}static \u0275fac=function(r){return new(r||i)};static \u0275mod=Ni({type:i});static \u0275inj=ki({imports:[mc]})}return i})();var We=class i{searchTerm="";placeholder="Caut\u0103 ...";searchChanged=new j;onSearchChanged(){this.searchChanged.emit(this.searchTerm.trim())}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=R({type:i,selectors:[["app-search-input"]],inputs:{placeholder:"placeholder"},outputs:{searchChanged:"searchChanged"},decls:4,vars:2,consts:[[1,"search-box"],["type","text",3,"ngModelChange","placeholder","ngModel"],["aria-label","Search",1,"search-icon-button",3,"click"],["src","assets/icons/search.svg","alt","Search Icon"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"input",1),te("ngModelChange",function(u){return ee(r.searchTerm,u)||(r.searchTerm=u),u}),c(),l(2,"button",2),I("click",function(){return r.onSearchChanged()}),k(3,"img",3),c()()),t&2&&(m(),y("placeholder",r.placeholder||"Caut\u0103..."),Z("ngModel",r.searchTerm))},dependencies:[se,Y,ke,Ne,Be],styles:[".search-box[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;align-items:center;gap:20px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 50px 15px 20px;border:none;background:transparent;outline:none;font-family:Roboto Mono,monospace;font-size:12px}.search-icon-button[_ngcontent-%COMP%]{background:none;border:none;padding:0 16px;font-size:1.2rem;color:#444;cursor:pointer;display:flex;align-items:center;justify-content:center}.search-icon-button[_ngcontent-%COMP%]:hover{color:#000}.search-icon-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}"]})};function Iu(i,e){if(i&1&&(l(0,"option",7),d(1),c()),i&2){let t=e.$implicit;y("value",t),m(),re(t)}}var st=class i{currentPage=1;totalItems=0;pageSize=10;pageSizeOptions=[5,10,20];pageChange=new j;pageSizeChange=new j;getTotalPages(){return Math.ceil(this.totalItems/this.pageSize)}goToPreviousPage(){this.currentPage>1&&this.pageChange.emit(this.currentPage-1)}goToNextPage(){this.currentPage<this.getTotalPages()&&this.pageChange.emit(this.currentPage+1)}onPageSizeChange(e){let t=Number(e);this.pageSizeChange.emit(t)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=R({type:i,selectors:[["app-pagination"]],inputs:{currentPage:"currentPage",totalItems:"totalItems",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange"},decls:13,vars:6,consts:[[1,"pagination-wrapper"],[1,"page-size-selector"],["for","pageSize"],["id","pageSize",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"pagination-controls"],[3,"click","disabled"],[3,"value"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"label",2),d(3,"Afi\u0219eaz\u0103 pe pagin\u0103:"),c(),l(4,"select",3),te("ngModelChange",function(u){return ee(r.pageSize,u)||(r.pageSize=u),u}),I("change",function(){return r.onPageSizeChange(r.pageSize)}),D(5,Iu,2,2,"option",4),c()(),l(6,"div",5)(7,"button",6),I("click",function(){return r.goToPreviousPage()}),d(8,"\u2190"),c(),l(9,"span"),d(10),c(),l(11,"button",6),I("click",function(){return r.goToNextPage()}),d(12,"\u2192"),c()()()),t&2&&(m(4),Z("ngModel",r.pageSize),m(),y("ngForOf",r.pageSizeOptions),m(2),y("disabled",r.currentPage===1),m(3),xa("Pagina ",r.currentPage," din ",r.getTotalPages(),""),m(),y("disabled",r.currentPage===r.getTotalPages()))},dependencies:[ue,Pt,_n,yn,At,Ne,Y,Be],styles:[".pagination-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:32px;flex-wrap:wrap;margin-top:24px;font-family:Roboto Mono,monospace}.page-size-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:16px}.page-size-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0}.page-size-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:4px 6px;border:1px solid #aaa;border-radius:4px;font-size:15px;font-family:Roboto Mono,monospace}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:16px}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border:2px solid #000;background-color:#d9c8ff;border-radius:4px;font-weight:700;cursor:pointer;font-family:Roboto Mono,monospace}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:default}"]})};var vn=class i{constructor(e){this.router=e}requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""};formSubmit=new j;close=new j;submitRequest(){this.formSubmit.emit(this.requestForm)}closeForm(){this.close.emit()}static \u0275fac=function(t){return new(t||i)(A(Ie))};static \u0275cmp=R({type:i,selectors:[["app-request-form"]],inputs:{requestForm:"requestForm"},outputs:{formSubmit:"formSubmit",close:"close"},decls:23,vars:4,consts:[[1,"overlay"],[1,"request-form-wrapper"],[1,"close-button",3,"click"],[1,"request-form"],[1,"form-row"],["type","datetime-local","name","startDate","required","",3,"ngModelChange","ngModel"],["type","tel","name","phoneNumber","required","",3,"ngModelChange","ngModel"],["type","text","name","address","required","",3,"ngModelChange","ngModel"],["name","description","rows","4","required","",3,"ngModelChange","ngModel"],[1,"center-button"],["type","submit",3,"click"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"button",2),I("click",function(){return r.closeForm()}),d(3,"\xD7"),c(),l(4,"h2"),d(5,"Trimite o solicitare"),c(),l(6,"form",3)(7,"div",4)(8,"label"),d(9," Data \u0219i ora dorite: "),l(10,"input",5),te("ngModelChange",function(u){return ee(r.requestForm.requestedStartDate,u)||(r.requestForm.requestedStartDate=u),u}),c()(),l(11,"label"),d(12," Num\u0103r de telefon: "),l(13,"input",6),te("ngModelChange",function(u){return ee(r.requestForm.phoneNumber,u)||(r.requestForm.phoneNumber=u),u}),c()()(),l(14,"label"),d(15," Adres\u0103: "),l(16,"input",7),te("ngModelChange",function(u){return ee(r.requestForm.address,u)||(r.requestForm.address=u),u}),c()(),l(17,"label"),d(18," Descrierea solicit\u0103rii: "),l(19,"textarea",8),te("ngModelChange",function(u){return ee(r.requestForm.description,u)||(r.requestForm.description=u),u}),c()(),l(20,"div",9)(21,"button",10),I("click",function(){return r.submitRequest()}),d(22,"Trimite solicitarea"),c()()()()()),t&2&&(m(10),Z("ngModel",r.requestForm.requestedStartDate),m(3),Z("ngModel",r.requestForm.phoneNumber),m(3),Z("ngModel",r.requestForm.address),m(3),Z("ngModel",r.requestForm.description))},dependencies:[se,Y,ot,ke,Ne,rt,si,Be,ft,Pt],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.request-form-wrapper[_ngcontent-%COMP%]{position:relative;max-width:600px;margin:2rem auto;background-color:#e8d9ff;border:2px solid #000;padding:2rem;font-family:Roboto Mono,monospace}.request-form-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.request-form-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1.5rem}.request-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;font-size:.95rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem}.form-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;font-family:Roboto Mono,monospace;font-size:.9rem}.request-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .request-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #999;border-radius:4px;font-family:Roboto Mono,monospace;background-color:#fff}.request-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.center-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem 1rem;border:2px solid #000;border-radius:6px;background-color:#c9b7ff;font-weight:700;cursor:pointer;display:flex;justify-content:center;font-family:Roboto Mono,monospace}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#dcdcdc;color:#888;cursor:not-allowed}"]})};var Tu=i=>["/specialist",i];function Au(i,e){if(i&1&&(l(0,"span",18),d(1),c()),i&2){let t=e.$implicit;m(),re(t.name)}}function Pu(i,e){if(i&1){let t=N();l(0,"div",19)(1,"app-request-form",20),I("formSubmit",function(o){M(t);let u=E();return O(u.submitRequest(o))})("close",function(){M(t);let o=E();return O(o.closeRequestForm())}),c()()}if(i&2){let t=E();m(),y("requestForm",t.requestForm)}}var ai=class i{constructor(e){this.router=e}specialist={id:"",fullName:"",email:"",profilePictureUrl:"",phoneNumber:"",address:"",categories:[],yearsExperience:0,description:"",createdAt:new Date,updatedAt:new Date,rating:0};isRequestFormVisible=!1;requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""};specialistId=new j;requestFormSubmit=new j;goToSendRequest(){this.requestForm.receiverUserId=this.specialist.id,this.isRequestFormVisible=!0}closeRequestForm(){this.requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""},this.isRequestFormVisible=!1}submitRequest(e){this.requestFormSubmit.emit(e),this.closeRequestForm()}static \u0275fac=function(t){return new(t||i)(A(Ie))};static \u0275cmp=R({type:i,selectors:[["app-specialist-card"]],inputs:{specialist:"specialist"},outputs:{specialistId:"specialistId",requestFormSubmit:"requestFormSubmit"},decls:28,vars:10,consts:[[1,"card"],[1,"avatar-wrapper"],[1,"avatar"],["alt","User avatar",3,"src"],[1,"rating-badge"],["src","assets/star-rating.svg","alt","User star"],[1,"rating-value"],[1,"info"],[1,"full-name",3,"routerLink"],[1,"details-block"],[1,"row"],[1,"categories"],[1,"label"],["class","tag",4,"ngFor","ngForOf"],[1,"experience"],[1,"description"],[1,"request-btn",3,"click"],["class","overlay",4,"ngIf"],[1,"tag"],[1,"overlay"],[3,"formSubmit","close","requestForm"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2),k(3,"img",3),c(),l(4,"div",4),k(5,"img",5),l(6,"span",6),d(7),c()()(),l(8,"div",7)(9,"h2",8),d(10),c(),l(11,"div",9)(12,"div",10)(13,"div",11)(14,"span",12),d(15,"Categorii:"),c(),D(16,Au,2,1,"span",13),c(),l(17,"div",14)(18,"span",12),d(19,"Ani experien\u021B\u0103:"),c(),d(20),c()(),l(21,"div",15)(22,"span",12),d(23,"Descriere:"),c(),d(24),c()()(),l(25,"button",16),I("click",function(){return r.goToSendRequest()}),d(26,"F\u0103 o solicitare"),c()(),D(27,Pu,2,1,"div",17)),t&2&&(m(3),y("src",r.specialist.profilePictureUrl||"assets/avatar.svg",$e),m(4),re(r.specialist.rating),m(2),y("routerLink",St(8,Tu,r.specialist.id)),m(),F(" ",r.specialist.fullName," "),m(6),y("ngForOf",r.specialist.categories),m(4),F(" ",r.specialist.yearsExperience," "),m(4),F(" ",r.specialist.description," "),m(3),y("ngIf",r.isRequestFormVisible))},dependencies:[se,ue,Q,vn,it],styles:[".card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#cfbdfe;padding:20px;width:100%;gap:20px;justify-content:space-between;box-sizing:border-box;font-family:Roboto Mono,monospace}.info[_ngcontent-%COMP%]{flex:1}.full-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-top:.25rem;margin-bottom:.5rem}.full-name[_ngcontent-%COMP%]:hover{text-decoration:underline}.details-block[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:12px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.categories[_ngcontent-%COMP%], .experience[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{font-size:.95rem}.label[_ngcontent-%COMP%]{font-weight:700;margin-right:6px}.tag[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem}.request-btn[_ngcontent-%COMP%]{background-color:#9a83db;padding:32px 24px;border:none;border-radius:8px;font-weight:700;cursor:pointer;font-family:Roboto Mono,monospace}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:100px;aspect-ratio:1/1}.avatar[_ngcontent-%COMP%]{position:relative;width:100px;height:100px;overflow:hidden}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background-color:#e6dfff;object-fit:cover;display:block}.rating-badge[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;display:inline-flex;align-items:center;gap:.3em;background:#fff;padding:.2em .5em;border-radius:.6em;font-size:1em;box-shadow:0 1px 4px #0000001a}.rating-badge[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1em;height:1em}"]})};var tr=class i{constructor(){}geocodeAddress(e){return ae(this,null,function*(){if(!window.google||!window.google.maps)throw new Error("Google Maps API not loaded");let t=new google.maps.Geocoder;return new Promise((r,o)=>{t.geocode({address:e},(u,_)=>{if(_===google.maps.GeocoderStatus.OK&&u&&u[0]){let T=u[0].geometry.location;r({lat:T.lat(),lng:T.lng()})}else r(null)})})})}geocodeAddresses(e){let t=e.map(r=>this.geocodeAddress(r));return cn(Promise.all(t))}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})};var nr=class i{constructor(){}getCurrentPosition(){return navigator.geolocation?cn(new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(r=>e(r),r=>t(r),{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})})):_a(()=>new Error("Geolocation is not supported by this browser."))}calculateDistance(e,t,r,o){let _=this.deg2rad(r-e),T=this.deg2rad(o-t),V=Math.sin(_/2)*Math.sin(_/2)+Math.cos(this.deg2rad(e))*Math.cos(this.deg2rad(r))*Math.sin(T/2)*Math.sin(T/2);return 6371*(2*Math.atan2(Math.sqrt(V),Math.sqrt(1-V)))}deg2rad(e){return e*(Math.PI/180)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})};var bn=class i{constructor(e,t,r,o){this.http=e;this.authService=t;this.geocodingService=r;this.geolocationService=o}baseUrl="http://localhost:5241/api/Specialist";getSpecialists(e,t,r){let o=this.authService.getToken(),u=new L({Authorization:`Bearer ${o}`}),_=new Ye().set("search",e||"").set("page",t).set("pageSize",r);return this.http.get(`${this.baseUrl}/GetPage`,{headers:u,params:_})}getSpecialist(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{headers:r})}addSpecialist(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.post(`${this.baseUrl}/Add`,e,{headers:r})}updateSpecialist(e,t){let r=this.authService.getToken(),o=new L({Authorization:`Bearer ${r}`});return this.http.patch(`${this.baseUrl}/Update/${e}`,t,{headers:o})}deleteSpecialist(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.delete(`${this.baseUrl}/Delete/${e}`,{headers:r})}static \u0275fac=function(t){return new(t||i)(W(_e),W(q),W(tr),W(nr))};static \u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ot=class i{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Request";addRequest(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.post(`${this.baseUrl}/Add`,e,{headers:r})}acceptRequest(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Accept/${e}`,{},{headers:r})}rejectRequest(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Reject/${e}`,{},{headers:r})}cancelRequest(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Cancel/${e}`,{},{headers:r})}static \u0275fac=function(t){return new(t||i)(W(_e),W(q))};static \u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ou=()=>[5,10,20];function Ru(i,e){i&1&&k(0,"div",13)}function Vu(i,e){if(i&1){let t=N();fe(0),l(1,"app-specialist-card",11),I("specialistId",function(o){let u=M(t).$implicit;return O(u.id=o)})("requestFormSubmit",function(o){M(t);let u=E();return O(u.addRequest(o))}),c(),D(2,Ru,1,0,"div",12),ge()}if(i&2){let t=e.$implicit,r=e.index,o=E();m(),y("specialist",t),m(),y("ngIf",r<o.users.length-1)}}var ir=class i{constructor(e,t){this.homeService=e;this.userRequestService=t}searchTerm="";currentPage=1;pageSize=10;totalItems=0;entityDetails={};isUserDetailsVisible=!1;users=[];error=null;selectedSpecialist=null;isRequestFormVisible=!1;requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""};dummySpecialists=[{id:"spec-001",fullName:"Andrei Popescu",email:"andrei.popescu@example.com",phoneNumber:"0721123456",address:"Strada Mihai Eminescu 45, Bucure\u0219ti",yearsExperience:5,description:"Traduc\u0103tor medical cu experien\u021B\u0103 \xEEn terminologie clinic\u0103 \u0219i farmaceutic\u0103.",createdAt:new Date("2022-03-10T10:00:00Z"),updatedAt:new Date,rating:5,categories:[{id:"cat-001",name:"Traduceri medicale"},{id:"cat-002",name:"Farmacie"}]},{id:"spec-002",fullName:"Ioana Marinescu",email:"ioana.marinescu@example.com",phoneNumber:"0733456789",address:"Bd. Revolu\u021Biei 17, Cluj-Napoca",yearsExperience:8,description:"Specialist \xEEn psihologie cu experien\u021B\u0103 \xEEn redactarea \u0219i corectarea articolelor \u0219tiin\u021Bifice.",createdAt:new Date("2020-11-20T08:30:00Z"),updatedAt:new Date,rating:4},{id:"spec-003",fullName:"Victor Ionescu",email:"victor.ionescu@example.com",phoneNumber:"0744123123",address:"Str. Libert\u0103\u021Bii 88, Ia\u0219i",yearsExperience:3,description:"T\xE2n\u0103r specialist \xEEn tehnologia informa\u021Biei, ofer servicii de consultan\u021B\u0103 \u0219i mentenan\u021B\u0103 software.",createdAt:new Date("2023-01-15T14:45:00Z"),updatedAt:new Date,rating:4.5}];ngOnInit(){this.getPage()}getPage(){this.homeService.getSpecialists(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:e=>{this.users=e.response?.data??[],this.totalItems=e.response?.totalCount??0},error:e=>{this.error=e.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addRequest(e){let t=e;this.userRequestService.addRequest(t).subscribe({next:r=>{alert("Cererea a fost trimis\u0103 cu succes!"),this.closeRequestForm()},error:r=>{console.error("Eroare la trimiterea cererii:",r),alert("Nu s-a putut trimite cererea.")}})}onSearch(e){this.searchTerm=e,this.currentPage=1,this.getPage()}onPageChange(e){this.currentPage=e,this.getPage()}onPageSizeChange(e){this.pageSize=e,this.currentPage=1,this.getPage()}getCategoryNames(e){return e.map(t=>t.name)}closeUserDetails(){this.isUserDetailsVisible=!1,this.entityDetails={}}closeRequestForm(){this.requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""},this.isRequestFormVisible=!1}SpecialistCardComponent=ai;static \u0275fac=function(t){return new(t||i)(A(bn),A(Ot))};static \u0275cmp=R({type:i,selectors:[["app-home"]],decls:24,vars:6,consts:[[1,"top-action-button"],["routerLink","/contact-us","routerLinkActive","active",1,"contact-button"],[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"search-box-wrapper"],[3,"searchChanged"],[1,"user-list"],[4,"ngFor","ngForOf"],[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[3,"specialistId","requestFormSubmit","specialist"],["class","separator",4,"ngIf"],[1,"separator"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"a",1),d(2,"Contacteaz\u0103-ne!"),c()(),l(3,"div",2)(4,"div",3)(5,"h1",4),d(6,"Ai o \u021Beav\u0103 spart\u0103?"),c(),l(7,"h1",4),d(8,"\u021Ai s-a stricat chiuveta?"),c(),l(9,"h1"),d(10,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),l(11,"strong",5),d(12,"ExpertEase"),c(),d(13,"!"),c()(),l(14,"div",6)(15,"app-search-input",7),I("searchChanged",function(u){return r.onSearch(u)}),c()(),l(16,"p"),d(17,"Peste "),l(18,"strong"),d(19,"100 de speciali\u0219ti"),c(),d(20," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),c()(),l(21,"div",8),D(22,Vu,3,2,"ng-container",9),c(),l(23,"app-pagination",10),I("pageChange",function(u){return r.onPageChange(u)})("pageSizeChange",function(u){return r.onPageSizeChange(u)}),c()),t&2&&(m(22),y("ngForOf",r.users),m(),y("currentPage",r.currentPage)("pageSize",r.pageSize)("pageSizeOptions",Le(5,Ou))("totalItems",r.totalItems))},dependencies:[ai,se,ue,Q,Pt,Y,We,st,it,Na],styles:[".top-action-button[_ngcontent-%COMP%]{position:absolute;top:100px;right:32px;z-index:10}.contact-button[_ngcontent-%COMP%]{text-decoration:none;font-family:Roboto Mono,monospace;font-weight:700;border:1px solid transparent;transition:all .2s ease;color:#000}.contact-button[_ngcontent-%COMP%]:hover{text-decoration:underline}.user-list[_ngcontent-%COMP%]   app-specialist-card[_ngcontent-%COMP%]{border-bottom:1px solid #b7a4dd;padding-bottom:1rem;margin-bottom:1rem}.user-list[_ngcontent-%COMP%]   app-specialist-card[_ngcontent-%COMP%]:last-child{border-bottom:none}.separator[_ngcontent-%COMP%]{height:3px;background-color:#b7a4dd;width:100%}.home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:2rem}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.close-button[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1.2rem;font-size:1.5rem;background:none;border:none;color:#333;font-weight:700;cursor:pointer;transition:transform .2s}.close-button[_ngcontent-%COMP%]:hover{transform:scale(1.2);color:#d11a2a}",".search-box[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;align-items:center;gap:20px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 50px 15px 20px;border:none;background:transparent;outline:none;font-family:Roboto Mono,monospace;font-size:12px}.search-icon-button[_ngcontent-%COMP%]{background:none;border:none;padding:0 16px;font-size:1.2rem;color:#444;cursor:pointer;display:flex;align-items:center;justify-content:center}.search-icon-button[_ngcontent-%COMP%]:hover{color:#000}.search-icon-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}"]})};var rr=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=R({type:i,selectors:[["app-about"]],decls:142,vars:0,consts:[[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"about-info"],[1,"role-sections"],[1,"client-section"],[1,"specialist-section"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),d(3,"Ai o \u021Beav\u0103 spart\u0103?"),c(),l(4,"h1",2),d(5,"\u021Ai s-a stricat chiuveta?"),c(),l(6,"h1"),d(7,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),l(8,"strong",3),d(9,"ExpertEase"),c(),d(10,"!"),c()(),l(11,"p"),d(12,"Peste "),l(13,"strong"),d(14,"100 de speciali\u0219ti"),c(),d(15," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),c()(),l(16,"div",4)(17,"section")(18,"h2"),d(19,"Cine suntem noi?"),c(),l(20,"p"),d(21,"Compania "),l(22,"strong"),d(23,"ExpertEase"),c(),d(24," se ocup\u0103 cu problemele tale \xEEn materie de repara\u021Bii sau instala\u021Bii."),c()(),l(25,"section")(26,"h2"),d(27,"Cum facem asta?"),c(),l(28,"p"),d(29,"\xCE\u021Bi punem la dispozi\u021Bie "),l(30,"strong"),d(31,"peste 100 de speciali\u0219ti"),c(),d(32," din domeniu, cu varii nivele de experien\u021B\u0103, care sunt preocupa\u021Bi \xEEn a \xEE\u021Bi rezolva problema."),c()(),l(33,"section")(34,"h2"),d(35,"Cum func\u021Bioneaz\u0103 platforma?"),c(),l(36,"p"),d(37,"Platforma noastr\u0103 este simplu de utilizat. Po\u021Bi c\u0103uta speciali\u0219ti dup\u0103 domeniu, po\u021Bi vedea recenziile altor clien\u021Bi \u0219i po\u021Bi contacta direct specialistul pentru a discuta detaliile repara\u021Biei sau instala\u021Biei."),c()(),l(38,"section")(39,"h2"),d(40,"De ce s\u0103 ne alegi?"),c(),l(41,"p"),d(42,"ExpertEase \xEE\u021Bi ofer\u0103 acces rapid \u0219i u\u0219or la o re\u021Bea extins\u0103 de speciali\u0219ti, asigur\xE2ndu-te c\u0103 vei g\u0103si pe cineva potrivit pentru nevoile tale. \xCEn plus, platforma noastr\u0103 este gratuit\u0103 pentru utilizatori!"),c()(),l(43,"div",5)(44,"section",6)(45,"h2"),d(46,"Ce poate face un client?"),c(),l(47,"p"),d(48,"Pe platforma ExpertEase, clien\u021Bii pot:"),c(),l(49,"ol")(50,"li")(51,"strong"),d(52,"Crea un cont"),c(),k(53,"br"),d(54," \xCE\u021Bi faci un cont rapid \u0219i ai acces la panoul t\u0103u personal."),c(),l(55,"li")(56,"strong"),d(57,"C\u0103uta speciali\u0219ti"),c(),k(58,"br"),d(59," Po\u021Bi filtra speciali\u0219tii dup\u0103: "),l(60,"ul")(61,"li"),d(62,"Categorie (ex. Psihologie, Drept, IT)"),c(),l(63,"li"),d(64,"Ani de experien\u021B\u0103"),c(),l(65,"li"),d(66,"Adres\u0103 (cu op\u021Biune de c\u0103utare pe hart\u0103)"),c()()(),l(67,"li")(68,"strong"),d(69,"Trimite o cerere"),c(),k(70,"br"),d(71," Dup\u0103 ce g\u0103se\u0219ti un specialist potrivit, po\u021Bi trimite o cerere \xEEn care descrii problema sau serviciul dorit \u0219i o dat\u0103 preferat\u0103."),c(),l(72,"li")(73,"strong"),d(74,"Comunic\u0103 prin mesaje"),c(),k(75,"br"),d(76," Vei putea: "),l(77,"ul")(78,"li"),d(79,"Primi r\u0103spunsuri de la specialist"),c(),l(80,"li"),d(81,"Vizualiza propunerea de serviciu \u0219i pre\u021Bul"),c(),l(82,"li"),d(83,"Accepta sau refuza oferta"),c()()(),l(84,"li")(85,"strong"),d(86,"Las\u0103 o recenzie"),c(),k(87,"br"),d(88," Dup\u0103 \xEEncheierea colabor\u0103rii, po\u021Bi scrie o recenzie care ajut\u0103 al\u021Bi utilizatori \u0219i sus\u021Bine calitatea pe platform\u0103."),c(),l(89,"li")(90,"strong"),d(91,"Pl\u0103te\u0219te \xEEn siguran\u021B\u0103"),c(),k(92,"br"),d(93," Pl\u0103\u021Bile se realizeaz\u0103 prin Stripe, \xEEntr-un mod securizat \u0219i transparent. Vei \u0219ti exact c\xE2t pl\u0103te\u0219ti \xEEnainte de confirmare."),c()()(),l(94,"section",7)(95,"h2"),d(96,"Ce poate face un specialist?"),c(),l(97,"p"),d(98,"Speciali\u0219tii au acces la instrumente prin care \xEE\u0219i pot gestiona cererile \u0219i construi o reputa\u021Bie solid\u0103:"),c(),l(99,"ol")(100,"li")(101,"strong"),d(102,"\xCEnregistrare \u0219i verificare profil"),c(),k(103,"br"),d(104," \xCE\u021Bi creezi un cont profesional, alegi domeniul de expertiz\u0103 \u0219i adaugi informa\u021Bii relevante."),c(),l(105,"li")(106,"strong"),d(107,"Prime\u0219ti cereri de la clien\u021Bi"),c(),k(108,"br"),d(109," Vei fi notificat atunci c\xE2nd un client te contacteaz\u0103. Po\u021Bi: "),l(110,"ul")(111,"li"),d(112,"Analiza cererea"),c(),l(113,"li"),d(114,"Accepta, refuza sau propune o ofert\u0103 alternativ\u0103"),c()()(),l(115,"li")(116,"strong"),d(117,"Trimite un r\u0103spuns detaliat"),c(),k(118,"br"),d(119," Po\u021Bi r\u0103spunde cu: "),l(120,"ul")(121,"li"),d(122,"Detalii despre serviciu"),c(),l(123,"li"),d(124,"Dat\u0103 propus\u0103"),c(),l(125,"li"),d(126,"Pre\u021B"),c()()(),l(127,"li")(128,"strong"),d(129,"Gestioneaz\u0103 conversa\u021Biile"),c(),k(130,"br"),d(131," Ai acces la un sistem de mesagerie clar \u0219i sigur, unde po\u021Bi urm\u0103ri fiecare cerere \xEEn parte."),c(),l(132,"li")(133,"strong"),d(134,"Prime\u0219te pl\u0103\u021Bi direct"),c(),k(135,"br"),d(136," Prin conectarea contului t\u0103u Stripe Express, po\u021Bi primi banii direct \xEEn contul bancar."),c(),l(137,"li")(138,"strong"),d(139,"Prime\u0219te recenzii"),c(),k(140,"br"),d(141," Dup\u0103 fiecare colaborare, clien\u021Bii pot l\u0103sa o recenzie care te va ajuta s\u0103 c\xE2\u0219tigi \xEEncrederea altor utilizatori."),c()()()()())},styles:['@charset "UTF-8";.home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.about-info[_ngcontent-%COMP%]{max-width:1600px;margin:10px auto;padding:0 24px;font-family:Roboto Mono,monospace;font-size:16px;line-height:1.6}.about-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px;color:#3c1a7d}.about-info[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{border:2px solid #3c1a7d;border-radius:8px;padding:24px;margin-bottom:32px;background-color:#fff}.role-sections[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:32px;margin-top:32px}.role-sections[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{flex:1 1 45%;border:2px solid #3c1a7d;border-radius:8px;padding:24px;margin-bottom:32px;background-color:#fff;font-family:Roboto Mono,monospace;font-size:16px;line-height:25.6px}.role-sections[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#3c1a7d;font-weight:700;margin-bottom:16px}.role-sections[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:16px}.role-sections[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], .role-sections[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:24px;margin-bottom:24px}.role-sections[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:12px;line-height:25.6px}.role-sections[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:8px;padding-left:20px}@media (max-width: 900px){.role-sections[_ngcontent-%COMP%]{flex-direction:column}.role-sections[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{flex:1 1 100%}}']})};var Fo={firstName:"Prenume",lastName:"Nume",fullName:"Nume complet",email:"Adres\u0103 e-mail",password:"Parol\u0103",role:"Rol",phoneNumber:"Num\u0103r de telefon",address:"Adres\u0103",yearsExperience:"Ani experien\u021B\u0103",description:"Descriere",id:"ID",account:"Cont",transaction:"Tranzac\u021Bie",createdAt:"Creat la",updatedAt:"Actualizat la",categories:"Categorii",name:"Denumire",specialistsCount:"Num\u0103r speciali\u0219ti",specialistIds:"Speciali\u0219tii cu aceast\u0103 categorie"};function De(i,e={},t=Fo){return Object.keys(i).map(r=>{let o=e[r]||{},u=o.type||(o.options?"select":"text"),_=t[r]||ku(r);return z({key:r,label:_,type:u,placeholder:o.placeholder||`Introdu ${_.toLowerCase()}`,required:o.required??!0,class:o.class||"half-width"},o)})}function ku(i){return i.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}function Cn(i){if(!i)return{};let e={},t=Object.keys(i);if("id"in i){let r=Fo.id||"id";e[r]=i.id}for(let r of t){if(["id","firstName","lastName"].includes(r))continue;let o=i[r];if(o==null||typeof o=="string"&&o.trim()==="")continue;let u=Fo[r]||r,_=o;typeof o=="string"&&Nu(o)||o instanceof Date?_=_c(o):r.toLowerCase().includes("password")&&(_="********"),e[u]=_}return e}function Nu(i){return/^\d{4}-\d{2}-\d{2}T/.test(i)}function _c(i){let e=new Date(i),t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear();return`${t}.${r}.${o}`}var Fu=i=>({"placeholder-selected":i});function Uu(i,e){if(i&1&&(l(0,"div",15),d(1),$(2,"lowercase"),c()),i&2){let t=E(2).$implicit;m(),F(" C\xE2mpul ",de(2,1,t.label)," este obligatoriu. ")}}function Lu(i,e){if(i&1){let t=N();l(0,"div")(1,"div",12)(2,"input",13,1),te("ngModelChange",function(o){M(t);let u=E().$implicit,_=E();return ee(_.formData[u.key],o)||(_.formData[u.key]=o),O(o)}),I("input",function(){M(t);let o=E().$implicit,u=E();return O(o.key==="phoneNumber"&&u.liveFormatPhoneNumber(o.key))}),c()(),D(4,Uu,3,3,"div",14),c()}if(i&2){let t=Ve(3),r=E().$implicit,o=E();m(2),y("id",r.key)("name",r.key),Z("ngModel",o.formData[r.key]),y("placeholder",r.placeholder)("required",!!r.required),m(2),y("ngIf",r.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function Bu(i,e){if(i&1&&(l(0,"div",15),d(1),$(2,"lowercase"),c()),i&2){let t=E(2).$implicit;m(),F(" C\xE2mpul ",de(2,1,t.label)," este obligatoriu. ")}}function qu(i,e){if(i&1){let t=N();l(0,"div")(1,"div",12)(2,"input",16,1),te("ngModelChange",function(o){M(t);let u=E().$implicit,_=E();return ee(_.formData[u.key],o)||(_.formData[u.key]=o),O(o)}),c()(),D(4,Bu,3,3,"div",14),c()}if(i&2){let t=Ve(3),r=E().$implicit,o=E();m(2),y("id",r.key)("name",r.key),Z("ngModel",o.formData[r.key]),y("placeholder",r.placeholder)("required",!!r.required),m(2),y("ngIf",r.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function zu(i,e){if(i&1&&(l(0,"div",15),d(1),$(2,"lowercase"),c()),i&2){let t=E(2).$implicit;m(),F(" C\xE2mpul ",de(2,1,t.label)," este obligatoriu. ")}}function ju(i,e){if(i&1){let t=N();l(0,"div")(1,"div",12)(2,"input",17,1),te("ngModelChange",function(o){M(t);let u=E().$implicit,_=E();return ee(_.formData[u.key],o)||(_.formData[u.key]=o),O(o)}),c()(),D(4,zu,3,3,"div",14),c()}if(i&2){let t=Ve(3),r=E().$implicit,o=E();m(2),y("id",r.key)("name",r.key),Z("ngModel",o.formData[r.key]),y("placeholder",r.placeholder)("required",!!r.required),m(2),y("ngIf",r.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function $u(i,e){if(i&1&&(l(0,"div",15),d(1),$(2,"lowercase"),c()),i&2){let t=E(2).$implicit;m(),F(" C\xE2mpul ",de(2,1,t.label)," este obligatoriu. ")}}function Gu(i,e){if(i&1){let t=N();l(0,"div")(1,"div",12)(2,"input",18,1),te("ngModelChange",function(o){M(t);let u=E().$implicit,_=E();return ee(_.formData[u.key],o)||(_.formData[u.key]=o),O(o)}),c()(),D(4,$u,3,3,"div",14),c()}if(i&2){let t=Ve(3),r=E().$implicit,o=E();m(2),y("id",r.key)("name",r.key),Z("ngModel",o.formData[r.key]),y("placeholder",r.placeholder)("required",!!r.required),m(2),y("ngIf",r.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function Ku(i,e){if(i&1&&(l(0,"option",23),d(1),c()),i&2){let t=e.$implicit;y("value",t),m(),re(t)}}function Wu(i,e){if(i&1&&(l(0,"div",15),d(1),$(2,"lowercase"),c()),i&2){let t=E(2).$implicit;m(),F(" C\xE2mpul ",de(2,1,t.label)," este obligatoriu. ")}}function Hu(i,e){if(i&1){let t=N();l(0,"div")(1,"div",19)(2,"select",20,1),te("ngModelChange",function(o){M(t);let u=E().$implicit,_=E();return ee(_.formData[u.key],o)||(_.formData[u.key]=o),O(o)}),l(4,"option",21),d(5),c(),D(6,Ku,2,2,"option",22),c()(),D(7,Wu,3,3,"div",14),c()}if(i&2){let t=Ve(3),r=E().$implicit,o=E();m(2),y("id",r.key)("name",r.key),Z("ngModel",o.formData[r.key]),y("required",!!r.required)("ngClass",St(8,Fu,o.formData[r.key]==="")),m(3),re(r.placeholder||"Selecteaz\u0103 o op\u021Biune"),m(),y("ngForOf",r.options),m(),y("ngIf",r.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function Qu(i,e){if(i&1&&(l(0,"div",15),d(1),$(2,"lowercase"),c()),i&2){let t=E(2).$implicit;m(),F(" C\xE2mpul ",de(2,1,t.label)," este obligatoriu. ")}}function Ju(i,e){if(i&1){let t=N();l(0,"div")(1,"div",12)(2,"textarea",24,1),te("ngModelChange",function(o){M(t);let u=E().$implicit,_=E();return ee(_.formData[u.key],o)||(_.formData[u.key]=o),O(o)}),d(4,"          "),c()(),D(5,Qu,3,3,"div",14),c()}if(i&2){let t=Ve(3),r=E().$implicit,o=E();m(2),y("id",r.key)("name",r.key),Z("ngModel",o.formData[r.key]),y("placeholder",r.placeholder)("required",!!r.required),m(3),y("ngIf",r.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function Yu(i,e){if(i&1&&(l(0,"div",15),d(1),$(2,"lowercase"),c()),i&2){let t=E(2).$implicit;m(),F(" C\xE2mpul ",de(2,1,t.label)," este obligatoriu. ")}}function Xu(i,e){if(i&1){let t=N();l(0,"div")(1,"div",12)(2,"input",25,1),te("ngModelChange",function(o){M(t);let u=E().$implicit,_=E();return ee(_.formData[u.key],o)||(_.formData[u.key]=o),O(o)}),c()(),D(4,Yu,3,3,"div",14),c()}if(i&2){let t=Ve(3),r=E().$implicit,o=E();m(2),y("type",r.type)("id",r.key)("name",r.key),Z("ngModel",o.formData[r.key]),y("placeholder",r.placeholder)("required",!!r.required),m(2),y("ngIf",r.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function Zu(i,e){if(i&1&&(l(0,"div",6)(1,"label",7),d(2),c(),l(3,"div",8),fe(4,9),D(5,Lu,5,6,"div",10)(6,qu,5,6,"div",10)(7,ju,5,6,"div",10)(8,Gu,5,6,"div",10)(9,Hu,8,10,"div",10)(10,Ju,6,6,"div",10)(11,Xu,5,7,"div",11),ge(),c()()),i&2){let t=e.$implicit;y("ngClass",t.class),m(),y("for",t.key),m(),re(t.label),m(2),y("ngSwitch",t.type),m(),y("ngSwitchCase","text"),m(),y("ngSwitchCase","email"),m(),y("ngSwitchCase","password"),m(),y("ngSwitchCase","number"),m(),y("ngSwitchCase","select"),m(),y("ngSwitchCase","textarea")}}var Fe=class i{fields=[];initialData={};submitText="Submit";formSubmit=new j;formData={};formSubmitted=!1;ngOnChanges(e){e.initialData&&e.initialData.currentValue&&(this.formData=z({},e.initialData.currentValue),this.fields.forEach(t=>{t.key in this.formData||(this.formData[t.key]="")}))}onSubmit(e){this.formSubmitted=!0,console.log(this.formSubmitted),!e.invalid&&this.formSubmit.emit(this.formData)}liveFormatPhoneNumber(e){let t=this.formData[e]||"",r=t.startsWith("+"),o=t.replace(/\D/g,""),u=o;o.length===11&&o.startsWith("40")?u=o.replace(/(\d{2})(\d{3})(\d{3})(\d{3})/,"$1 $2 $3 $4"):o.length===10&&o.startsWith("0")?u=o.replace(/(\d{3})(\d{3})(\d{4})/,"$1 $2 $3"):o.length===9&&(u=o.replace(/(\d{3})(\d{3})(\d{3})/,"$1 $2 $3")),this.formData[e]=r?`+${u}`:u}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=R({type:i,selectors:[["app-dynamic-form"]],inputs:{fields:"fields",initialData:"initialData",submitText:"submitText"},outputs:{formSubmit:"formSubmit"},features:[jt],decls:6,vars:2,consts:[["formRef","ngForm"],["ctrl","ngModel"],[1,"form-layout",3,"ngSubmit"],["class","form-group",3,"ngClass",4,"ngFor","ngForOf"],[1,"form-group","full-width"],["type","submit",1,"send-button"],[1,"form-group",3,"ngClass"],[3,"for"],[1,"field-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"input-box"],["type","text",3,"ngModelChange","input","id","name","ngModel","placeholder","required"],["class","error",4,"ngIf"],[1,"error"],["type","email",3,"ngModelChange","id","name","ngModel","placeholder","required"],["type","password",3,"ngModelChange","id","name","ngModel","placeholder","required"],["type","number",3,"ngModelChange","id","name","ngModel","placeholder","required"],[1,"select-box"],[3,"ngModelChange","id","name","ngModel","required","ngClass"],["value","","disabled","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["rows","4",3,"ngModelChange","id","name","ngModel","placeholder","required"],[3,"ngModelChange","type","id","name","ngModel","placeholder","required"]],template:function(t,r){if(t&1){let o=N();l(0,"form",2,0),I("ngSubmit",function(){M(o);let _=Ve(1);return O(r.onSubmit(_))}),D(2,Zu,12,10,"div",3),l(3,"div",4)(4,"button",5),d(5),c()()()}t&2&&(m(2),y("ngForOf",r.fields),m(3),F(" ",r.submitText," "))},dependencies:[se,Ke,ue,Q,dn,hn,Ta,Pa,Y,ot,_n,yn,ke,Ro,At,Ne,rt,si,Be,ft],styles:[".grid-form[_ngcontent-%COMP%]{gap:24px 20px;padding:24px 32px;max-width:650px;margin:0 auto;font-family:Roboto Mono,monospace;border:2px solid #c9b7ff;border-radius:6px;box-shadow:0 4px 12px #0000001a}.form-layout[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px 20px;padding:12px 16px;max-width:650px;margin:0 auto}.form-group[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;flex:1;display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{flex:1 1 100%}.form-group.half-width[_ngcontent-%COMP%]{flex:1 1 48%}label[_ngcontent-%COMP%]{margin-bottom:8px}.input-box[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;transition:border-color .3s}.input-box[_ngcontent-%COMP%]:focus-within{border-color:#9a79ff}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;width:100%;font-family:Roboto Mono,monospace;font-size:16px;outline:none}.input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-family:inherit;font-size:1rem;border:none;border-radius:6px;box-sizing:border-box;resize:vertical;background:#e6dfff}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;font-size:16px;outline:none;appearance:auto;font-family:inherit;width:100%}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#a388ff;box-shadow:0 0 3px #a388ff}.placeholder-selected[_ngcontent-%COMP%]{color:#7d7d7f!important}.send-button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:300px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}.send-button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.field-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.error[_ngcontent-%COMP%]{color:#d8000c;font-size:.85rem;margin-top:4px;padding-left:2px}"]})};var or=class i{constructor(e,t){this.authService=e;this.router=t;let r={firstName:"",lastName:"",email:"",password:""};this.formFields=De(r,{email:{type:"email"},password:{type:"password"}}),console.log(this.formFields)}formFields=[];formData={};errorMessage=null;registerUser(e){let t=e;this.authService.registerUser(t).subscribe({next:()=>{let r={email:t.email,password:t.password};this.authService.loginUser(r).subscribe({next:()=>{this.router.navigate(["/home"])},error:o=>{console.error("Login failed:",o),this.errorMessage=o.error?.errorMessage?.message||"Eroare necunoscut\u0103."}})},error:r=>{console.error("Registration failed:",r),this.errorMessage=r.error?.errorMessage?.message||"Eroare necunoscut\u0103."}})}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||i)(A(q),A(Ie))};static \u0275cmp=R({type:i,selectors:[["app-register"]],decls:9,vars:2,consts:[[1,"form-wrapper"],[1,"form-box"],[3,"formSubmit","fields","submitText"],[1,"auth-switch"],[1,"auth-button",3,"click"]],template:function(t,r){t&1&&(l(0,"h2"),d(1,"\xCEnregistrare"),c(),l(2,"div",0)(3,"div",1)(4,"app-dynamic-form",2),I("formSubmit",function(u){return r.registerUser(u)}),c()()(),l(5,"p",3),d(6," Deja ai un cont? "),l(7,"button",4),I("click",function(){return r.goToLogin()}),d(8,"Autentific\u0103-te"),c()()),t&2&&(m(4),y("fields",r.formFields)("submitText","Trimite"))},dependencies:[se,Y,Fe],styles:["p[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:16px}h2[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:30px}.auth-button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700}.auth-button[_ngcontent-%COMP%]:hover{color:#6a5799}"]})};var sr=class i{constructor(e,t){this.authService=e;this.router=t;let r={email:"",password:""};this.formFields=De(r,{email:{type:"email"},password:{type:"password"}})}formFields=[];formData={};errorMessage=null;loginUser(e){let t=e;this.authService.loginUser(t).subscribe({next:r=>{console.log("Login successful:",r),this.router.navigate(["/home"])},error:r=>{console.error("Login failed:",r),this.errorMessage=r.error?.errorMessage?.message||"Eroare necunoscut\u0103."}})}goToRegister(){this.router.navigate(["/register"])}static \u0275fac=function(t){return new(t||i)(A(q),A(Ie))};static \u0275cmp=R({type:i,selectors:[["app-login"]],decls:9,vars:2,consts:[[1,"form-wrapper"],[1,"form-box"],[3,"formSubmit","fields","submitText"],[1,"auth-switch"],[1,"auth-button",3,"click"]],template:function(t,r){t&1&&(l(0,"h2"),d(1,"Autentificare"),c(),l(2,"div",0)(3,"div",1)(4,"app-dynamic-form",2),I("formSubmit",function(u){return r.loginUser(u)}),c()()(),l(5,"p",3),d(6," Nu ai cont? "),l(7,"button",4),I("click",function(){return r.goToRegister()}),d(8,"\xCEnregistreaz\u0103-te"),c()()),t&2&&(m(4),y("fields",r.formFields)("submitText","Trimite"))},dependencies:[se,Y,Fe],styles:["p[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:16px}h2[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:30px}.auth-button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700}.auth-button[_ngcontent-%COMP%]:hover{color:#6a5799}"]})};var ar=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=R({type:i,selectors:[["app-admin"]],decls:15,vars:0,consts:[[1,"grid-form"],[1,"button-group"],["routerLink","/admin/users","routerLinkActive","active",1,"admin-button"],["routerLink","/admin/specialists","routerLinkActive","active",1,"admin-button"],["routerLink","/admin/categories","routerLinkActive","active",1,"admin-button"],[1,"admin-button"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"button",2),d(3,"Utilizatori"),c(),l(4,"button",3),d(5,"Speciali\u0219ti"),c(),l(6,"button",4),d(7,"Categorii"),c(),l(8,"button",5),d(9,"Servicii"),c(),l(10,"button",5),d(11,"Tranzac\u021Bii"),c(),l(12,"button",5),d(13,"Recenzii"),c()()(),k(14,"router-outlet"))},dependencies:[Ui,it],styles:[".grid-form[_ngcontent-%COMP%]{position:absolute;top:calc(50vh - 250px);left:calc(50vw - 400px);width:800px;height:500px;display:flex;flex-direction:column;padding:40px 60px;border:3px solid black;border-radius:4px;box-shadow:0 4px 12px #0000001a;background-color:#cfbdfe;box-sizing:border-box}.button-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:32px;width:100%;justify-items:center;margin-top:24px}.admin-button[_ngcontent-%COMP%]{width:100%;height:5vw;background-color:#e6dfff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;border:3px solid #4b358e;border-radius:5px;cursor:pointer;box-shadow:0 2px 6px #0000001a;transition:background-color .3s ease,text-decoration .2s ease;display:flex;align-items:center;justify-content:center;text-align:center}.admin-button[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var Yt=(r=>(r.Admin="Admin",r.Specialist="Specialist",r.Client="Client",r))(Yt||{});function ed(i,e){if(i&1&&(l(0,"th"),d(1),c()),i&2){let t=e.$implicit;m(),re(t.header)}}function td(i,e){if(i&1&&(fe(0),d(1),ge()),i&2){let t=E(2).$implicit,r=E().$implicit;m(),F(" ",t.compute(r)," ")}}function nd(i,e){if(i&1&&d(0),i&2){let t=E(2).$implicit,r=E().$implicit;F(" ",r[t.key]," ")}}function id(i,e){if(i&1&&(fe(0),D(1,td,2,1,"ng-container",4)(2,nd,1,1,"ng-template",null,1,Jn),ge()),i&2){let t=Ve(3),r=E().$implicit;m(),y("ngIf",r.compute)("ngIfElse",t)}}function rd(i,e){if(i&1){let t=N();l(0,"a",6),I("click",function(){let o=M(t).$implicit,u=E(3).$implicit;return O(o.callback(u))}),d(1),c()}if(i&2){let t=e.$implicit;y("ngClass",t.class),m(),F(" ",t.label," ")}}function od(i,e){if(i&1&&D(0,rd,2,2,"a",5),i&2){let t=E().$implicit;y("ngForOf",t.actions)}}function sd(i,e){if(i&1&&(l(0,"td"),D(1,id,4,2,"ng-container",4)(2,od,1,1,"ng-template",null,0,Jn),c()),i&2){let t=e.$implicit,r=Ve(3);m(),y("ngIf",t.type!=="action")("ngIfElse",r)}}function ad(i,e){if(i&1&&(l(0,"tr"),D(1,sd,4,2,"td",3),c()),i&2){let t=E();m(),y("ngForOf",t.columns)}}var Rt=class i{columns=[];data=[];static \u0275fac=function(t){return new(t||i)};static \u0275cmp=R({type:i,selectors:[["app-dynamic-table"]],inputs:{columns:"columns",data:"data"},decls:6,vars:2,consts:[["actionCell",""],["directValue",""],[1,"admin-table"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["class","action-link",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"action-link",3,"click","ngClass"]],template:function(t,r){t&1&&(l(0,"table",2)(1,"thead")(2,"tr"),D(3,ed,2,1,"th",3),c()(),l(4,"tbody"),D(5,ad,2,1,"tr",3),c()()),t&2&&(m(3),y("ngForOf",r.columns),m(2),y("ngForOf",r.data))},dependencies:[se,Ke,ue,Q,Y],styles:[".admin-wrapper[_ngcontent-%COMP%]{text-align:center}.admin-table-container[_ngcontent-%COMP%]{display:inline-block;padding:24px;background-color:#d9c8ff;border:2px solid #4b358e;border-radius:8px;font-family:Roboto Mono,monospace;box-shadow:0 4px 8px #0000001a;margin:40px auto}.admin-table-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.admin-table[_ngcontent-%COMP%]{width:max-content;max-width:100%;margin-left:auto;margin-right:auto;border-collapse:collapse;background-color:#f8f4ff;border-radius:6px}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;white-space:nowrap}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700}.action-link[_ngcontent-%COMP%]{margin-right:12px;cursor:pointer;text-decoration:none;font-weight:700}.action-link.view[_ngcontent-%COMP%]{color:#00f}.action-link.edit[_ngcontent-%COMP%]{color:green}.action-link.delete[_ngcontent-%COMP%]{color:red}.add-btn[_ngcontent-%COMP%]{background-color:#916fc7;color:#fff;border:3px solid #4b358e;margin-top:14px;margin-bottom:20px;padding:8px 16px;font-weight:700;border-radius:6px;cursor:pointer;transition:background-color .3s;font-family:Roboto Mono,monospace}.add-btn[_ngcontent-%COMP%]:hover{background-color:#3a2973}"]})};function cd(i,e){if(i&1&&(fe(0),l(1,"p")(2,"strong"),d(3),c(),d(4),c(),ge()),i&2){let t=E().$implicit,r=E();m(3),F("",r.formatKey(t),":"),m(),F(" ",r.formatValue(r.entity[t])," ")}}function ld(i,e){if(i&1&&(fe(0),D(1,cd,5,2,"ng-container",5),ge()),i&2){let t=e.$implicit;m(),y("ngIf",t!=="ID")}}var Vt=class i{entity={};title="";close=new j;onClose(){this.close.emit()}objectKeys=Object.keys;formatKey(e){return e.includes(" ")||e.includes("-")?e:e.replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase())}formatValue(e){return typeof e=="boolean"?e?"Da":"Nu":e instanceof Date?e.toLocaleDateString():typeof e=="string"&&e.toLowerCase().includes("password")?"********":e}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=R({type:i,selectors:[["app-admin-details"]],inputs:{entity:"entity",title:"title"},outputs:{close:"close"},decls:10,vars:3,consts:[[1,"admin-wrapper"],[1,"page-title"],[1,"card"],[1,"divider"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"h2",1),d(2),c(),l(3,"div",2)(4,"p")(5,"strong"),d(6,"ID:"),c(),d(7),c(),k(8,"hr",3),D(9,ld,2,1,"ng-container",4),c()()),t&2&&(m(2),re(r.title),m(5),F(" ",r.entity.ID,""),m(2),y("ngForOf",r.objectKeys(r.entity)))},dependencies:[se,ue,Q],styles:[".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var dd=()=>[5,10,20];function hd(i,e){if(i&1){let t=N();l(0,"div",9)(1,"div",10)(2,"div",11)(3,"button",12),I("click",function(){M(t);let o=E();return O(o.closeAddUserForm())}),d(4,"\xD7"),c()(),l(5,"app-dynamic-form",13),I("formSubmit",function(o){M(t);let u=E();return O(u.addEntity(o))}),c()()()}if(i&2){let t=E();m(5),y("fields",t.addEntityFormFields)("submitText","Trimite")}}function pd(i,e){if(i&1){let t=N();l(0,"div",9)(1,"div",10)(2,"button",12),I("click",function(){M(t);let o=E();return O(o.closeUpdateUserForm())}),d(3,"\xD7"),c(),l(4,"app-dynamic-form",14),I("formSubmit",function(o){M(t);let u=E();return O(u.updateEntity(o))}),c()()()}if(i&2){let t=E();m(4),y("fields",t.updateEntityFormFields)("initialData",t.formData)("submitText","Actualizeaz\u0103")}}function md(i,e){if(i&1){let t=N();l(0,"app-admin-details",18),I("close",function(){M(t);let o=E(2);return O(o.closeUserDetails())}),c()}if(i&2){let t=E(2);y("entity",t.entityDetails)("title","Detalii utilizator")}}function fd(i,e){if(i&1){let t=N();l(0,"div",15)(1,"div",16)(2,"button",12),I("click",function(){M(t);let o=E();return O(o.closeUserDetails())}),d(3,"\xD7"),c(),D(4,md,1,2,"app-admin-details",17),c()()}if(i&2){let t=E();m(4),y("ngIf",t.isUserDetailsVisible)}}var cr=class i{constructor(e){this.adminService=e}dummy_users=[{id:"m3n4o5p6",fullName:"Ana Georgescu",email:"ana.georgescu@example.com",role:"Admin",createdAt:new Date("2024-09-01T11:30:00Z"),updatedAt:new Date("2025-01-12T13:00:00Z"),rating:4.5},{id:"q7r8s9t0",fullName:"Radu Enache",email:"radu.enache@example.com",role:"Client",createdAt:new Date("2024-08-20T15:45:00Z"),updatedAt:new Date("2025-01-08T11:15:00Z"),rating:4}];searchTerm="";users=[];selectedUser=null;entityDetails={};entityDetailsId;pageSize=10;currentPage=1;totalItems=0;isAddUserFormVisible=!1;isUpdateUserFormVisible=!1;isUserDetailsVisible=!1;selectedUserId=null;placeholder="Caut\u0103 un utilizator...";columns=[{key:"id",header:"ID"},{key:"fullName",header:"Nume"},{key:"email",header:"Email"},{key:"role",header:"Rol"},{key:"actions",header:"Ac\u021Biuni",type:"action",actions:[{label:"Detalii",class:"view",callback:e=>this.getEntity(e.id)},{label:"Modific\u0103",class:"edit",callback:e=>this.editUser(e)},{label:"\u0218terge",class:"delete",callback:e=>this.deleteEntity(e)}]}];defaultUser={fullName:"",email:"",password:"",role:"Client"};formData={};error=null;addEntityFormFields=De(this.defaultUser,{email:{type:"email"},password:{type:"password"},role:{type:"select",options:Object.values(Yt)}});updateEntityFormFields=De({fullName:this.selectedUser?.fullName||"",role:this.selectedUser?.role||""},{role:{type:"select",options:Object.values(Yt)}});ngOnInit(){let e={fullName:"",email:"",password:"",role:"Client"};this.formData=z({},e),this.getPage()}onSearch(e){this.searchTerm=e,this.currentPage=1,this.getPage()}getEntity(e){console.log(e),this.adminService.getUser(e).subscribe({next:t=>{this.entityDetailsId=t.response?.id,this.entityDetails=Cn(t.response??{}),this.isUserDetailsVisible=!0},error:t=>{console.error("Eroare la preluarea utilizatorului:",t),alert("Nu s-au putut \xEEnc\u0103rca detaliile utilizatorului.")}})}getPage(){this.adminService.getUsers(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:e=>{console.log(e.response),this.users=e.response?.data??[],this.totalItems=e.response?.totalCount??0},error:e=>{this.error=e.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addEntity(e){let t=e;this.adminService.addUser(t).subscribe({next:()=>{this.closeAddUserForm(),this.getPage()},error:r=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",r)}})}editUser(e){this.selectedUserId=e.id,this.formData={fullName:e.fullName,role:e.role},this.isUpdateUserFormVisible=!0}updateEntity(e){if(!this.selectedUserId){console.error("Niciun utilizator nu a fost selectat pentru actualizare."),alert("Eroare: Nu a fost selectat niciun utilizator pentru actualizare.");return}let t=e.fullName??[e.firstName,e.lastName].filter(Boolean).join(" ").trim(),r={id:this.selectedUserId,fullName:t,role:e.role};this.adminService.updateUser(this.selectedUserId,r).subscribe({next:()=>{this.closeUpdateUserForm(),this.getPage()},error:o=>{console.error("Eroare la actualizare:",o)}})}showUserDetails(e){this.isUserDetailsVisible=!0}closeUserDetails(){this.isUserDetailsVisible=!1,this.selectedUser=null}closeUpdateUserForm(){this.selectedUserId=null,this.resetForm(),this.isUpdateUserFormVisible=!1}openAddUserForm(){this.selectedUserId=null,this.resetForm(),this.isAddUserFormVisible=!0}viewUser(e){this.isUserDetailsVisible=!0}deleteEntity(e){confirm(`Sigur dori\u021Bi s\u0103 \u0219terge\u021Bi utilizatorul ${e.fullName}?`)&&this.adminService.deleteUser(e.id).subscribe({next:()=>{this.getPage()},error:t=>{console.error("Eroare la \u0219tergerea utilizatorului:",t)}})}closeAddUserForm(){this.isAddUserFormVisible=!1,this.resetForm()}resetForm(){this.formData={firstName:"",lastName:"",email:"",password:"",role:"Client"}}onPageChange(e){this.currentPage=e,this.getPage()}onPageSizeChange(e){this.pageSize=e,this.currentPage=1,this.getPage()}static \u0275fac=function(t){return new(t||i)(A(Bi))};static \u0275cmp=R({type:i,selectors:[["app-admin-users"]],decls:13,vars:11,consts:[[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[1,"admin-wrapper"],[1,"admin-table-container"],[1,"search-box-wrapper"],[3,"searchChanged","placeholder"],[1,"add-btn",3,"click"],[3,"columns","data"],["class","modal-overlay",4,"ngIf"],["class","admin-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal"],[1,"close-button-wrapper"],[1,"close-button",3,"click"],[3,"formSubmit","fields","submitText"],[3,"formSubmit","fields","initialData","submitText"],[1,"admin-overlay"],[1,"admin-modal"],[3,"entity","title","close",4,"ngIf"],[3,"close","entity","title"]],template:function(t,r){t&1&&(l(0,"app-pagination",0),I("pageChange",function(u){return r.onPageChange(u)})("pageSizeChange",function(u){return r.onPageSizeChange(u)}),c(),l(1,"div",1)(2,"div",2)(3,"h2"),d(4,"Administreaz\u0103 to\u021Bi utilizatorii"),c(),l(5,"div",3)(6,"app-search-input",4),I("searchChanged",function(u){return r.onSearch(u)}),c()(),l(7,"button",5),I("click",function(){return r.openAddUserForm()}),d(8,"Adaug\u0103 utilizator"),c(),k(9,"app-dynamic-table",6),c()(),D(10,hd,6,2,"div",7)(11,pd,5,3,"div",7)(12,fd,5,1,"div",8)),t&2&&(y("currentPage",r.currentPage)("pageSize",r.pageSize)("pageSizeOptions",Le(10,dd))("totalItems",r.totalItems),m(6),y("placeholder",r.placeholder),m(3),y("columns",r.columns)("data",r.users),m(),y("ngIf",r.isAddUserFormVisible),m(),y("ngIf",r.isUpdateUserFormVisible),m(),y("ngIf",r.isUserDetailsVisible))},dependencies:[se,Q,Y,Fe,Rt,Vt,We,st],styles:[".admin-wrapper[_ngcontent-%COMP%]{text-align:center}.admin-table-container[_ngcontent-%COMP%]{display:inline-block;padding:24px;background-color:#d9c8ff;border:2px solid #4b358e;border-radius:8px;font-family:Roboto Mono,monospace;box-shadow:0 4px 8px #0000001a;margin:40px auto}.admin-table-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.admin-table[_ngcontent-%COMP%]{width:max-content;max-width:100%;margin-left:auto;margin-right:auto;border-collapse:collapse;background-color:#f8f4ff;border-radius:6px}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;white-space:nowrap}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700}.action-link[_ngcontent-%COMP%]{margin-right:12px;cursor:pointer;text-decoration:none;font-weight:700}.action-link.view[_ngcontent-%COMP%]{color:#00f}.action-link.edit[_ngcontent-%COMP%]{color:green}.action-link.delete[_ngcontent-%COMP%]{color:red}.add-btn[_ngcontent-%COMP%]{background-color:#916fc7;color:#fff;border:3px solid #4b358e;margin-top:14px;margin-bottom:20px;padding:8px 16px;font-weight:700;border-radius:6px;cursor:pointer;transition:background-color .3s;font-family:Roboto Mono,monospace}.add-btn[_ngcontent-%COMP%]:hover{background-color:#3a2973}",".grid-form[_ngcontent-%COMP%]{gap:24px 20px;padding:24px 32px;max-width:650px;margin:0 auto;font-family:Roboto Mono,monospace;border:2px solid #c9b7ff;border-radius:6px;box-shadow:0 4px 12px #0000001a}.form-layout[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px 20px;padding:12px 16px;max-width:650px;margin:0 auto}.form-group[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;flex:1;display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{flex:1 1 100%}.form-group.half-width[_ngcontent-%COMP%]{flex:1 1 48%}label[_ngcontent-%COMP%]{margin-bottom:8px}.input-box[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;transition:border-color .3s}.input-box[_ngcontent-%COMP%]:focus-within{border-color:#9a79ff}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;width:100%;font-family:Roboto Mono,monospace;font-size:16px;outline:none}.input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-family:inherit;font-size:1rem;border:none;border-radius:6px;box-sizing:border-box;resize:vertical;background:#e6dfff}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;font-size:16px;outline:none;appearance:auto;font-family:inherit;width:100%}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#a388ff;box-shadow:0 0 3px #a388ff}.placeholder-selected[_ngcontent-%COMP%]{color:#7d7d7f!important}.send-button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:300px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}.send-button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.field-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.error[_ngcontent-%COMP%]{color:#d8000c;font-size:.85rem;margin-top:4px;padding-left:2px}",".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var gd=["class","users"],_d=()=>[5,10,20];function yd(i,e){if(i&1){let t=N();l(0,"div",9)(1,"div",10)(2,"div",11)(3,"button",12),I("click",function(){M(t);let o=E();return O(o.closeAddUserForm())}),d(4,"\xD7"),c()(),l(5,"app-dynamic-form",13),I("formSubmit",function(o){M(t);let u=E();return O(u.addEntity(o))}),c()()()}if(i&2){let t=E();m(5),y("fields",t.addEntityFormFields)("submitText","Adaug\u0103")}}function vd(i,e){if(i&1){let t=N();l(0,"div",9)(1,"div",10)(2,"button",12),I("click",function(){M(t);let o=E();return O(o.closeUpdateUserForm())}),d(3,"\xD7"),c(),l(4,"app-dynamic-form",14),I("formSubmit",function(o){M(t);let u=E();return O(u.updateEntity(o))}),c()()()}if(i&2){let t=E();m(4),y("fields",t.updateEntityFormFields)("initialData",t.formData)("submitText","Actualizeaz\u0103")}}function bd(i,e){if(i&1){let t=N();l(0,"app-admin-details",17),I("close",function(){M(t);let o=E(2);return O(o.closeUserDetails())}),c()}if(i&2){let t=E(2);y("entity",t.entityDetails)("title","Detalii specialist")}}function Cd(i,e){if(i&1){let t=N();l(0,"div",15)(1,"div",10)(2,"button",12),I("click",function(){M(t);let o=E();return O(o.closeUserDetails())}),d(3,"\xD7"),c(),D(4,bd,1,2,"app-admin-details",16),c()()}if(i&2){let t=E();m(4),y("ngIf",t.isUserDetailsVisible)}}var lr=class i{constructor(e){this.adminService=e;let t={fullName:"",email:"",password:"",phoneNumber:"",address:"",yearsExperience:0,description:""};this.formData=z({},t),this.getPage()}searchTerm="";users=[];selectedUser=null;entityDetails={};entityDetailsId;pageSize=10;currentPage=1;totalItems=0;isAddUserFormVisible=!1;isUpdateUserFormVisible=!1;isUserDetailsVisible=!1;selectedUserId=null;placeholder="Caut\u0103 un specialist...";columns=[{key:"id",header:"ID"},{key:"fullName",header:"Nume"},{key:"email",header:"Email"},{key:"phoneNumber",header:"Num\u0103r de telefon"},{key:"address",header:"Adres\u0103"},{key:"actions",header:"Ac\u021Biuni",type:"action",actions:[{label:"Detalii",class:"view",callback:e=>this.getEntity(e.id)},{label:"Modific\u0103",class:"edit",callback:e=>this.editUser(e)},{label:"\u0218terge",class:"delete",callback:e=>this.deleteUser(e)}]}];defaultUser={fullName:"",email:"",password:"",phoneNumber:"",address:"",yearsExperience:0,description:""};formData={};error=null;addEntityFormFields=De(this.defaultUser,{email:{type:"email"},password:{type:"password"},yearsExperience:{type:"number",placeholder:"Ex: 5"},description:{type:"textarea",placeholder:"Descrie serviciile oferite",class:"full-width"}});updateEntityFormFields=De({fullName:this.selectedUser?.fullName||"",phoneNumber:this.selectedUser?.phoneNumber||"",address:this.selectedUser?.address||"",yearsExperience:this.selectedUser?.yearsExperience||"",description:this.selectedUser?.description||""});onSearch(e){this.searchTerm=e,this.currentPage=1,this.getPage()}getEntity(e){this.adminService.getSpecialist(e).subscribe({next:t=>{this.entityDetailsId=t.response?.id,console.log(t.response),this.entityDetails=Cn(t.response??{}),this.isUserDetailsVisible=!0},error:t=>{console.error("Eroare la preluarea utilizatorului:",t),alert("Nu s-au putut \xEEnc\u0103rca detaliile utilizatorului.")}})}getPage(){this.adminService.getSpecialists(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:e=>{this.users=e.response?.data??[],this.totalItems=e.response?.totalCount??0},error:e=>{this.error=e.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addEntity(e){let t=e;this.adminService.addSpecialist(t).subscribe({next:()=>{this.closeAddUserForm(),this.getPage()},error:r=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",r)}})}editUser(e){this.selectedUserId=e.id,this.formData={fullName:e.fullName,phoneNumber:e.phoneNumber,address:e.address,yearsExperience:e.yearsExperience,description:e.description},this.isUpdateUserFormVisible=!0}updateEntity(e){if(console.log("Form data submitted:",e),!this.selectedUserId){console.error("Niciun utilizator nu a fost selectat pentru actualizare."),alert("Eroare: Nu a fost selectat niciun utilizator pentru actualizare.");return}let t={id:this.selectedUserId,fullName:e.fullName,phoneNumber:e.phoneNumber,address:e.address,yearsExperience:e.yearsExperience,description:e.description};console.log("Update payload:",t),this.adminService.updateSpecialist(this.selectedUserId,t).subscribe({next:()=>{console.log(),this.closeUpdateUserForm(),this.getPage()},error:r=>{console.error("Eroare la actualizare:",r)}})}closeUserDetails(){this.isUserDetailsVisible=!1,this.entityDetails={}}closeUpdateUserForm(){this.selectedUserId=null,this.resetForm(),this.isUpdateUserFormVisible=!1}openAddUserForm(){this.selectedUserId=null,this.resetForm(),this.isAddUserFormVisible=!0}viewUser(e){this.isUserDetailsVisible=!0}deleteUser(e){confirm(`Sigur dori\u021Bi s\u0103 \u0219terge\u021Bi utilizatorul ${e.fullName}?`)&&this.adminService.deleteSpecialist(e.id).subscribe({next:()=>{this.getPage()},error:t=>{console.error("Eroare la \u0219tergerea utilizatorului:",t)}})}closeAddUserForm(){this.isAddUserFormVisible=!1,this.resetForm()}resetForm(){this.formData={firstName:"",lastName:"",email:"",password:"",role:"Client"}}getTotalPages(){return Math.ceil(this.totalItems/this.pageSize)}onPageSizeChange(e){this.pageSize=e,this.currentPage=1,this.getPage()}onPageChange(e){this.currentPage=e,this.getPage()}static \u0275fac=function(t){return new(t||i)(A(bn))};static \u0275cmp=R({type:i,selectors:[["app-admin",8,"users"]],attrs:gd,decls:13,vars:11,consts:[[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[1,"admin-wrapper"],[1,"admin-table-container"],[1,"search-box-wrapper"],[3,"searchChanged","placeholder"],[1,"add-btn",3,"click"],[3,"columns","data"],["class","modal-overlay",4,"ngIf"],["class","admin-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal"],[1,"close-button-wrapper"],[1,"close-button",3,"click"],[3,"formSubmit","fields","submitText"],[3,"formSubmit","fields","initialData","submitText"],[1,"admin-overlay"],[3,"entity","title","close",4,"ngIf"],[3,"close","entity","title"]],template:function(t,r){t&1&&(l(0,"app-pagination",0),I("pageChange",function(u){return r.onPageChange(u)})("pageSizeChange",function(u){return r.onPageSizeChange(u)}),c(),l(1,"div",1)(2,"div",2)(3,"h2"),d(4,"Administreaz\u0103 to\u021Bi speciali\u0219tii"),c(),l(5,"div",3)(6,"app-search-input",4),I("searchChanged",function(u){return r.onSearch(u)}),c()(),l(7,"button",5),I("click",function(){return r.openAddUserForm()}),d(8,"Adaug\u0103 specialist"),c(),k(9,"app-dynamic-table",6),c()(),D(10,yd,6,2,"div",7)(11,vd,5,3,"div",7)(12,Cd,5,1,"div",8)),t&2&&(y("currentPage",r.currentPage)("pageSize",r.pageSize)("pageSizeOptions",Le(10,_d))("totalItems",r.totalItems),m(6),y("placeholder",r.placeholder),m(3),y("columns",r.columns)("data",r.users),m(),y("ngIf",r.isAddUserFormVisible),m(),y("ngIf",r.isUpdateUserFormVisible),m(),y("ngIf",r.isUserDetailsVisible))},dependencies:[Y,Vt,Fe,Rt,Q,We,st],styles:[".admin-wrapper[_ngcontent-%COMP%]{text-align:center}.admin-table-container[_ngcontent-%COMP%]{display:inline-block;padding:24px;background-color:#d9c8ff;border:2px solid #4b358e;border-radius:8px;font-family:Roboto Mono,monospace;box-shadow:0 4px 8px #0000001a;margin:40px auto}.admin-table-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.admin-table[_ngcontent-%COMP%]{width:max-content;max-width:100%;margin-left:auto;margin-right:auto;border-collapse:collapse;background-color:#f8f4ff;border-radius:6px}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;white-space:nowrap}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700}.action-link[_ngcontent-%COMP%]{margin-right:12px;cursor:pointer;text-decoration:none;font-weight:700}.action-link.view[_ngcontent-%COMP%]{color:#00f}.action-link.edit[_ngcontent-%COMP%]{color:green}.action-link.delete[_ngcontent-%COMP%]{color:red}.add-btn[_ngcontent-%COMP%]{background-color:#916fc7;color:#fff;border:3px solid #4b358e;margin-top:14px;margin-bottom:20px;padding:8px 16px;font-weight:700;border-radius:6px;cursor:pointer;transition:background-color .3s;font-family:Roboto Mono,monospace}.add-btn[_ngcontent-%COMP%]:hover{background-color:#3a2973}",".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var ur=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=R({type:i,selectors:[["app-unauthorized"]],decls:6,vars:0,consts:[["routerLink","/home"]],template:function(t,r){t&1&&(l(0,"h2"),d(1,"Acces restric\u021Bionat"),c(),l(2,"p"),d(3,"Nu ai permisiunea necesar\u0103 pentru a accesa aceast\u0103 pagin\u0103."),c(),l(4,"a",0),d(5,"\xCEnapoi la pagina principal\u0103"),c())},encapsulation:2})};var ci=class i{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.getToken()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(t){return new(t||i)(W(q),W(Ie))};static \u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})};function wd(i,e){if(i&1&&k(0,"img",2),i&2){let t=E();y("src",t.icon,$e)}}var dr=class i{label;icon;onClick=new j;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=R({type:i,selectors:[["app-icon-button"]],inputs:{label:"label",icon:"icon"},outputs:{onClick:"onClick"},decls:4,vars:2,consts:[[1,"icon-button",3,"click"],["alt","icon","class","button-icon",3,"src",4,"ngIf"],["alt","icon",1,"button-icon",3,"src"]],template:function(t,r){t&1&&(l(0,"button",0),I("click",function(){return r.onClick.emit()}),D(1,wd,1,1,"img",1),l(2,"span"),d(3),c()()),t&2&&(m(),y("ngIf",r.icon),m(2),re(r.label))},dependencies:[se,Q],styles:[".icon-button[_ngcontent-%COMP%]{width:260px;height:55px;display:flex;align-items:center;gap:12px;padding:12px 24px;font-size:16px;font-weight:500;border:3px solid #4f378a;background-color:#f3e6ff;border-radius:10px;cursor:pointer;transition:background .2s ease;font-family:Roboto Mono,monospace}.icon-button[_ngcontent-%COMP%]:hover{background-color:#a197be}.icon-button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}"]})};var wn=class i{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Photo";addProfilePicture(e){let t=new FormData;t.append("file",e);let r=this.authService.getToken(),o=new L({Authorization:`Bearer ${r}`});return this.http.post(`${this.baseUrl}/AddProfilePicture`,t,{headers:o})}updateProfilePicture(e){let t=new FormData;t.append("file",e);let r=this.authService.getToken(),o=new L({Authorization:`Bearer ${r}`});return this.http.patch(`${this.baseUrl}/UpdateProfilePicture`,t,{headers:o})}addPortfolioPicture(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.post(`${this.baseUrl}/AddPortfolioPicture`,e,{headers:r})}deletePortfolioPicture(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.delete(`${this.baseUrl}/DeletePortfolioPicture/${e}`,{headers:r})}static \u0275fac=function(t){return new(t||i)(W(_e),W(q))};static \u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})};function xd(i,e){if(i&1&&(l(0,"span",21),d(1),c()),i&2){let t=e.$implicit;m(),re(t.name)}}var hr=class i{constructor(e,t,r,o){this.profileService=e;this.authService=t;this.photoService=r;this.route=o}user;dummyUser={id:"user-001",fullName:"Elena Georgescu",email:"elena.georgescu@example.com",role:"Specialist",createdAt:new Date("2023-02-10T10:15:00Z"),updatedAt:new Date,rating:4.8,contactInfo:{phoneNumber:"0745123456",address:"Strada Florilor 12, Timi\u0219oara"},specialist:{yearsExperience:6,description:"Specialist \xEEn traduceri juridice \u0219i consultan\u021B\u0103 contractual\u0103.",categories:[{id:"cat-007",name:"Traduceri juridice"},{id:"cat-008",name:"Consultan\u021B\u0103 legal\u0103"}]}};ngOnInit(){this.profileService.getUserProfile().subscribe({next:e=>{this.user=e.response,console.log(this.user)},error:e=>{console.error(e)}})}onFileSelected(e){let t=e.target.files[0];if(!t)return;new FormData().append("file",t),this.photoService.addProfilePicture(t).subscribe({next:o=>{console.log("Upload success:",o),console.log(this.user?.profilePictureUrl)},error:o=>{console.error("Upload error:",o)}})}uploadProfilePicture(e){this.photoService.addProfilePicture(e).subscribe({next:t=>{console.log("Upload success:",t)},error:t=>{console.error("Upload error:",t)}})}onEdit(){}goToReviews(){this.route.navigate(["profile/user-reviews"])}goToHistory(){}goToExpertEase(){}goToSettings(){this.route.navigate(["profile/user-settings"])}logout(){window.confirm("Sigur vrei s\u0103 te deloghezi?")&&this.authService.logout(),this.route.navigate(["/home"])}UserRoleEnum=Yt;static \u0275fac=function(t){return new(t||i)(A(Bi),A(q),A(wn),A(Ie))};static \u0275cmp=R({type:i,selectors:[["app-profile"]],decls:51,vars:22,consts:[[1,"account-card"],[1,"account-header"],[1,"avatar-wrapper"],[1,"avatar"],["alt","User avatar",3,"src"],[1,"upload-btn"],["type","file","accept","image/*","hidden","",3,"change"],["src","assets/icons/photo_media.svg","alt","Upload icon"],[1,"account-info"],[3,"onClick","label","icon"],[1,"card"],[1,"info"],[1,"full-name"],[1,"details-block"],[1,"row"],[1,"categories"],[1,"label"],["class","tag",4,"ngFor","ngForOf"],[1,"experience"],[1,"description"],[1,"account-actions"],[1,"tag"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),k(4,"img",4),l(5,"label",5)(6,"input",6),I("change",function(u){return r.onFileSelected(u)}),c(),k(7,"img",7),c()()(),l(8,"div",8)(9,"p")(10,"strong"),d(11,"Nume:"),c(),d(12),c(),l(13,"p")(14,"strong"),d(15,"Adresa mail:"),c(),d(16),c(),l(17,"p")(18,"strong"),d(19,"Parol\u0103:"),c(),d(20," ********"),c(),l(21,"p")(22,"strong"),d(23,"Creat la data de:"),c(),d(24),$(25,"date"),c()(),l(26,"app-icon-button",9),I("onClick",function(){return r.onEdit()}),c()(),l(27,"div",10)(28,"div",11)(29,"h2",12),d(30,"Anun\u021Bul t\u0103u"),c(),l(31,"div",13)(32,"div",14)(33,"div",15)(34,"span",16),d(35,"Categorii:"),c(),D(36,xd,2,1,"span",17),c(),l(37,"div",18)(38,"span",16),d(39,"Ani experien\u021B\u0103:"),c(),d(40),c()(),l(41,"div",19)(42,"span",16),d(43,"Descriere:"),c(),d(44),c()()(),l(45,"app-icon-button",9),I("onClick",function(){return r.onEdit()}),c()(),l(46,"div",20)(47,"app-icon-button",9),I("onClick",function(){return r.goToReviews()}),c(),l(48,"app-icon-button",9),I("onClick",function(){return r.goToHistory()}),c(),l(49,"app-icon-button",9),I("onClick",function(){return r.goToSettings()}),c(),l(50,"app-icon-button",9),I("onClick",function(){return r.logout()}),c()()()),t&2&&(m(4),y("src",(r.user==null?null:r.user.profilePictureUrl)||"assets/avatar.svg",$e),m(8),F(" ",r.user==null?null:r.user.fullName," "),m(4),F(" ",r.user==null?null:r.user.email,""),m(8),F(" ",Ge(25,19,r.user==null?null:r.user.createdAt,"dd.MM.yyyy"),""),m(2),y("label","Editeaz\u0103 profilul")("icon","assets/icons/edit.svg"),m(10),y("ngForOf",r.user==null||r.user.specialist==null?null:r.user.specialist.categories),m(4),F(" ",r.user==null||r.user.specialist==null?null:r.user.specialist.yearsExperience," "),m(4),F(" ",r.user==null||r.user.specialist==null?null:r.user.specialist.description," "),m(),y("label","Editeaz\u0103 anun\u021Bul")("icon","assets/icons/edit.svg"),m(2),y("label","Recenziile tale")("icon","assets/icons/reviews.svg"),m(),y("label","Istoric servicii")("icon","assets/icons/history.svg"),m(),y("label","Set\u0103rile contului")("icon","assets/icons/settings.svg"),m(),y("label","Deconecteaz\u0103-te")("icon","assets/icons/logout.svg"))},dependencies:[nt,dr,ue],styles:[".account-card[_ngcontent-%COMP%]{background:#e0caff;max-width:1000px;margin:32px auto;box-shadow:0 4px 16px #0000001a;font-family:Roboto Mono,monospace;border:3px solid black}.account-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:32px;gap:32px}.account-info[_ngcontent-%COMP%]{flex:1;margin-left:32px;font-size:16px}.account-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px 78px;padding:32px}.card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#a08ad2;padding:20px 32px;width:100%;gap:20px;justify-content:space-between;box-sizing:border-box;border-top:3px solid black;border-bottom:3px solid black;font-family:Roboto Mono,monospace}.info[_ngcontent-%COMP%]{flex:1}.full-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-top:.25rem;margin-bottom:.5rem}.full-name[_ngcontent-%COMP%]:hover{text-decoration:underline}.details-block[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:12px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.categories[_ngcontent-%COMP%], .experience[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{font-size:.95rem}.label[_ngcontent-%COMP%]{font-weight:700;margin-right:6px}.tag[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:160px;aspect-ratio:1/1}.avatar[_ngcontent-%COMP%]{position:relative;width:160px;height:160px;overflow:hidden}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover;display:block}.rating-badge[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;display:inline-flex;align-items:center;gap:.3em;background:#fff;padding:.2em .5em;border-radius:.6em;font-size:1.2em;box-shadow:0 1px 4px #0000001a}.rating-badge[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1em;height:1em}.upload-btn[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:4px;background:#fff;border-radius:50%;padding:6px;cursor:pointer;font-size:18px}.upload-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0}.upload-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}"]})};var vc=function(i){let e=[],t=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Ed=function(i){let e=[],t=0,r=0;for(;t<i.length;){let o=i[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){let u=i[t++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){let u=i[t++],_=i[t++],T=i[t++],V=((o&7)<<18|(u&63)<<12|(_&63)<<6|T&63)-65536;e[r++]=String.fromCharCode(55296+(V>>10)),e[r++]=String.fromCharCode(56320+(V&1023))}else{let u=i[t++],_=i[t++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|_&63)}}return e.join("")},Sd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){let u=i[o],_=o+1<i.length,T=_?i[o+1]:0,V=o+2<i.length,B=V?i[o+2]:0,Ze=u>>2,Oe=(u&3)<<4|T>>4,ce=(T&15)<<2|B>>6,ze=B&63;V||(ze=64,_||(ce=64)),r.push(t[Ze],t[Oe],t[ce],t[ze])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(vc(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):Ed(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){let u=t[i.charAt(o++)],T=o<i.length?t[i.charAt(o)]:0;++o;let B=o<i.length?t[i.charAt(o)]:64;++o;let Oe=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||T==null||B==null||Oe==null)throw new Uo;let ce=u<<2|T>>4;if(r.push(ce),B!==64){let ze=T<<4&240|B>>2;if(r.push(ze),Oe!==64){let J=B<<6&192|Oe;r.push(J)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},Uo=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Id=function(i){let e=vc(i);return Sd.encodeByteArray(e,!0)},Lo=function(i){return Id(i).replace(/\./g,"")};function Bo(){try{return typeof indexedDB=="object"}catch{return!1}}function bc(){return new Promise((i,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}var Td="FirebaseError",gt=class i extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Td,Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,li.prototype.create)}},li=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],_=u?Ad(u,r):"Error",T=`${this.serviceName}: ${_} (${o}).`;return new gt(o,T,r)}};function Ad(i,e){return i.replace(Pd,(t,r)=>{let o=e[r];return o!=null?String(o):`<${r}?>`})}var Pd=/\{\$([^}]+)}/g;var Hg=4*60*60*1e3;var kt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Dd=[],ne=function(i){return i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT",i}(ne||{}),Md={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},Od=ne.INFO,Rd={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},Vd=(i,e,...t)=>{if(e<i.logLevel)return;let r=new Date().toISOString(),o=Rd[e];if(o)console[o](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},xn=class{constructor(e){this.name=e,this._logLevel=Od,this._logHandler=Vd,this._userLogHandler=null,Dd.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Md[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}};var kd=(i,e)=>e.some(t=>i instanceof t),Cc,wc;function Nd(){return Cc||(Cc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Fd(){return wc||(wc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var xc=new WeakMap,zo=new WeakMap,Ec=new WeakMap,qo=new WeakMap,$o=new WeakMap;function Ud(i){let e=new Promise((t,r)=>{let o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",_)},u=()=>{t(at(i.result)),o()},_=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",_)});return e.then(t=>{t instanceof IDBCursor&&xc.set(t,i)}).catch(()=>{}),$o.set(e,i),e}function Ld(i){if(zo.has(i))return;let e=new Promise((t,r)=>{let o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",_),i.removeEventListener("abort",_)},u=()=>{t(),o()},_=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",_),i.addEventListener("abort",_)});zo.set(i,e)}var jo={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return zo.get(i);if(e==="objectStoreNames")return i.objectStoreNames||Ec.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return at(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Sc(i){jo=i(jo)}function Bd(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=i.call(pr(this),e,...t);return Ec.set(r,e.sort?e.sort():[e]),at(r)}:Fd().includes(i)?function(...e){return i.apply(pr(this),e),at(xc.get(this))}:function(...e){return at(i.apply(pr(this),e))}}function qd(i){return typeof i=="function"?Bd(i):(i instanceof IDBTransaction&&Ld(i),kd(i,Nd())?new Proxy(i,jo):i)}function at(i){if(i instanceof IDBRequest)return Ud(i);if(qo.has(i))return qo.get(i);let e=qd(i);return e!==i&&(qo.set(i,e),$o.set(e,i)),e}var pr=i=>$o.get(i);function Tc(i,e,{blocked:t,upgrade:r,blocking:o,terminated:u}={}){let _=indexedDB.open(i,e),T=at(_);return r&&_.addEventListener("upgradeneeded",V=>{r(at(_.result),V.oldVersion,V.newVersion,at(_.transaction),V)}),t&&_.addEventListener("blocked",V=>t(V.oldVersion,V.newVersion,V)),T.then(V=>{u&&V.addEventListener("close",()=>u()),o&&V.addEventListener("versionchange",B=>o(B.oldVersion,B.newVersion,B))}).catch(()=>{}),T}var zd=["get","getKey","getAll","getAllKeys","count"],jd=["put","add","delete","clear"],Go=new Map;function Ic(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Go.get(e))return Go.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,o=jd.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||zd.includes(t)))return;let u=function(_,...T){return ae(this,null,function*(){let V=this.transaction(_,o?"readwrite":"readonly"),B=V.store;return r&&(B=B.index(T.shift())),(yield Promise.all([B[t](...T),o&&V.done]))[0]})};return Go.set(e,u),u}Sc(i=>pe(z({},i),{get:(e,t,r)=>Ic(e,t)||i.get(e,t,r),has:(e,t)=>!!Ic(e,t)||i.has(e,t)}));var Wo=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Gd(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Gd(i){let e=i.getComponent();return e?.type==="VERSION"}var Ho="@firebase/app",Ac="0.10.15";var _t=new xn("@firebase/app"),Kd="@firebase/app-compat",Wd="@firebase/analytics-compat",Hd="@firebase/analytics",Qd="@firebase/app-check-compat",Jd="@firebase/app-check",Yd="@firebase/auth",Xd="@firebase/auth-compat",Zd="@firebase/database",eh="@firebase/data-connect",th="@firebase/database-compat",nh="@firebase/functions",ih="@firebase/functions-compat",rh="@firebase/installations",oh="@firebase/installations-compat",sh="@firebase/messaging",ah="@firebase/messaging-compat",ch="@firebase/performance",lh="@firebase/performance-compat",uh="@firebase/remote-config",dh="@firebase/remote-config-compat",hh="@firebase/storage",ph="@firebase/storage-compat",mh="@firebase/firestore",fh="@firebase/vertexai",gh="@firebase/firestore-compat",_h="firebase",yh="11.0.1";var vh={[Ho]:"fire-core",[Kd]:"fire-core-compat",[Hd]:"fire-analytics",[Wd]:"fire-analytics-compat",[Jd]:"fire-app-check",[Qd]:"fire-app-check-compat",[Yd]:"fire-auth",[Xd]:"fire-auth-compat",[Zd]:"fire-rtdb",[eh]:"fire-data-connect",[th]:"fire-rtdb-compat",[nh]:"fire-fn",[ih]:"fire-fn-compat",[rh]:"fire-iid",[oh]:"fire-iid-compat",[sh]:"fire-fcm",[ah]:"fire-fcm-compat",[ch]:"fire-perf",[lh]:"fire-perf-compat",[uh]:"fire-rc",[dh]:"fire-rc-compat",[hh]:"fire-gcs",[ph]:"fire-gcs-compat",[mh]:"fire-fst",[gh]:"fire-fst-compat",[fh]:"fire-vertex","fire-js":"fire-js",[_h]:"fire-js-all"};var bh=new Map,Ch=new Map,Pc=new Map;function Dc(i,e){try{i.container.addComponent(e)}catch(t){_t.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ui(i){let e=i.name;if(Pc.has(e))return _t.debug(`There were multiple attempts to register component ${e}.`),!1;Pc.set(e,i);for(let t of bh.values())Dc(t,i);for(let t of Ch.values())Dc(t,i);return!0}var wh={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yo=new li("app","Firebase",wh);var Vc=yh;function En(i,e,t){var r;let o=(r=vh[i])!==null&&r!==void 0?r:i;t&&(o+=`-${t}`);let u=o.match(/\s|\//),_=e.match(/\s|\//);if(u||_){let T=[`Unable to register library "${o}" with version "${e}":`];u&&T.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&_&&T.push("and"),_&&T.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_t.warn(T.join(" "));return}ui(new kt(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}var xh="firebase-heartbeat-database",Eh=1,di="firebase-heartbeat-store",Ko=null;function kc(){return Ko||(Ko=Tc(xh,Eh,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(di)}catch(t){console.warn(t)}}}}).catch(i=>{throw Yo.create("idb-open",{originalErrorMessage:i.message})})),Ko}function Sh(i){return ae(this,null,function*(){try{let t=(yield kc()).transaction(di),r=yield t.objectStore(di).get(Nc(i));return yield t.done,r}catch(e){if(e instanceof gt)_t.warn(e.message);else{let t=Yo.create("idb-get",{originalErrorMessage:e?.message});_t.warn(t.message)}}})}function Mc(i,e){return ae(this,null,function*(){try{let r=(yield kc()).transaction(di,"readwrite");yield r.objectStore(di).put(e,Nc(i)),yield r.done}catch(t){if(t instanceof gt)_t.warn(t.message);else{let r=Yo.create("idb-set",{originalErrorMessage:t?.message});_t.warn(r.message)}}})}function Nc(i){return`${i.name}!${i.options.appId}`}var Ih=1024,Th=30*24*60*60*1e3,Qo=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Jo(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return ae(this,null,function*(){var e,t;try{let o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Oc();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(_=>_.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(_=>{let T=new Date(_.date).valueOf();return Date.now()-T<=Th}),this._storage.overwrite(this._heartbeatsCache))}catch(r){_t.warn(r)}})}getHeartbeatsHeader(){return ae(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Oc(),{heartbeatsToSend:r,unsentEntries:o}=Ah(this._heartbeatsCache.heartbeats),u=Lo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return _t.warn(t),""}})}};function Oc(){return new Date().toISOString().substring(0,10)}function Ah(i,e=Ih){let t=[],r=i.slice();for(let o of i){let u=t.find(_=>_.agent===o.agent);if(u){if(u.dates.push(o.date),Rc(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Rc(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Jo=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return ae(this,null,function*(){return Bo()?bc().then(()=>!0).catch(()=>!1):!1})}read(){return ae(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Sh(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return ae(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let o=yield this.read();return Mc(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return ae(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let o=yield this.read();return Mc(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return})}};function Rc(i){return Lo(JSON.stringify({version:2,heartbeats:i})).length}function Ph(i){ui(new kt("platform-logger",e=>new Wo(e),"PRIVATE")),ui(new kt("heartbeat",e=>new Qo(e),"PRIVATE")),En(Ho,Ac,i),En(Ho,Ac,"esm2017"),En("fire-js","")}Ph("");var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Uc={};var Xo,Lc;(function(){var i;function e(w,p){function g(){}g.prototype=p.prototype,w.D=p.prototype,w.prototype=new g,w.prototype.constructor=w,w.C=function(v,b,x){for(var f=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)f[ut-2]=arguments[ut];return p.prototype[b].apply(v,f)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,p,g){g||(g=0);var v=Array(16);if(typeof p=="string")for(var b=0;16>b;++b)v[b]=p.charCodeAt(g++)|p.charCodeAt(g++)<<8|p.charCodeAt(g++)<<16|p.charCodeAt(g++)<<24;else for(b=0;16>b;++b)v[b]=p[g++]|p[g++]<<8|p[g++]<<16|p[g++]<<24;p=w.g[0],g=w.g[1],b=w.g[2];var x=w.g[3],f=p+(x^g&(b^x))+v[0]+3614090360&4294967295;p=g+(f<<7&4294967295|f>>>25),f=x+(b^p&(g^b))+v[1]+3905402710&4294967295,x=p+(f<<12&4294967295|f>>>20),f=b+(g^x&(p^g))+v[2]+606105819&4294967295,b=x+(f<<17&4294967295|f>>>15),f=g+(p^b&(x^p))+v[3]+3250441966&4294967295,g=b+(f<<22&4294967295|f>>>10),f=p+(x^g&(b^x))+v[4]+4118548399&4294967295,p=g+(f<<7&4294967295|f>>>25),f=x+(b^p&(g^b))+v[5]+1200080426&4294967295,x=p+(f<<12&4294967295|f>>>20),f=b+(g^x&(p^g))+v[6]+2821735955&4294967295,b=x+(f<<17&4294967295|f>>>15),f=g+(p^b&(x^p))+v[7]+4249261313&4294967295,g=b+(f<<22&4294967295|f>>>10),f=p+(x^g&(b^x))+v[8]+1770035416&4294967295,p=g+(f<<7&4294967295|f>>>25),f=x+(b^p&(g^b))+v[9]+2336552879&4294967295,x=p+(f<<12&4294967295|f>>>20),f=b+(g^x&(p^g))+v[10]+4294925233&4294967295,b=x+(f<<17&4294967295|f>>>15),f=g+(p^b&(x^p))+v[11]+2304563134&4294967295,g=b+(f<<22&4294967295|f>>>10),f=p+(x^g&(b^x))+v[12]+1804603682&4294967295,p=g+(f<<7&4294967295|f>>>25),f=x+(b^p&(g^b))+v[13]+4254626195&4294967295,x=p+(f<<12&4294967295|f>>>20),f=b+(g^x&(p^g))+v[14]+2792965006&4294967295,b=x+(f<<17&4294967295|f>>>15),f=g+(p^b&(x^p))+v[15]+1236535329&4294967295,g=b+(f<<22&4294967295|f>>>10),f=p+(b^x&(g^b))+v[1]+4129170786&4294967295,p=g+(f<<5&4294967295|f>>>27),f=x+(g^b&(p^g))+v[6]+3225465664&4294967295,x=p+(f<<9&4294967295|f>>>23),f=b+(p^g&(x^p))+v[11]+643717713&4294967295,b=x+(f<<14&4294967295|f>>>18),f=g+(x^p&(b^x))+v[0]+3921069994&4294967295,g=b+(f<<20&4294967295|f>>>12),f=p+(b^x&(g^b))+v[5]+3593408605&4294967295,p=g+(f<<5&4294967295|f>>>27),f=x+(g^b&(p^g))+v[10]+38016083&4294967295,x=p+(f<<9&4294967295|f>>>23),f=b+(p^g&(x^p))+v[15]+3634488961&4294967295,b=x+(f<<14&4294967295|f>>>18),f=g+(x^p&(b^x))+v[4]+3889429448&4294967295,g=b+(f<<20&4294967295|f>>>12),f=p+(b^x&(g^b))+v[9]+568446438&4294967295,p=g+(f<<5&4294967295|f>>>27),f=x+(g^b&(p^g))+v[14]+3275163606&4294967295,x=p+(f<<9&4294967295|f>>>23),f=b+(p^g&(x^p))+v[3]+4107603335&4294967295,b=x+(f<<14&4294967295|f>>>18),f=g+(x^p&(b^x))+v[8]+1163531501&4294967295,g=b+(f<<20&4294967295|f>>>12),f=p+(b^x&(g^b))+v[13]+2850285829&4294967295,p=g+(f<<5&4294967295|f>>>27),f=x+(g^b&(p^g))+v[2]+4243563512&4294967295,x=p+(f<<9&4294967295|f>>>23),f=b+(p^g&(x^p))+v[7]+1735328473&4294967295,b=x+(f<<14&4294967295|f>>>18),f=g+(x^p&(b^x))+v[12]+2368359562&4294967295,g=b+(f<<20&4294967295|f>>>12),f=p+(g^b^x)+v[5]+4294588738&4294967295,p=g+(f<<4&4294967295|f>>>28),f=x+(p^g^b)+v[8]+2272392833&4294967295,x=p+(f<<11&4294967295|f>>>21),f=b+(x^p^g)+v[11]+1839030562&4294967295,b=x+(f<<16&4294967295|f>>>16),f=g+(b^x^p)+v[14]+4259657740&4294967295,g=b+(f<<23&4294967295|f>>>9),f=p+(g^b^x)+v[1]+2763975236&4294967295,p=g+(f<<4&4294967295|f>>>28),f=x+(p^g^b)+v[4]+1272893353&4294967295,x=p+(f<<11&4294967295|f>>>21),f=b+(x^p^g)+v[7]+4139469664&4294967295,b=x+(f<<16&4294967295|f>>>16),f=g+(b^x^p)+v[10]+3200236656&4294967295,g=b+(f<<23&4294967295|f>>>9),f=p+(g^b^x)+v[13]+681279174&4294967295,p=g+(f<<4&4294967295|f>>>28),f=x+(p^g^b)+v[0]+3936430074&4294967295,x=p+(f<<11&4294967295|f>>>21),f=b+(x^p^g)+v[3]+3572445317&4294967295,b=x+(f<<16&4294967295|f>>>16),f=g+(b^x^p)+v[6]+76029189&4294967295,g=b+(f<<23&4294967295|f>>>9),f=p+(g^b^x)+v[9]+3654602809&4294967295,p=g+(f<<4&4294967295|f>>>28),f=x+(p^g^b)+v[12]+3873151461&4294967295,x=p+(f<<11&4294967295|f>>>21),f=b+(x^p^g)+v[15]+530742520&4294967295,b=x+(f<<16&4294967295|f>>>16),f=g+(b^x^p)+v[2]+3299628645&4294967295,g=b+(f<<23&4294967295|f>>>9),f=p+(b^(g|~x))+v[0]+4096336452&4294967295,p=g+(f<<6&4294967295|f>>>26),f=x+(g^(p|~b))+v[7]+1126891415&4294967295,x=p+(f<<10&4294967295|f>>>22),f=b+(p^(x|~g))+v[14]+2878612391&4294967295,b=x+(f<<15&4294967295|f>>>17),f=g+(x^(b|~p))+v[5]+4237533241&4294967295,g=b+(f<<21&4294967295|f>>>11),f=p+(b^(g|~x))+v[12]+1700485571&4294967295,p=g+(f<<6&4294967295|f>>>26),f=x+(g^(p|~b))+v[3]+2399980690&4294967295,x=p+(f<<10&4294967295|f>>>22),f=b+(p^(x|~g))+v[10]+4293915773&4294967295,b=x+(f<<15&4294967295|f>>>17),f=g+(x^(b|~p))+v[1]+2240044497&4294967295,g=b+(f<<21&4294967295|f>>>11),f=p+(b^(g|~x))+v[8]+1873313359&4294967295,p=g+(f<<6&4294967295|f>>>26),f=x+(g^(p|~b))+v[15]+4264355552&4294967295,x=p+(f<<10&4294967295|f>>>22),f=b+(p^(x|~g))+v[6]+2734768916&4294967295,b=x+(f<<15&4294967295|f>>>17),f=g+(x^(b|~p))+v[13]+1309151649&4294967295,g=b+(f<<21&4294967295|f>>>11),f=p+(b^(g|~x))+v[4]+4149444226&4294967295,p=g+(f<<6&4294967295|f>>>26),f=x+(g^(p|~b))+v[11]+3174756917&4294967295,x=p+(f<<10&4294967295|f>>>22),f=b+(p^(x|~g))+v[2]+718787259&4294967295,b=x+(f<<15&4294967295|f>>>17),f=g+(x^(b|~p))+v[9]+3951481745&4294967295,w.g[0]=w.g[0]+p&4294967295,w.g[1]=w.g[1]+(b+(f<<21&4294967295|f>>>11))&4294967295,w.g[2]=w.g[2]+b&4294967295,w.g[3]=w.g[3]+x&4294967295}r.prototype.u=function(w,p){p===void 0&&(p=w.length);for(var g=p-this.blockSize,v=this.B,b=this.h,x=0;x<p;){if(b==0)for(;x<=g;)o(this,w,x),x+=this.blockSize;if(typeof w=="string"){for(;x<p;)if(v[b++]=w.charCodeAt(x++),b==this.blockSize){o(this,v),b=0;break}}else for(;x<p;)if(v[b++]=w[x++],b==this.blockSize){o(this,v),b=0;break}}this.h=b,this.o+=p},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var p=1;p<w.length-8;++p)w[p]=0;var g=8*this.o;for(p=w.length-8;p<w.length;++p)w[p]=g&255,g/=256;for(this.u(w),w=Array(16),p=g=0;4>p;++p)for(var v=0;32>v;v+=8)w[g++]=this.g[p]>>>v&255;return w};function u(w,p){var g=T;return Object.prototype.hasOwnProperty.call(g,w)?g[w]:g[w]=p(w)}function _(w,p){this.h=p;for(var g=[],v=!0,b=w.length-1;0<=b;b--){var x=w[b]|0;v&&x==p||(g[b]=x,v=!1)}this.g=g}var T={};function V(w){return-128<=w&&128>w?u(w,function(p){return new _([p|0],0>p?-1:0)}):new _([w|0],0>w?-1:0)}function B(w){if(isNaN(w)||!isFinite(w))return Oe;if(0>w)return he(B(-w));for(var p=[],g=1,v=0;w>=g;v++)p[v]=w/g|0,g*=4294967296;return new _(p,0)}function Ze(w,p){if(w.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(w.charAt(0)=="-")return he(Ze(w.substring(1),p));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var g=B(Math.pow(p,8)),v=Oe,b=0;b<w.length;b+=8){var x=Math.min(8,w.length-b),f=parseInt(w.substring(b,b+x),p);8>x?(x=B(Math.pow(p,x)),v=v.j(x).add(B(f))):(v=v.j(g),v=v.add(B(f)))}return v}var Oe=V(0),ce=V(1),ze=V(16777216);i=_.prototype,i.m=function(){if(Ce(this))return-he(this).m();for(var w=0,p=1,g=0;g<this.g.length;g++){var v=this.i(g);w+=(0<=v?v:4294967296+v)*p,p*=4294967296}return w},i.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(J(this))return"0";if(Ce(this))return"-"+he(this).toString(w);for(var p=B(Math.pow(w,6)),g=this,v="";;){var b=vt(g,p).g;g=tn(g,b.j(p));var x=((0<g.g.length?g.g[0]:g.h)>>>0).toString(w);if(g=b,J(g))return x+v;for(;6>x.length;)x="0"+x;v=x+v}},i.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function J(w){if(w.h!=0)return!1;for(var p=0;p<w.g.length;p++)if(w.g[p]!=0)return!1;return!0}function Ce(w){return w.h==-1}i.l=function(w){return w=tn(this,w),Ce(w)?-1:J(w)?0:1};function he(w){for(var p=w.g.length,g=[],v=0;v<p;v++)g[v]=~w.g[v];return new _(g,~w.h).add(ce)}i.abs=function(){return Ce(this)?he(this):this},i.add=function(w){for(var p=Math.max(this.g.length,w.g.length),g=[],v=0,b=0;b<=p;b++){var x=v+(this.i(b)&65535)+(w.i(b)&65535),f=(x>>>16)+(this.i(b)>>>16)+(w.i(b)>>>16);v=f>>>16,x&=65535,f&=65535,g[b]=f<<16|x}return new _(g,g[g.length-1]&-2147483648?-1:0)};function tn(w,p){return w.add(he(p))}i.j=function(w){if(J(this)||J(w))return Oe;if(Ce(this))return Ce(w)?he(this).j(he(w)):he(he(this).j(w));if(Ce(w))return he(this.j(he(w)));if(0>this.l(ze)&&0>w.l(ze))return B(this.m()*w.m());for(var p=this.g.length+w.g.length,g=[],v=0;v<2*p;v++)g[v]=0;for(v=0;v<this.g.length;v++)for(var b=0;b<w.g.length;b++){var x=this.i(v)>>>16,f=this.i(v)&65535,ut=w.i(b)>>>16,Pn=w.i(b)&65535;g[2*v+2*b]+=f*Pn,et(g,2*v+2*b),g[2*v+2*b+1]+=x*Pn,et(g,2*v+2*b+1),g[2*v+2*b+1]+=f*ut,et(g,2*v+2*b+1),g[2*v+2*b+2]+=x*ut,et(g,2*v+2*b+2)}for(v=0;v<p;v++)g[v]=g[2*v+1]<<16|g[2*v];for(v=p;v<2*p;v++)g[v]=0;return new _(g,0)};function et(w,p){for(;(w[p]&65535)!=w[p];)w[p+1]+=w[p]>>>16,w[p]&=65535,p++}function je(w,p){this.g=w,this.h=p}function vt(w,p){if(J(p))throw Error("division by zero");if(J(w))return new je(Oe,Oe);if(Ce(w))return p=vt(he(w),p),new je(he(p.g),he(p.h));if(Ce(p))return p=vt(w,he(p)),new je(he(p.g),p.h);if(30<w.g.length){if(Ce(w)||Ce(p))throw Error("slowDivide_ only works with positive integers.");for(var g=ce,v=p;0>=v.l(w);)g=fi(g),v=fi(v);var b=tt(g,1),x=tt(v,1);for(v=tt(v,2),g=tt(g,2);!J(v);){var f=x.add(v);0>=f.l(w)&&(b=b.add(g),x=f),v=tt(v,1),g=tt(g,1)}return p=tn(w,b.j(p)),new je(b,p)}for(b=Oe;0<=w.l(p);){for(g=Math.max(1,Math.floor(w.m()/p.m())),v=Math.ceil(Math.log(g)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),x=B(g),f=x.j(p);Ce(f)||0<f.l(w);)g-=v,x=B(g),f=x.j(p);J(x)&&(x=ce),b=b.add(x),w=tn(w,f)}return new je(b,w)}i.A=function(w){return vt(this,w).h},i.and=function(w){for(var p=Math.max(this.g.length,w.g.length),g=[],v=0;v<p;v++)g[v]=this.i(v)&w.i(v);return new _(g,this.h&w.h)},i.or=function(w){for(var p=Math.max(this.g.length,w.g.length),g=[],v=0;v<p;v++)g[v]=this.i(v)|w.i(v);return new _(g,this.h|w.h)},i.xor=function(w){for(var p=Math.max(this.g.length,w.g.length),g=[],v=0;v<p;v++)g[v]=this.i(v)^w.i(v);return new _(g,this.h^w.h)};function fi(w){for(var p=w.g.length+1,g=[],v=0;v<p;v++)g[v]=w.i(v)<<1|w.i(v-1)>>>31;return new _(g,w.h)}function tt(w,p){var g=p>>5;p%=32;for(var v=w.g.length-g,b=[],x=0;x<v;x++)b[x]=0<p?w.i(x+g)>>>p|w.i(x+g+1)<<32-p:w.i(x+g);return new _(b,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Lc=Uc.Md5=r,_.prototype.add=_.prototype.add,_.prototype.multiply=_.prototype.j,_.prototype.modulo=_.prototype.A,_.prototype.compare=_.prototype.l,_.prototype.toNumber=_.prototype.m,_.prototype.toString=_.prototype.toString,_.prototype.getBits=_.prototype.i,_.fromNumber=B,_.fromString=Ze,Xo=Uc.Integer=_}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});var mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yt={};var Bc,Dh,qc,zc,jc,$c,Gc,Kc,Wc;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(n,s,a){return n==Array.prototype||n==Object.prototype||(n[s]=a.value),n};function t(n){n=[typeof globalThis=="object"&&globalThis,n,typeof window=="object"&&window,typeof self=="object"&&self,typeof mr=="object"&&mr];for(var s=0;s<n.length;++s){var a=n[s];if(a&&a.Math==Math)return a}throw Error("Cannot find global object")}var r=t(this);function o(n,s){if(s)e:{var a=r;n=n.split(".");for(var h=0;h<n.length-1;h++){var C=n[h];if(!(C in a))break e;a=a[C]}n=n[n.length-1],h=a[n],s=s(h),s!=h&&s!=null&&e(a,n,{configurable:!0,writable:!0,value:s})}}function u(n,s){n instanceof String&&(n+="");var a=0,h=!1,C={next:function(){if(!h&&a<n.length){var S=a++;return{value:s(S,n[S]),done:!1}}return h=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}o("Array.prototype.values",function(n){return n||function(){return u(this,function(s,a){return a})}});var _=_||{},T=this||self;function V(n){var s=typeof n;return s=s!="object"?s:n?Array.isArray(n)?"array":s:"null",s=="array"||s=="object"&&typeof n.length=="number"}function B(n){var s=typeof n;return s=="object"&&n!=null||s=="function"}function Ze(n,s,a){return n.call.apply(n.bind,arguments)}function Oe(n,s,a){if(!n)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,h),n.apply(s,C)}}return function(){return n.apply(s,arguments)}}function ce(n,s,a){return ce=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ze:Oe,ce.apply(null,arguments)}function ze(n,s){var a=Array.prototype.slice.call(arguments,1);return function(){var h=a.slice();return h.push.apply(h,arguments),n.apply(this,h)}}function J(n,s){function a(){}a.prototype=s.prototype,n.aa=s.prototype,n.prototype=new a,n.prototype.constructor=n,n.Qb=function(h,C,S){for(var P=Array(arguments.length-2),X=2;X<arguments.length;X++)P[X-2]=arguments[X];return s.prototype[C].apply(h,P)}}function Ce(n){let s=n.length;if(0<s){let a=Array(s);for(let h=0;h<s;h++)a[h]=n[h];return a}return[]}function he(n,s){for(let a=1;a<arguments.length;a++){let h=arguments[a];if(V(h)){let C=n.length||0,S=h.length||0;n.length=C+S;for(let P=0;P<S;P++)n[C+P]=h[P]}else n.push(h)}}class tn{constructor(s,a){this.i=s,this.j=a,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}function et(n){return/^[\s\xa0]*$/.test(n)}function je(){var n=T.navigator;return n&&(n=n.userAgent)?n:""}function vt(n){return vt[" "](n),n}vt[" "]=function(){};var fi=je().indexOf("Gecko")!=-1&&!(je().toLowerCase().indexOf("webkit")!=-1&&je().indexOf("Edge")==-1)&&!(je().indexOf("Trident")!=-1||je().indexOf("MSIE")!=-1)&&je().indexOf("Edge")==-1;function tt(n,s,a){for(let h in n)s.call(a,n[h],h,n)}function w(n,s){for(let a in n)s.call(void 0,n[a],a,n)}function p(n){let s={};for(let a in n)s[a]=n[a];return s}let g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(n,s){let a,h;for(let C=1;C<arguments.length;C++){h=arguments[C];for(a in h)n[a]=h[a];for(let S=0;S<g.length;S++)a=g[S],Object.prototype.hasOwnProperty.call(h,a)&&(n[a]=h[a])}}function b(n){var s=1;n=n.split(":");let a=[];for(;0<s&&n.length;)a.push(n.shift()),s--;return n.length&&a.push(n.join(":")),a}function x(n){T.setTimeout(()=>{throw n},0)}function f(){var n=Wr;let s=null;return n.g&&(s=n.g,n.g=n.g.next,n.g||(n.h=null),s.next=null),s}class ut{constructor(){this.h=this.g=null}add(s,a){let h=Pn.get();h.set(s,a),this.h?this.h.next=h:this.g=h,this.h=h}}var Pn=new tn(()=>new dl,n=>n.reset());class dl{constructor(){this.next=this.g=this.h=null}set(s,a){this.h=s,this.g=a,this.next=null}reset(){this.next=this.g=this.h=null}}let Dn,Mn=!1,Wr=new ut,gs=()=>{let n=T.Promise.resolve(void 0);Dn=()=>{n.then(hl)}};var hl=()=>{for(var n;n=f();){try{n.h.call(n.g)}catch(a){x(a)}var s=Pn;s.j(n),100>s.h&&(s.h++,n.next=s.g,s.g=n)}Mn=!1};function bt(){this.s=this.s,this.C=this.C}bt.prototype.s=!1,bt.prototype.ma=function(){this.s||(this.s=!0,this.N())},bt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(n,s){this.type=n,this.g=this.target=s,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var pl=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var n=!1,s=Object.defineProperty({},"passive",{get:function(){n=!0}});try{let a=()=>{};T.addEventListener("test",a,s),T.removeEventListener("test",a,s)}catch{}return n}();function On(n,s){if(we.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var a=this.type=n.type,h=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=s,s=n.relatedTarget){if(fi){e:{try{vt(s.nodeName);var C=!0;break e}catch{}C=!1}C||(s=null)}}else a=="mouseover"?s=n.fromElement:a=="mouseout"&&(s=n.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:ml[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&On.aa.h.call(this)}}J(On,we);var ml={2:"touch",3:"pen",4:"mouse"};On.prototype.h=function(){On.aa.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Rn="closure_listenable_"+(1e6*Math.random()|0),fl=0;function gl(n,s,a,h,C){this.listener=n,this.proxy=null,this.src=s,this.type=a,this.capture=!!h,this.ha=C,this.key=++fl,this.da=this.fa=!1}function gi(n){n.da=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function _i(n){this.src=n,this.g={},this.h=0}_i.prototype.add=function(n,s,a,h,C){var S=n.toString();n=this.g[S],n||(n=this.g[S]=[],this.h++);var P=Qr(n,s,h,C);return-1<P?(s=n[P],a||(s.fa=!1)):(s=new gl(s,this.src,S,!!h,C),s.fa=a,n.push(s)),s};function Hr(n,s){var a=s.type;if(a in n.g){var h=n.g[a],C=Array.prototype.indexOf.call(h,s,void 0),S;(S=0<=C)&&Array.prototype.splice.call(h,C,1),S&&(gi(s),n.g[a].length==0&&(delete n.g[a],n.h--))}}function Qr(n,s,a,h){for(var C=0;C<n.length;++C){var S=n[C];if(!S.da&&S.listener==s&&S.capture==!!a&&S.ha==h)return C}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),Yr={};function _s(n,s,a,h,C){if(h&&h.once)return vs(n,s,a,h,C);if(Array.isArray(s)){for(var S=0;S<s.length;S++)_s(n,s[S],a,h,C);return null}return a=to(a),n&&n[Rn]?n.K(s,a,B(h)?!!h.capture:!!h,C):ys(n,s,a,!1,h,C)}function ys(n,s,a,h,C,S){if(!s)throw Error("Invalid event type");var P=B(C)?!!C.capture:!!C,X=Zr(n);if(X||(n[Jr]=X=new _i(n)),a=X.add(s,a,h,P,S),a.proxy)return a;if(h=_l(),a.proxy=h,h.src=n,h.listener=a,n.addEventListener)pl||(C=P),C===void 0&&(C=!1),n.addEventListener(s.toString(),h,C);else if(n.attachEvent)n.attachEvent(Cs(s.toString()),h);else if(n.addListener&&n.removeListener)n.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");return a}function _l(){function n(a){return s.call(n.src,n.listener,a)}let s=yl;return n}function vs(n,s,a,h,C){if(Array.isArray(s)){for(var S=0;S<s.length;S++)vs(n,s[S],a,h,C);return null}return a=to(a),n&&n[Rn]?n.L(s,a,B(h)?!!h.capture:!!h,C):ys(n,s,a,!0,h,C)}function bs(n,s,a,h,C){if(Array.isArray(s))for(var S=0;S<s.length;S++)bs(n,s[S],a,h,C);else h=B(h)?!!h.capture:!!h,a=to(a),n&&n[Rn]?(n=n.i,s=String(s).toString(),s in n.g&&(S=n.g[s],a=Qr(S,a,h,C),-1<a&&(gi(S[a]),Array.prototype.splice.call(S,a,1),S.length==0&&(delete n.g[s],n.h--)))):n&&(n=Zr(n))&&(s=n.g[s.toString()],n=-1,s&&(n=Qr(s,a,h,C)),(a=-1<n?s[n]:null)&&Xr(a))}function Xr(n){if(typeof n!="number"&&n&&!n.da){var s=n.src;if(s&&s[Rn])Hr(s.i,n);else{var a=n.type,h=n.proxy;s.removeEventListener?s.removeEventListener(a,h,n.capture):s.detachEvent?s.detachEvent(Cs(a),h):s.addListener&&s.removeListener&&s.removeListener(h),(a=Zr(s))?(Hr(a,n),a.h==0&&(a.src=null,s[Jr]=null)):gi(n)}}}function Cs(n){return n in Yr?Yr[n]:Yr[n]="on"+n}function yl(n,s){if(n.da)n=!0;else{s=new On(s,this);var a=n.listener,h=n.ha||n.src;n.fa&&Xr(n),n=a.call(h,s)}return n}function Zr(n){return n=n[Jr],n instanceof _i?n:null}var eo="__closure_events_fn_"+(1e9*Math.random()>>>0);function to(n){return typeof n=="function"?n:(n[eo]||(n[eo]=function(s){return n.handleEvent(s)}),n[eo])}function xe(){bt.call(this),this.i=new _i(this),this.M=this,this.F=null}J(xe,bt),xe.prototype[Rn]=!0,xe.prototype.removeEventListener=function(n,s,a,h){bs(this,n,s,a,h)};function Ae(n,s){var a,h=n.F;if(h)for(a=[];h;h=h.F)a.push(h);if(n=n.M,h=s.type||s,typeof s=="string")s=new we(s,n);else if(s instanceof we)s.target=s.target||n;else{var C=s;s=new we(h,n),v(s,C)}if(C=!0,a)for(var S=a.length-1;0<=S;S--){var P=s.g=a[S];C=yi(P,h,!0,s)&&C}if(P=s.g=n,C=yi(P,h,!0,s)&&C,C=yi(P,h,!1,s)&&C,a)for(S=0;S<a.length;S++)P=s.g=a[S],C=yi(P,h,!1,s)&&C}xe.prototype.N=function(){if(xe.aa.N.call(this),this.i){var n=this.i,s;for(s in n.g){for(var a=n.g[s],h=0;h<a.length;h++)gi(a[h]);delete n.g[s],n.h--}}this.F=null},xe.prototype.K=function(n,s,a,h){return this.i.add(String(n),s,!1,a,h)},xe.prototype.L=function(n,s,a,h){return this.i.add(String(n),s,!0,a,h)};function yi(n,s,a,h){if(s=n.i.g[String(s)],!s)return!0;s=s.concat();for(var C=!0,S=0;S<s.length;++S){var P=s[S];if(P&&!P.da&&P.capture==a){var X=P.listener,ve=P.ha||P.src;P.fa&&Hr(n.i,P),C=X.call(ve,h)!==!1&&C}}return C&&!h.defaultPrevented}function ws(n,s,a){if(typeof n=="function")a&&(n=ce(n,a));else if(n&&typeof n.handleEvent=="function")n=ce(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:T.setTimeout(n,s||0)}function xs(n){n.g=ws(()=>{n.g=null,n.i&&(n.i=!1,xs(n))},n.l);let s=n.h;n.h=null,n.m.apply(null,s)}class vl extends bt{constructor(s,a){super(),this.m=s,this.l=a,this.h=null,this.i=!1,this.g=null}j(s){this.h=arguments,this.g?this.i=!0:xs(this)}N(){super.N(),this.g&&(T.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vn(n){bt.call(this),this.h=n,this.g={}}J(Vn,bt);var Es=[];function Ss(n){tt(n.g,function(s,a){this.g.hasOwnProperty(a)&&Xr(s)},n),n.g={}}Vn.prototype.N=function(){Vn.aa.N.call(this),Ss(this)},Vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var no=T.JSON.stringify,bl=T.JSON.parse,Cl=class{stringify(n){return T.JSON.stringify(n,void 0)}parse(n){return T.JSON.parse(n,void 0)}};function io(){}io.prototype.h=null;function Is(n){return n.h||(n.h=n.i())}function Ts(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ro(){we.call(this,"d")}J(ro,we);function oo(){we.call(this,"c")}J(oo,we);var Ft={},As=null;function vi(){return As=As||new xe}Ft.La="serverreachability";function Ps(n){we.call(this,Ft.La,n)}J(Ps,we);function Nn(n){let s=vi();Ae(s,new Ps(s))}Ft.STAT_EVENT="statevent";function Ds(n,s){we.call(this,Ft.STAT_EVENT,n),this.stat=s}J(Ds,we);function Pe(n){let s=vi();Ae(s,new Ds(s,n))}Ft.Ma="timingevent";function Ms(n,s){we.call(this,Ft.Ma,n),this.size=s}J(Ms,we);function Fn(n,s){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return T.setTimeout(function(){n()},s)}function Un(){this.g=!0}Un.prototype.xa=function(){this.g=!1};function wl(n,s,a,h,C,S){n.info(function(){if(n.g)if(S)for(var P="",X=S.split("&"),ve=0;ve<X.length;ve++){var K=X[ve].split("=");if(1<K.length){var Ee=K[0];K=K[1];var Se=Ee.split("_");P=2<=Se.length&&Se[1]=="type"?P+(Ee+"="+K+"&"):P+(Ee+"=redacted&")}}else P=null;else P=S;return"XMLHTTP REQ ("+h+") [attempt "+C+"]: "+s+`
`+a+`
`+P})}function xl(n,s,a,h,C,S,P){n.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+C+"]: "+s+`
`+a+`
`+S+" "+P})}function nn(n,s,a,h){n.info(function(){return"XMLHTTP TEXT ("+s+"): "+Sl(n,a)+(h?" "+h:"")})}function El(n,s){n.info(function(){return"TIMEOUT: "+s})}Un.prototype.info=function(){};function Sl(n,s){if(!n.g)return s;if(!s)return null;try{var a=JSON.parse(s);if(a){for(n=0;n<a.length;n++)if(Array.isArray(a[n])){var h=a[n];if(!(2>h.length)){var C=h[1];if(Array.isArray(C)&&!(1>C.length)){var S=C[0];if(S!="noop"&&S!="stop"&&S!="close")for(var P=1;P<C.length;P++)C[P]=""}}}}return no(a)}catch{return s}}var bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Os={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},so;function Ci(){}J(Ci,io),Ci.prototype.g=function(){return new XMLHttpRequest},Ci.prototype.i=function(){return{}},so=new Ci;function Ct(n,s,a,h){this.j=n,this.i=s,this.l=a,this.R=h||1,this.U=new Vn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rs}function Rs(){this.i=null,this.g="",this.h=!1}var Vs={},ao={};function co(n,s,a){n.L=1,n.v=Si(dt(s)),n.m=a,n.P=!0,ks(n,null)}function ks(n,s){n.F=Date.now(),wi(n),n.A=dt(n.v);var a=n.A,h=n.R;Array.isArray(h)||(h=[String(h)]),Qs(a.i,"t",h),n.C=0,a=n.j.J,n.h=new Rs,n.g=pa(n.j,a?s:null,!n.m),0<n.O&&(n.M=new vl(ce(n.Y,n,n.g),n.O)),s=n.U,a=n.g,h=n.ca;var C="readystatechange";Array.isArray(C)||(C&&(Es[0]=C.toString()),C=Es);for(var S=0;S<C.length;S++){var P=_s(a,C[S],h||s.handleEvent,!1,s.h||s);if(!P)break;s.g[P.key]=P}s=n.H?p(n.H):{},n.m?(n.u||(n.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.m,s)):(n.u="GET",n.g.ea(n.A,n.u,null,s)),Nn(),wl(n.i,n.u,n.A,n.l,n.R,n.m)}Ct.prototype.ca=function(n){n=n.target;let s=this.M;s&&ht(n)==3?s.j():this.Y(n)},Ct.prototype.Y=function(n){try{if(n==this.g)e:{let Se=ht(this.g);var s=this.g.Ba();let sn=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||na(this.g)))){this.J||Se!=4||s==7||(s==8||0>=sn?Nn(3):Nn(2)),lo(this);var a=this.g.Z();this.X=a;t:if(Ns(this)){var h=na(this.g);n="";var C=h.length,S=ht(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),Ln(this);var P="";break t}this.h.i=new T.TextDecoder}for(s=0;s<C;s++)this.h.h=!0,n+=this.h.i.decode(h[s],{stream:!(S&&s==C-1)});h.length=0,this.h.g+=n,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=a==200,xl(this.i,this.u,this.A,this.l,this.R,Se,a),this.o){if(this.T&&!this.K){t:{if(this.g){var X,ve=this.g;if((X=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(X)){var K=X;break t}}K=null}if(a=K)nn(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uo(this,a);else{this.o=!1,this.s=3,Pe(12),Ut(this),Ln(this);break e}}if(this.P){a=!0;let He;for(;!this.J&&this.C<P.length;)if(He=Il(this,P),He==ao){Se==4&&(this.s=4,Pe(14),a=!1),nn(this.i,this.l,null,"[Incomplete Response]");break}else if(He==Vs){this.s=4,Pe(15),nn(this.i,this.l,P,"[Invalid Chunk]"),a=!1;break}else nn(this.i,this.l,He,null),uo(this,He);if(Ns(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||P.length!=0||this.h.h||(this.s=1,Pe(16),a=!1),this.o=this.o&&a,!a)nn(this.i,this.l,P,"[Invalid Chunked Response]"),Ut(this),Ln(this);else if(0<P.length&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.ba&&!Ee.M&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),_o(Ee),Ee.M=!0,Pe(11))}}else nn(this.i,this.l,P,null),uo(this,P);Se==4&&Ut(this),this.o&&!this.J&&(Se==4?la(this.j,this):(this.o=!1,wi(this)))}else jl(this.g),a==400&&0<P.indexOf("Unknown SID")?(this.s=3,Pe(12)):(this.s=0,Pe(13)),Ut(this),Ln(this)}}}catch{}finally{}};function Ns(n){return n.g?n.u=="GET"&&n.L!=2&&n.j.Ca:!1}function Il(n,s){var a=n.C,h=s.indexOf(`
`,a);return h==-1?ao:(a=Number(s.substring(a,h)),isNaN(a)?Vs:(h+=1,h+a>s.length?ao:(s=s.slice(h,h+a),n.C=h+a,s)))}Ct.prototype.cancel=function(){this.J=!0,Ut(this)};function wi(n){n.S=Date.now()+n.I,Fs(n,n.I)}function Fs(n,s){if(n.B!=null)throw Error("WatchDog timer not null");n.B=Fn(ce(n.ba,n),s)}function lo(n){n.B&&(T.clearTimeout(n.B),n.B=null)}Ct.prototype.ba=function(){this.B=null;let n=Date.now();0<=n-this.S?(El(this.i,this.A),this.L!=2&&(Nn(),Pe(17)),Ut(this),this.s=2,Ln(this)):Fs(this,this.S-n)};function Ln(n){n.j.G==0||n.J||la(n.j,n)}function Ut(n){lo(n);var s=n.M;s&&typeof s.ma=="function"&&s.ma(),n.M=null,Ss(n.U),n.g&&(s=n.g,n.g=null,s.abort(),s.ma())}function uo(n,s){try{var a=n.j;if(a.G!=0&&(a.g==n||ho(a.h,n))){if(!n.K&&ho(a.h,n)&&a.G==3){try{var h=a.Da.g.parse(s)}catch{h=null}if(Array.isArray(h)&&h.length==3){var C=h;if(C[0]==0){e:if(!a.u){if(a.g)if(a.g.F+3e3<n.F)Di(a),Ai(a);else break e;go(a),Pe(18)}}else a.za=C[1],0<a.za-a.T&&37500>C[2]&&a.F&&a.v==0&&!a.C&&(a.C=Fn(ce(a.Za,a),6e3));if(1>=Bs(a.h)&&a.ca){try{a.ca()}catch{}a.ca=void 0}}else Bt(a,11)}else if((n.K||a.g==n)&&Di(a),!et(s))for(C=a.Da.g.parse(s),s=0;s<C.length;s++){let K=C[s];if(a.T=K[0],K=K[1],a.G==2)if(K[0]=="c"){a.K=K[1],a.ia=K[2];let Ee=K[3];Ee!=null&&(a.la=Ee,a.j.info("VER="+a.la));let Se=K[4];Se!=null&&(a.Aa=Se,a.j.info("SVER="+a.Aa));let sn=K[5];sn!=null&&typeof sn=="number"&&0<sn&&(h=1.5*sn,a.L=h,a.j.info("backChannelRequestTimeoutMs_="+h)),h=a;let He=n.g;if(He){let Oi=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oi){var S=h.h;S.g||Oi.indexOf("spdy")==-1&&Oi.indexOf("quic")==-1&&Oi.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(po(S,S.h),S.h=null))}if(h.D){let yo=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;yo&&(h.ya=yo,oe(h.I,h.D,yo))}}a.G=3,a.l&&a.l.ua(),a.ba&&(a.R=Date.now()-n.F,a.j.info("Handshake RTT: "+a.R+"ms")),h=a;var P=n;if(h.qa=ha(h,h.J?h.ia:null,h.W),P.K){qs(h.h,P);var X=P,ve=h.L;ve&&(X.I=ve),X.B&&(lo(X),wi(X)),h.g=P}else aa(h);0<a.i.length&&Pi(a)}else K[0]!="stop"&&K[0]!="close"||Bt(a,7);else a.G==3&&(K[0]=="stop"||K[0]=="close"?K[0]=="stop"?Bt(a,7):fo(a):K[0]!="noop"&&a.l&&a.l.ta(K),a.v=0)}}Nn(4)}catch{}}var Tl=class{constructor(n,s){this.g=n,this.map=s}};function Us(n){this.l=n||10,T.PerformanceNavigationTiming?(n=T.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(T.chrome&&T.chrome.loadTimes&&T.chrome.loadTimes()&&T.chrome.loadTimes().wasFetchedViaSpdy),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ls(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function Bs(n){return n.h?1:n.g?n.g.size:0}function ho(n,s){return n.h?n.h==s:n.g?n.g.has(s):!1}function po(n,s){n.g?n.g.add(s):n.h=s}function qs(n,s){n.h&&n.h==s?n.h=null:n.g&&n.g.has(s)&&n.g.delete(s)}Us.prototype.cancel=function(){if(this.i=zs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let n of this.g.values())n.cancel();this.g.clear()}};function zs(n){if(n.h!=null)return n.i.concat(n.h.D);if(n.g!=null&&n.g.size!==0){let s=n.i;for(let a of n.g.values())s=s.concat(a.D);return s}return Ce(n.i)}function Al(n){if(n.V&&typeof n.V=="function")return n.V();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(V(n)){for(var s=[],a=n.length,h=0;h<a;h++)s.push(n[h]);return s}s=[],a=0;for(h in n)s[a++]=n[h];return s}function Pl(n){if(n.na&&typeof n.na=="function")return n.na();if(!n.V||typeof n.V!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(V(n)||typeof n=="string"){var s=[];n=n.length;for(var a=0;a<n;a++)s.push(a);return s}s=[],a=0;for(let h in n)s[a++]=h;return s}}}function js(n,s){if(n.forEach&&typeof n.forEach=="function")n.forEach(s,void 0);else if(V(n)||typeof n=="string")Array.prototype.forEach.call(n,s,void 0);else for(var a=Pl(n),h=Al(n),C=h.length,S=0;S<C;S++)s.call(void 0,h[S],a&&a[S],n)}var $s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Dl(n,s){if(n){n=n.split("&");for(var a=0;a<n.length;a++){var h=n[a].indexOf("="),C=null;if(0<=h){var S=n[a].substring(0,h);C=n[a].substring(h+1)}else S=n[a];s(S,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Lt(n){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,n instanceof Lt){this.h=n.h,xi(this,n.j),this.o=n.o,this.g=n.g,Ei(this,n.s),this.l=n.l;var s=n.i,a=new zn;a.i=s.i,s.g&&(a.g=new Map(s.g),a.h=s.h),Gs(this,a),this.m=n.m}else n&&(s=String(n).match($s))?(this.h=!1,xi(this,s[1]||"",!0),this.o=Bn(s[2]||""),this.g=Bn(s[3]||"",!0),Ei(this,s[4]),this.l=Bn(s[5]||"",!0),Gs(this,s[6]||"",!0),this.m=Bn(s[7]||"")):(this.h=!1,this.i=new zn(null,this.h))}Lt.prototype.toString=function(){var n=[],s=this.j;s&&n.push(qn(s,Ks,!0),":");var a=this.g;return(a||s=="file")&&(n.push("//"),(s=this.o)&&n.push(qn(s,Ks,!0),"@"),n.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a=this.s,a!=null&&n.push(":",String(a))),(a=this.l)&&(this.g&&a.charAt(0)!="/"&&n.push("/"),n.push(qn(a,a.charAt(0)=="/"?Rl:Ol,!0))),(a=this.i.toString())&&n.push("?",a),(a=this.m)&&n.push("#",qn(a,kl)),n.join("")};function dt(n){return new Lt(n)}function xi(n,s,a){n.j=a?Bn(s,!0):s,n.j&&(n.j=n.j.replace(/:$/,""))}function Ei(n,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);n.s=s}else n.s=null}function Gs(n,s,a){s instanceof zn?(n.i=s,Nl(n.i,n.h)):(a||(s=qn(s,Vl)),n.i=new zn(s,n.h))}function oe(n,s,a){n.i.set(s,a)}function Si(n){return oe(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Bn(n,s){return n?s?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function qn(n,s,a){return typeof n=="string"?(n=encodeURI(n).replace(s,Ml),a&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Ml(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var Ks=/[#\/\?@]/g,Ol=/[#\?:]/g,Rl=/[#\?]/g,Vl=/[#\?@]/g,kl=/#/g;function zn(n,s){this.h=this.g=null,this.i=n||null,this.j=!!s}function wt(n){n.g||(n.g=new Map,n.h=0,n.i&&Dl(n.i,function(s,a){n.add(decodeURIComponent(s.replace(/\+/g," ")),a)}))}i=zn.prototype,i.add=function(n,s){wt(this),this.i=null,n=rn(this,n);var a=this.g.get(n);return a||this.g.set(n,a=[]),a.push(s),this.h+=1,this};function Ws(n,s){wt(n),s=rn(n,s),n.g.has(s)&&(n.i=null,n.h-=n.g.get(s).length,n.g.delete(s))}function Hs(n,s){return wt(n),s=rn(n,s),n.g.has(s)}i.forEach=function(n,s){wt(this),this.g.forEach(function(a,h){a.forEach(function(C){n.call(s,C,h,this)},this)},this)},i.na=function(){wt(this);let n=Array.from(this.g.values()),s=Array.from(this.g.keys()),a=[];for(let h=0;h<s.length;h++){let C=n[h];for(let S=0;S<C.length;S++)a.push(s[h])}return a},i.V=function(n){wt(this);let s=[];if(typeof n=="string")Hs(this,n)&&(s=s.concat(this.g.get(rn(this,n))));else{n=Array.from(this.g.values());for(let a=0;a<n.length;a++)s=s.concat(n[a])}return s},i.set=function(n,s){return wt(this),this.i=null,n=rn(this,n),Hs(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[s]),this.h+=1,this},i.get=function(n,s){return n?(n=this.V(n),0<n.length?String(n[0]):s):s};function Qs(n,s,a){Ws(n,s),0<a.length&&(n.i=null,n.g.set(rn(n,s),Ce(a)),n.h+=a.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";let n=[],s=Array.from(this.g.keys());for(var a=0;a<s.length;a++){var h=s[a];let S=encodeURIComponent(String(h)),P=this.V(h);for(h=0;h<P.length;h++){var C=S;P[h]!==""&&(C+="="+encodeURIComponent(String(P[h]))),n.push(C)}}return this.i=n.join("&")};function rn(n,s){return s=String(s),n.j&&(s=s.toLowerCase()),s}function Nl(n,s){s&&!n.j&&(wt(n),n.i=null,n.g.forEach(function(a,h){var C=h.toLowerCase();h!=C&&(Ws(this,h),Qs(this,C,a))},n)),n.j=s}function Fl(n,s){let a=new Un;if(T.Image){let h=new Image;h.onload=ze(xt,a,"TestLoadImage: loaded",!0,s,h),h.onerror=ze(xt,a,"TestLoadImage: error",!1,s,h),h.onabort=ze(xt,a,"TestLoadImage: abort",!1,s,h),h.ontimeout=ze(xt,a,"TestLoadImage: timeout",!1,s,h),T.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=n}else s(!1)}function Ul(n,s){let a=new Un,h=new AbortController,C=setTimeout(()=>{h.abort(),xt(a,"TestPingServer: timeout",!1,s)},1e4);fetch(n,{signal:h.signal}).then(S=>{clearTimeout(C),S.ok?xt(a,"TestPingServer: ok",!0,s):xt(a,"TestPingServer: server error",!1,s)}).catch(()=>{clearTimeout(C),xt(a,"TestPingServer: error",!1,s)})}function xt(n,s,a,h,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),h(a)}catch{}}function Ll(){this.g=new Cl}function Bl(n,s,a){let h=a||"";try{js(n,function(C,S){let P=C;B(C)&&(P=no(C)),s.push(h+S+"="+encodeURIComponent(P))})}catch(C){throw s.push(h+"type="+encodeURIComponent("_badmap")),C}}function jn(n){this.l=n.Ub||null,this.j=n.eb||!1}J(jn,io),jn.prototype.g=function(){return new Ii(this.l,this.j)},jn.prototype.i=function(n){return function(){return n}}({});function Ii(n,s){xe.call(this),this.D=n,this.o=s,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}J(Ii,xe),i=Ii.prototype,i.open=function(n,s){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=n,this.A=s,this.readyState=1,Gn(this)},i.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let s={headers:this.u,method:this.B,credentials:this.m,cache:void 0};n&&(s.body=n),(this.D||T).fetch(new Request(this.A,s)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},i.Sa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof T.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Js(this)}else n.text().then(this.Ra.bind(this),this.ga.bind(this))};function Js(n){n.j.read().then(n.Pa.bind(n)).catch(n.ga.bind(n))}i.Pa=function(n){if(this.g){if(this.o&&n.value)this.response.push(n.value);else if(!this.o){var s=n.value?n.value:new Uint8Array(0);(s=this.v.decode(s,{stream:!n.done}))&&(this.response=this.responseText+=s)}n.done?$n(this):Gn(this),this.readyState==3&&Js(this)}},i.Ra=function(n){this.g&&(this.response=this.responseText=n,$n(this))},i.Qa=function(n){this.g&&(this.response=n,$n(this))},i.ga=function(){this.g&&$n(this)};function $n(n){n.readyState=4,n.l=null,n.j=null,n.v=null,Gn(n)}i.setRequestHeader=function(n,s){this.u.append(n,s)},i.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";let n=[],s=this.h.entries();for(var a=s.next();!a.done;)a=a.value,n.push(a[0]+": "+a[1]),a=s.next();return n.join(`\r
`)};function Gn(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});function Ys(n){let s="";return tt(n,function(a,h){s+=h,s+=":",s+=a,s+=`\r
`}),s}function mo(n,s,a){e:{for(h in a){var h=!1;break e}h=!0}h||(a=Ys(a),typeof n=="string"?a!=null&&encodeURIComponent(String(a)):oe(n,s,a))}function le(n){xe.call(this),this.headers=new Map,this.o=n||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}J(le,xe);var ql=/^https?$/i,zl=["POST","PUT"];i=le.prototype,i.Ha=function(n){this.J=n},i.ea=function(n,s,a,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+n);s=s?s.toUpperCase():"GET",this.D=n,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():so.g(),this.v=this.o?Is(this.o):Is(so),this.g.onreadystatechange=ce(this.Ea,this);try{this.B=!0,this.g.open(s,String(n),!0),this.B=!1}catch(S){Xs(this,S);return}if(n=a||"",a=new Map(this.headers),h)if(Object.getPrototypeOf(h)===Object.prototype)for(var C in h)a.set(C,h[C]);else if(typeof h.keys=="function"&&typeof h.get=="function")for(let S of h.keys())a.set(S,h.get(S));else throw Error("Unknown input type for opt_headers: "+String(h));h=Array.from(a.keys()).find(S=>S.toLowerCase()=="content-type"),C=T.FormData&&n instanceof T.FormData,!(0<=Array.prototype.indexOf.call(zl,s,void 0))||h||C||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,P]of a)this.g.setRequestHeader(S,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ta(this),this.u=!0,this.g.send(n),this.u=!1}catch(S){Xs(this,S)}};function Xs(n,s){n.h=!1,n.g&&(n.j=!0,n.g.abort(),n.j=!1),n.l=s,n.m=5,Zs(n),Ti(n)}function Zs(n){n.A||(n.A=!0,Ae(n,"complete"),Ae(n,"error"))}i.abort=function(n){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=n||7,Ae(this,"complete"),Ae(this,"abort"),Ti(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),le.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ea(this):this.bb())},i.bb=function(){ea(this)};function ea(n){if(n.h&&typeof _<"u"&&(!n.v[1]||ht(n)!=4||n.Z()!=2)){if(n.u&&ht(n)==4)ws(n.Ea,0,n);else if(Ae(n,"readystatechange"),ht(n)==4){n.h=!1;try{let P=n.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break e;default:s=!1}var a;if(!(a=s)){var h;if(h=P===0){var C=String(n.D).match($s)[1]||null;!C&&T.self&&T.self.location&&(C=T.self.location.protocol.slice(0,-1)),h=!ql.test(C?C.toLowerCase():"")}a=h}if(a)Ae(n,"complete"),Ae(n,"success");else{n.m=6;try{var S=2<ht(n)?n.g.statusText:""}catch{S=""}n.l=S+" ["+n.Z()+"]",Zs(n)}}finally{Ti(n)}}}}function Ti(n,s){if(n.g){ta(n);let a=n.g,h=n.v[0]?()=>{}:null;n.g=null,n.v=null,s||Ae(n,"ready");try{a.onreadystatechange=h}catch{}}}function ta(n){n.I&&(T.clearTimeout(n.I),n.I=null)}i.isActive=function(){return!!this.g};function ht(n){return n.g?n.g.readyState:0}i.Z=function(){try{return 2<ht(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(n){if(this.g){var s=this.g.responseText;return n&&s.indexOf(n)==0&&(s=s.substring(n.length)),bl(s)}};function na(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.H){case"":case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function jl(n){let s={};n=(n.g&&2<=ht(n)&&n.g.getAllResponseHeaders()||"").split(`\r
`);for(let h=0;h<n.length;h++){if(et(n[h]))continue;var a=b(n[h]);let C=a[0];if(a=a[1],typeof a!="string")continue;a=a.trim();let S=s[C]||[];s[C]=S,S.push(a)}w(s,function(h){return h.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kn(n,s,a){return a&&a.internalChannelParams&&a.internalChannelParams[n]||s}function ia(n){this.Aa=0,this.i=[],this.j=new Un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kn("failFast",!1,n),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kn("baseRetryDelayMs",5e3,n),this.cb=Kn("retryDelaySeedMs",1e4,n),this.Wa=Kn("forwardChannelMaxRetries",2,n),this.wa=Kn("forwardChannelRequestTimeoutMs",2e4,n),this.pa=n&&n.xmlHttpFactory||void 0,this.Xa=n&&n.Tb||void 0,this.Ca=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.h=new Us(n&&n.concurrentRequestLimit),this.Da=new Ll,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=n&&n.Rb||!1,n&&n.xa&&this.j.xa(),n&&n.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&n&&n.detectBufferingProxy||!1,this.ja=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.ja=n.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ia.prototype,i.la=8,i.G=1,i.connect=function(n,s,a,h){Pe(0),this.W=n,this.H=s||{},a&&h!==void 0&&(this.H.OSID=a,this.H.OAID=h),this.F=this.X,this.I=ha(this,null,this.W),Pi(this)};function fo(n){if(ra(n),n.G==3){var s=n.U++,a=dt(n.I);if(oe(a,"SID",n.K),oe(a,"RID",s),oe(a,"TYPE","terminate"),Wn(n,a),s=new Ct(n,n.j,s),s.L=2,s.v=Si(dt(a)),a=!1,T.navigator&&T.navigator.sendBeacon)try{a=T.navigator.sendBeacon(s.v.toString(),"")}catch{}!a&&T.Image&&(new Image().src=s.v,a=!0),a||(s.g=pa(s.j,null),s.g.ea(s.v)),s.F=Date.now(),wi(s)}da(n)}function Ai(n){n.g&&(_o(n),n.g.cancel(),n.g=null)}function ra(n){Ai(n),n.u&&(T.clearTimeout(n.u),n.u=null),Di(n),n.h.cancel(),n.s&&(typeof n.s=="number"&&T.clearTimeout(n.s),n.s=null)}function Pi(n){if(!Ls(n.h)&&!n.s){n.s=!0;var s=n.Ga;Dn||gs(),Mn||(Dn(),Mn=!0),Wr.add(s,n),n.B=0}}function $l(n,s){return Bs(n.h)>=n.h.j-(n.s?1:0)?!1:n.s?(n.i=s.D.concat(n.i),!0):n.G==1||n.G==2||n.B>=(n.Va?0:n.Wa)?!1:(n.s=Fn(ce(n.Ga,n,s),ua(n,n.B)),n.B++,!0)}i.Ga=function(n){if(this.s)if(this.s=null,this.G==1){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;let C=new Ct(this,this.j,n),S=this.o;if(this.S&&(S?(S=p(S),v(S,this.S)):S=this.S),this.m!==null||this.O||(C.H=S,S=null),this.P)e:{for(var s=0,a=0;a<this.i.length;a++){t:{var h=this.i[a];if("__data__"in h.map&&(h=h.map.__data__,typeof h=="string")){h=h.length;break t}h=void 0}if(h===void 0)break;if(s+=h,4096<s){s=a;break e}if(s===4096||a===this.i.length-1){s=a+1;break e}}s=1e3}else s=1e3;s=sa(this,C,s),a=dt(this.I),oe(a,"RID",n),oe(a,"CVER",22),this.D&&oe(a,"X-HTTP-Session-Id",this.D),Wn(this,a),S&&(this.O?s="headers="+encodeURIComponent(String(Ys(S)))+"&"+s:this.m&&mo(a,this.m,S)),po(this.h,C),this.Ua&&oe(a,"TYPE","init"),this.P?(oe(a,"$req",s),oe(a,"SID","null"),C.T=!0,co(C,a,null)):co(C,a,s),this.G=2}}else this.G==3&&(n?oa(this,n):this.i.length==0||Ls(this.h)||oa(this))};function oa(n,s){var a;s?a=s.l:a=n.U++;let h=dt(n.I);oe(h,"SID",n.K),oe(h,"RID",a),oe(h,"AID",n.T),Wn(n,h),n.m&&n.o&&mo(h,n.m,n.o),a=new Ct(n,n.j,a,n.B+1),n.m===null&&(a.H=n.o),s&&(n.i=s.D.concat(n.i)),s=sa(n,a,1e3),a.I=Math.round(.5*n.wa)+Math.round(.5*n.wa*Math.random()),po(n.h,a),co(a,h,s)}function Wn(n,s){n.H&&tt(n.H,function(a,h){oe(s,h,a)}),n.l&&js({},function(a,h){oe(s,h,a)})}function sa(n,s,a){a=Math.min(n.i.length,a);var h=n.l?ce(n.l.Na,n.l,n):null;e:{var C=n.i;let S=-1;for(;;){let P=["count="+a];S==-1?0<a?(S=C[0].g,P.push("ofs="+S)):S=0:P.push("ofs="+S);let X=!0;for(let ve=0;ve<a;ve++){let K=C[ve].g,Ee=C[ve].map;if(K-=S,0>K)S=Math.max(0,C[ve].g-100),X=!1;else try{Bl(Ee,P,"req"+K+"_")}catch{h&&h(Ee)}}if(X){h=P.join("&");break e}}}return n=n.i.splice(0,a),s.D=n,h}function aa(n){if(!n.g&&!n.u){n.Y=1;var s=n.Fa;Dn||gs(),Mn||(Dn(),Mn=!0),Wr.add(s,n),n.v=0}}function go(n){return n.g||n.u||3<=n.v?!1:(n.Y++,n.u=Fn(ce(n.Fa,n),ua(n,n.v)),n.v++,!0)}i.Fa=function(){if(this.u=null,ca(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var n=2*this.R;this.j.info("BP detection timer enabled: "+n),this.A=Fn(ce(this.ab,this),n)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pe(10),Ai(this),ca(this))};function _o(n){n.A!=null&&(T.clearTimeout(n.A),n.A=null)}function ca(n){n.g=new Ct(n,n.j,"rpc",n.Y),n.m===null&&(n.g.H=n.o),n.g.O=0;var s=dt(n.qa);oe(s,"RID","rpc"),oe(s,"SID",n.K),oe(s,"AID",n.T),oe(s,"CI",n.F?"0":"1"),!n.F&&n.ja&&oe(s,"TO",n.ja),oe(s,"TYPE","xmlhttp"),Wn(n,s),n.m&&n.o&&mo(s,n.m,n.o),n.L&&(n.g.I=n.L);var a=n.g;n=n.ia,a.L=1,a.v=Si(dt(s)),a.m=null,a.P=!0,ks(a,n)}i.Za=function(){this.C!=null&&(this.C=null,Ai(this),go(this),Pe(19))};function Di(n){n.C!=null&&(T.clearTimeout(n.C),n.C=null)}function la(n,s){var a=null;if(n.g==s){Di(n),_o(n),n.g=null;var h=2}else if(ho(n.h,s))a=s.D,qs(n.h,s),h=1;else return;if(n.G!=0){if(s.o)if(h==1){a=s.m?s.m.length:0,s=Date.now()-s.F;var C=n.B;h=vi(),Ae(h,new Ms(h,a)),Pi(n)}else aa(n);else if(C=s.s,C==3||C==0&&0<s.X||!(h==1&&$l(n,s)||h==2&&go(n)))switch(a&&0<a.length&&(s=n.h,s.i=s.i.concat(a)),C){case 1:Bt(n,5);break;case 4:Bt(n,10);break;case 3:Bt(n,6);break;default:Bt(n,2)}}}function ua(n,s){let a=n.Ta+Math.floor(Math.random()*n.cb);return n.isActive()||(a*=2),a*s}function Bt(n,s){if(n.j.info("Error code "+s),s==2){var a=ce(n.fb,n),h=n.Xa;let C=!h;h=new Lt(h||"//www.google.com/images/cleardot.gif"),T.location&&T.location.protocol=="http"||xi(h,"https"),Si(h),C?Fl(h.toString(),a):Ul(h.toString(),a)}else Pe(2);n.G=0,n.l&&n.l.sa(s),da(n),ra(n)}i.fb=function(n){n?(this.j.info("Successfully pinged google.com"),Pe(2)):(this.j.info("Failed to ping google.com"),Pe(1))};function da(n){if(n.G=0,n.ka=[],n.l){let s=zs(n.h);(s.length!=0||n.i.length!=0)&&(he(n.ka,s),he(n.ka,n.i),n.h.i.length=0,Ce(n.i),n.i.length=0),n.l.ra()}}function ha(n,s,a){var h=a instanceof Lt?dt(a):new Lt(a);if(h.g!="")s&&(h.g=s+"."+h.g),Ei(h,h.s);else{var C=T.location;h=C.protocol,s=s?s+"."+C.hostname:C.hostname,C=+C.port;var S=new Lt(null);h&&xi(S,h),s&&(S.g=s),C&&Ei(S,C),a&&(S.l=a),h=S}return a=n.D,s=n.ya,a&&s&&oe(h,a,s),oe(h,"VER",n.la),Wn(n,h),h}function pa(n,s,a){if(s&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return s=n.Ca&&!n.pa?new le(new jn({eb:a})):new le(n.pa),s.Ha(n.J),s}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ma(){}i=ma.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Mi(){}Mi.prototype.g=function(n,s){return new Ue(n,s)};function Ue(n,s){xe.call(this),this.g=new ia(s),this.l=n,this.h=s&&s.messageUrlParams||null,n=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.o=n,n=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(n?n["X-WebChannel-Content-Type"]=s.messageContentType:n={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.va&&(n?n["X-WebChannel-Client-Profile"]=s.va:n={"X-WebChannel-Client-Profile":s.va}),this.g.S=n,(n=s&&s.Sb)&&!et(n)&&(this.g.m=n),this.v=s&&s.supportsCrossDomainXhr||!1,this.u=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!et(s)&&(this.g.D=s,n=this.h,n!==null&&s in n&&(n=this.h,s in n&&delete n[s])),this.j=new on(this)}J(Ue,xe),Ue.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ue.prototype.close=function(){fo(this.g)},Ue.prototype.o=function(n){var s=this.g;if(typeof n=="string"){var a={};a.__data__=n,n=a}else this.u&&(a={},a.__data__=no(n),n=a);s.i.push(new Tl(s.Ya++,n)),s.G==3&&Pi(s)},Ue.prototype.N=function(){this.g.l=null,delete this.j,fo(this.g),delete this.g,Ue.aa.N.call(this)};function fa(n){ro.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var s=n.__sm__;if(s){e:{for(let a in s){n=a;break e}n=void 0}(this.i=n)&&(n=this.i,s=s!==null&&n in s?s[n]:void 0),this.data=s}else this.data=n}J(fa,ro);function ga(){oo.call(this),this.status=1}J(ga,oo);function on(n){this.g=n}J(on,ma),on.prototype.ua=function(){Ae(this.g,"a")},on.prototype.ta=function(n){Ae(this.g,new fa(n))},on.prototype.sa=function(n){Ae(this.g,new ga)},on.prototype.ra=function(){Ae(this.g,"b")},Mi.prototype.createWebChannel=Mi.prototype.g,Ue.prototype.send=Ue.prototype.o,Ue.prototype.open=Ue.prototype.m,Ue.prototype.close=Ue.prototype.close,Wc=yt.createWebChannelTransport=function(){return new Mi},Kc=yt.getStatEventTarget=function(){return vi()},Gc=yt.Event=Ft,$c=yt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bi.NO_ERROR=0,bi.TIMEOUT=8,bi.HTTP_ERROR=6,jc=yt.ErrorCode=bi,Os.COMPLETE="complete",zc=yt.EventType=Os,Ts.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",xe.prototype.listen=xe.prototype.K,qc=yt.WebChannel=Ts,Dh=yt.FetchXmlHttpFactory=jn,le.prototype.listenOnce=le.prototype.L,le.prototype.getLastError=le.prototype.Ka,le.prototype.getLastErrorCode=le.prototype.Ba,le.prototype.getStatus=le.prototype.Z,le.prototype.getResponseJson=le.prototype.Oa,le.prototype.getResponseText=le.prototype.oa,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Ha,Bc=yt.XhrIo=le}).apply(typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{});var Hc="@firebase/firestore";var Me=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Me.UNAUTHENTICATED=new Me(null),Me.GOOGLE_CREDENTIALS=new Me("google-credentials-uid"),Me.FIRST_PARTY=new Me("first-party-uid"),Me.MOCK_USER=new Me("mock-user");var xr="11.0.0";var fr=new xn("@firebase/firestore");function Xe(i,...e){if(fr.logLevel<=ne.DEBUG){let t=e.map(el);fr.debug(`Firestore (${xr}): ${i}`,...t)}}function Zc(i,...e){if(fr.logLevel<=ne.ERROR){let t=e.map(el);fr.error(`Firestore (${xr}): ${i}`,...t)}}function el(i){if(typeof i=="string")return i;try{return function(t){return JSON.stringify(t)}(i)}catch{return i}}function qe(i="Unexpected state"){let e=`FIRESTORE (${xr}) INTERNAL ASSERTION FAILED: `+i;throw Zc(e),new Error(e)}function Xt(i,e){i||qe()}var Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ye=class extends gt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Zt=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var es=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ts=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Me.UNAUTHENTICATED))}shutdown(){}};var ns=class{constructor(e){this.t=e,this.currentUser=Me.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xt(this.o===void 0);let r=this.i,o=V=>this.i!==r?(r=this.i,t(V)):Promise.resolve(),u=new Zt;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zt,e.enqueueRetryable(()=>o(this.currentUser))};let _=()=>{let V=u;e.enqueueRetryable(()=>ae(this,null,function*(){yield V.promise,yield o(this.currentUser)}))},T=V=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=V,this.o&&(this.auth.addAuthTokenListener(this.o),_())};this.t.onInit(V=>T(V)),setTimeout(()=>{if(!this.auth){let V=this.t.getImmediate({optional:!0});V?T(V):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zt)}},0),_()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xt(typeof r.accessToken=="string"),new es(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string"),new Me(e)}},is=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Me.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},rs=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new is(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Me.FIRST_PARTY))}shutdown(){}invalidateToken(){}},os=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ss=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Xt(this.o===void 0);let r=u=>{u.error!=null&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);let _=u.token!==this.R;return this.R=u.token,Xe("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};let o=u=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){let u=this.A.getImmediate({optional:!0});u?o(u):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Xt(typeof t.token=="string"),this.R=t.token,new os(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function gr(i,e){return i<e?-1:i>e?1:0}var _r=class i{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return i.fromMillis(Date.now())}static fromDate(e){return i.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new i(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gr(this.nanoseconds,e.nanoseconds):gr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var as=class i{constructor(e,t,r){t===void 0?t=0:t>e.length&&qe(),r===void 0?r=e.length-t:r>e.length-t&&qe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return i.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof i?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let o=0;o<r;o++){let u=e.get(o),_=t.get(o);if(u<_)return-1;if(u>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Nt=class i extends as{construct(e,t,r){return new i(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new ye(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new i(t)}static emptyPath(){return new i([])}};var en=class i{constructor(e){this.path=e}static fromPath(e){return new i(Nt.fromString(e))}static fromName(e){return new i(Nt.fromString(e).popFirst(5))}static empty(){return new i(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new i(new Nt(e.slice()))}};var cs=class{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}};cs.UNKNOWN_ID=-1;function Mh(i){return i.name==="IndexedDbTransactionError"}function Oh(i){return i===0&&1/i==-1/0}var Rh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],U0=[...Rh,"documentOverlays"],Vh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kh=Vh,Nh=[...kh,"indexConfiguration","indexState","indexEntries"];var L0=[...Nh,"globals"];var In=class i{constructor(e,t){this.comparator=e,this.root=t||lt.EMPTY}insert(e,t){return new i(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lt.BLACK,null,null))}remove(e){return new i(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sn(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sn(this.root,e,this.comparator,!0)}},Sn=class{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},lt=class i{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??i.RED,this.left=o??i.EMPTY,this.right=u??i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new i(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this,u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return i.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();let e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}};lt.EMPTY=null,lt.RED=!0,lt.BLACK=!1;lt.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(e,t,r,o,u){return this}insert(e,t,r){return new lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yr=class i{constructor(e){this.comparator=e,this.data=new In(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vr(this.data.getIterator())}getIteratorFrom(e){return new vr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof i)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let o=t.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new i(this.comparator);return t.data=e,t}},vr=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ls=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Tn=class i{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ls("Invalid base64 string: "+u):u}}(e);return new i(t)}static fromUint8Array(e){let t=function(o){let u="";for(let _=0;_<o.length;++_)u+=String.fromCharCode(o[_]);return u}(e);return new i(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tn.EMPTY_BYTE_STRING=new Tn("");var Fh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uh(i){if(Xt(!!i),typeof i=="string"){let e=0,t=Fh.exec(i);if(Xt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}let r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hi(i.seconds),nanos:hi(i.nanos)}}function hi(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Lh(i){return typeof i=="string"?Tn.fromBase64String(i):Tn.fromUint8Array(i)}var us=class i{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new i("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof i&&e.projectId===this.projectId&&e.database===this.database}};function Bh(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function qh(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var q0=new In(en.comparator);var z0=new In(en.comparator);var j0=new In(en.comparator),$0=new yr(en.comparator);var G0=new yr(gr);var Qc,G;(G=Qc||(Qc={}))[G.OK=0]="OK",G[G.CANCELLED=1]="CANCELLED",G[G.UNKNOWN=2]="UNKNOWN",G[G.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",G[G.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",G[G.NOT_FOUND=5]="NOT_FOUND",G[G.ALREADY_EXISTS=6]="ALREADY_EXISTS",G[G.PERMISSION_DENIED=7]="PERMISSION_DENIED",G[G.UNAUTHENTICATED=16]="UNAUTHENTICATED",G[G.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",G[G.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",G[G.ABORTED=10]="ABORTED",G[G.OUT_OF_RANGE=11]="OUT_OF_RANGE",G[G.UNIMPLEMENTED=12]="UNIMPLEMENTED",G[G.INTERNAL=13]="INTERNAL",G[G.UNAVAILABLE=14]="UNAVAILABLE",G[G.DATA_LOSS=15]="DATA_LOSS";var K0=new Xo([4294967295,4294967295],0);var br=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(hi(e.integerValue));else if("doubleValue"in e){let r=hi(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Oh(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Uh(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Lh(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?qh(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Bh(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):qe()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let o of Object.keys(r))this.Vt(o,t),this.Tt(r[o],t)}wt(e,t){var r,o;let u=e.fields||{};this.dt(t,53);let _="value",T=((o=(r=u[_].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.length)||0;this.dt(t,15),t.At(hi(T)),this.Vt(_,t),this.Tt(u[_],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let o of r)this.Tt(o,t)}yt(e,t){this.dt(t,37),en.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};br.vt=new br;var W0=new Uint8Array(0);var ct=class i{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new i(e,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ct.DEFAULT_COLLECTION_PERCENTILE=10,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ct.DEFAULT=new ct(41943040,ct.DEFAULT_COLLECTION_PERCENTILE,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ct.DISABLED=new ct(-1,0,0);function Zo(){return typeof document<"u"?document:null}var ds=class{constructor(e,t,r=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-r);o>0&&Xe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var hs=class i{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Zt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,u){let _=Date.now()+r,T=new i(e,t,_,o,u);return T.start(r),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var Jc,Yc;(Yc=Jc||(Jc={})).ea="default",Yc.Cache="cache";function zh(i){let e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}var Xc=new Map;function jh(i,e,t,r){if(e===!0&&r===!0)throw new ye(Te.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}var Cr=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zh((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ps=class{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cr({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cr(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ts;switch(r.type){case"firstParty":return new rs(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return ae(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=Xc.get(t);r&&(Xe("ComponentProvider","Removing Datastore"),Xc.delete(t),r.terminate())}(this),Promise.resolve()}};var wr=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ds(this,"async_queue_retry"),this.Vu=()=>{let r=Zo();r&&Xe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=Zo();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Zo();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Zt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return ae(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Mh(e))throw e;Xe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let o=function(_){let T=_.message||"";return _.stack&&(T=_.stack.includes(_.message)?_.stack:_.message+`
`+_.stack),T}(r);throw Zc("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let o=hs.createAndSchedule(this,e,t,r,u=>this.yu(u));return this.Tu.push(o),o}fu(){this.Eu&&qe()}verifyOperationInProgress(){}wu(){return ae(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var ms=class extends ps{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new wr,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return ae(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new wr(e),this._firestoreClient=void 0,yield e}})}};var H0=new RegExp("[~\\*/\\[\\]]");(function(e,t=!0){(function(o){xr=o})(Vc),ui(new kt("firestore",(r,{instanceIdentifier:o,options:u})=>{let _=r.getProvider("app").getImmediate(),T=new ms(new ns(r.getProvider("auth-internal")),new ss(r.getProvider("app-check-internal")),function(B,Ze){if(!Object.prototype.hasOwnProperty.apply(B.options,["projectId"]))throw new ye(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new us(B.options.projectId,Ze)}(_,o),_);return u=Object.assign({useFetchStreams:t},u),T._setSettings(u),T},"PUBLIC").setMultipleInstances(!0)),En(Hc,"4.7.4",e),En(Hc,"4.7.4","esm2017")})();var $h=(i,e)=>({"rejected-bg":i,"accepted-bg":e});function Gh(i,e){if(i&1&&(l(0,"p")(1,"strong"),d(2,"Adres\u0103:"),c(),d(3),c()),i&2){let t=E();m(3),F(" ",t.request.senderContactInfo==null?null:t.request.senderContactInfo.address," ")}}function Kh(i,e){if(i&1&&(l(0,"p")(1,"strong"),d(2,"Telefon:"),c(),d(3),c()),i&2){let t=E();m(3),F(" ",t.request.senderContactInfo==null?null:t.request.senderContactInfo.phoneNumber," ")}}function Wh(i,e){i&1&&(l(0,"p",5),d(1,"\xCEn a\u0219teptare..."),c())}function Hh(i,e){if(i&1){let t=N();l(0,"div",6)(1,"button",7),I("click",function(){M(t);let o=E(2);return O(o.acceptRequest())}),d(2," Accept\u0103 "),c(),l(3,"button",8),I("click",function(){M(t);let o=E(2);return O(o.rejectRequest())}),d(4," Respinge "),c()()}}function Qh(i,e){if(i&1&&(l(0,"div"),D(1,Wh,2,0,"p",4)(2,Hh,5,0,"div",3),c()),i&2){let t=E();m(),y("ngIf",t.userRole==="Client"),m(),y("ngIf",t.userRole==="Specialist")}}function Jh(i,e){if(i&1){let t=N();l(0,"div",6)(1,"button",9),I("click",function(){M(t);let o=E();return O(o.triggerOffer())}),d(2,"F\u0103 o ofert\u0103"),c()()}}var Er=class i{constructor(e,t){this.authService=e;this.requestService=t}request={id:"",senderId:"",requestedStartDate:new Date,description:"",status:"Pending",senderContactInfo:{phoneNumber:"",address:""}};userRole="";requestAccepted=new j;requestRejected=new j;makeOffer=new j;ngOnInit(){this.userRole=this.authService.getUserRole(),console.log(this.request)}acceptRequest(){this.requestAccepted.emit(this.request.id)}rejectRequest(){this.requestRejected.emit(this.request.id)}showOfferButton(){return this.request.status==="Accepted"&&this.userRole==="Specialist"}triggerOffer(){this.makeOffer.emit(this.request.id)}static \u0275fac=function(t){return new(t||i)(A(q),A(Ot))};static \u0275cmp=R({type:i,selectors:[["app-request-message"]],inputs:{request:"request"},outputs:{requestAccepted:"requestAccepted",requestRejected:"requestRejected",makeOffer:"makeOffer"},decls:17,vars:13,consts:[[1,"request-wrapper"],[1,"request-summary",3,"ngClass"],[4,"ngIf"],["class","action-buttons",4,"ngIf"],["class","status-button",4,"ngIf"],[1,"status-button"],[1,"action-buttons"],[1,"accept-btn",3,"click"],[1,"reject-btn",3,"click"],[1,"offer-btn",3,"click"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"h3"),d(3,"Solicitare"),c(),l(4,"p")(5,"strong"),d(6,"Data \u0219i ora:"),c(),d(7),$(8,"date"),c(),l(9,"p")(10,"strong"),d(11,"Descriere:"),c(),d(12),c(),D(13,Gh,4,1,"p",2)(14,Kh,4,1,"p",2)(15,Qh,3,2,"div",2)(16,Jh,3,0,"div",3),c()()),t&2&&(m(),y("ngClass",Kt(10,$h,r.request.status==="Rejected",r.request.status==="Accepted"||r.request.status==="Completed")),m(6),F(" ",Ge(8,7,r.request.requestedStartDate,"short"),""),m(5),F(" ",r.request.description,""),m(),y("ngIf",r.request.senderContactInfo==null?null:r.request.senderContactInfo.address),m(),y("ngIf",r.request.senderContactInfo==null?null:r.request.senderContactInfo.phoneNumber),m(),y("ngIf",r.request.status==="Pending"),m(),y("ngIf",r.showOfferButton()))},dependencies:[nt,Q,Ke],styles:['@charset "UTF-8";.request-summary[_ngcontent-%COMP%]{max-width:300px;margin:8px auto;padding:12px;border:2px solid black;background-color:#f8faff;font-size:.8rem;line-height:1.4;border-radius:6px;font-family:Roboto Mono,monospace}.request-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}.request-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-size:1rem;text-align:center}.request-status[_ngcontent-%COMP%]{display:inline-block;margin-top:.5rem;padding:.25rem .5rem;font-weight:700;border-radius:4px}.status-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.status-pending[_ngcontent-%COMP%]{background-color:#fff5c4;color:#856404}.status-accepted[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.status-rejected[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.accepted-bg[_ngcontent-%COMP%]{background-color:#d4edda;border:4px solid #155724}.rejected-bg[_ngcontent-%COMP%]{background-color:#f8d7da;border:4px solid #721c24}.action-buttons[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:10px;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out;font-family:Roboto Mono,monospace}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background-color:#9bc2a3;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]:hover{background-color:#be8a90;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .offer-btn[_ngcontent-%COMP%]{background-color:#d4e2ed;color:#001b3f}.action-buttons[_ngcontent-%COMP%]   .offer-btn[_ngcontent-%COMP%]:hover{background-color:#78a2c4;box-shadow:0 2px 6px #0003}']})};var Yh=(i,e)=>({"bubble-left":i,"bubble-right":e}),Xh=(i,e)=>({left:i,right:e}),Sr=class i{message;currentUserId;get isOwnMessage(){return this.message.senderId===this.currentUserId}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=R({type:i,selectors:[["app-message-bubble"]],inputs:{message:"message",currentUserId:"currentUserId"},decls:6,vars:13,consts:[[1,"bubble",3,"ngClass"],[1,"bubble-content",3,"ngClass"],[1,"timestamp"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1),d(2),l(3,"div",2),d(4),$(5,"date"),c()()()),t&2&&(y("ngClass",Kt(7,Yh,!r.isOwnMessage,r.isOwnMessage)),m(),y("ngClass",Kt(10,Xh,!r.isOwnMessage,r.isOwnMessage)),m(),F(" ",r.message.content," "),m(2),re(Ge(5,4,r.message.createdAt,"shortTime")))},dependencies:[nt,Ke],styles:[".bubble[_ngcontent-%COMP%]{display:flex;width:100%;margin:8px 0}.bubble-left[_ngcontent-%COMP%]{justify-content:flex-start}.bubble-right[_ngcontent-%COMP%]{justify-content:flex-end}.bubble-content[_ngcontent-%COMP%]{display:inline-block;padding:10px 14px;border-radius:12px;font-size:12px;word-wrap:break-word;min-width:80px;max-width:70%;text-align:left}.bubble-content.left[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #514c70;color:#000;border-top-left-radius:4px}.bubble-content.right[_ngcontent-%COMP%]{background-color:#a79ed7;border:1px solid #514c70;color:#000;border-top-right-radius:4px}.bubble-content[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:10px;opacity:.6;margin-top:4px;text-align:right}"]})};var Zh=(i,e)=>({"rejected-bg":i,"accepted-bg":e});function ep(i,e){i&1&&(l(0,"p"),d(1,"\xCEn a\u0219teptare..."),c())}function tp(i,e){if(i&1){let t=N();l(0,"div",5)(1,"button",6),I("click",function(){M(t);let o=E(2);return O(o.acceptReply())}),d(2," Accept\u0103 "),c(),l(3,"button",7),I("click",function(){M(t);let o=E(2);return O(o.rejectReply())}),d(4," Respinge "),c()()}}function np(i,e){if(i&1&&(l(0,"div"),D(1,ep,2,0,"p",3)(2,tp,5,0,"div",4),c()),i&2){let t=E();m(),y("ngIf",t.userRole==="Specialist"),m(),y("ngIf",t.userRole==="Client")}}var Ir=class i{constructor(e){this.authService=e}reply={id:"",senderId:"",startDate:new Date,endDate:new Date,price:0,status:"Pending",requestId:""};userRole="";requestId="";replyAccepted=new j;replyRejected=new j;ngOnInit(){this.userRole=this.authService.getUserRole()}acceptReply(){this.replyAccepted.emit({requestId:this.requestId,replyId:this.reply.id})}rejectReply(){this.replyRejected.emit({requestId:this.requestId,replyId:this.reply.id})}static \u0275fac=function(t){return new(t||i)(A(q))};static \u0275cmp=R({type:i,selectors:[["app-reply-message"]],inputs:{reply:"reply",requestId:"requestId"},outputs:{replyAccepted:"replyAccepted",replyRejected:"replyRejected"},decls:22,vars:23,consts:[[1,"request-wrapper"],[1,"request-summary",3,"ngClass"],[1,"big-price"],[4,"ngIf"],["class","action-buttons",4,"ngIf"],[1,"action-buttons"],[1,"accept-btn",3,"click"],[1,"reject-btn",3,"click"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"h3"),d(3,"Ofert\u0103"),c(),l(4,"p")(5,"strong"),d(6,"Data:"),c(),d(7),$(8,"date"),c(),l(9,"p")(10,"strong"),d(11,"De la ora:"),c(),d(12),$(13,"date"),l(14,"strong"),d(15,"P\xE2n\u0103 la ora:"),c(),d(16),$(17,"date"),c(),l(18,"div",2),d(19),$(20,"currency"),c(),D(21,np,3,2,"div",3),c()()),t&2&&(m(),y("ngClass",Kt(20,Zh,r.reply.status==="Rejected",r.reply.status==="Accepted")),m(6),F(" ",Ge(8,6,r.reply.startDate,"dd MMMM yyyy"),""),m(5),F(" ",Ge(13,9,r.reply.startDate,"HH:mm")," \xA0\u2014\xA0 "),m(4),F(" ",Ge(17,12,r.reply.endDate,"HH:mm")," "),m(3),F(" ",Sa(20,15,r.reply.price,"RON","symbol","1.2-2")," "),m(2),y("ngIf",r.reply.status==="Pending"))},dependencies:[nt,Q,Da,Ke],styles:['@charset "UTF-8";.request-summary[_ngcontent-%COMP%]{max-width:300px;margin:8px auto;padding:12px;border:2px solid black;background-color:#f8faff;font-size:.8rem;line-height:1.4;border-radius:6px;font-family:Roboto Mono,monospace}.request-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}.request-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-size:1rem;text-align:center}.request-status[_ngcontent-%COMP%]{display:inline-block;margin-top:.5rem;padding:.25rem .5rem;font-weight:700;border-radius:4px}.status-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.status-pending[_ngcontent-%COMP%]{background-color:#fff5c4;color:#856404}.status-accepted[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.status-rejected[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.accepted-bg[_ngcontent-%COMP%]{background-color:#d4edda;border:4px solid #155724}.rejected-bg[_ngcontent-%COMP%]{background-color:#f8d7da;border:4px solid #721c24}.action-buttons[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:10px;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out;font-family:Roboto Mono,monospace}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background-color:#9bc2a3;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]:hover{background-color:#be8a90;box-shadow:0 2px 6px #0003}.big-price[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a202c;margin-top:.5rem;margin-bottom:.5rem}']})};var Tr=class i{constructor(e,t){this.authService=e;this.http=t}baseUrl="http://localhost:5241/api/Conversation";getExchanges(e){let t=new Ye;e&&(t=t.set("page",e.page.toString()),t=t.set("pageSize",e.pageSize.toString()));let r=this.authService.getToken(),o=new L({Authorization:`Bearer ${r}`});return this.http.get(`${this.baseUrl}/GetPage`,{params:t,headers:o})}getExchange(e,t){let r=new Ye;t&&(r=r.set("page",t.page.toString()),r=r.set("pageSize",t.pageSize.toString()));let o=this.authService.getToken(),u=new L({Authorization:`Bearer ${o}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{params:r,headers:u})}static \u0275fac=function(t){return new(t||i)(W(q),W(_e))};static \u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})};var Ar=class i{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Message";sendMessage(e,t){let r=this.authService.getToken(),o=new L({Authorization:`Bearer ${r}`});return this.http.post(`${this.baseUrl}/Add/${e}`,t,{headers:o})}static \u0275fac=function(t){return new(t||i)(W(_e),W(q))};static \u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})};var Pr=class i{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Reply";addReply(e,t){let r=this.authService.getToken(),o=new L({Authorization:`Bearer ${r}`});return this.http.post(`${this.baseUrl}/Add/${e}`,t,{headers:o})}updateReply(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Update/${e.id}`,e,{headers:r})}acceptReply(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return console.log(t),this.http.patch(`${this.baseUrl}/Accept/${e}`,{},{headers:r})}rejectReply(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Reject/${e}`,{},{headers:r})}cancelReply(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Cancel/${e}`,{headers:r})}static \u0275fac=function(t){return new(t||i)(W(_e),W(q))};static \u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})};var sp=i=>["/specialist",i];function ap(i,e){i&1&&(l(0,"div",10)(1,"p"),d(2,"Se \xEEncarc\u0103 conversa\u021Biile..."),c()())}function cp(i,e){if(i&1&&(l(0,"div",17),d(1),$(2,"slice"),c()),i&2){let t=E().$implicit;m(),F(" ",Ea(2,1,t.lastMessage,0,30),"... ")}}function lp(i,e){if(i&1&&(l(0,"div",18),d(1),c()),i&2){let t=E().$implicit;m(),F(" ",t.unreadCount," ")}}function up(i,e){if(i&1){let t=N();l(0,"div",11),$(1,"async"),I("click",function(){let o=M(t).$implicit,u=E();return O(u.selectConversation(o))}),k(2,"img",12),l(3,"div",13)(4,"span",14),d(5),c(),D(6,cp,3,5,"div",15),c(),D(7,lp,2,1,"div",16),c()}if(i&2){let t=e.$implicit,r=E();Gt("active",t.userId===de(1,7,r.selectedUser$)),m(2),y("src",t.userProfilePictureUrl||"assets/avatar.svg",$e)("alt",t.userFullName),m(3),re(t.userFullName),m(),y("ngIf",t.lastMessage),m(),y("ngIf",t.unreadCount&&t.unreadCount>0)}}function dp(i,e){if(i&1){let t=N();l(0,"button",19),$(1,"async"),I("click",function(){M(t);let o=E();return O(o.loadMoreExchanges())}),d(2," \xCEncarc\u0103 mai multe conversa\u021Bii "),c()}if(i&2){let t=E();y("disabled",de(1,1,t.loading$)===!0)}}function hp(i,e){if(i&1){let t=N();l(0,"button",32),$(1,"async"),I("click",function(){M(t);let o=E(2);return O(o.loadMoreMessages())}),d(2," \xCEncarc\u0103 mesaje mai vechi "),c()}if(i&2){let t=E(2);y("disabled",de(1,1,t.loading$)===!0)}}function pp(i,e){if(i&1&&k(0,"app-message-bubble",38),i&2){let t=E().$implicit,r=E(2);y("message",r.asTypedMessage(t))("currentUserId",r.userId)}}function mp(i,e){if(i&1){let t=N();l(0,"app-request-message",39),I("requestAccepted",function(){M(t);let o=E().$implicit,u=E(2);return O(u.acceptRequest(o.item.id))})("requestRejected",function(){M(t);let o=E().$implicit,u=E(2);return O(u.rejectRequest(o.item.id))}),c()}if(i&2){let t=E().$implicit,r=E(2);y("request",r.asTypedRequest(t))}}function fp(i,e){if(i&1){let t=N();l(0,"app-reply-message",40),I("replyAccepted",function(){M(t);let o=E().$implicit,u=E(2);return O(u.acceptReply(o.item.data.requestId,o.item.id))})("replyRejected",function(){M(t);let o=E().$implicit,u=E(2);return O(u.rejectReply(o.item.data.requestId,o.item.id))}),c()}if(i&2){let t=E().$implicit,r=E(2);y("reply",r.asTypedReply(t))}}function gp(i,e){if(i&1&&(l(0,"div",41)(1,"p"),d(2),c()()),i&2){let t=E().$implicit;m(2),F("\u26A0\uFE0F Invalid message type (ID: ",t.item.id,")")}}function _p(i,e){if(i&1&&(fe(0)(1,33),D(2,pp,1,2,"app-message-bubble",34)(3,mp,1,1,"app-request-message",35)(4,fp,1,1,"app-reply-message",36)(5,gp,3,1,"div",37),ge()()),i&2){let t=e.$implicit;m(),y("ngSwitch",t.type),m(),y("ngSwitchCase","message"),m(),y("ngSwitchCase","request"),m(),y("ngSwitchCase","reply"),m(),y("ngSwitchCase","unknown")}}function yp(i,e){i&1&&(l(0,"div",42)(1,"p"),d(2,"Nu exist\u0103 mesaje \xEEnc\u0103. \xCEncepe conversa\u021Bia!"),c()())}function vp(i,e){i&1&&(l(0,"div",43)(1,"p"),d(2,"Se \xEEncarc\u0103 mesajele..."),c()())}function bp(i,e){if(i&1){let t=N();l(0,"div",20)(1,"div",21)(2,"div"),d(3),c(),l(4,"div")(5,"button"),k(6,"img",22),c()()(),l(7,"div",23),D(8,hp,3,3,"button",24)(9,_p,6,5,"ng-container",25)(10,yp,3,0,"div",26),$(11,"async"),$(12,"async"),D(13,vp,3,0,"div",27),$(14,"async"),$(15,"async"),c(),l(16,"div",28)(17,"button")(18,"img",29),I("click",function(){M(t);let o=E();return O(o.openMediaPicker())}),c()(),l(19,"input",30),$(20,"async"),te("ngModelChange",function(o){M(t);let u=E();return ee(u.messageContent,o)||(u.messageContent=o),O(o)}),I("keydown.enter",function(){M(t);let o=E();return O(o.sendMessage(o.messageContent))}),c(),l(21,"button",31),$(22,"async"),I("click",function(){M(t);let o=E();return O(o.sendMessage(o.messageContent))}),d(23," \u2192 "),c()()()}if(i&2){let t,r,o=e.ngIf,u=E();m(3),re(o.fullName),m(3),y("routerLink",St(22,sp,o.userId)),m(2),y("ngIf",u.messagesMeta.hasMore),m(),y("ngForOf",u.getTypedConversationItems())("ngForTrackBy",u.trackByConversationItem),m(),y("ngIf",!((t=de(11,10,u.conversationItems$))!=null&&t.length)&&de(12,12,u.loading$)===!1),m(3),y("ngIf",de(14,14,u.loading$)===!0&&((r=de(15,16,u.conversationItems$))==null?null:r.length)),m(6),Z("ngModel",u.messageContent),y("disabled",de(20,18,u.loading$)===!0),m(2),y("disabled",!u.messageContent.trim()||de(22,20,u.loading$)===!0)}}function Cp(i,e){i&1&&(l(0,"div",44)(1,"p"),d(2,"Nu exist\u0103 conversa\u021Bii disponibile."),c()())}var Dr=class i{constructor(e,t,r,o,u,_){this.exchangeService=e;this.messageService=t;this.requestService=r;this.replyService=o;this.authService=u;this.cdr=_}destroy$=new Ri;conversationListPagination={page:1,pageSize:20};messagesPagination={page:1,pageSize:50};exchangesSubject=new an([]);conversationItemsSubject=new an([]);selectedUserSubject=new an(null);loadingSubject=new an(!1);selectedUserInfoSubject=new an(null);exchanges$=this.exchangesSubject.asObservable();conversationItems$=this.conversationItemsSubject.asObservable();selectedUser$=this.selectedUserSubject.asObservable();selectedUserInfo$=this.selectedUserInfoSubject.asObservable();loading$=this.loadingSubject.asObservable();conversationListMeta={totalCount:0,hasMore:!1};messagesMeta={totalCount:0,hasMore:!1};messageContent="";userId=null;trackByConversation=(e,t)=>t.userId;trackByConversationItem=(e,t)=>t.item.id;ngOnInit(){this.userId=this.authService.getUserId(),this.loadExchanges()}loadExchanges(e=!1){e||(this.conversationListPagination.page=1,this.exchangesSubject.next([])),this.loadingSubject.next(!0),this.exchangeService.getExchanges(this.conversationListPagination).pipe(Et(this.destroy$)).subscribe({next:t=>{if(t.response){let r=t.response,u=[...e?this.exchangesSubject.value:[],...r.data||[]];this.exchangesSubject.next(u),this.conversationListMeta={totalCount:r.totalCount,hasMore:u.length<r.totalCount},!e&&Array.isArray(r.data)&&r.data.length>0&&this.selectConversation(r.data[0])}this.loadingSubject.next(!1),this.cdr.markForCheck()},error:t=>{console.error("Error loading conversations:",t),this.loadingSubject.next(!1),this.cdr.markForCheck()}})}loadMoreExchanges(){this.conversationListMeta.hasMore&&!this.loadingSubject.value&&(this.conversationListPagination.page++,this.loadExchanges(!0))}selectConversation(e){this.selectedUserInfoSubject.next({userId:e.userId,fullName:e.userFullName,profilePictureUrl:e.userProfilePictureUrl}),this.loadConversationMessages(e.userId)}loadConversationMessages(e,t=!1){t||(this.messagesPagination.page=1,this.conversationItemsSubject.next([])),this.selectedUserSubject.next(e),this.loadingSubject.next(!0),this.exchangeService.getExchange(e,this.messagesPagination).pipe(Et(this.destroy$)).subscribe({next:r=>{if(r.response){let o=r.response,u=t?this.conversationItemsSubject.value:[],_=t?[...o.data||[],...u]:[...u,...o.data||[]];this.conversationItemsSubject.next(_),this.messagesMeta={totalCount:o.totalCount,hasMore:_.length<o.totalCount}}this.loadingSubject.next(!1),this.cdr.markForCheck()},error:r=>{console.error("Error loading conversation messages:",r),this.loadingSubject.next(!1),this.cdr.markForCheck()}})}loadMoreMessages(){let e=this.selectedUserSubject.value;e&&this.messagesMeta.hasMore&&!this.loadingSubject.value&&(this.messagesPagination.page++,this.loadConversationMessages(e,!0))}getTypedConversationItems(){let e=this.conversationItemsSubject.value;return e?e.map(t=>{let r=this.deserializeItem(t),o=r?t.type:"unknown";return{item:t,typed:r,type:o}}):[]}deserializeItem(e){if(!e||!e.data||!e.type)return null;let t=e.data,r={id:e.id,senderId:e.senderId||t.SenderId||t.senderId};try{switch(e.type.toLowerCase()){case"message":return pe(z({},r),{content:t.Content||t.content||"",createdAt:this.convertTimestamp(t.CreatedAt||t.createdAt||e.createdAt),isRead:!!(t.IsRead??t.isRead??!1)});case"request":return pe(z({},r),{requestedStartDate:this.convertTimestamp(t.RequestedStartDate||t.requestedStartDate),description:t.Description||t.description||"",status:t.Status||t.status||"Pending",senderContactInfo:t.SenderContactInfo||t.senderContactInfo});case"reply":return pe(z({},r),{requestId:t.RequestId||t.requestId||"",startDate:this.convertTimestamp(t.StartDate||t.startDate),endDate:this.convertTimestamp(t.EndDate||t.endDate),price:Number(t.Price||t.price||0),status:t.Status||t.status||"Pending",serviceTask:t.ServiceTask||t.serviceTask});default:return null}}catch(o){return console.error("Error deserializing conversation item:",o,e),null}}convertTimestamp(e){return e instanceof Date?e:e&&typeof e.toDate=="function"?e.toDate():e&&typeof e.seconds=="number"?new Date(e.seconds*1e3):typeof e=="string"?new Date(e):new Date}asTypedMessage(e){return e.typed}asTypedRequest(e){return e.typed}asTypedReply(e){return e.typed}sendMessage(e){let t=this.selectedUserSubject.value;if(!e.trim()||!t)return;let r={id:`temp_${Date.now()}`,conversationId:"temp",senderId:this.userId,type:"message",createdAt:_r.fromDate(new Date),data:{Content:e.trim(),SenderId:this.userId,CreatedAt:new Date,IsRead:!1}},o=this.conversationItemsSubject.value;this.conversationItemsSubject.next([...o,r]),this.messageContent="",this.cdr.markForCheck(),this.messageService.sendMessage(t,{content:e.trim()}).pipe(Et(this.destroy$)).subscribe({next:()=>{this.loadConversationMessages(t)},error:u=>{console.error("Error sending message:",u),this.conversationItemsSubject.next(o),this.cdr.markForCheck()}})}acceptRequest(e){this.requestService.acceptRequest(e).pipe(qt(()=>{let t=this.selectedUserSubject.value;t&&this.loadConversationMessages(t)}),Et(this.destroy$)).subscribe({next:()=>console.log("Request accepted"),error:t=>console.error("Error accepting request:",t)})}rejectRequest(e){this.requestService.rejectRequest(e).pipe(qt(()=>{let t=this.selectedUserSubject.value;t&&this.loadConversationMessages(t)}),Et(this.destroy$)).subscribe({next:()=>console.log("Request rejected"),error:t=>console.error("Error rejecting request:",t)})}acceptReply(e,t){this.replyService.acceptReply(t).pipe(qt(()=>{let r=this.selectedUserSubject.value;r&&this.loadConversationMessages(r)}),Et(this.destroy$)).subscribe({next:()=>console.log("Reply accepted"),error:r=>console.error("Error accepting reply:",r)})}rejectReply(e,t){this.replyService.rejectReply(t).pipe(qt(()=>{let r=this.selectedUserSubject.value;r&&this.loadConversationMessages(r)}),Et(this.destroy$)).subscribe({next:()=>console.log("Reply rejected"),error:r=>console.error("Error rejecting reply:",r)})}openMediaPicker(){console.log("Open media picker")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static \u0275fac=function(t){return new(t||i)(A(Tr),A(Ar),A(Ot),A(Pr),A(q),A(Fi))};static \u0275cmp=R({type:i,selectors:[["app-messages"]],decls:15,vars:12,consts:[["noSelection",""],[1,"chat-wrapper"],[1,"chat-container"],[1,"sidebar"],[1,"sidebar-header"],["class","loading-indicator",4,"ngIf"],[1,"conversation-list"],["class","conversation",3,"active","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","load-more-btn",3,"disabled","click",4,"ngIf"],["class","chat-area",4,"ngIf","ngIfElse"],[1,"loading-indicator"],[1,"conversation",3,"click"],[3,"src","alt"],[1,"conversation-info"],[1,"conversation-name"],["class","conversation-preview",4,"ngIf"],["class","unread-badge",4,"ngIf"],[1,"conversation-preview"],[1,"unread-badge"],[1,"load-more-btn",3,"click","disabled"],[1,"chat-area"],[1,"chat-header"],["src","assets/icons/info.svg","alt","specialist_info",3,"routerLink"],[1,"chat-messages"],["class","load-more-btn top",3,"disabled","click",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","empty-messages",4,"ngIf"],["class","messages-loading",4,"ngIf"],[1,"chat-input"],["src","assets/icons/photo_media.svg","alt","photo_media",3,"click"],["type","text","placeholder","Scrie un mesaj aici",3,"ngModelChange","keydown.enter","ngModel","disabled"],[1,"send-btn",3,"click","disabled"],[1,"load-more-btn","top",3,"click","disabled"],[3,"ngSwitch"],[3,"message","currentUserId",4,"ngSwitchCase"],[3,"request","requestAccepted","requestRejected",4,"ngSwitchCase"],[3,"reply","replyAccepted","replyRejected",4,"ngSwitchCase"],["class","error-message",4,"ngSwitchCase"],[3,"message","currentUserId"],[3,"requestAccepted","requestRejected","request"],[3,"replyAccepted","replyRejected","reply"],[1,"error-message"],[1,"empty-messages"],[1,"messages-loading"],[1,"chat-area","empty"]],template:function(t,r){if(t&1&&(l(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),d(4,"Convorbiri"),c(),D(5,ap,3,0,"div",5),$(6,"async"),l(7,"div",6),D(8,up,8,9,"div",7),$(9,"async"),D(10,dp,3,3,"button",8),c()(),D(11,bp,24,24,"div",9),$(12,"async"),D(13,Cp,3,0,"ng-template",null,0,Jn),c()()),t&2){let o=Ve(14);m(5),y("ngIf",de(6,6,r.loading$)===!0),m(3),y("ngForOf",de(9,8,r.exchanges$))("ngForTrackBy",r.trackByConversation),m(2),y("ngIf",r.conversationListMeta.hasMore),m(),y("ngIf",de(12,10,r.selectedUserInfo$))("ngIfElse",o)}},dependencies:[Er,Sr,dn,ue,it,Q,hn,Y,ke,Ne,Be,Aa,Ma,Ir],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Roboto Mono,monospace}[_nghost-%COMP%]{display:block;background-color:#f4f4f4;padding:2rem;position:relative}.chat-wrapper[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:auto;border:3px solid black;background-color:#e8d9ff}.chat-container[_ngcontent-%COMP%]{display:flex;height:600px}.sidebar[_ngcontent-%COMP%]{width:25%;border-right:3px solid black;display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{border-bottom:3px solid black;padding:12px;font-weight:700}.conversation-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.conversation[_ngcontent-%COMP%]{padding:1rem;border-bottom:2px solid black;background-color:#c9b7ff;display:flex;align-items:center;gap:1rem;cursor:pointer}.conversation[_ngcontent-%COMP%]:hover{background-color:#b8a6ff}.conversation.active[_ngcontent-%COMP%]{background-color:#a695ff}.conversation[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}.conversation[_ngcontent-%COMP%]   .conversation-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem}.conversation[_ngcontent-%COMP%]   .conversation-info[_ngcontent-%COMP%]   .conversation-name[_ngcontent-%COMP%]{font-weight:600;font-size:.95rem}.conversation[_ngcontent-%COMP%]   .conversation-info[_ngcontent-%COMP%]   .conversation-preview[_ngcontent-%COMP%]{font-size:.8rem;color:#666}.conversation[_ngcontent-%COMP%]   .unread-badge[_ngcontent-%COMP%]{background:#f44;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:.7rem;font-weight:700}.chat-area[_ngcontent-%COMP%]{width:75%;display:flex;flex-direction:column}.chat-area.empty[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#888;font-style:italic}.chat-header[_ngcontent-%COMP%]{border-bottom:3px solid black;padding:16px;background-color:#c9b7ff;display:flex;justify-content:space-between;align-items:center}.chat-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:none;border:none;cursor:pointer}.chat-messages[_ngcontent-%COMP%]{flex-grow:1;padding:1rem;overflow-y:auto;position:relative}.chat-input[_ngcontent-%COMP%]{border-top:2px solid black;display:flex;align-items:center;padding:.5rem;gap:.5rem}.chat-input[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex:1;padding:.5rem;border-radius:6px;border:none;font-family:Roboto Mono,monospace}.chat-input[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:disabled{background:#f5f5f5;opacity:.6}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:none;border:none;cursor:pointer}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.chat-input[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]{background-color:#c9b7ff;padding:.5rem 1rem;border-radius:6px}.chat-input[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#b8a6ff}.load-more-btn[_ngcontent-%COMP%]{background-color:#c9b7ff;border:2px solid black;padding:8px 16px;margin:1rem;cursor:pointer;font-family:Roboto Mono,monospace;border-radius:6px;width:calc(100% - 2rem)}.load-more-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#b8a6ff}.load-more-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.load-more-btn.top[_ngcontent-%COMP%]{margin-bottom:.5rem}.loading-indicator[_ngcontent-%COMP%], .empty-messages[_ngcontent-%COMP%], .messages-loading[_ngcontent-%COMP%]{text-align:center;padding:1rem;font-style:italic;color:#666}.loading-indicator[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .empty-messages[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .messages-loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.error-message[_ngcontent-%COMP%]{text-align:center;margin:10px}.error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{background:#f8d7da;color:#721c24;padding:8px 12px;border-radius:6px;border:1px solid #f5c6cb;margin:0}.message-left[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin:10px}.message-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin:10px}.conversation-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;z-index:10;display:flex;align-items:center;justify-content:center;padding:1rem;box-shadow:0 0 12px #0003}.action-buttons[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:10px;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out;font-family:Roboto Mono,monospace}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background-color:#9bc2a3;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]:hover{background-color:#be8a90;box-shadow:0 2px 6px #0003}"]})};var An=class i{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Category";addCategory(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.post(`${this.baseUrl}/Add`,e,{headers:r})}getCategoryById(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{headers:r})}getAllCategories(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`}),o=new Ye;return e&&(o=o.set("search",e)),this.http.get(`${this.baseUrl}/GetAll`,{headers:r,params:o})}getCategoriesForSpecialist(e){let t=new Ye;return e&&(t=t.set("search",e)),this.http.get(`${this.baseUrl}/GetAllForSpecialist`,{params:t})}getCategoriesAdminPage(e,t,r){let o=this.authService.getToken(),u=new L({Authorization:`Bearer ${o}`}),_=new Ye().set("search",e||"").set("page",t).set("pageSize",r);return this.http.get(`${this.baseUrl}/GetPageForAdmin`,{headers:u,params:_})}updateCategory(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Update/${e.id}`,e,{headers:r})}deleteCategory(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.delete(`${this.baseUrl}/Delete/${e}`,{headers:r})}static \u0275fac=function(t){return new(t||i)(W(_e),W(q))};static \u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})};function wp(i,e){if(i&1){let t=N();l(0,"span",8),I("click",function(){let o=M(t).$implicit,u=E();return O(u.toggle(o.id))}),d(1),c()}if(i&2){let t=e.$implicit,r=E();Gt("disabled",r.selectedCategoryIds.includes(t.id)),m(),F(" ",t.name," ")}}function xp(i,e){if(i&1){let t=N();l(0,"span",11),d(1),l(2,"button",12),I("click",function(){let o=M(t).$implicit,u=E(2);return O(u.remove(o))}),d(3,"\xD7"),c()()}if(i&2){let t=e.$implicit,r=E(2);m(),F(" ",r.getCategoryName(t)," ")}}function Ep(i,e){if(i&1&&(fe(0),l(1,"div",9),D(2,xp,4,1,"span",10),c(),ge()),i&2){let t=E();m(2),y("ngForOf",t.selectedCategoryIds)}}var Mr=class i{constructor(e){this.categoryService=e}category=null;allCategories=[];searchTerm="";dummyCategories=[{id:"cat-001",name:"Traduceri medicale",description:"Traducerea documentelor medicale de specialitate."},{id:"cat-002",name:"Logopedie",description:"Servicii de diagnostic \u0219i terapie pentru tulbur\u0103ri de vorbire."},{id:"cat-003",name:"Psihoterapie",description:"Sesiuni individuale sau de grup pentru s\u0103n\u0103tatea mintal\u0103."},{id:"cat-004",name:"Nutri\u021Bie clinic\u0103",description:"Planuri alimentare personalizate pentru afec\u021Biuni cronice."},{id:"cat-005",name:"Fizioterapie",description:"Reabilitare fizic\u0103 post-traumatic\u0103 sau post-operatorie."}];placeholder="Caut\u0103 o categorie...";selectedCategoryIds=[];categoryChange=new j;ngOnInit(){this.allCategories=this.dummyCategories}getCategories(){this.categoryService.getAllCategories().subscribe({next:e=>{let t=this.removeDiacritics(this.searchTerm);this.allCategories=e.response.filter(r=>this.removeDiacritics(r.name).includes(t))},error:e=>{console.error("Eroare la ob\u021Binerea categoriilor:",e.errorMessage)}})}toggle(e){this.selectedCategoryIds.includes(e)||(this.selectedCategoryIds.push(e),this.categoryChange.emit(this.selectedCategoryIds))}remove(e){this.selectedCategoryIds=this.selectedCategoryIds.filter(t=>t!==e),this.categoryChange.emit(this.selectedCategoryIds)}getCategoryName(e){return this.allCategories?.find(t=>t.id===e)?.name||"Categorie necunoscut\u0103"}onSearch(e){this.searchTerm=e,this.getCategories()}removeDiacritics(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}static \u0275fac=function(t){return new(t||i)(A(An))};static \u0275cmp=R({type:i,selectors:[["app-category-selector"]],inputs:{selectedCategoryIds:"selectedCategoryIds"},outputs:{categoryChange:"categoryChange"},decls:11,vars:3,consts:[[1,"tag-selector"],[1,"section-title"],[1,"category-box"],[1,"search-category-wrapper"],[3,"searchChanged","placeholder"],[1,"category-options"],["class","tag option",3,"disabled","click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"tag","option",3,"click"],[1,"category-box","category-options"],["class","tag selected",4,"ngFor","ngForOf"],[1,"tag","selected"],["type","button",3,"click"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"h3",1),d(2,"Alege din lista de categorii:"),c(),l(3,"div",2)(4,"div",3)(5,"app-search-input",4),I("searchChanged",function(u){return r.onSearch(u)}),c()(),l(6,"div",5),D(7,wp,2,3,"span",6),c()(),l(8,"h3",1),d(9,"Categoriile selectate:"),c(),D(10,Ep,3,1,"ng-container",7),c()),t&2&&(m(5),y("placeholder",r.placeholder),m(2),y("ngForOf",r.allCategories),m(3),y("ngIf",r.selectedCategoryIds.length>0))},dependencies:[Y,ue,Q,We],styles:[".tag-selector[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.category-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:1.5rem;padding:1rem;background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:8px;box-shadow:0 0 4px #0000001a;flex-wrap:wrap}.category-options[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;align-items:flex-start}.tag.option[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem;font-family:Roboto Mono,monospace}.tag.option[_ngcontent-%COMP%]:hover{background-color:#333}.tag.option.disabled[_ngcontent-%COMP%]{background-color:#a1a1a1;cursor:not-allowed;opacity:.6}.tag.selected[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem;font-family:Roboto Mono,monospace}button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff}.section-title[_ngcontent-%COMP%]{margin-bottom:8px;font-family:Roboto Mono,monospace}.search-category-wrapper[_ngcontent-%COMP%]{background-color:#f6efff;border-radius:5px;width:300px;margin:auto;border:2px solid #c9b7ff}"]})};function Sp(i,e){if(i&1){let t=N();l(0,"div",4)(1,"div",5),k(2,"img",6),l(3,"button",7),I("click",function(){let o=M(t).index,u=E();return O(u.remove(o))}),d(4,"\u2715"),c()()()}if(i&2){let t=e.$implicit;m(2),y("src",t,$e)}}var Or=class i{constructor(e,t){this.photoService=e;this.sanitizer=t}uploadedPictures=[];portfolioChange=new j;imagePreviews=[];onFileSelected(e){let t=e.target;if(t.files)for(let r of t.files){let o=r,u={fileStream:o,contentType:o.type,fileName:o.name};this.uploadedPictures.push(u),this.portfolioChange.emit(this.uploadedPictures);let _=new FileReader;_.onload=()=>{this.imagePreviews.push(_.result)},_.readAsDataURL(o)}}remove(e){this.uploadedPictures.splice(e,1),this.imagePreviews.splice(e,1),this.portfolioChange.emit(this.uploadedPictures)}static \u0275fac=function(t){return new(t||i)(A(wn),A(Va))};static \u0275cmp=R({type:i,selectors:[["app-portfolio-upload"]],inputs:{uploadedPictures:"uploadedPictures"},outputs:{portfolioChange:"portfolioChange"},decls:5,vars:1,consts:[[1,"porfolio-content"],["class","portfolio-preview",4,"ngFor","ngForOf"],[1,"custom-upload-btn"],["type","file","multiple","","accept","image/*","hidden","",3,"change"],[1,"portfolio-preview"],[1,"image-container"],["alt","Preview",3,"src"],[1,"delete-btn",3,"click"]],template:function(t,r){t&1&&(l(0,"div",0),D(1,Sp,5,1,"div",1),c(),l(2,"label",2),d(3," \u{1F4F8} Adaug\u0103 imagini "),l(4,"input",3),I("change",function(u){return r.onFileSelected(u)}),c()()),t&2&&(m(),y("ngForOf",r.imagePreviews))},dependencies:[ue],styles:[".portfolio-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem;background-color:#f9f9f9;border-radius:8px;box-shadow:0 2px 10px #0000001a}.portfolio-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;align-items:center}.porfolio-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:32px;align-items:flex-start;padding:32px}.portfolio-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;max-width:100%}.portfolio-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:160px;height:150px;object-fit:cover;border-radius:8px;box-shadow:0 0 5px #0003;position:relative}.custom-upload-btn[_ngcontent-%COMP%]{display:inline-block;padding:.6rem 1.2rem;background-color:#e0cfff;color:#333;border:2px solid #a87fff;border-radius:8px;font-weight:700;cursor:pointer;transition:background-color .3s ease;box-shadow:0 1px 4px #0000001a;margin:0 auto}.custom-upload-btn[_ngcontent-%COMP%]:hover{background-color:#d4baff}.delete-btn[_ngcontent-%COMP%]{position:absolute;background-color:#333232;color:#fff;border:none;border-radius:50%;font-size:16px;cursor:pointer;width:24px;height:24px}.error-text[_ngcontent-%COMP%]{color:red;font-size:14px}.section-title[_ngcontent-%COMP%]{margin-bottom:8px;font-family:Roboto Mono,monospace}.image-container[_ngcontent-%COMP%]{position:relative;width:150px;height:150px}"]})};var Rr=class i{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/SpecialistProfile";becomeSpecialist(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.put(`${this.baseUrl}/BecomeSpecialist`,e,{headers:r}).pipe(qt(o=>{o.response?.token&&localStorage.setItem("access_token",o.response.token)}))}getSpecialistProfile(){let e=this.authService.getToken(),t=new L({Authorization:`Bearer ${e}`});return this.http.get(`${this.baseUrl}/Get`,{headers:t})}updateSpecialistProfile(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Update`,e,{headers:r})}static \u0275fac=function(t){return new(t||i)(W(_e),W(q))};static \u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})};var il=()=>[];function Tp(i,e){if(i&1){let t=N();l(0,"app-dynamic-form",5),I("formSubmit",function(o){M(t);let u=E();return O(u.handleStep1(o))}),c()}if(i&2){let t=E();y("fields",t.step1FormFields)("submitText","Treci la pasul urm\u0103tor")}}function Ap(i,e){if(i&1){let t=N();l(0,"div",6)(1,"app-category-selector",7),I("categoryChange",function(o){M(t);let u=E();return O(u.updateCategories(o))}),c(),l(2,"div",8)(3,"div",9)(4,"button",10),I("click",function(){M(t);let o=E();return O(o.handleStep2())}),d(5,"Treci la pasul urm\u0103tor"),c()()()()}if(i&2){let t=E();m(),y("selectedCategoryIds",t.specialistData.categories||Le(1,il))}}function Pp(i,e){if(i&1){let t=N();l(0,"div",6)(1,"app-portfolio-upload",11),I("portfolioChange",function(o){M(t);let u=E();return O(u.updatePortfolio(o))}),c(),l(2,"div",8)(3,"div",9)(4,"button",10),I("click",function(){M(t);let o=E();return O(o.addEntity())}),d(5,"Finalizeaz\u0103"),c()()()()}if(i&2){let t=E();m(),y("uploadedPictures",t.specialistData.portfolio||Le(1,il))}}var Vr=class i{constructor(e,t,r){this.authService=e;this.specialistProfileService=t;this.router=r}step=1;portfolioImages=[];imagePreviews=[];specialistData={yearsExperience:0,phoneNumber:"",address:"",description:"",categories:[],portfolio:[]};formData={};step1FormFields=De({yearsExperience:0,phoneNumber:"",address:"",description:""},{address:{type:"text",class:"full-width"},yearsExperience:{type:"number",placeholder:"Ex: 5"},description:{type:"textarea",placeholder:"Descrie serviciile oferite",class:"full-width"}});isAddUserFormVisible=!1;ngOnInit(){let e={phoneNumber:"",address:"",yearsExperience:0,description:""};this.formData=z({},e)}handleStep1(e){this.specialistData=z(z({},this.specialistData),e),this.step=2}updateCategories(e){this.specialistData.categories=e}handleStep2(){this.step=3}updatePortfolio(e){this.portfolioImages=e.map(t=>t.fileStream),this.imagePreviews=e.map(t=>URL.createObjectURL(t.fileStream))}addEntity(){let e=this.authService.getUserId();if(!e){console.error("User ID not found");return}let t={userId:e,phoneNumber:this.specialistData.phoneNumber,address:this.specialistData.address,yearsExperience:this.specialistData.yearsExperience,description:this.specialistData.description,categories:this.specialistData.categories};this.specialistProfileService.becomeSpecialist(t).subscribe({next:()=>{this.closeAddUserForm(),this.router.navigate(["/home"])},error:r=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",r)}})}closeAddUserForm(){this.isAddUserFormVisible=!1}static \u0275fac=function(t){return new(t||i)(A(q),A(Rr),A(Ie))};static \u0275cmp=R({type:i,selectors:[["app-become-specialist"]],decls:8,vars:4,consts:[[1,"form-wrapper"],[1,"form-box"],[3,"ngSwitch"],[3,"fields","submitText","formSubmit",4,"ngSwitchCase"],["class","form-layout",4,"ngSwitchCase"],[3,"formSubmit","fields","submitText"],[1,"form-layout"],[3,"categoryChange","selectedCategoryIds"],[1,"form-group","full-width"],[1,"button-wrapper"],[1,"send-button",3,"click"],[3,"portfolioChange","uploadedPictures"]],template:function(t,r){t&1&&(l(0,"h2"),d(1,"Devino specialist!"),c(),l(2,"div",0)(3,"div",1),fe(4,2),D(5,Tp,1,2,"app-dynamic-form",3)(6,Ap,6,2,"div",4)(7,Pp,6,2,"div",4),ge(),c()()),t&2&&(m(4),y("ngSwitch",r.step),m(),y("ngSwitchCase",1),m(),y("ngSwitchCase",2),m(),y("ngSwitchCase",3))},dependencies:[Fe,dn,hn,Mr,Or],styles:["h2[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:30px}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.send-button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:300px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}.send-button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}.form-layout[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px 20px;padding:24px 32px;max-width:650px;margin:0 auto}.form-group[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;flex:1;display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{flex:1 1 100%}"]})};var Dp=["class","categories"],Mp=()=>[5,10,20];function Op(i,e){if(i&1){let t=N();l(0,"div",9)(1,"div",10)(2,"div",11)(3,"button",12),I("click",function(){M(t);let o=E();return O(o.closeAddEntityForm())}),d(4,"\xD7"),c()(),l(5,"app-dynamic-form",13),I("formSubmit",function(o){M(t);let u=E();return O(u.addEntity(o))}),c()()()}if(i&2){let t=E();m(5),y("fields",t.addEntityFormFields)("submitText","Trimite")}}function Rp(i,e){if(i&1){let t=N();l(0,"div",9)(1,"div",10)(2,"button",12),I("click",function(){M(t);let o=E();return O(o.closeUpdateEntityForm())}),d(3,"\xD7"),c(),l(4,"app-dynamic-form",14),I("formSubmit",function(o){M(t);let u=E();return O(u.updateEntity(o))}),c()()()}if(i&2){let t=E();m(4),y("fields",t.updateEntityFormFields)("initialData",t.formData)("submitText","Actualizeaz\u0103")}}function Vp(i,e){if(i&1){let t=N();l(0,"app-admin-details",18),I("close",function(){M(t);let o=E(2);return O(o.closeEntityDetails())}),c()}if(i&2){let t=E(2);y("entity",t.entityDetails)("title","Detalii categorie")}}function kp(i,e){if(i&1){let t=N();l(0,"div",15)(1,"div",16)(2,"button",12),I("click",function(){M(t);let o=E();return O(o.closeEntityDetails())}),d(3,"\xD7"),c(),D(4,Vp,1,2,"app-admin-details",17),c()()}if(i&2){let t=E();m(4),y("ngIf",t.isEntityDetailsVisible)}}var kr=class i{constructor(e){this.adminService=e}dummy_categories=[{id:"c1",name:"Psihologie",description:"Categoria pentru speciali\u0219ti \xEEn psihologie",specialistsCount:5,specialistIds:["s1","s2","s3","s4","s5"]},{id:"c2",name:"Nutri\u021Bie",description:"Categoria pentru speciali\u0219ti \xEEn nutri\u021Bie",specialistsCount:3,specialistIds:["s6","s7","s8"]}];searchTerm="";entities=[];selectedEntity=null;entityDetails={};entityDetailsId;pageSize=10;currentPage=1;totalItems=0;isAddEntityFormVisible=!1;isUpdateEntityFormVisible=!1;isEntityDetailsVisible=!1;selectedEntityId=null;columns=[{key:"id",header:"ID"},{key:"name",header:"Denumire"},{key:"description",header:"Descriere"},{key:"specialistsCount",header:"Num\u0103r speciali\u0219ti"},{key:"specialistIds",header:"Speciali\u0219tii cu aceast\u0103 categorie"},{key:"actions",header:"Ac\u021Biuni",type:"action",actions:[{label:"Detalii",class:"view",callback:e=>this.getEntity(e.id)},{label:"Modific\u0103",class:"edit",callback:e=>this.editEntity(e)},{label:"\u0218terge",class:"delete",callback:e=>this.deleteEntity(e)}]}];defaultEntity={name:"",description:""};formData={};error=null;addEntityFormFields=De(this.defaultEntity,{description:{type:"input",placeholder:"Descrie categoria",required:!1}});updateEntityFormFields=De({name:this.selectedEntity?.name||"",description:this.selectedEntity?.description||""});placeholder="Caut\u0103 o categorie...";ngOnInit(){let e={name:"",description:""};this.formData=z({},e),this.getPage()}onSearch(e){this.searchTerm=e,this.currentPage=1,this.getPage()}getEntity(e){console.log(e),this.adminService.getCategoryById(e).subscribe({next:t=>{this.entityDetailsId=t.response?.id,this.entityDetails=Cn(t.response??{}),this.isEntityDetailsVisible=!0},error:t=>{console.error("Eroare la preluarea utilizatorului:",t.errorMessage?.status),alert("Nu s-au putut \xEEnc\u0103rca detaliile utilizatorului.")}})}getPage(){this.adminService.getCategoriesAdminPage(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:e=>{console.log(e.response),this.entities=e.response?.data??[],this.totalItems=e.response?.totalCount??0},error:e=>{this.error=e.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addEntity(e){let t=e;this.adminService.addCategory(t).subscribe({next:()=>{this.closeAddEntityForm(),this.getPage()},error:r=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",r)}})}editEntity(e){this.selectedEntityId=e.id,this.formData={name:e.name,description:e.description},this.isUpdateEntityFormVisible=!0}updateEntity(e){if(!this.selectedEntityId){console.error("Niciun utilizator nu a fost selectat pentru actualizare."),alert("Eroare: Nu a fost selectat niciun utilizator pentru actualizare.");return}let t={id:this.selectedEntityId,name:e.name||this.formData.name,description:e.description||this.formData.description};this.adminService.updateCategory(t).subscribe({next:()=>{this.closeUpdateEntityForm(),this.getPage()},error:r=>{console.error("Eroare la actualizare:",r)}})}showEntityDetails(e){this.isEntityDetailsVisible=!0}closeEntityDetails(){this.isEntityDetailsVisible=!1,this.selectedEntity=null}closeUpdateEntityForm(){this.selectedEntityId=null,this.resetForm(),this.isUpdateEntityFormVisible=!1}openAddEntityForm(){this.selectedEntityId=null,this.resetForm(),this.isAddEntityFormVisible=!0}viewEntity(e){this.isEntityDetailsVisible=!0}deleteEntity(e){confirm(`Sigur dori\u021Bi s\u0103 \u0219terge\u021Bi categoria ${e.name}?`)&&this.adminService.deleteCategory(e.id).subscribe({next:()=>{this.getPage()},error:t=>{console.error("Eroare la \u0219tergerea utilizatorului:",t)}})}closeAddEntityForm(){this.isAddEntityFormVisible=!1,this.resetForm()}resetForm(){this.formData={name:"",description:""}}onPageChange(e){this.currentPage=e,this.getPage()}onPageSizeChange(e){this.pageSize=e,this.currentPage=1,this.getPage()}static \u0275fac=function(t){return new(t||i)(A(An))};static \u0275cmp=R({type:i,selectors:[["app-admin",8,"categories"]],attrs:Dp,decls:13,vars:11,consts:[[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[1,"admin-wrapper"],[1,"admin-table-container"],[1,"search-box-wrapper"],[3,"searchChanged","placeholder"],[1,"add-btn",3,"click"],[3,"columns","data"],["class","modal-overlay",4,"ngIf"],["class","admin-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal"],[1,"close-button-wrapper"],[1,"close-button",3,"click"],[3,"formSubmit","fields","submitText"],[3,"formSubmit","fields","initialData","submitText"],[1,"admin-overlay"],[1,"admin-modal"],[3,"entity","title","close",4,"ngIf"],[3,"close","entity","title"]],template:function(t,r){t&1&&(l(0,"app-pagination",0),I("pageChange",function(u){return r.onPageChange(u)})("pageSizeChange",function(u){return r.onPageSizeChange(u)}),c(),l(1,"div",1)(2,"div",2)(3,"h2"),d(4,"Administreaz\u0103 toate categoriile"),c(),l(5,"div",3)(6,"app-search-input",4),I("searchChanged",function(u){return r.onSearch(u)}),c()(),l(7,"button",5),I("click",function(){return r.openAddEntityForm()}),d(8,"Adaug\u0103 categorie"),c(),k(9,"app-dynamic-table",6),c()(),D(10,Op,6,2,"div",7)(11,Rp,5,3,"div",7)(12,kp,5,1,"div",8)),t&2&&(y("currentPage",r.currentPage)("pageSize",r.pageSize)("pageSizeOptions",Le(10,Mp))("totalItems",r.totalItems),m(6),y("placeholder",r.placeholder),m(3),y("columns",r.columns)("data",r.entities),m(),y("ngIf",r.isAddEntityFormVisible),m(),y("ngIf",r.isUpdateEntityFormVisible),m(),y("ngIf",r.isEntityDetailsVisible))},dependencies:[Vt,Fe,We,Rt,st,Q],styles:[".admin-wrapper[_ngcontent-%COMP%]{text-align:center}.admin-table-container[_ngcontent-%COMP%]{display:inline-block;padding:24px;background-color:#d9c8ff;border:2px solid #4b358e;border-radius:8px;font-family:Roboto Mono,monospace;box-shadow:0 4px 8px #0000001a;margin:40px auto}.admin-table-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.admin-table[_ngcontent-%COMP%]{width:max-content;max-width:100%;margin-left:auto;margin-right:auto;border-collapse:collapse;background-color:#f8f4ff;border-radius:6px}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;white-space:nowrap}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700}.action-link[_ngcontent-%COMP%]{margin-right:12px;cursor:pointer;text-decoration:none;font-weight:700}.action-link.view[_ngcontent-%COMP%]{color:#00f}.action-link.edit[_ngcontent-%COMP%]{color:green}.action-link.delete[_ngcontent-%COMP%]{color:red}.add-btn[_ngcontent-%COMP%]{background-color:#916fc7;color:#fff;border:3px solid #4b358e;margin-top:14px;margin-bottom:20px;padding:8px 16px;font-weight:700;border-radius:6px;cursor:pointer;transition:background-color .3s;font-family:Roboto Mono,monospace}.add-btn[_ngcontent-%COMP%]:hover{background-color:#3a2973}",".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var Nr=class i{settings={fullName:"",email:"",phoneNumber:"",language:"ro",darkMode:!1,emailNotifications:!0,smsNotifications:!1};onImageUpload(e){let t=e.target.files?.[0];t&&console.log("Uploaded image:",t.name)}changePassword(){alert("Password change flow goes here.")}deactivateAccount(){confirm("E\u0219ti sigur c\u0103 vrei s\u0103 dezactivezi contul?")&&console.log("Account deactivated")}deleteAccount(){confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi contul? Aceast\u0103 ac\u021Biune este ireversibil\u0103.")&&console.log("Account deleted")}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=R({type:i,selectors:[["app-settings"]],decls:48,vars:7,consts:[[1,"settings-container"],[1,"settings-title"],[1,"settings-section"],["for","fullName"],["id","fullName","type","text","name","fullName",3,"ngModelChange","ngModel"],["for","email"],["id","email","type","email","name","email",3,"ngModelChange","ngModel"],["for","phone"],["id","phone","type","text","name","phone",3,"ngModelChange","ngModel"],["for","profileImage"],["id","profileImage","type","file",3,"change"],["type","button",3,"click"],["for","language"],["id","language","name","language",3,"ngModelChange","ngModel"],["value","ro"],["value","en"],["type","checkbox","name","darkMode",3,"ngModelChange","ngModel"],["type","checkbox","name","emailNotifications",3,"ngModelChange","ngModel"],["type","checkbox","name","smsNotifications",3,"ngModelChange","ngModel"],[1,"danger",3,"click"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"h1",1),d(2,"Set\u0103rile contului"),c(),l(3,"section",2)(4,"h2"),d(5,"Profilul t\u0103u"),c(),l(6,"form")(7,"label",3),d(8,"Nume complet"),c(),l(9,"input",4),te("ngModelChange",function(u){return ee(r.settings.fullName,u)||(r.settings.fullName=u),u}),c(),l(10,"label",5),d(11,"Adresa e-mail"),c(),l(12,"input",6),te("ngModelChange",function(u){return ee(r.settings.email,u)||(r.settings.email=u),u}),c(),l(13,"label",7),d(14,"Num\u0103r de telefon"),c(),l(15,"input",8),te("ngModelChange",function(u){return ee(r.settings.phoneNumber,u)||(r.settings.phoneNumber=u),u}),c(),l(16,"label",9),d(17,"Poza de profil"),c(),l(18,"input",10),I("change",function(u){return r.onImageUpload(u)}),c(),l(19,"button",11),I("click",function(){return r.changePassword()}),d(20,"Schimb\u0103 parola"),c()()(),l(21,"section",2)(22,"h2"),d(23,"Set\u0103ri aplica\u021Bie"),c(),l(24,"form")(25,"label",12),d(26,"Limba aplica\u021Biei"),c(),l(27,"select",13),te("ngModelChange",function(u){return ee(r.settings.language,u)||(r.settings.language=u),u}),l(28,"option",14),d(29,"Rom\xE2n\u0103"),c(),l(30,"option",15),d(31,"English"),c()(),l(32,"label")(33,"input",16),te("ngModelChange",function(u){return ee(r.settings.darkMode,u)||(r.settings.darkMode=u),u}),c(),d(34," Activeaz\u0103 modul \xEEntrunecat "),c(),l(35,"label")(36,"input",17),te("ngModelChange",function(u){return ee(r.settings.emailNotifications,u)||(r.settings.emailNotifications=u),u}),c(),d(37," Notific\u0103ri prin e-mail "),c(),l(38,"label")(39,"input",18),te("ngModelChange",function(u){return ee(r.settings.smsNotifications,u)||(r.settings.smsNotifications=u),u}),c(),d(40," Notific\u0103ri prin SMS "),c()()(),l(41,"section",2)(42,"h2"),d(43,"Siguran\u021B\u0103 \u0219i ac\u021Biuni"),c(),l(44,"button",19),I("click",function(){return r.deactivateAccount()}),d(45,"Dezactiveaz\u0103 contul"),c(),l(46,"button",19),I("click",function(){return r.deleteAccount()}),d(47,"\u0218terge contul"),c()()()),t&2&&(m(9),Z("ngModel",r.settings.fullName),m(3),Z("ngModel",r.settings.email),m(3),Z("ngModel",r.settings.phoneNumber),m(12),Z("ngModel",r.settings.language),m(6),Z("ngModel",r.settings.darkMode),m(3),Z("ngModel",r.settings.emailNotifications),m(3),Z("ngModel",r.settings.smsNotifications))},dependencies:[Y,ot,_n,yn,ke,So,At,Ne,rt,Be,ft],styles:[".settings-container[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;padding:2rem;background-color:#f9f6ff;border-radius:12px;box-shadow:0 0 8px #0000001a}.settings-title[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:2rem;font-weight:700;text-align:center}.settings-section[_ngcontent-%COMP%]{margin-bottom:2.5rem;border-top:1px solid #ccc;padding-top:1.5rem}.settings-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:1rem}.settings-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:500;margin:.5rem 0 .25rem}.settings-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .settings-section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-bottom:1rem;border-radius:6px;border:1px solid #ccc;font-size:1rem}button[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;margin-top:1rem;border:none;border-radius:6px;background-color:#6541f0;color:#fff;font-weight:700;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#5134c9}button.danger[_ngcontent-%COMP%]{background-color:#d9534f;margin-right:1rem}button.danger[_ngcontent-%COMP%]:hover{background-color:#c9302c}"]})};var Fr=class i{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Review";addReview(e,t){let r=this.authService.getToken(),o=new L({Authorization:`Bearer ${r}`});return this.http.post(`${this.baseUrl}task/${e}/confirm/reviews`,t,{headers:o})}getReviews(e,t){let r=this.authService.getToken(),o=new L({Authorization:`Bearer ${r}`}),u=new Ye().set("page",e).set("pageSize",t);return this.http.get(`${this.baseUrl}/GetPage`,{params:u,headers:o})}getReview(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{headers:r})}static \u0275fac=function(t){return new(t||i)(W(_e),W(q))};static \u0275prov=ie({token:i,factory:i.\u0275fac,providedIn:"root"})};var Fp=()=>[];function Up(i,e){if(i&1&&k(0,"img",9),i&2){let t=E().$implicit;y("src",t.senderUserProfilePictureUrl,$e)}}function Lp(i,e){i&1&&(fe(0),k(1,"img",10),ge())}function Bp(i,e){if(i&1&&(l(0,"div",3)(1,"div",4),D(2,Up,1,1,"img",5),l(3,"div",6)(4,"strong"),d(5),c(),l(6,"span",7),D(7,Lp,2,0,"ng-container",8),c()()(),l(8,"p"),d(9),c(),l(10,"small"),d(11),$(12,"date"),c()()),i&2){let t=e.$implicit;m(2),y("ngIf",t.senderUserProfilePictureUrl),m(3),re(t.senderUserFullName),m(2),y("ngForOf",Le(8,Fp).constructor(t.rating)),m(2),re(t.content),m(2),re(Ge(12,5,t.createdAt,"shortDate"))}}var Ur=class i{constructor(e){this.reviewService=e}reviews=[];page=1;pageSize=5;dummyReviews=[{id:"1",senderUserFullName:"Ana Popescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/women/21.jpg",rating:5,content:"Excelent! A fost foarte profesionist\u0103 \u0219i m-a ajutat rapid.",createdAt:new Date("2024-12-05T14:35:00"),updatedAt:new Date("2024-12-05T14:35:00")},{id:"2",senderUserFullName:"Andrei Ionescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/men/32.jpg",rating:4,content:"Serviciu bun, dar am avut o mic\u0103 \xEEnt\xE2rziere la \xEEnceput.",createdAt:new Date("2025-01-10T09:20:00"),updatedAt:new Date("2025-01-10T09:20:00")},{id:"3",senderUserFullName:"Mihai Georgescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/men/45.jpg",rating:3,content:"Experien\u021B\u0103 ok, dar se poate \xEEmbun\u0103t\u0103\u021Bi comunicarea.",createdAt:new Date("2025-03-18T17:45:00"),updatedAt:new Date("2025-03-18T17:45:00")},{id:"4",senderUserFullName:"Elena Tudor",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/women/55.jpg",rating:5,content:"Foarte mul\u021Bumit\u0103! Recomand cu \xEEncredere!",createdAt:new Date("2025-04-02T11:10:00"),updatedAt:new Date("2025-04-02T11:10:00")},{id:"5",senderUserFullName:"Radu Vasile",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/men/61.jpg",rating:2,content:"Din p\u0103cate, nu a fost ce am a\u0219teptat. Probleme de punctualitate.",createdAt:new Date("2025-02-14T08:30:00"),updatedAt:new Date("2025-02-14T08:30:00")},{id:"6",senderUserFullName:"Ioana Marinescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/women/88.jpg",rating:4,content:"Totul a decurs bine, dar a\u0219 fi vrut mai multe explica\u021Bii.",createdAt:new Date("2025-05-22T15:50:00"),updatedAt:new Date("2025-05-22T15:50:00")}];ngOnInit(){this.reviews=this.dummyReviews,this.loadReviews()}loadReviews(){this.reviewService.getReviews(this.page,this.pageSize).subscribe({next:e=>{this.reviews=e.response?.data||[]},error:e=>{console.error("Error loading reviews",e)}})}static \u0275fac=function(t){return new(t||i)(A(Fr))};static \u0275cmp=R({type:i,selectors:[["app-reviews"]],decls:5,vars:1,consts:[[1,"account-card"],[1,"reviews-container"],["class","review-card",4,"ngFor","ngForOf"],[1,"review-card"],[1,"header"],["alt","Profil",3,"src",4,"ngIf"],[1,"review-info"],[1,"rating"],[4,"ngFor","ngForOf"],["alt","Profil",3,"src"],["src","assets/icons/star-filled.svg","alt","star",2,"width","24px","height","24px","margin-right","0"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),d(3,"Recenziile tale"),c(),D(4,Bp,13,9,"div",2),c()()),t&2&&(m(4),y("ngForOf",r.reviews))},dependencies:[ue,Q,nt],styles:[".account-card[_ngcontent-%COMP%]{background:#e0caff;max-width:1000px;margin:32px auto;box-shadow:0 4px 16px #0000001a;font-family:Roboto Mono,monospace;border:3px solid black}.reviews-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:32px}.reviews-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px;text-align:center;margin-bottom:32px;font-weight:700;color:#000}.review-card[_ngcontent-%COMP%]{background-color:#f5f2ff;border-radius:10px;padding:1.25rem;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000000d;transition:transform .2s}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;object-fit:cover;margin-right:16px}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .review-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;padding-top:4px}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .review-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:18px;line-height:1;margin-left:3px;margin-bottom:2px}.review-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-size:1rem;color:#333}.review-card[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;text-align:right;color:#777;font-size:.85rem}.rating[_ngcontent-%COMP%]{display:flex;align-items:center}.rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:1px}"]})};var sl="basil",qp=function(e){return e===3?"v3":e},al="https://js.stripe.com",zp="".concat(al,"/").concat(sl,"/stripe.js"),jp=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,$p=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,rl="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Gp=function(e){return jp.test(e)||$p.test(e)},Kp=function(){for(var e=document.querySelectorAll('script[src^="'.concat(al,'"]')),t=0;t<e.length;t++){var r=e[t];if(Gp(r.src))return r}return null},ol=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(zp).concat(t);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(r),r},Wp=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:t})},pi=null,Lr=null,Br=null,Hp=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},Qp=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},Jp=function(e){return pi!==null?pi:(pi=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe&&e&&console.warn(rl),window.Stripe){t(window.Stripe);return}try{var o=Kp();if(o&&e)console.warn(rl);else if(!o)o=ol(e);else if(o&&Br!==null&&Lr!==null){var u;o.removeEventListener("load",Br),o.removeEventListener("error",Lr),(u=o.parentNode)===null||u===void 0||u.removeChild(o),o=ol(e)}Br=Qp(t,r),Lr=Hp(r),o.addEventListener("load",Br),o.addEventListener("error",Lr)}catch(_){r(_);return}}),pi.catch(function(t){return pi=null,Promise.reject(t)}))},Yp=function(e,t,r){if(e===null)return null;var o=t[0],u=o.match(/^pk_test/),_=qp(e.version),T=sl;u&&_!==T&&console.warn("Stripe.js@".concat(_," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(T,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var V=e.apply(void 0,t);return Wp(V,r),V},mi,cl=!1,ll=function(){return mi||(mi=Jp(null).catch(function(e){return mi=null,Promise.reject(e)}),mi)};Promise.resolve().then(function(){return ll()}).catch(function(i){cl||console.warn(i)});var ul=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];cl=!0;var o=Date.now();return ll().then(function(u){return Yp(u,t,o)})};var qr=class i{serviceTask={id:"12345",replyId:"67890",userId:"user123",specialistId:"spec456",description:"Montare mobilier",address:"Str. Exemplu 123",startDate:new Date,endDate:new Date,specialistFullName:"Ion Popescu",price:350,status:"Confirmed",completedAt:new Date,cancelledAt:new Date};cardPaymentSelected=!1;showError=!1;ngAfterViewInit(){this.setupStripe()}setupStripe(){return ae(this,null,function*(){let e=yield ul("pk_test_51RY4TaRP4R8qcMUlWSJwbW6GBjetIiG7jc4fLrsUcl7xMS8uTMcI2mfDHId8YRAku8lllViJiAY0mVPObrvgLYke00QP5RVa7S");if(!e){console.error("Stripe failed to initialize.");return}let r=e.elements().create("card");r.mount("#card-element");let o=yield fetch("http://localhost:5241/api/stripe/account/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"}}),{clientSecret:u}=yield o.json();console.log("Client secret:",u);let _=document.getElementById("payment-form");if(!_){console.error("Payment form not found.");return}_.addEventListener("submit",T=>ae(this,null,function*(){T.preventDefault();let V=yield e.confirmCardPayment(u,{payment_method:{card:r,billing_details:{name:"Test Client"}}});V.error?console.error(V.error.message):V.paymentIntent.status==="succeeded"&&alert("Plat\u0103 reu\u0219it\u0103!")}))})}selectCardPayment(){this.cardPaymentSelected=!0,this.showError=!1}payForService(){if(!this.cardPaymentSelected){this.showError=!0;return}console.log("Plat\u0103 ini\u021Biat\u0103 cu cardul bancar."),window.open("https://www.plata-cu-cardul.ro","_blank")}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=R({type:i,selectors:[["app-service-payment"]],decls:7,vars:0,consts:[["id","payment-form"],["for","card-element",2,"display","block","margin-bottom","8px"],["id","card-element",2,"padding","10px","border","1px solid #ccc","border-radius","6px","margin-bottom","12px"],["id","card-errors","role","alert",2,"color","red","margin-bottom","12px"],["id","submit","type","submit",2,"padding","10px 20px","background-color","#8e44ad","color","white","border","none","border-radius","4px","cursor","pointer"]],template:function(t,r){t&1&&(l(0,"form",0)(1,"label",1),d(2," Num\u0103r card "),c(),k(3,"div",2)(4,"div",3),l(5,"button",4),d(6," Pl\u0103te\u0219te "),c()())},dependencies:[Y,ot,rt,ft],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f9f7ff;margin:0;padding:0}.container[_ngcontent-%COMP%]{max-width:700px;margin:40px auto;background-color:#fff;padding:32px;border-radius:12px;box-shadow:0 4px 16px #0000001a;border:2px solid #8e44ad}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:24px}.task-detail[_ngcontent-%COMP%]{margin-bottom:12px}.task-detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#555;display:block}.task-detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333;font-size:1rem}.pay-section[_ngcontent-%COMP%]{margin-top:32px;text-align:center}.price[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;color:#27ae60;margin-bottom:16px}.pay-button[_ngcontent-%COMP%]{background-color:#8e44ad;color:#fff;padding:12px 24px;border:none;border-radius:8px;font-size:1rem;cursor:pointer;transition:background-color .2s ease}.pay-button[_ngcontent-%COMP%]:hover{background-color:#732d91}"]})};var zr=class i{constructor(e){this.fb=e;this.contactForm=this.fb.group({name:["",It.required],email:["",[It.required,It.email]],subject:["",It.required],message:["",It.required]})}contactForm;onSubmit(){if(this.contactForm.valid){let e=this.contactForm.value;console.log("Contact form data:",e),alert("Mesajul a fost trimis cu succes!"),this.contactForm.reset()}}static \u0275fac=function(t){return new(t||i)(A(fc))};static \u0275cmp=R({type:i,selectors:[["app-contact-us"]],decls:47,vars:1,consts:[[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"contact-wrapper"],[3,"ngSubmit","formGroup"],["for","name"],["id","name","type","text","formControlName","name","placeholder","Ex: Ana Popescu"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Ex: ana@email.com"],["for","subject"],["id","subject","type","text","formControlName","subject","placeholder","Subiectul mesajului"],["for","message"],["id","message","rows","5","formControlName","message","placeholder","Scrie-ne mesajul t\u0103u..."],[1,"form-actions"],["type","submit"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),d(3,"Ai o \u021Beav\u0103 spart\u0103?"),c(),l(4,"h1",2),d(5,"\u021Ai s-a stricat chiuveta?"),c(),l(6,"h1"),d(7,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),l(8,"strong",3),d(9,"ExpertEase"),c(),d(10,"!"),c()(),l(11,"p"),d(12,"Peste "),l(13,"strong"),d(14,"100 de speciali\u0219ti"),c(),d(15," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),c()(),l(16,"div",4)(17,"h2"),d(18,"Contacteaz\u0103-ne"),c(),l(19,"p")(20,"strong"),d(21,"Email:"),c(),d(22," contact@expertease.ro"),c(),l(23,"p")(24,"strong"),d(25,"Telefon:"),c(),d(26," +40 712 345 678"),c(),l(27,"p")(28,"strong"),d(29,"Adres\u0103:"),c(),d(30," Str. Exemplului 123, Bucure\u0219ti"),c(),l(31,"form",5),I("ngSubmit",function(){return r.onSubmit()}),l(32,"label",6),d(33,"Nume complet"),c(),k(34,"input",7),l(35,"label",8),d(36,"Email"),c(),k(37,"input",9),l(38,"label",10),d(39,"Subiect"),c(),k(40,"input",11),l(41,"label",12),d(42,"Mesaj"),c(),k(43,"textarea",13),l(44,"div",14)(45,"button",15),d(46,"Trimite"),c()()()()),t&2&&(m(31),y("formGroup",r.contactForm))},dependencies:[Pt,ot,ke,Ne,rt,Vo,ko],styles:[".home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.contact-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:10px auto;padding:24px;font-family:Roboto Mono,monospace;border:2px solid #3c1a7d;border-radius:8px;background-color:#fff}h2[_ngcontent-%COMP%]{color:#3c1a7d;margin-bottom:24px;text-align:center}label[_ngcontent-%COMP%]{display:block;margin:12px 0 4px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;height:auto;padding:8px 10px;line-height:1.4;font-size:14px;box-sizing:border-box;border:1px solid #ccc;border-radius:4px;margin-bottom:12px;font-family:Roboto Mono,monospace}.form-actions[_ngcontent-%COMP%]{text-align:center;margin-top:20px}button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:300px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}"]})};var jr=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=R({type:i,selectors:[["app-terms"]],decls:104,vars:0,consts:[[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"terms-container"],["href","/confidentialitate",1,"privacy-link"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),d(3,"Ai o \u021Beav\u0103 spart\u0103?"),c(),l(4,"h1",2),d(5,"\u021Ai s-a stricat chiuveta?"),c(),l(6,"h1"),d(7,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),l(8,"strong",3),d(9,"ExpertEase"),c(),d(10,"!"),c()(),l(11,"p"),d(12,"Peste "),l(13,"strong"),d(14,"100 de speciali\u0219ti"),c(),d(15," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),c()(),l(16,"div",4)(17,"section")(18,"h2"),d(19,"Introducere"),c(),l(20,"p"),d(21," Acest document stabile\u0219te termenii \u0219i condi\u021Biile de utilizare a platformei "),l(22,"strong"),d(23,"ExpertEase"),c(),d(24,". Prin accesarea sau utilizarea serviciilor noastre, sunte\u021Bi de acord cu ace\u0219ti termeni. "),c()(),l(25,"section")(26,"h2"),d(27,"Defini\u021Bii"),c(),l(28,"p")(29,"strong"),d(30,"Platform\u0103:"),c(),d(31," aplica\u021Bia ExpertEase care faciliteaz\u0103 conexiunea dintre clien\u021Bi \u0219i speciali\u0219ti."),c(),l(32,"p")(33,"strong"),d(34,"Client:"),c(),d(35," utilizator care solicit\u0103 servicii."),c(),l(36,"p")(37,"strong"),d(38,"Specialist:"),c(),d(39," utilizator care ofer\u0103 servicii."),c()(),l(40,"section")(41,"h2"),d(42,"Condi\u021Bii de utilizare"),c(),l(43,"ul")(44,"li"),d(45,"Accesul necesit\u0103 crearea unui cont valid."),c(),l(46,"li"),d(47,"Utilizatorii trebuie s\u0103 aib\u0103 minim 18 ani."),c(),l(48,"li"),d(49,"Este interzis\u0103 utilizarea platformei \xEEn scopuri ilegale, abuzive sau frauduloase."),c()()(),l(50,"section")(51,"h2"),d(52,"Obliga\u021Biile utilizatorilor"),c(),l(53,"p")(54,"strong"),d(55,"Clien\u021Bi:"),c()(),l(56,"ul")(57,"li"),d(58,"S\u0103 ofere informa\u021Bii clare \u0219i reale despre cerere."),c(),l(59,"li"),d(60,"S\u0103 respecte termenii agrea\u021Bi cu specialistul."),c()(),l(61,"p")(62,"strong"),d(63,"Speciali\u0219ti:"),c()(),l(64,"ul")(65,"li"),d(66,"S\u0103 ofere servicii conforme cu descrierea."),c(),l(67,"li"),d(68,"S\u0103 respecte confiden\u021Bialitatea \u0219i termenele stabilite."),c()()(),l(69,"section")(70,"h2"),d(71,"Pl\u0103\u021Bi \u0219i comisioane"),c(),l(72,"p"),d(73," Pl\u0103\u021Bile se realizeaz\u0103 prin Stripe. Comisioanele platformei, dac\u0103 exist\u0103, vor fi afi\u0219ate transparent \xEEnainte de confirmarea serviciului. "),c()(),l(74,"section")(75,"h2"),d(76,"Limitarea r\u0103spunderii"),c(),l(77,"p"),d(78," Platforma ExpertEase ac\u021Bioneaz\u0103 doar ca intermediar. Nu ne asum\u0103m responsabilitatea pentru calitatea serviciilor oferite de speciali\u0219ti. "),c()(),l(79,"section")(80,"h2"),d(81,"Suspendarea contului"),c(),l(82,"p"),d(83," Ne rezerv\u0103m dreptul de a suspenda sau \u0219terge conturi care \xEEncalc\u0103 ace\u0219ti termeni sau folosesc platforma \xEEn mod abuziv. "),c()(),l(84,"section")(85,"h2"),d(86,"Protec\u021Bia datelor"),c(),l(87,"p"),d(88," Datele personale sunt gestionate conform "),l(89,"a",5),d(90,"Politicii de confiden\u021Bialitate"),c(),d(91,". "),c()(),l(92,"section")(93,"h2"),d(94,"Modificarea termenilor"),c(),l(95,"p"),d(96," Putem actualiza ace\u0219ti termeni periodic. Modific\u0103rile vor fi anun\u021Bate \xEEn aplica\u021Bie \u0219i vor intra \xEEn vigoare la publicare. "),c()(),l(97,"section")(98,"h2"),d(99,"Contact"),c(),l(100,"p"),d(101," Pentru \xEEntreb\u0103ri legate de ace\u0219ti termeni, ne pute\u021Bi contacta la: "),l(102,"strong"),d(103,"contact@expertease.ro"),c()()()())},styles:[".home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.home-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}.terms-container[_ngcontent-%COMP%]{max-width:900px;margin:10px auto;padding:0 24px;font-family:Roboto Mono,monospace;font-size:16px;line-height:1.6}.terms-container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{border:2px solid #3c1a7d;border-radius:8px;padding:24px;margin-bottom:32px;background-color:#fff}.terms-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px;color:#3c1a7d}.terms-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:24px;margin-top:8px;margin-bottom:12px}.terms-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.privacy-link[_ngcontent-%COMP%]{color:#000;text-decoration:none;font-weight:700}.privacy-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var $r=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=R({type:i,selectors:[["app-privacy"]],decls:103,vars:0,consts:[[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"privacy-container"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),d(3,"Ai o \u021Beav\u0103 spart\u0103?"),c(),l(4,"h1",2),d(5,"\u021Ai s-a stricat chiuveta?"),c(),l(6,"h1"),d(7,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),l(8,"strong",3),d(9,"ExpertEase"),c(),d(10,"!"),c()(),l(11,"p"),d(12,"Peste "),l(13,"strong"),d(14,"100 de speciali\u0219ti"),c(),d(15," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),c()(),l(16,"div",4)(17,"section")(18,"h2"),d(19,"Politica de Confiden\u021Bialitate"),c(),l(20,"p"),d(21," Aceast\u0103 politic\u0103 explic\u0103 modul \xEEn care ExpertEase colecteaz\u0103, utilizeaz\u0103 \u0219i protejeaz\u0103 datele personale ale utilizatorilor platformei. Ne angaj\u0103m s\u0103 respect\u0103m confiden\u021Bialitatea \u0219i s\u0103 protej\u0103m toate informa\u021Biile personale furnizate. "),c()(),l(22,"section")(23,"h2"),d(24,"Tipuri de date colectate"),c(),l(25,"ul")(26,"li"),d(27,"Nume \u0219i prenume"),c(),l(28,"li"),d(29,"Adres\u0103 de email"),c(),l(30,"li"),d(31,"Num\u0103r de telefon (dac\u0103 este furnizat)"),c(),l(32,"li"),d(33,"Mesaje transmise prin formularele de contact"),c(),l(34,"li"),d(35,"Date pentru autentificare \xEEn cont"),c(),l(36,"li"),d(37,"Date de plat\u0103 (prin Stripe)"),c(),l(38,"li"),d(39,"Informa\u021Bii despre dispozitiv \u0219i IP (pentru securitate)"),c()()(),l(40,"section")(41,"h2"),d(42,"Scopul prelucr\u0103rii datelor"),c(),l(43,"ul")(44,"li"),d(45,"Crearea \u0219i administrarea contului de utilizator"),c(),l(46,"li"),d(47,"Procesarea solicit\u0103rilor \u0219i a pl\u0103\u021Bilor"),c(),l(48,"li"),d(49,"Comunicare \xEEntre utilizatori (client\u2013specialist)"),c(),l(50,"li"),d(51,"\xCEmbun\u0103t\u0103\u021Birea platformei \u0219i a experien\u021Bei de utilizare"),c(),l(52,"li"),d(53,"Respectarea obliga\u021Biilor legale"),c()()(),l(54,"section")(55,"h2"),d(56,"Temeiuri legale (GDPR)"),c(),l(57,"p"),d(58," Datele sunt colectate \xEEn baza consim\u021B\u0103m\xE2ntului dumneavoastr\u0103, a interesului legitim al platformei sau \xEEn scopul execut\u0103rii unui contract. "),c()(),l(59,"section")(60,"h2"),d(61,"Durata de stocare a datelor"),c(),l(62,"p"),d(63," Datele sunt p\u0103strate pe durata existen\u021Bei contului sau conform obliga\u021Biilor legale. Utilizatorii pot solicita \u0219tergerea acestora \xEEn orice moment. "),c()(),l(64,"section")(65,"h2"),d(66,"Partajarea datelor"),c(),l(67,"p"),d(68," Datele nu sunt v\xE2ndute c\u0103tre ter\u021Bi. Ele pot fi partajate doar cu furnizori de servicii esen\u021Biali (ex: Stripe pentru procesarea pl\u0103\u021Bilor). "),c()(),l(69,"section")(70,"h2"),d(71,"Drepturile utilizatorilor"),c(),l(72,"ul")(73,"li"),d(74,"Dreptul de acces la date"),c(),l(75,"li"),d(76,"Dreptul de rectificare sau \u0219tergere"),c(),l(77,"li"),d(78,"Dreptul de restric\u021Bionare a prelucr\u0103rii"),c(),l(79,"li"),d(80,"Dreptul de opozi\u021Bie"),c(),l(81,"li"),d(82,"Dreptul la portabilitatea datelor"),c(),l(83,"li"),d(84,"Dreptul de a depune pl\xE2ngere la ANSPDCP"),c()()(),l(85,"section")(86,"h2"),d(87,"Securitatea datelor"),c(),l(88,"p"),d(89," Implement\u0103m m\u0103suri tehnice \u0219i organizatorice pentru a proteja datele (criptare, acces limitat, autentificare securizat\u0103). "),c()(),l(90,"section")(91,"h2"),d(92,"Modific\u0103ri ale politicii"),c(),l(93,"p"),d(94," Politica poate fi actualizat\u0103. Modific\u0103rile vor fi publicate pe aceast\u0103 pagin\u0103 \u0219i vor intra \xEEn vigoare imediat. "),c()(),l(95,"section")(96,"h2"),d(97,"Contact"),c(),l(98,"p"),d(99," Pentru \xEEntreb\u0103ri legate de datele tale, ne po\u021Bi scrie la "),l(100,"strong"),d(101,"contact@expertease.ro"),c(),d(102,". "),c()()())},styles:[".home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.privacy-container[_ngcontent-%COMP%]{max-width:900px;margin:10px auto;padding:0 24px;font-family:Roboto Mono,monospace;font-size:16px;line-height:1.6}.privacy-container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{border:2px solid #3c1a7d;border-radius:8px;padding:24px;margin-bottom:32px;background-color:#fff}.privacy-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px;color:#3c1a7d}.privacy-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:24px;margin-top:8px;margin-bottom:12px}.privacy-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}"]})};var Gr=[{path:"home",component:ir},{path:"about",component:rr},{path:"contact-us",component:zr},{path:"terms",component:jr},{path:"privacy",component:$r},{path:"profile",component:hr,canActivate:[ci]},{path:"home/:id",loadComponent:()=>import("./chunk-Y2FJIHV6.js").then(i=>i.SpecialistDetailsComponent)},{path:"specialist/:id",component:Co},{path:"messages",component:Dr,canActivate:[ci]},{path:"profile/user/become-specialist",component:Vr},{path:"profile/user-settings",component:Nr},{path:"profile/user-reviews",component:Ur},{path:"request-form",component:vn},{path:"register",component:or},{path:"login",component:sr},{path:"specialist-details",component:Co},{path:"service-payment",component:qr},{path:"admin",component:ar},{path:"admin/users",component:cr},{path:"admin/specialists",component:lr},{path:"admin/categories",component:kr},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:ur}];var fs={providers:[Ia({eventCoalescing:!0}),Li(Gr),Ra()]};var Xp=i=>({show:i});function Zp(i,e){i&1&&(l(0,"li")(1,"a",16),d(2,"Mesajele tale"),c()())}var Kr=class i{constructor(e,t){this.authService=e;this.router=t;this.router.events.pipe(ba(r=>r instanceof ka)).subscribe(r=>{console.log("Navigated to:",r)})}title="ExpertEase.Frontend";navbarOpen=!1;toggleNavbar(){this.navbarOpen=!this.navbarOpen}static \u0275fac=function(t){return new(t||i)(A(q),A(Ie))};static \u0275cmp=R({type:i,selectors:[["app-root"]],decls:33,vars:6,consts:[[1,"navbar"],["routerLink","/home","data-btn","Acas\u0103",1,"logo-button","toggle-btn"],["src","logo.svg","alt","Logo"],[1,"navbar-toggle",3,"click"],[1,"navbar-links",3,"ngClass"],["routerLink","profile/user/become-specialist","routerLinkActive","active"],["routerLink","/about","routerLinkActive","active"],[4,"ngIf"],["routerLinkActive","active",3,"routerLink"],["routerLink","/admin","routerLinkActive","active"],[1,"site-footer"],[1,"footer-content"],[1,"footer-links"],["routerLink","/contact-us","routerLinkActive","active"],["routerLink","/terms","routerLinkActive","active"],["routerLink","/privacy","routerLinkActive","active"],["routerLink","/messages","routerLinkActive","active"]],template:function(t,r){t&1&&(l(0,"nav",0)(1,"button",1),k(2,"img",2),c(),l(3,"button",3),I("click",function(){return r.toggleNavbar()}),d(4,"\u2630"),c(),l(5,"ul",4)(6,"li")(7,"a",5),d(8,"Devino specialist!"),c()(),l(9,"li")(10,"a",6),d(11,"Despre noi"),c()(),D(12,Zp,3,0,"li",7),l(13,"li")(14,"a",8),d(15),c()(),l(16,"li")(17,"a",9),d(18,"Admin Dashboard"),c()()()(),k(19,"router-outlet"),l(20,"footer",10)(21,"div",11)(22,"p"),d(23,"\xA9 2025 ExpertEase. Toate drepturile rezervate."),c(),l(24,"nav",12)(25,"a",6),d(26,"Despre noi"),c(),l(27,"a",13),d(28,"Contacteaz\u0103-ne!"),c(),l(29,"a",14),d(30,"Termeni \u0219i condi\u021Bii"),c(),l(31,"a",15),d(32,"Politic\u0103 de confiden\u021Bialitate"),c()()()()),t&2&&(m(5),y("ngClass",St(4,Xp,r.navbarOpen)),m(7),y("ngIf",r.authService.getUserRole()==="Client"||r.authService.getUserRole()==="Specialist"),m(2),y("routerLink",r.authService.getToken()?"/profile":"/register"),m(),F(" ",r.authService.getToken()?"Contul t\u0103u":"\xCEnregistreaz\u0103-te!"," "))},dependencies:[se,Ke,Q,Ui,it],styles:[".navbar[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center;padding:16px 32px;background-color:#1e1e2f;color:#fff;box-shadow:0 2px 2px #0000001a;position:relative}.navbar-toggle[_ngcontent-%COMP%]{display:none;font-size:32px;background:none;border:none;color:#fff;cursor:pointer}.navbar-links[_ngcontent-%COMP%]{list-style:none;display:grid;grid-auto-flow:column;gap:24px;margin:0;padding:0;font-family:Roboto Mono,monospace}.navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:2px 0;transition:border-bottom .2s ease}.navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:2px solid white}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{grid-template-columns:1fr auto;grid-template-rows:auto auto;row-gap:16px}.navbar-toggle[_ngcontent-%COMP%]{display:block}.navbar-links[_ngcontent-%COMP%]{display:none;grid-auto-flow:row;width:100%;grid-column:1/-1}.navbar-links.show[_ngcontent-%COMP%]{display:grid}}.site-footer[_ngcontent-%COMP%]{background-color:#3c1a7d;color:#fff;padding:24px;text-align:center;font-family:Roboto Mono,monospace;margin-top:64px}.site-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{max-width:900px;margin:0 auto}.footer-links[_ngcontent-%COMP%]{margin-top:12px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin:0 12px;font-size:14px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};Oa(Kr,pe(z({},fs),{providers:[...fs.providers,Li(Gr)]})).catch(i=>console.error(i));
