import{$ as te,A as un,Aa as Fe,B as He,Ba as mn,C as p,Ca as Ma,D as ei,Da as se,E as D,Ea as Oa,F as R,Fa as L,G as Fi,Ga as tt,H as fe,Ha as ye,I as ke,Ia as Ra,J as A,Ja as ka,K as Ea,Ka as Va,L as Sa,La as Li,M as _,Ma as Te,N as Xe,Na as st,O as l,Oa as Na,P as a,Pa as qi,Q as k,Qa as $,R as ge,Ra as fn,S as _e,Sa as So,T as N,U as I,V as w,W as Ve,X as u,Y as j,Z as V,_ as Ui,a as G,aa as ne,b as me,ba as ie,c as he,ca as Ze,d as cn,da as ze,e as mt,ea as St,f as ln,fa as et,g as Co,ga as U,h as ba,ha as ue,i as Ca,ia as pe,j as xa,ja as Ia,k as wa,ka as It,l as xo,la as ti,m as We,ma as Ta,n as zt,na as Bi,o as Vi,oa as wo,p as Ye,pa as ft,q as J,qa as dn,r as Ni,ra as Eo,s as jt,sa as Ne,t as H,ta as le,u as $t,ua as Y,v as M,va as hn,w as O,wa as pn,x as Gt,xa as Da,y as z,ya as Pa,z as Zn,za as Aa}from"./chunk-Y52V3B5U.js";var Ka=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(D(ei),D(Zn))};static \u0275dir=fe({type:n})}return n})(),ci=(()=>{class n extends Ka{static \u0275fac=(()=>{let t;return function(o){return(t||(t=Gt(n)))(o||n)}})();static \u0275dir=fe({type:n,features:[ke]})}return n})(),Wt=new jt(""),ql={provide:Wt,useExisting:Ye(()=>Po),multi:!0},Po=(()=>{class n extends ci{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Gt(n)))(o||n)}})();static \u0275dir=fe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,o){i&1&&I("change",function(y){return o.onChange(y.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Ze([ql]),ke]})}return n})(),zl={provide:Wt,useExisting:Ye(()=>Ue),multi:!0};function jl(){let n=Eo()?Eo().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var $l=new jt(""),Ue=(()=>{class n extends Ka{_compositionMode;_composing=!1;constructor(t,i,o){super(t,i),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!jl())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(D(ei),D(Zn),D($l,8))};static \u0275dir=fe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&I("input",function(y){return o._handleInput(y.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(y){return o._compositionEnd(y.target.value)})},standalone:!1,features:[Ze([zl]),ke]})}return n})();function Ao(n){return n==null||Mo(n)===0}function Mo(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var li=new jt(""),Zi=new jt(""),Gl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Tt=class{static min(e){return Kl(e)}static max(e){return Wl(e)}static required(e){return Wa(e)}static requiredTrue(e){return Hl(e)}static email(e){return Ql(e)}static minLength(e){return Jl(e)}static maxLength(e){return Yl(e)}static pattern(e){return Xl(e)}static nullValidator(e){return ji()}static compose(e){return Za(e)}static composeAsync(e){return ec(e)}};function Kl(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Wl(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Wa(n){return Ao(n.value)?{required:!0}:null}function Hl(n){return n.value===!0?null:{required:!0}}function Ql(n){return Ao(n.value)||Gl.test(n.value)?null:{email:!0}}function Jl(n){return e=>{let t=e.value?.length??Mo(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function Yl(n){return e=>{let t=e.value?.length??Mo(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function Xl(n){if(!n)return ji;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Ao(i.value))return null;let o=i.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}function ji(n){return null}function Ha(n){return n!=null}function Qa(n){return Ea(n)?ln(n):n}function Ja(n){let e={};return n.forEach(t=>{e=t!=null?G(G({},e),t):e}),Object.keys(e).length===0?null:e}function Ya(n,e){return e.map(t=>t(n))}function Zl(n){return!n.validate}function Xa(n){return n.map(e=>Zl(e)?e:t=>e.validate(t))}function Za(n){if(!n)return null;let e=n.filter(Ha);return e.length==0?null:function(t){return Ja(Ya(t,e))}}function Oo(n){return n!=null?Za(Xa(n)):null}function ec(n){if(!n)return null;let e=n.filter(Ha);return e.length==0?null:function(t){let i=Ya(t,e).map(Qa);return xa(i).pipe(Ca(Ja))}}function Ro(n){return n!=null?ec(Xa(n)):null}function Fa(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function tc(n){return n._rawValidators}function nc(n){return n._rawAsyncValidators}function Io(n){return n?Array.isArray(n)?n:[n]:[]}function $i(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ua(n,e){let t=Io(e);return Io(n).forEach(o=>{$i(t,o)||t.push(o)}),t}function Ba(n,e){return Io(e).filter(t=>!$i(n,t))}var Gi=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Oo(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ro(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},gt=class extends Gi{name;get formDirective(){return null}get path(){return null}},Kt=class extends Gi{_parent=null;name=null;valueAccessor=null},Ki=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},eu={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},mm=me(G({},eu),{"[class.ng-submitted]":"isSubmitted"}),Be=(()=>{class n extends Ki{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(D(Kt,2))};static \u0275dir=fe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Xe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[ke]})}return n})(),Pt=(()=>{class n extends Ki{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(D(gt,10))};static \u0275dir=fe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Xe("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[ke]})}return n})();var ni="VALID",zi="INVALID",gn="PENDING",ii="DISABLED",Dt=class{},Wi=class extends Dt{value;source;constructor(e,t){super(),this.value=e,this.source=t}},oi=class extends Dt{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},si=class extends Dt{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},_n=class extends Dt{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Hi=class extends Dt{source;constructor(e){super(),this.source=e}},Qi=class extends Dt{source;constructor(e){super(),this.source=e}};function ko(n){return(er(n)?n.validators:n)||null}function tu(n){return Array.isArray(n)?Oo(n):n||null}function Vo(n,e){return(er(e)?e.asyncValidators:n)||null}function nu(n){return Array.isArray(n)?Ro(n):n||null}function er(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function ic(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new Vi(1e3,"");if(!i[t])throw new Vi(1001,"")}function rc(n,e,t){n._forEachChild((i,o)=>{if(t[o]===void 0)throw new Vi(1002,"")})}var yn=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ft(this.statusReactive)}set status(e){ft(()=>this.statusReactive.set(e))}_status=dn(()=>this.statusReactive());statusReactive=un(void 0);get valid(){return this.status===ni}get invalid(){return this.status===zi}get pending(){return this.status==gn}get disabled(){return this.status===ii}get enabled(){return this.status!==ii}errors;get pristine(){return ft(this.pristineReactive)}set pristine(e){ft(()=>this.pristineReactive.set(e))}_pristine=dn(()=>this.pristineReactive());pristineReactive=un(!0);get dirty(){return!this.pristine}get touched(){return ft(this.touchedReactive)}set touched(e){ft(()=>this.touchedReactive.set(e))}_touched=dn(()=>this.touchedReactive());touchedReactive=un(!1);get untouched(){return!this.touched}_events=new cn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ua(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ua(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ba(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ba(e,this._rawAsyncValidators))}hasValidator(e){return $i(this._rawValidators,e)}hasAsyncValidator(e){return $i(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(me(G({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new si(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new si(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(me(G({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new oi(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new oi(!0,i))}markAsPending(e={}){this.status=gn;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new _n(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(me(G({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ii,this.errors=null,this._forEachChild(o=>{o.disable(me(G({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wi(this.value,i)),this._events.next(new _n(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(me(G({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ni,this._forEachChild(i=>{i.enable(me(G({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(me(G({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ni||this.status===gn)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Wi(this.value,t)),this._events.next(new _n(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(me(G({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ii:ni}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=gn,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=Qa(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,o)=>i&&i._find(o),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new _n(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new z,this.statusChanges=new z}_calculateStatus(){return this._allControlsDisabled()?ii:this.errors?zi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gn)?gn:this._anyControlsHaveStatus(zi)?zi:ni}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),o=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),o&&this._events.next(new oi(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new si(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){er(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=tu(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=nu(this._rawAsyncValidators)}},vn=class extends yn{constructor(e,t,i){super(ko(t),Vo(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){rc(this,!0,e),Object.keys(e).forEach(i=>{ic(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let o=this.controls[i];o&&o.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,o)=>{i.reset(e?e[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,o)=>((i.enabled||this.disabled)&&(t[o]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((o,d)=>{i=t(i,o,d)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var To=class extends vn{};var ui=new jt("",{providedIn:"root",factory:()=>tr}),tr="always";function oc(n,e){return[...e.path,n]}function Ji(n,e,t=tr){No(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),ru(n,e),su(n,e),ou(n,e),iu(n,e)}function La(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Xi(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Yi(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function iu(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function No(n,e){let t=tc(n);e.validator!==null?n.setValidators(Fa(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=nc(n);e.asyncValidator!==null?n.setAsyncValidators(Fa(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let o=()=>n.updateValueAndValidity();Yi(e._rawValidators,o),Yi(e._rawAsyncValidators,o)}function Xi(n,e){let t=!1;if(n!==null){if(e.validator!==null){let o=tc(n);if(Array.isArray(o)&&o.length>0){let d=o.filter(y=>y!==e.validator);d.length!==o.length&&(t=!0,n.setValidators(d))}}if(e.asyncValidator!==null){let o=nc(n);if(Array.isArray(o)&&o.length>0){let d=o.filter(y=>y!==e.asyncValidator);d.length!==o.length&&(t=!0,n.setAsyncValidators(d))}}}let i=()=>{};return Yi(e._rawValidators,i),Yi(e._rawAsyncValidators,i),t}function ru(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&sc(n,e)})}function ou(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&sc(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function sc(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function su(n,e){let t=(i,o)=>{e.valueAccessor.writeValue(i),o&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function ac(n,e){n==null,No(n,e)}function au(n,e){return Xi(n,e)}function cc(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function cu(n){return Object.getPrototypeOf(n.constructor)===ci}function lc(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function uc(n,e){if(!e)return null;Array.isArray(e);let t,i,o;return e.forEach(d=>{d.constructor===Ue?t=d:cu(d)?i=d:o=d}),o||i||t||null}function lu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var uu={provide:gt,useExisting:Ye(()=>Ht)},ri=Promise.resolve(),Ht=(()=>{class n extends gt{callSetDisabledState;get submitted(){return ft(this.submittedReactive)}_submitted=dn(()=>this.submittedReactive());submittedReactive=un(!1);_directives=new Set;form;ngSubmit=new z;options;constructor(t,i,o){super(),this.callSetDisabledState=o,this.form=new vn({},Oo(t),Ro(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ri.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Ji(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ri.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ri.then(()=>{let i=this._findContainer(t.path),o=new vn({});ac(o,t),i.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ri.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){ri.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),lc(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Hi(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Qi(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||n)(D(li,10),D(Zi,10),D(ui,8))};static \u0275dir=fe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&I("submit",function(y){return o.onSubmit(y)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ze([uu]),ke]})}return n})();function qa(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function za(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var ai=class extends yn{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(ko(t),Vo(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),er(t)&&(t.nonNullable||t.initialValueIsDefault)&&(za(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){qa(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){qa(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){za(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var du=n=>n instanceof ai;var hu={provide:Kt,useExisting:Ye(()=>je)},ja=Promise.resolve(),je=(()=>{class n extends Kt{_changeDetectorRef;callSetDisabledState;control=new ai;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new z;constructor(t,i,o,d,y,T){super(),this._changeDetectorRef=y,this.callSetDisabledState=T,this._parent=t,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=uc(this,d)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),cc(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ji(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){ja.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,o=i!==0&&wo(i);ja.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?oc(t,this._parent):[t]}static \u0275fac=function(i){return new(i||n)(D(gt,9),D(li,10),D(Zi,10),D(Wt,10),D(Bi,8),D(ui,8))};static \u0275dir=fe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ze([hu]),ke,$t]})}return n})();var At=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),pu={provide:Wt,useExisting:Ye(()=>Fo),multi:!0},Fo=(()=>{class n extends ci{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Gt(n)))(o||n)}})();static \u0275dir=fe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,o){i&1&&I("input",function(y){return o.onChange(y.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Ze([pu]),ke]})}return n})();var dc=new jt("");var mu={provide:gt,useExisting:Ye(()=>Uo)},Uo=(()=>{class n extends gt{callSetDisabledState;get submitted(){return ft(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=dn(()=>this._submittedReactive());_submittedReactive=un(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new z;constructor(t,i,o){super(),this.callSetDisabledState=o,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return Ji(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){La(t.control||null,t,!1),lu(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),lc(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Hi(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Qi(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,o=this.form.get(t.path);i!==o&&(La(i||null,t),du(o)&&(Ji(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);ac(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&au(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){No(this.form,this),this._oldForm&&Xi(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(D(li,10),D(Zi,10),D(ui,8))};static \u0275dir=fe({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&I("submit",function(y){return o.onSubmit(y)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ze([mu]),ke,$t]})}return n})();var fu={provide:Kt,useExisting:Ye(()=>Bo)},Bo=(()=>{class n extends Kt{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new z;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,o,d,y){super(),this._ngModelWarningConfig=y,this._parent=t,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=uc(this,d)}ngOnChanges(t){this._added||this._setUpControl(),cc(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return oc(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(D(gt,13),D(li,10),D(Zi,10),D(Wt,10),D(dc,8))};static \u0275dir=fe({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ze([fu]),ke,$t]})}return n})();var gu={provide:Wt,useExisting:Ye(()=>Mt),multi:!0};function hc(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function _u(n){return n.split(":")[0]}var Mt=(()=>{class n extends ci{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i=this._getOptionId(t),o=hc(i,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=_u(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Gt(n)))(o||n)}})();static \u0275dir=fe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,o){i&1&&I("change",function(y){return o.onChange(y.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ze([gu]),ke]})}return n})(),bn=(()=>{class n{_element;_renderer;_select;id;constructor(t,i,o){this._element=t,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(hc(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(D(Zn),D(ei),D(Mt,9))};static \u0275dir=fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),yu={provide:Wt,useExisting:Ye(()=>pc),multi:!0};function $a(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function vu(n){return n.split(":")[0]}var pc=(()=>{class n extends ci{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i;if(Array.isArray(t)){let o=t.map(d=>this._getOptionId(d));i=(d,y)=>{d._setSelected(o.indexOf(y.toString())>-1)}}else i=(o,d)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let o=[],d=i.selectedOptions;if(d!==void 0){let y=d;for(let T=0;T<y.length;T++){let F=y[T],q=this._getOptionValue(F.value);o.push(q)}}else{let y=i.options;for(let T=0;T<y.length;T++){let F=y[T];if(F.selected){let q=this._getOptionValue(F.value);o.push(q)}}}this.value=o,t(o)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=vu(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Gt(n)))(o||n)}})();static \u0275dir=fe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,o){i&1&&I("change",function(y){return o.onChange(y.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Ze([yu]),ke]})}return n})(),Cn=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,i,o){this._element=t,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue($a(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue($a(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(D(Zn),D(ei),D(pc,9))};static \u0275dir=fe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var bu=(()=>{class n{_validator=ji;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):ji,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=fe({type:n,features:[$t]})}return n})();var Cu={provide:li,useExisting:Ye(()=>di),multi:!0};var di=(()=>{class n extends bu{required;inputName="required";normalizeInput=wo;createValidator=t=>Wa;enabled(t){return t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=Gt(n)))(o||n)}})();static \u0275dir=fe({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,o){i&2&&Sa("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Ze([Cu]),ke]})}return n})();var mc=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fi({type:n});static \u0275inj=Ni({})}return n})(),Do=class extends yn{constructor(e,t,i){super(ko(t),Vo(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){rc(this,!1,e),e.forEach((i,o)=>{ic(this,!1,o),this.at(o).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,o)=>{this.at(o)&&this.at(o).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,o)=>{i.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Ga(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var fc=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let o=this._reduceControls(t),d={};return Ga(i)?d=i:i!==null&&(d.validators=i.validator,d.asyncValidators=i.asyncValidator),new vn(o,d)}record(t,i=null){let o=this._reduceControls(t);return new To(o,i)}control(t,i,o){let d={};return this.useNonNullable?(Ga(i)?d=i:(d.validators=i,d.asyncValidators=o),new ai(t,me(G({},d),{nonNullable:!0}))):new ai(t,i,o)}array(t,i,o){let d=t.map(y=>this._createControl(y));return new Do(d,i,o)}_reduceControls(t){let i={};return Object.keys(t).forEach(o=>{i[o]=this._createControl(t[o])}),i}_createControl(t){if(t instanceof ai)return t;if(t instanceof yn)return t;if(Array.isArray(t)){let i=t[0],o=t.length>1?t[1]:null,d=t.length>2?t[2]:null;return this.control(i,o,d)}else return this.control(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Z=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ui,useValue:t.callSetDisabledState??tr}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fi({type:n});static \u0275inj=Ni({imports:[mc]})}return n})(),Ot=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:dc,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ui,useValue:t.callSetDisabledState??tr}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=Fi({type:n});static \u0275inj=Ni({imports:[mc]})}return n})();var Qe=class n{searchTerm="";placeholder="Caut\u0103 ...";searchChanged=new z;onSearchChanged(){this.searchChanged.emit(this.searchTerm.trim())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-search-input"]],inputs:{placeholder:"placeholder"},outputs:{searchChanged:"searchChanged"},decls:4,vars:2,consts:[[1,"search-box"],["type","text",3,"ngModelChange","placeholder","ngModel"],["aria-label","Search",1,"search-icon-button",3,"click"],["src","assets/icons/search.svg","alt","Search Icon"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"input",1),ie("ngModelChange",function(d){return ne(i.searchTerm,d)||(i.searchTerm=d),d}),a(),l(2,"button",2),I("click",function(){return i.onSearchChanged()}),k(3,"img",3),a()()),t&2&&(p(),_("placeholder",i.placeholder||"Caut\u0103..."),te("ngModel",i.searchTerm))},dependencies:[se,Z,Ue,Be,je],styles:[".search-box[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;align-items:center;gap:20px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 50px 15px 20px;border:none;background:transparent;outline:none;font-family:Roboto Mono,monospace;font-size:12px}.search-icon-button[_ngcontent-%COMP%]{background:none;border:none;padding:0 16px;font-size:1.2rem;color:#444;cursor:pointer;display:flex;align-items:center;justify-content:center}.search-icon-button[_ngcontent-%COMP%]:hover{color:#000}.search-icon-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}"]})};function xu(n,e){if(n&1&&(l(0,"option",7),u(1),a()),n&2){let t=e.$implicit;_("value",t),p(),j(t)}}var at=class n{currentPage=1;totalItems=0;pageSize=10;pageSizeOptions=[5,10,20];pageChange=new z;pageSizeChange=new z;getTotalPages(){return Math.ceil(this.totalItems/this.pageSize)}goToPreviousPage(){this.currentPage>1&&this.pageChange.emit(this.currentPage-1)}goToNextPage(){this.currentPage<this.getTotalPages()&&this.pageChange.emit(this.currentPage+1)}onPageSizeChange(e){let t=Number(e);this.pageSizeChange.emit(t)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-pagination"]],inputs:{currentPage:"currentPage",totalItems:"totalItems",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange"},decls:13,vars:6,consts:[[1,"pagination-wrapper"],[1,"page-size-selector"],["for","pageSize"],["id","pageSize",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"pagination-controls"],[3,"click","disabled"],[3,"value"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"label",2),u(3,"Afi\u0219eaz\u0103 pe pagin\u0103:"),a(),l(4,"select",3),ie("ngModelChange",function(d){return ne(i.pageSize,d)||(i.pageSize=d),d}),I("change",function(){return i.onPageSizeChange(i.pageSize)}),A(5,xu,2,2,"option",4),a()(),l(6,"div",5)(7,"button",6),I("click",function(){return i.goToPreviousPage()}),u(8,"\u2190"),a(),l(9,"span"),u(10),a(),l(11,"button",6),I("click",function(){return i.goToNextPage()}),u(12,"\u2192"),a()()()),t&2&&(p(4),te("ngModel",i.pageSize),p(),_("ngForOf",i.pageSizeOptions),p(2),_("disabled",i.currentPage===1),p(3),Ui("Pagina ",i.currentPage," din ",i.getTotalPages(),""),p(),_("disabled",i.currentPage===i.getTotalPages()))},dependencies:[le,Ot,bn,Cn,Mt,Be,Z,je],styles:[".pagination-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:32px;flex-wrap:wrap;margin-top:24px;font-family:Roboto Mono,monospace}.page-size-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:16px}.page-size-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0}.page-size-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:4px 6px;border:1px solid #aaa;border-radius:4px;font-size:15px;font-family:Roboto Mono,monospace}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:16px}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border:2px solid #000;background-color:#d9c8ff;border-radius:4px;font-weight:700;cursor:pointer;font-family:Roboto Mono,monospace}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:default}"]})};var xn=class n{constructor(e){this.router=e}requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""};formSubmit=new z;close=new z;submitRequest(){this.formSubmit.emit(this.requestForm)}closeForm(){this.close.emit()}static \u0275fac=function(t){return new(t||n)(D(Te))};static \u0275cmp=R({type:n,selectors:[["app-request-form"]],inputs:{requestForm:"requestForm"},outputs:{formSubmit:"formSubmit",close:"close"},decls:23,vars:4,consts:[[1,"overlay"],[1,"request-form-wrapper"],[1,"close-button",3,"click"],[1,"request-form"],[1,"form-row"],["type","datetime-local","name","startDate","required","",3,"ngModelChange","ngModel"],["type","tel","name","phoneNumber","required","",3,"ngModelChange","ngModel"],["type","text","name","address","required","",3,"ngModelChange","ngModel"],["name","description","rows","4","required","",3,"ngModelChange","ngModel"],[1,"center-button"],["type","submit",3,"click"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"button",2),I("click",function(){return i.closeForm()}),u(3,"\xD7"),a(),l(4,"h2"),u(5,"Trimite o solicitare"),a(),l(6,"form",3)(7,"div",4)(8,"label"),u(9," Data \u0219i ora dorite: "),l(10,"input",5),ie("ngModelChange",function(d){return ne(i.requestForm.requestedStartDate,d)||(i.requestForm.requestedStartDate=d),d}),a()(),l(11,"label"),u(12," Num\u0103r de telefon: "),l(13,"input",6),ie("ngModelChange",function(d){return ne(i.requestForm.phoneNumber,d)||(i.requestForm.phoneNumber=d),d}),a()()(),l(14,"label"),u(15," Adres\u0103: "),l(16,"input",7),ie("ngModelChange",function(d){return ne(i.requestForm.address,d)||(i.requestForm.address=d),d}),a()(),l(17,"label"),u(18," Descrierea solicit\u0103rii: "),l(19,"textarea",8),ie("ngModelChange",function(d){return ne(i.requestForm.description,d)||(i.requestForm.description=d),d}),a()(),l(20,"div",9)(21,"button",10),I("click",function(){return i.submitRequest()}),u(22,"Trimite solicitarea"),a()()()()()),t&2&&(p(10),te("ngModel",i.requestForm.requestedStartDate),p(3),te("ngModel",i.requestForm.phoneNumber),p(3),te("ngModel",i.requestForm.address),p(3),te("ngModel",i.requestForm.description))},dependencies:[se,Z,At,Ue,Be,Pt,di,je,Ht,Ot],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.request-form-wrapper[_ngcontent-%COMP%]{position:relative;max-width:600px;margin:2rem auto;background-color:#e8d9ff;border:2px solid #000;padding:2rem;font-family:Roboto Mono,monospace}.request-form-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.request-form-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1.5rem}.request-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;font-size:.95rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem}.form-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;font-family:Roboto Mono,monospace;font-size:.9rem}.request-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .request-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #999;border-radius:4px;font-family:Roboto Mono,monospace;background-color:#fff}.request-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.center-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem 1rem;border:2px solid #000;border-radius:6px;background-color:#c9b7ff;font-weight:700;cursor:pointer;display:flex;justify-content:center;font-family:Roboto Mono,monospace}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#dcdcdc;color:#888;cursor:not-allowed}"]})};var wu=n=>["/specialist",n];function Eu(n,e){if(n&1&&(l(0,"span",18),u(1),a()),n&2){let t=e.$implicit;p(),j(t.name)}}function Su(n,e){if(n&1){let t=N();l(0,"div",19)(1,"app-request-form",20),I("formSubmit",function(o){M(t);let d=w();return O(d.submitRequest(o))})("close",function(){M(t);let o=w();return O(o.closeRequestForm())}),a()()}if(n&2){let t=w();p(),_("requestForm",t.requestForm)}}var hi=class n{constructor(e){this.router=e}specialist={id:"",fullName:"",email:"",profilePictureUrl:"",phoneNumber:"",address:"",categories:[],yearsExperience:0,description:"",createdAt:new Date,updatedAt:new Date,rating:0};isRequestFormVisible=!1;requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""};specialistId=new z;requestFormSubmit=new z;goToSendRequest(){this.requestForm.receiverUserId=this.specialist.id,this.isRequestFormVisible=!0}closeRequestForm(){this.requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""},this.isRequestFormVisible=!1}submitRequest(e){this.requestFormSubmit.emit(e),this.closeRequestForm()}static \u0275fac=function(t){return new(t||n)(D(Te))};static \u0275cmp=R({type:n,selectors:[["app-specialist-card"]],inputs:{specialist:"specialist"},outputs:{specialistId:"specialistId",requestFormSubmit:"requestFormSubmit"},decls:28,vars:10,consts:[[1,"card"],[1,"avatar-wrapper"],[1,"avatar"],["alt","User avatar",3,"src"],[1,"rating-badge"],["src","assets/star-rating.svg","alt","User star"],[1,"rating-value"],[1,"info"],[1,"full-name",3,"routerLink"],[1,"details-block"],[1,"row"],[1,"categories"],[1,"label"],["class","tag",4,"ngFor","ngForOf"],[1,"experience"],[1,"description"],[1,"request-btn",3,"click"],["class","overlay",4,"ngIf"],[1,"tag"],[1,"overlay"],[3,"formSubmit","close","requestForm"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2),k(3,"img",3),a(),l(4,"div",4),k(5,"img",5),l(6,"span",6),u(7),a()()(),l(8,"div",7)(9,"h2",8),u(10),a(),l(11,"div",9)(12,"div",10)(13,"div",11)(14,"span",12),u(15,"Categorii:"),a(),A(16,Eu,2,1,"span",13),a(),l(17,"div",14)(18,"span",12),u(19,"Ani experien\u021B\u0103:"),a(),u(20),a()(),l(21,"div",15)(22,"span",12),u(23,"Descriere:"),a(),u(24),a()()(),l(25,"button",16),I("click",function(){return i.goToSendRequest()}),u(26,"F\u0103 o solicitare"),a()(),A(27,Su,2,1,"div",17)),t&2&&(p(3),_("src",i.specialist.profilePictureUrl||"assets/avatar.svg",He),p(4),j(i.specialist.rating),p(2),_("routerLink",St(8,wu,i.specialist.id)),p(),V(" ",i.specialist.fullName," "),p(6),_("ngForOf",i.specialist.categories),p(4),V(" ",i.specialist.yearsExperience," "),p(4),V(" ",i.specialist.description," "),p(3),_("ngIf",i.isRequestFormVisible))},dependencies:[se,le,Y,xn,st],styles:[".card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#cfbdfe;padding:20px;width:100%;gap:20px;justify-content:space-between;box-sizing:border-box;font-family:Roboto Mono,monospace}.info[_ngcontent-%COMP%]{flex:1}.full-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-top:.25rem;margin-bottom:.5rem}.full-name[_ngcontent-%COMP%]:hover{text-decoration:underline}.details-block[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:12px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.categories[_ngcontent-%COMP%], .experience[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{font-size:.95rem}.label[_ngcontent-%COMP%]{font-weight:700;margin-right:6px}.tag[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem}.request-btn[_ngcontent-%COMP%]{background-color:#9a83db;padding:32px 24px;border:none;border-radius:8px;font-weight:700;cursor:pointer;font-family:Roboto Mono,monospace}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:100px;aspect-ratio:1/1}.avatar[_ngcontent-%COMP%]{position:relative;width:100px;height:100px;overflow:hidden}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background-color:#e6dfff;object-fit:cover;display:block}.rating-badge[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;display:inline-flex;align-items:center;gap:.3em;background:#fff;padding:.2em .5em;border-radius:.6em;font-size:1em;box-shadow:0 1px 4px #0000001a}.rating-badge[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1em;height:1em}"]})};var nr=class n{constructor(){}geocodeAddress(e){return he(this,null,function*(){if(!window.google||!window.google.maps)throw new Error("Google Maps API not loaded");let t=new google.maps.Geocoder;return new Promise((i,o)=>{t.geocode({address:e},(d,y)=>{if(y===google.maps.GeocoderStatus.OK&&d&&d[0]){let T=d[0].geometry.location;i({lat:T.lat(),lng:T.lng()})}else i(null)})})})}geocodeAddresses(e){let t=e.map(i=>this.geocodeAddress(i));return ln(Promise.all(t))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var ir=class n{constructor(){}getCurrentPosition(){return navigator.geolocation?ln(new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(i=>e(i),i=>t(i),{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})})):ba(()=>new Error("Geolocation is not supported by this browser."))}calculateDistance(e,t,i,o){let y=this.deg2rad(i-e),T=this.deg2rad(o-t),F=Math.sin(y/2)*Math.sin(y/2)+Math.cos(this.deg2rad(e))*Math.cos(this.deg2rad(i))*Math.sin(T/2)*Math.sin(T/2);return 6371*(2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F)))}deg2rad(e){return e*(Math.PI/180)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var wn=class n{constructor(e,t,i,o){this.http=e;this.authService=t;this.geocodingService=i;this.geolocationService=o}baseUrl="http://localhost:5241/api/Specialist";getSpecialists(e,t,i){let o=this.authService.getToken(),d=new L({Authorization:`Bearer ${o}`}),y=new tt().set("search",e||"").set("page",t).set("pageSize",i);return this.http.get(`${this.baseUrl}/GetPage`,{headers:d,params:y})}getSpecialist(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{headers:i})}addSpecialist(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return this.http.post(`${this.baseUrl}/Add`,e,{headers:i})}updateSpecialist(e,t){let i=this.authService.getToken(),o=new L({Authorization:`Bearer ${i}`});return this.http.patch(`${this.baseUrl}/Update/${e}`,t,{headers:o})}deleteSpecialist(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return this.http.delete(`${this.baseUrl}/Delete/${e}`,{headers:i})}static \u0275fac=function(t){return new(t||n)(H(ye),H($),H(nr),H(ir))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var En=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Request";addRequest(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return console.log("Headers:",i),this.http.post(`${this.baseUrl}/Add`,e,{headers:i})}acceptRequest(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Accept/${e}`,{},{headers:i})}rejectRequest(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Reject/${e}`,{},{headers:i})}cancelRequest(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Cancel/${e}`,{},{headers:i})}static \u0275fac=function(t){return new(t||n)(H(ye),H($))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var Du=()=>[5,10,20];function Pu(n,e){n&1&&k(0,"div",13)}function Au(n,e){if(n&1){let t=N();ge(0),l(1,"app-specialist-card",11),I("specialistId",function(o){let d=M(t).$implicit;return O(d.id=o)})("requestFormSubmit",function(o){M(t);let d=w();return O(d.addRequest(o))}),a(),A(2,Pu,1,0,"div",12),_e()}if(n&2){let t=e.$implicit,i=e.index,o=w();p(),_("specialist",t),p(),_("ngIf",i<o.users.length-1)}}var rr=class n{constructor(e,t,i){this.homeService=e;this.userRequestService=t;this.authService=i}searchTerm="";currentPage=1;pageSize=10;totalItems=0;entityDetails={};isUserDetailsVisible=!1;users=[];error=null;isRequestFormVisible=!1;requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""};dummySpecialists=[{id:"spec-001",fullName:"Andrei Popescu",email:"andrei.popescu@example.com",phoneNumber:"0721123456",address:"Strada Mihai Eminescu 45, Bucure\u0219ti",yearsExperience:5,description:"Traduc\u0103tor medical cu experien\u021B\u0103 \xEEn terminologie clinic\u0103 \u0219i farmaceutic\u0103.",createdAt:new Date("2022-03-10T10:00:00Z"),updatedAt:new Date,rating:5,categories:[{id:"cat-001",name:"Traduceri medicale"},{id:"cat-002",name:"Farmacie"}]},{id:"spec-002",fullName:"Ioana Marinescu",email:"ioana.marinescu@example.com",phoneNumber:"0733456789",address:"Bd. Revolu\u021Biei 17, Cluj-Napoca",yearsExperience:8,description:"Specialist \xEEn psihologie cu experien\u021B\u0103 \xEEn redactarea \u0219i corectarea articolelor \u0219tiin\u021Bifice.",createdAt:new Date("2020-11-20T08:30:00Z"),updatedAt:new Date,rating:4},{id:"spec-003",fullName:"Victor Ionescu",email:"victor.ionescu@example.com",phoneNumber:"0744123123",address:"Str. Libert\u0103\u021Bii 88, Ia\u0219i",yearsExperience:3,description:"T\xE2n\u0103r specialist \xEEn tehnologia informa\u021Biei, ofer servicii de consultan\u021B\u0103 \u0219i mentenan\u021B\u0103 software.",createdAt:new Date("2023-01-15T14:45:00Z"),updatedAt:new Date,rating:4.5}];ngOnInit(){this.getPage()}getPage(){this.homeService.getSpecialists(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:e=>{this.users=e.response?.data??[],this.totalItems=e.response?.totalCount??0},error:e=>{this.error=e.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addRequest(e){let t=e;this.userRequestService.addRequest(t).subscribe({next:i=>{alert("Cererea a fost trimis\u0103 cu succes!"),this.closeRequestForm()},error:i=>{console.error("Eroare la trimiterea cererii:",i),alert("Nu s-a putut trimite cererea.")}})}onSearch(e){this.searchTerm=e,this.currentPage=1,this.getPage()}onPageChange(e){this.currentPage=e,this.getPage()}onPageSizeChange(e){this.pageSize=e,this.currentPage=1,this.getPage()}getCategoryNames(e){return e.map(t=>t.name)}closeUserDetails(){this.isUserDetailsVisible=!1,this.entityDetails={}}closeRequestForm(){this.requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""},this.isRequestFormVisible=!1}SpecialistCardComponent=hi;static \u0275fac=function(t){return new(t||n)(D(wn),D(En),D($))};static \u0275cmp=R({type:n,selectors:[["app-home"]],decls:24,vars:6,consts:[[1,"top-action-button"],["routerLink","/contact-us","routerLinkActive","active",1,"contact-button"],[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"search-box-wrapper"],[3,"searchChanged"],[1,"user-list"],[4,"ngFor","ngForOf"],[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[3,"specialistId","requestFormSubmit","specialist"],["class","separator",4,"ngIf"],[1,"separator"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"a",1),u(2,"Contacteaz\u0103-ne!"),a()(),l(3,"div",2)(4,"div",3)(5,"h1",4),u(6,"Ai o \u021Beav\u0103 spart\u0103?"),a(),l(7,"h1",4),u(8,"\u021Ai s-a stricat chiuveta?"),a(),l(9,"h1"),u(10,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),l(11,"strong",5),u(12,"ExpertEase"),a(),u(13,"!"),a()(),l(14,"div",6)(15,"app-search-input",7),I("searchChanged",function(d){return i.onSearch(d)}),a()(),l(16,"p"),u(17,"Peste "),l(18,"strong"),u(19,"100 de speciali\u0219ti"),a(),u(20," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),a()(),l(21,"div",8),A(22,Au,3,2,"ng-container",9),a(),l(23,"app-pagination",10),I("pageChange",function(d){return i.onPageChange(d)})("pageSizeChange",function(d){return i.onPageSizeChange(d)}),a()),t&2&&(p(22),_("ngForOf",i.users),p(),_("currentPage",i.currentPage)("pageSize",i.pageSize)("pageSizeOptions",ze(5,Du))("totalItems",i.totalItems))},dependencies:[hi,se,le,Y,Ot,Z,Qe,at,st,Na],styles:[".top-action-button[_ngcontent-%COMP%]{position:absolute;top:100px;right:32px;z-index:10}.contact-button[_ngcontent-%COMP%]{text-decoration:none;font-family:Roboto Mono,monospace;font-weight:700;border:1px solid transparent;transition:all .2s ease;color:#000}.contact-button[_ngcontent-%COMP%]:hover{text-decoration:underline}.user-list[_ngcontent-%COMP%]   app-specialist-card[_ngcontent-%COMP%]{border-bottom:1px solid #b7a4dd;padding-bottom:1rem;margin-bottom:1rem}.user-list[_ngcontent-%COMP%]   app-specialist-card[_ngcontent-%COMP%]:last-child{border-bottom:none}.separator[_ngcontent-%COMP%]{height:3px;background-color:#b7a4dd;width:100%}.home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:2rem}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.close-button[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1.2rem;font-size:1.5rem;background:none;border:none;color:#333;font-weight:700;cursor:pointer;transition:transform .2s}.close-button[_ngcontent-%COMP%]:hover{transform:scale(1.2);color:#d11a2a}",".search-box[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;align-items:center;gap:20px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 50px 15px 20px;border:none;background:transparent;outline:none;font-family:Roboto Mono,monospace;font-size:12px}.search-icon-button[_ngcontent-%COMP%]{background:none;border:none;padding:0 16px;font-size:1.2rem;color:#444;cursor:pointer;display:flex;align-items:center;justify-content:center}.search-icon-button[_ngcontent-%COMP%]:hover{color:#000}.search-icon-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}"]})};var or=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-about"]],decls:142,vars:0,consts:[[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"about-info"],[1,"role-sections"],[1,"client-section"],[1,"specialist-section"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),u(3,"Ai o \u021Beav\u0103 spart\u0103?"),a(),l(4,"h1",2),u(5,"\u021Ai s-a stricat chiuveta?"),a(),l(6,"h1"),u(7,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),l(8,"strong",3),u(9,"ExpertEase"),a(),u(10,"!"),a()(),l(11,"p"),u(12,"Peste "),l(13,"strong"),u(14,"100 de speciali\u0219ti"),a(),u(15," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),a()(),l(16,"div",4)(17,"section")(18,"h2"),u(19,"Cine suntem noi?"),a(),l(20,"p"),u(21,"Compania "),l(22,"strong"),u(23,"ExpertEase"),a(),u(24," se ocup\u0103 cu problemele tale \xEEn materie de repara\u021Bii sau instala\u021Bii."),a()(),l(25,"section")(26,"h2"),u(27,"Cum facem asta?"),a(),l(28,"p"),u(29,"\xCE\u021Bi punem la dispozi\u021Bie "),l(30,"strong"),u(31,"peste 100 de speciali\u0219ti"),a(),u(32," din domeniu, cu varii nivele de experien\u021B\u0103, care sunt preocupa\u021Bi \xEEn a \xEE\u021Bi rezolva problema."),a()(),l(33,"section")(34,"h2"),u(35,"Cum func\u021Bioneaz\u0103 platforma?"),a(),l(36,"p"),u(37,"Platforma noastr\u0103 este simplu de utilizat. Po\u021Bi c\u0103uta speciali\u0219ti dup\u0103 domeniu, po\u021Bi vedea recenziile altor clien\u021Bi \u0219i po\u021Bi contacta direct specialistul pentru a discuta detaliile repara\u021Biei sau instala\u021Biei."),a()(),l(38,"section")(39,"h2"),u(40,"De ce s\u0103 ne alegi?"),a(),l(41,"p"),u(42,"ExpertEase \xEE\u021Bi ofer\u0103 acces rapid \u0219i u\u0219or la o re\u021Bea extins\u0103 de speciali\u0219ti, asigur\xE2ndu-te c\u0103 vei g\u0103si pe cineva potrivit pentru nevoile tale. \xCEn plus, platforma noastr\u0103 este gratuit\u0103 pentru utilizatori!"),a()(),l(43,"div",5)(44,"section",6)(45,"h2"),u(46,"Ce poate face un client?"),a(),l(47,"p"),u(48,"Pe platforma ExpertEase, clien\u021Bii pot:"),a(),l(49,"ol")(50,"li")(51,"strong"),u(52,"Crea un cont"),a(),k(53,"br"),u(54," \xCE\u021Bi faci un cont rapid \u0219i ai acces la panoul t\u0103u personal."),a(),l(55,"li")(56,"strong"),u(57,"C\u0103uta speciali\u0219ti"),a(),k(58,"br"),u(59," Po\u021Bi filtra speciali\u0219tii dup\u0103: "),l(60,"ul")(61,"li"),u(62,"Categorie (ex. Psihologie, Drept, IT)"),a(),l(63,"li"),u(64,"Ani de experien\u021B\u0103"),a(),l(65,"li"),u(66,"Adres\u0103 (cu op\u021Biune de c\u0103utare pe hart\u0103)"),a()()(),l(67,"li")(68,"strong"),u(69,"Trimite o cerere"),a(),k(70,"br"),u(71," Dup\u0103 ce g\u0103se\u0219ti un specialist potrivit, po\u021Bi trimite o cerere \xEEn care descrii problema sau serviciul dorit \u0219i o dat\u0103 preferat\u0103."),a(),l(72,"li")(73,"strong"),u(74,"Comunic\u0103 prin mesaje"),a(),k(75,"br"),u(76," Vei putea: "),l(77,"ul")(78,"li"),u(79,"Primi r\u0103spunsuri de la specialist"),a(),l(80,"li"),u(81,"Vizualiza propunerea de serviciu \u0219i pre\u021Bul"),a(),l(82,"li"),u(83,"Accepta sau refuza oferta"),a()()(),l(84,"li")(85,"strong"),u(86,"Las\u0103 o recenzie"),a(),k(87,"br"),u(88," Dup\u0103 \xEEncheierea colabor\u0103rii, po\u021Bi scrie o recenzie care ajut\u0103 al\u021Bi utilizatori \u0219i sus\u021Bine calitatea pe platform\u0103."),a(),l(89,"li")(90,"strong"),u(91,"Pl\u0103te\u0219te \xEEn siguran\u021B\u0103"),a(),k(92,"br"),u(93," Pl\u0103\u021Bile se realizeaz\u0103 prin Stripe, \xEEntr-un mod securizat \u0219i transparent. Vei \u0219ti exact c\xE2t pl\u0103te\u0219ti \xEEnainte de confirmare."),a()()(),l(94,"section",7)(95,"h2"),u(96,"Ce poate face un specialist?"),a(),l(97,"p"),u(98,"Speciali\u0219tii au acces la instrumente prin care \xEE\u0219i pot gestiona cererile \u0219i construi o reputa\u021Bie solid\u0103:"),a(),l(99,"ol")(100,"li")(101,"strong"),u(102,"\xCEnregistrare \u0219i verificare profil"),a(),k(103,"br"),u(104," \xCE\u021Bi creezi un cont profesional, alegi domeniul de expertiz\u0103 \u0219i adaugi informa\u021Bii relevante."),a(),l(105,"li")(106,"strong"),u(107,"Prime\u0219ti cereri de la clien\u021Bi"),a(),k(108,"br"),u(109," Vei fi notificat atunci c\xE2nd un client te contacteaz\u0103. Po\u021Bi: "),l(110,"ul")(111,"li"),u(112,"Analiza cererea"),a(),l(113,"li"),u(114,"Accepta, refuza sau propune o ofert\u0103 alternativ\u0103"),a()()(),l(115,"li")(116,"strong"),u(117,"Trimite un r\u0103spuns detaliat"),a(),k(118,"br"),u(119," Po\u021Bi r\u0103spunde cu: "),l(120,"ul")(121,"li"),u(122,"Detalii despre serviciu"),a(),l(123,"li"),u(124,"Dat\u0103 propus\u0103"),a(),l(125,"li"),u(126,"Pre\u021B"),a()()(),l(127,"li")(128,"strong"),u(129,"Gestioneaz\u0103 conversa\u021Biile"),a(),k(130,"br"),u(131," Ai acces la un sistem de mesagerie clar \u0219i sigur, unde po\u021Bi urm\u0103ri fiecare cerere \xEEn parte."),a(),l(132,"li")(133,"strong"),u(134,"Prime\u0219te pl\u0103\u021Bi direct"),a(),k(135,"br"),u(136," Prin conectarea contului t\u0103u Stripe Express, po\u021Bi primi banii direct \xEEn contul bancar."),a(),l(137,"li")(138,"strong"),u(139,"Prime\u0219te recenzii"),a(),k(140,"br"),u(141," Dup\u0103 fiecare colaborare, clien\u021Bii pot l\u0103sa o recenzie care te va ajuta s\u0103 c\xE2\u0219tigi \xEEncrederea altor utilizatori."),a()()()()())},styles:['@charset "UTF-8";.home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.about-info[_ngcontent-%COMP%]{max-width:1600px;margin:10px auto;padding:0 24px;font-family:Roboto Mono,monospace;font-size:16px;line-height:1.6}.about-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px;color:#3c1a7d}.about-info[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{border:2px solid #3c1a7d;border-radius:8px;padding:24px;margin-bottom:32px;background-color:#fff}.role-sections[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:32px;margin-top:32px}.role-sections[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{flex:1 1 45%;border:2px solid #3c1a7d;border-radius:8px;padding:24px;margin-bottom:32px;background-color:#fff;font-family:Roboto Mono,monospace;font-size:16px;line-height:25.6px}.role-sections[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#3c1a7d;font-weight:700;margin-bottom:16px}.role-sections[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:16px}.role-sections[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], .role-sections[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:24px;margin-bottom:24px}.role-sections[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:12px;line-height:25.6px}.role-sections[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:8px;padding-left:20px}@media (max-width: 900px){.role-sections[_ngcontent-%COMP%]{flex-direction:column}.role-sections[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{flex:1 1 100%}}']})};var Lo={firstName:"Prenume",lastName:"Nume",fullName:"Nume complet",email:"Adres\u0103 e-mail",password:"Parol\u0103",role:"Rol",phoneNumber:"Num\u0103r de telefon",address:"Adres\u0103",yearsExperience:"Ani experien\u021B\u0103",description:"Descriere",id:"ID",account:"Cont",transaction:"Tranzac\u021Bie",createdAt:"Creat la",updatedAt:"Actualizat la",categories:"Categorii",name:"Denumire",specialistsCount:"Num\u0103r speciali\u0219ti",specialistIds:"Speciali\u0219tii cu aceast\u0103 categorie"};function Me(n,e={},t=Lo){return Object.keys(n).map(i=>{let o=e[i]||{},d=o.type||(o.options?"select":"text"),y=t[i]||Mu(i);return G({key:i,label:y,type:d,placeholder:o.placeholder||`Introdu ${y.toLowerCase()}`,required:o.required??!0,class:o.class||"half-width"},o)})}function Mu(n){return n.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}function Sn(n){if(!n)return{};let e={},t=Object.keys(n);if("id"in n){let i=Lo.id||"id";e[i]=n.id}for(let i of t){if(["id","firstName","lastName"].includes(i))continue;let o=n[i];if(o==null||typeof o=="string"&&o.trim()==="")continue;let d=Lo[i]||i,y=o;typeof o=="string"&&Ou(o)||o instanceof Date?y=yc(o):i.toLowerCase().includes("password")&&(y="********"),e[d]=y}return e}function Ou(n){return/^\d{4}-\d{2}-\d{2}T/.test(n)}function yc(n){let e=new Date(n),t=String(e.getDate()).padStart(2,"0"),i=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear();return`${t}.${i}.${o}`}var Ru=n=>({"placeholder-selected":n});function ku(n,e){if(n&1&&(l(0,"div",15),u(1),U(2,"lowercase"),a()),n&2){let t=w(2).$implicit;p(),V(" C\xE2mpul ",ue(2,1,t.label)," este obligatoriu. ")}}function Vu(n,e){if(n&1){let t=N();l(0,"div")(1,"div",12)(2,"input",13,1),ie("ngModelChange",function(o){M(t);let d=w().$implicit,y=w();return ne(y.formData[d.key],o)||(y.formData[d.key]=o),O(o)}),I("input",function(){M(t);let o=w().$implicit,d=w();return O(o.key==="phoneNumber"&&d.liveFormatPhoneNumber(o.key))}),a()(),A(4,ku,3,3,"div",14),a()}if(n&2){let t=Ve(3),i=w().$implicit,o=w();p(2),_("id",i.key)("name",i.key),te("ngModel",o.formData[i.key]),_("placeholder",i.placeholder)("required",!!i.required),p(2),_("ngIf",i.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function Nu(n,e){if(n&1&&(l(0,"div",15),u(1),U(2,"lowercase"),a()),n&2){let t=w(2).$implicit;p(),V(" C\xE2mpul ",ue(2,1,t.label)," este obligatoriu. ")}}function Fu(n,e){if(n&1){let t=N();l(0,"div")(1,"div",12)(2,"input",16,1),ie("ngModelChange",function(o){M(t);let d=w().$implicit,y=w();return ne(y.formData[d.key],o)||(y.formData[d.key]=o),O(o)}),a()(),A(4,Nu,3,3,"div",14),a()}if(n&2){let t=Ve(3),i=w().$implicit,o=w();p(2),_("id",i.key)("name",i.key),te("ngModel",o.formData[i.key]),_("placeholder",i.placeholder)("required",!!i.required),p(2),_("ngIf",i.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function Uu(n,e){if(n&1&&(l(0,"div",15),u(1),U(2,"lowercase"),a()),n&2){let t=w(2).$implicit;p(),V(" C\xE2mpul ",ue(2,1,t.label)," este obligatoriu. ")}}function Bu(n,e){if(n&1){let t=N();l(0,"div")(1,"div",12)(2,"input",17,1),ie("ngModelChange",function(o){M(t);let d=w().$implicit,y=w();return ne(y.formData[d.key],o)||(y.formData[d.key]=o),O(o)}),a()(),A(4,Uu,3,3,"div",14),a()}if(n&2){let t=Ve(3),i=w().$implicit,o=w();p(2),_("id",i.key)("name",i.key),te("ngModel",o.formData[i.key]),_("placeholder",i.placeholder)("required",!!i.required),p(2),_("ngIf",i.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function Lu(n,e){if(n&1&&(l(0,"div",15),u(1),U(2,"lowercase"),a()),n&2){let t=w(2).$implicit;p(),V(" C\xE2mpul ",ue(2,1,t.label)," este obligatoriu. ")}}function qu(n,e){if(n&1){let t=N();l(0,"div")(1,"div",12)(2,"input",18,1),ie("ngModelChange",function(o){M(t);let d=w().$implicit,y=w();return ne(y.formData[d.key],o)||(y.formData[d.key]=o),O(o)}),a()(),A(4,Lu,3,3,"div",14),a()}if(n&2){let t=Ve(3),i=w().$implicit,o=w();p(2),_("id",i.key)("name",i.key),te("ngModel",o.formData[i.key]),_("placeholder",i.placeholder)("required",!!i.required),p(2),_("ngIf",i.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function zu(n,e){if(n&1&&(l(0,"option",23),u(1),a()),n&2){let t=e.$implicit;_("value",t),p(),j(t)}}function ju(n,e){if(n&1&&(l(0,"div",15),u(1),U(2,"lowercase"),a()),n&2){let t=w(2).$implicit;p(),V(" C\xE2mpul ",ue(2,1,t.label)," este obligatoriu. ")}}function $u(n,e){if(n&1){let t=N();l(0,"div")(1,"div",19)(2,"select",20,1),ie("ngModelChange",function(o){M(t);let d=w().$implicit,y=w();return ne(y.formData[d.key],o)||(y.formData[d.key]=o),O(o)}),l(4,"option",21),u(5),a(),A(6,zu,2,2,"option",22),a()(),A(7,ju,3,3,"div",14),a()}if(n&2){let t=Ve(3),i=w().$implicit,o=w();p(2),_("id",i.key)("name",i.key),te("ngModel",o.formData[i.key]),_("required",!!i.required)("ngClass",St(8,Ru,o.formData[i.key]==="")),p(3),j(i.placeholder||"Selecteaz\u0103 o op\u021Biune"),p(),_("ngForOf",i.options),p(),_("ngIf",i.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function Gu(n,e){if(n&1&&(l(0,"div",15),u(1),U(2,"lowercase"),a()),n&2){let t=w(2).$implicit;p(),V(" C\xE2mpul ",ue(2,1,t.label)," este obligatoriu. ")}}function Ku(n,e){if(n&1){let t=N();l(0,"div")(1,"div",12)(2,"textarea",24,1),ie("ngModelChange",function(o){M(t);let d=w().$implicit,y=w();return ne(y.formData[d.key],o)||(y.formData[d.key]=o),O(o)}),u(4,"          "),a()(),A(5,Gu,3,3,"div",14),a()}if(n&2){let t=Ve(3),i=w().$implicit,o=w();p(2),_("id",i.key)("name",i.key),te("ngModel",o.formData[i.key]),_("placeholder",i.placeholder)("required",!!i.required),p(3),_("ngIf",i.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function Wu(n,e){if(n&1&&(l(0,"div",15),u(1),U(2,"lowercase"),a()),n&2){let t=w(2).$implicit;p(),V(" C\xE2mpul ",ue(2,1,t.label)," este obligatoriu. ")}}function Hu(n,e){if(n&1){let t=N();l(0,"div")(1,"div",12)(2,"input",25,1),ie("ngModelChange",function(o){M(t);let d=w().$implicit,y=w();return ne(y.formData[d.key],o)||(y.formData[d.key]=o),O(o)}),a()(),A(4,Wu,3,3,"div",14),a()}if(n&2){let t=Ve(3),i=w().$implicit,o=w();p(2),_("type",i.type)("id",i.key)("name",i.key),te("ngModel",o.formData[i.key]),_("placeholder",i.placeholder)("required",!!i.required),p(2),_("ngIf",i.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function Qu(n,e){if(n&1&&(l(0,"div",6)(1,"label",7),u(2),a(),l(3,"div",8),ge(4,9),A(5,Vu,5,6,"div",10)(6,Fu,5,6,"div",10)(7,Bu,5,6,"div",10)(8,qu,5,6,"div",10)(9,$u,8,10,"div",10)(10,Ku,6,6,"div",10)(11,Hu,5,7,"div",11),_e(),a()()),n&2){let t=e.$implicit;_("ngClass",t.class),p(),_("for",t.key),p(),j(t.label),p(2),_("ngSwitch",t.type),p(),_("ngSwitchCase","text"),p(),_("ngSwitchCase","email"),p(),_("ngSwitchCase","password"),p(),_("ngSwitchCase","number"),p(),_("ngSwitchCase","select"),p(),_("ngSwitchCase","textarea")}}var Le=class n{fields=[];initialData={};submitText="Submit";formSubmit=new z;formData={};formSubmitted=!1;ngOnChanges(e){e.initialData&&e.initialData.currentValue&&(this.formData=G({},e.initialData.currentValue),this.fields.forEach(t=>{t.key in this.formData||(this.formData[t.key]="")}))}onSubmit(e){this.formSubmitted=!0,console.log(this.formSubmitted),!e.invalid&&this.formSubmit.emit(this.formData)}liveFormatPhoneNumber(e){let t=this.formData[e]||"",i=t.startsWith("+"),o=t.replace(/\D/g,""),d=o;o.length===11&&o.startsWith("40")?d=o.replace(/(\d{2})(\d{3})(\d{3})(\d{3})/,"$1 $2 $3 $4"):o.length===10&&o.startsWith("0")?d=o.replace(/(\d{3})(\d{3})(\d{4})/,"$1 $2 $3"):o.length===9&&(d=o.replace(/(\d{3})(\d{3})(\d{3})/,"$1 $2 $3")),this.formData[e]=i?`+${d}`:d}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-dynamic-form"]],inputs:{fields:"fields",initialData:"initialData",submitText:"submitText"},outputs:{formSubmit:"formSubmit"},features:[$t],decls:6,vars:2,consts:[["formRef","ngForm"],["ctrl","ngModel"],[1,"form-layout",3,"ngSubmit"],["class","form-group",3,"ngClass",4,"ngFor","ngForOf"],[1,"form-group","full-width"],["type","submit",1,"send-button"],[1,"form-group",3,"ngClass"],[3,"for"],[1,"field-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"input-box"],["type","text",3,"ngModelChange","input","id","name","ngModel","placeholder","required"],["class","error",4,"ngIf"],[1,"error"],["type","email",3,"ngModelChange","id","name","ngModel","placeholder","required"],["type","password",3,"ngModelChange","id","name","ngModel","placeholder","required"],["type","number",3,"ngModelChange","id","name","ngModel","placeholder","required"],[1,"select-box"],[3,"ngModelChange","id","name","ngModel","required","ngClass"],["value","","disabled","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["rows","4",3,"ngModelChange","id","name","ngModel","placeholder","required"],[3,"ngModelChange","type","id","name","ngModel","placeholder","required"]],template:function(t,i){if(t&1){let o=N();l(0,"form",2,0),I("ngSubmit",function(){M(o);let y=Ve(1);return O(i.onSubmit(y))}),A(2,Qu,12,10,"div",3),l(3,"div",4)(4,"button",5),u(5),a()()()}t&2&&(p(2),_("ngForOf",i.fields),p(3),V(" ",i.submitText," "))},dependencies:[se,Ne,le,Y,hn,pn,Da,Aa,Z,At,bn,Cn,Ue,Fo,Mt,Be,Pt,di,je,Ht],styles:[".grid-form[_ngcontent-%COMP%]{gap:24px 20px;padding:24px 32px;max-width:650px;margin:0 auto;font-family:Roboto Mono,monospace;border:2px solid #c9b7ff;border-radius:6px;box-shadow:0 4px 12px #0000001a}.form-layout[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px 20px;padding:12px 16px;max-width:650px;margin:0 auto}.form-group[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;flex:1;display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{flex:1 1 100%}.form-group.half-width[_ngcontent-%COMP%]{flex:1 1 48%}label[_ngcontent-%COMP%]{margin-bottom:8px}.input-box[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;transition:border-color .3s}.input-box[_ngcontent-%COMP%]:focus-within{border-color:#9a79ff}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;width:100%;font-family:Roboto Mono,monospace;font-size:16px;outline:none}.input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-family:inherit;font-size:1rem;border:none;border-radius:6px;box-sizing:border-box;resize:vertical;background:#e6dfff}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;font-size:16px;outline:none;appearance:auto;font-family:inherit;width:100%}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#a388ff;box-shadow:0 0 3px #a388ff}.placeholder-selected[_ngcontent-%COMP%]{color:#7d7d7f!important}.send-button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:300px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}.send-button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.field-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.error[_ngcontent-%COMP%]{color:#d8000c;font-size:.85rem;margin-top:4px;padding-left:2px}"]})};var sr=class n{constructor(e,t){this.authService=e;this.router=t;let i={firstName:"",lastName:"",email:"",password:""};this.formFields=Me(i,{email:{type:"email"},password:{type:"password"}}),console.log(this.formFields)}formFields=[];formData={};errorMessage=null;registerUser(e){let t=e;this.authService.registerUser(t).subscribe({next:()=>{let i={email:t.email,password:t.password};this.authService.loginUser(i).subscribe({next:()=>{this.router.navigate(["/home"])},error:o=>{console.error("Login failed:",o),this.errorMessage=o.error?.errorMessage?.message||"Eroare necunoscut\u0103."}})},error:i=>{console.error("Registration failed:",i),this.errorMessage=i.error?.errorMessage?.message||"Eroare necunoscut\u0103."}})}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(D($),D(Te))};static \u0275cmp=R({type:n,selectors:[["app-register"]],decls:9,vars:2,consts:[[1,"form-wrapper"],[1,"form-box"],[3,"formSubmit","fields","submitText"],[1,"auth-switch"],[1,"auth-button",3,"click"]],template:function(t,i){t&1&&(l(0,"h2"),u(1,"\xCEnregistrare"),a(),l(2,"div",0)(3,"div",1)(4,"app-dynamic-form",2),I("formSubmit",function(d){return i.registerUser(d)}),a()()(),l(5,"p",3),u(6," Deja ai un cont? "),l(7,"button",4),I("click",function(){return i.goToLogin()}),u(8,"Autentific\u0103-te"),a()()),t&2&&(p(4),_("fields",i.formFields)("submitText","Trimite"))},dependencies:[se,Z,Le],styles:["p[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:16px}h2[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:30px}.auth-button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700}.auth-button[_ngcontent-%COMP%]:hover{color:#6a5799}"]})};var ar=class n{constructor(e,t){this.authService=e;this.router=t;let i={email:"",password:""};this.formFields=Me(i,{email:{type:"email"},password:{type:"password"}})}formFields=[];formData={};errorMessage=null;loginUser(e){let t=e;this.authService.loginUser(t).subscribe({next:i=>{console.log("Login successful:",i),this.router.navigate(["/home"])},error:i=>{console.error("Login failed:",i),this.errorMessage=i.error?.errorMessage?.message||"Eroare necunoscut\u0103."}})}goToRegister(){this.router.navigate(["/register"])}static \u0275fac=function(t){return new(t||n)(D($),D(Te))};static \u0275cmp=R({type:n,selectors:[["app-login"]],decls:9,vars:2,consts:[[1,"form-wrapper"],[1,"form-box"],[3,"formSubmit","fields","submitText"],[1,"auth-switch"],[1,"auth-button",3,"click"]],template:function(t,i){t&1&&(l(0,"h2"),u(1,"Autentificare"),a(),l(2,"div",0)(3,"div",1)(4,"app-dynamic-form",2),I("formSubmit",function(d){return i.loginUser(d)}),a()()(),l(5,"p",3),u(6," Nu ai cont? "),l(7,"button",4),I("click",function(){return i.goToRegister()}),u(8,"\xCEnregistreaz\u0103-te"),a()()),t&2&&(p(4),_("fields",i.formFields)("submitText","Trimite"))},dependencies:[se,Z,Le],styles:["p[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:16px}h2[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:30px}.auth-button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700}.auth-button[_ngcontent-%COMP%]:hover{color:#6a5799}"]})};var cr=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-admin"]],decls:15,vars:0,consts:[[1,"grid-form"],[1,"button-group"],["routerLink","/admin/users","routerLinkActive","active",1,"admin-button"],["routerLink","/admin/specialists","routerLinkActive","active",1,"admin-button"],["routerLink","/admin/categories","routerLinkActive","active",1,"admin-button"],[1,"admin-button"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"button",2),u(3,"Utilizatori"),a(),l(4,"button",3),u(5,"Speciali\u0219ti"),a(),l(6,"button",4),u(7,"Categorii"),a(),l(8,"button",5),u(9,"Servicii"),a(),l(10,"button",5),u(11,"Tranzac\u021Bii"),a(),l(12,"button",5),u(13,"Recenzii"),a()()(),k(14,"router-outlet"))},dependencies:[Li,st],styles:[".grid-form[_ngcontent-%COMP%]{position:absolute;top:calc(50vh - 250px);left:calc(50vw - 400px);width:800px;height:500px;display:flex;flex-direction:column;padding:40px 60px;border:3px solid black;border-radius:4px;box-shadow:0 4px 12px #0000001a;background-color:#cfbdfe;box-sizing:border-box}.button-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:32px;width:100%;justify-items:center;margin-top:24px}.admin-button[_ngcontent-%COMP%]{width:100%;height:5vw;background-color:#e6dfff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;border:3px solid #4b358e;border-radius:5px;cursor:pointer;box-shadow:0 2px 6px #0000001a;transition:background-color .3s ease,text-decoration .2s ease;display:flex;align-items:center;justify-content:center;text-align:center}.admin-button[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var Xt=(i=>(i.Admin="Admin",i.Specialist="Specialist",i.Client="Client",i))(Xt||{});function Ju(n,e){if(n&1&&(l(0,"th"),u(1),a()),n&2){let t=e.$implicit;p(),j(t.header)}}function Yu(n,e){if(n&1&&(ge(0),u(1),_e()),n&2){let t=w(2).$implicit,i=w().$implicit;p(),V(" ",t.compute(i)," ")}}function Xu(n,e){if(n&1&&u(0),n&2){let t=w(2).$implicit,i=w().$implicit;V(" ",i[t.key]," ")}}function Zu(n,e){if(n&1&&(ge(0),A(1,Yu,2,1,"ng-container",4)(2,Xu,1,1,"ng-template",null,1,ti),_e()),n&2){let t=Ve(3),i=w().$implicit;p(),_("ngIf",i.compute)("ngIfElse",t)}}function ed(n,e){if(n&1){let t=N();l(0,"a",6),I("click",function(){let o=M(t).$implicit,d=w(3).$implicit;return O(o.callback(d))}),u(1),a()}if(n&2){let t=e.$implicit;_("ngClass",t.class),p(),V(" ",t.label," ")}}function td(n,e){if(n&1&&A(0,ed,2,2,"a",5),n&2){let t=w().$implicit;_("ngForOf",t.actions)}}function nd(n,e){if(n&1&&(l(0,"td"),A(1,Zu,4,2,"ng-container",4)(2,td,1,1,"ng-template",null,0,ti),a()),n&2){let t=e.$implicit,i=Ve(3);p(),_("ngIf",t.type!=="action")("ngIfElse",i)}}function id(n,e){if(n&1&&(l(0,"tr"),A(1,nd,4,2,"td",3),a()),n&2){let t=w();p(),_("ngForOf",t.columns)}}var kt=class n{columns=[];data=[];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-dynamic-table"]],inputs:{columns:"columns",data:"data"},decls:6,vars:2,consts:[["actionCell",""],["directValue",""],[1,"admin-table"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["class","action-link",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"action-link",3,"click","ngClass"]],template:function(t,i){t&1&&(l(0,"table",2)(1,"thead")(2,"tr"),A(3,Ju,2,1,"th",3),a()(),l(4,"tbody"),A(5,id,2,1,"tr",3),a()()),t&2&&(p(3),_("ngForOf",i.columns),p(2),_("ngForOf",i.data))},dependencies:[se,Ne,le,Y,Z],styles:[".admin-wrapper[_ngcontent-%COMP%]{text-align:center}.admin-table-container[_ngcontent-%COMP%]{display:inline-block;padding:24px;background-color:#d9c8ff;border:2px solid #4b358e;border-radius:8px;font-family:Roboto Mono,monospace;box-shadow:0 4px 8px #0000001a;margin:40px auto}.admin-table-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.admin-table[_ngcontent-%COMP%]{width:max-content;max-width:100%;margin-left:auto;margin-right:auto;border-collapse:collapse;background-color:#f8f4ff;border-radius:6px}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;white-space:nowrap}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700}.action-link[_ngcontent-%COMP%]{margin-right:12px;cursor:pointer;text-decoration:none;font-weight:700}.action-link.view[_ngcontent-%COMP%]{color:#00f}.action-link.edit[_ngcontent-%COMP%]{color:green}.action-link.delete[_ngcontent-%COMP%]{color:red}.add-btn[_ngcontent-%COMP%]{background-color:#916fc7;color:#fff;border:3px solid #4b358e;margin-top:14px;margin-bottom:20px;padding:8px 16px;font-weight:700;border-radius:6px;cursor:pointer;transition:background-color .3s;font-family:Roboto Mono,monospace}.add-btn[_ngcontent-%COMP%]:hover{background-color:#3a2973}"]})};function rd(n,e){if(n&1&&(ge(0),l(1,"p")(2,"strong"),u(3),a(),u(4),a(),_e()),n&2){let t=w().$implicit,i=w();p(3),V("",i.formatKey(t),":"),p(),V(" ",i.formatValue(i.entity[t])," ")}}function od(n,e){if(n&1&&(ge(0),A(1,rd,5,2,"ng-container",5),_e()),n&2){let t=e.$implicit;p(),_("ngIf",t!=="ID")}}var Vt=class n{entity={};title="";close=new z;onClose(){this.close.emit()}objectKeys=Object.keys;formatKey(e){return e.includes(" ")||e.includes("-")?e:e.replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase())}formatValue(e){return typeof e=="boolean"?e?"Da":"Nu":e instanceof Date?e.toLocaleDateString():typeof e=="string"&&e.toLowerCase().includes("password")?"********":e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-admin-details"]],inputs:{entity:"entity",title:"title"},outputs:{close:"close"},decls:10,vars:3,consts:[[1,"admin-wrapper"],[1,"page-title"],[1,"card"],[1,"divider"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"h2",1),u(2),a(),l(3,"div",2)(4,"p")(5,"strong"),u(6,"ID:"),a(),u(7),a(),k(8,"hr",3),A(9,od,2,1,"ng-container",4),a()()),t&2&&(p(2),j(i.title),p(5),V(" ",i.entity.ID,""),p(2),_("ngForOf",i.objectKeys(i.entity)))},dependencies:[se,le,Y],styles:[".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var sd=()=>[5,10,20];function ad(n,e){if(n&1){let t=N();l(0,"div",9)(1,"div",10)(2,"div",11)(3,"button",12),I("click",function(){M(t);let o=w();return O(o.closeAddUserForm())}),u(4,"\xD7"),a()(),l(5,"app-dynamic-form",13),I("formSubmit",function(o){M(t);let d=w();return O(d.addEntity(o))}),a()()()}if(n&2){let t=w();p(5),_("fields",t.addEntityFormFields)("submitText","Trimite")}}function cd(n,e){if(n&1){let t=N();l(0,"div",9)(1,"div",10)(2,"button",12),I("click",function(){M(t);let o=w();return O(o.closeUpdateUserForm())}),u(3,"\xD7"),a(),l(4,"app-dynamic-form",14),I("formSubmit",function(o){M(t);let d=w();return O(d.updateEntity(o))}),a()()()}if(n&2){let t=w();p(4),_("fields",t.updateEntityFormFields)("initialData",t.formData)("submitText","Actualizeaz\u0103")}}function ld(n,e){if(n&1){let t=N();l(0,"app-admin-details",18),I("close",function(){M(t);let o=w(2);return O(o.closeUserDetails())}),a()}if(n&2){let t=w(2);_("entity",t.entityDetails)("title","Detalii utilizator")}}function ud(n,e){if(n&1){let t=N();l(0,"div",15)(1,"div",16)(2,"button",12),I("click",function(){M(t);let o=w();return O(o.closeUserDetails())}),u(3,"\xD7"),a(),A(4,ld,1,2,"app-admin-details",17),a()()}if(n&2){let t=w();p(4),_("ngIf",t.isUserDetailsVisible)}}var lr=class n{constructor(e){this.adminService=e}dummy_users=[{id:"m3n4o5p6",fullName:"Ana Georgescu",email:"ana.georgescu@example.com",role:"Admin",createdAt:new Date("2024-09-01T11:30:00Z"),updatedAt:new Date("2025-01-12T13:00:00Z"),rating:4.5},{id:"q7r8s9t0",fullName:"Radu Enache",email:"radu.enache@example.com",role:"Client",createdAt:new Date("2024-08-20T15:45:00Z"),updatedAt:new Date("2025-01-08T11:15:00Z"),rating:4}];searchTerm="";users=[];selectedUser=null;entityDetails={};entityDetailsId;pageSize=10;currentPage=1;totalItems=0;isAddUserFormVisible=!1;isUpdateUserFormVisible=!1;isUserDetailsVisible=!1;selectedUserId=null;placeholder="Caut\u0103 un utilizator...";columns=[{key:"id",header:"ID"},{key:"fullName",header:"Nume"},{key:"email",header:"Email"},{key:"role",header:"Rol"},{key:"actions",header:"Ac\u021Biuni",type:"action",actions:[{label:"Detalii",class:"view",callback:e=>this.getEntity(e.id)},{label:"Modific\u0103",class:"edit",callback:e=>this.editUser(e)},{label:"\u0218terge",class:"delete",callback:e=>this.deleteEntity(e)}]}];defaultUser={fullName:"",email:"",password:"",role:"Client"};formData={};error=null;addEntityFormFields=Me(this.defaultUser,{email:{type:"email"},password:{type:"password"},role:{type:"select",options:Object.values(Xt)}});updateEntityFormFields=Me({fullName:this.selectedUser?.fullName||"",role:this.selectedUser?.role||""},{role:{type:"select",options:Object.values(Xt)}});ngOnInit(){let e={fullName:"",email:"",password:"",role:"Client"};this.formData=G({},e),this.getPage()}onSearch(e){this.searchTerm=e,this.currentPage=1,this.getPage()}getEntity(e){console.log(e),this.adminService.getUser(e).subscribe({next:t=>{this.entityDetailsId=t.response?.id,this.entityDetails=Sn(t.response??{}),this.isUserDetailsVisible=!0},error:t=>{console.error("Eroare la preluarea utilizatorului:",t),alert("Nu s-au putut \xEEnc\u0103rca detaliile utilizatorului.")}})}getPage(){this.adminService.getUsers(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:e=>{console.log(e.response),this.users=e.response?.data??[],this.totalItems=e.response?.totalCount??0},error:e=>{this.error=e.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addEntity(e){let t=e;this.adminService.addUser(t).subscribe({next:()=>{this.closeAddUserForm(),this.getPage()},error:i=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",i)}})}editUser(e){this.selectedUserId=e.id,this.formData={fullName:e.fullName,role:e.role},this.isUpdateUserFormVisible=!0}updateEntity(e){if(!this.selectedUserId){console.error("Niciun utilizator nu a fost selectat pentru actualizare."),alert("Eroare: Nu a fost selectat niciun utilizator pentru actualizare.");return}let t=e.fullName??[e.firstName,e.lastName].filter(Boolean).join(" ").trim(),i={id:this.selectedUserId,fullName:t,role:e.role};this.adminService.updateUser(this.selectedUserId,i).subscribe({next:()=>{this.closeUpdateUserForm(),this.getPage()},error:o=>{console.error("Eroare la actualizare:",o)}})}showUserDetails(e){this.isUserDetailsVisible=!0}closeUserDetails(){this.isUserDetailsVisible=!1,this.selectedUser=null}closeUpdateUserForm(){this.selectedUserId=null,this.resetForm(),this.isUpdateUserFormVisible=!1}openAddUserForm(){this.selectedUserId=null,this.resetForm(),this.isAddUserFormVisible=!0}viewUser(e){this.isUserDetailsVisible=!0}deleteEntity(e){confirm(`Sigur dori\u021Bi s\u0103 \u0219terge\u021Bi utilizatorul ${e.fullName}?`)&&this.adminService.deleteUser(e.id).subscribe({next:()=>{this.getPage()},error:t=>{console.error("Eroare la \u0219tergerea utilizatorului:",t)}})}closeAddUserForm(){this.isAddUserFormVisible=!1,this.resetForm()}resetForm(){this.formData={firstName:"",lastName:"",email:"",password:"",role:"Client"}}onPageChange(e){this.currentPage=e,this.getPage()}onPageSizeChange(e){this.pageSize=e,this.currentPage=1,this.getPage()}static \u0275fac=function(t){return new(t||n)(D(fn))};static \u0275cmp=R({type:n,selectors:[["app-admin-users"]],decls:13,vars:11,consts:[[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[1,"admin-wrapper"],[1,"admin-table-container"],[1,"search-box-wrapper"],[3,"searchChanged","placeholder"],[1,"add-btn",3,"click"],[3,"columns","data"],["class","modal-overlay",4,"ngIf"],["class","admin-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal"],[1,"close-button-wrapper"],[1,"close-button",3,"click"],[3,"formSubmit","fields","submitText"],[3,"formSubmit","fields","initialData","submitText"],[1,"admin-overlay"],[1,"admin-modal"],[3,"entity","title","close",4,"ngIf"],[3,"close","entity","title"]],template:function(t,i){t&1&&(l(0,"app-pagination",0),I("pageChange",function(d){return i.onPageChange(d)})("pageSizeChange",function(d){return i.onPageSizeChange(d)}),a(),l(1,"div",1)(2,"div",2)(3,"h2"),u(4,"Administreaz\u0103 to\u021Bi utilizatorii"),a(),l(5,"div",3)(6,"app-search-input",4),I("searchChanged",function(d){return i.onSearch(d)}),a()(),l(7,"button",5),I("click",function(){return i.openAddUserForm()}),u(8,"Adaug\u0103 utilizator"),a(),k(9,"app-dynamic-table",6),a()(),A(10,ad,6,2,"div",7)(11,cd,5,3,"div",7)(12,ud,5,1,"div",8)),t&2&&(_("currentPage",i.currentPage)("pageSize",i.pageSize)("pageSizeOptions",ze(10,sd))("totalItems",i.totalItems),p(6),_("placeholder",i.placeholder),p(3),_("columns",i.columns)("data",i.users),p(),_("ngIf",i.isAddUserFormVisible),p(),_("ngIf",i.isUpdateUserFormVisible),p(),_("ngIf",i.isUserDetailsVisible))},dependencies:[se,Y,Z,Le,kt,Vt,Qe,at],styles:[".admin-wrapper[_ngcontent-%COMP%]{text-align:center}.admin-table-container[_ngcontent-%COMP%]{display:inline-block;padding:24px;background-color:#d9c8ff;border:2px solid #4b358e;border-radius:8px;font-family:Roboto Mono,monospace;box-shadow:0 4px 8px #0000001a;margin:40px auto}.admin-table-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.admin-table[_ngcontent-%COMP%]{width:max-content;max-width:100%;margin-left:auto;margin-right:auto;border-collapse:collapse;background-color:#f8f4ff;border-radius:6px}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;white-space:nowrap}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700}.action-link[_ngcontent-%COMP%]{margin-right:12px;cursor:pointer;text-decoration:none;font-weight:700}.action-link.view[_ngcontent-%COMP%]{color:#00f}.action-link.edit[_ngcontent-%COMP%]{color:green}.action-link.delete[_ngcontent-%COMP%]{color:red}.add-btn[_ngcontent-%COMP%]{background-color:#916fc7;color:#fff;border:3px solid #4b358e;margin-top:14px;margin-bottom:20px;padding:8px 16px;font-weight:700;border-radius:6px;cursor:pointer;transition:background-color .3s;font-family:Roboto Mono,monospace}.add-btn[_ngcontent-%COMP%]:hover{background-color:#3a2973}",".grid-form[_ngcontent-%COMP%]{gap:24px 20px;padding:24px 32px;max-width:650px;margin:0 auto;font-family:Roboto Mono,monospace;border:2px solid #c9b7ff;border-radius:6px;box-shadow:0 4px 12px #0000001a}.form-layout[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px 20px;padding:12px 16px;max-width:650px;margin:0 auto}.form-group[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;flex:1;display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{flex:1 1 100%}.form-group.half-width[_ngcontent-%COMP%]{flex:1 1 48%}label[_ngcontent-%COMP%]{margin-bottom:8px}.input-box[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;transition:border-color .3s}.input-box[_ngcontent-%COMP%]:focus-within{border-color:#9a79ff}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;width:100%;font-family:Roboto Mono,monospace;font-size:16px;outline:none}.input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-family:inherit;font-size:1rem;border:none;border-radius:6px;box-sizing:border-box;resize:vertical;background:#e6dfff}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;font-size:16px;outline:none;appearance:auto;font-family:inherit;width:100%}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#a388ff;box-shadow:0 0 3px #a388ff}.placeholder-selected[_ngcontent-%COMP%]{color:#7d7d7f!important}.send-button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:300px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}.send-button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.field-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.error[_ngcontent-%COMP%]{color:#d8000c;font-size:.85rem;margin-top:4px;padding-left:2px}",".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var dd=["class","users"],hd=()=>[5,10,20];function pd(n,e){if(n&1){let t=N();l(0,"div",9)(1,"div",10)(2,"div",11)(3,"button",12),I("click",function(){M(t);let o=w();return O(o.closeAddUserForm())}),u(4,"\xD7"),a()(),l(5,"app-dynamic-form",13),I("formSubmit",function(o){M(t);let d=w();return O(d.addEntity(o))}),a()()()}if(n&2){let t=w();p(5),_("fields",t.addEntityFormFields)("submitText","Adaug\u0103")}}function md(n,e){if(n&1){let t=N();l(0,"div",9)(1,"div",10)(2,"button",12),I("click",function(){M(t);let o=w();return O(o.closeUpdateUserForm())}),u(3,"\xD7"),a(),l(4,"app-dynamic-form",14),I("formSubmit",function(o){M(t);let d=w();return O(d.updateEntity(o))}),a()()()}if(n&2){let t=w();p(4),_("fields",t.updateEntityFormFields)("initialData",t.formData)("submitText","Actualizeaz\u0103")}}function fd(n,e){if(n&1){let t=N();l(0,"app-admin-details",17),I("close",function(){M(t);let o=w(2);return O(o.closeUserDetails())}),a()}if(n&2){let t=w(2);_("entity",t.entityDetails)("title","Detalii specialist")}}function gd(n,e){if(n&1){let t=N();l(0,"div",15)(1,"div",10)(2,"button",12),I("click",function(){M(t);let o=w();return O(o.closeUserDetails())}),u(3,"\xD7"),a(),A(4,fd,1,2,"app-admin-details",16),a()()}if(n&2){let t=w();p(4),_("ngIf",t.isUserDetailsVisible)}}var ur=class n{constructor(e){this.adminService=e;let t={fullName:"",email:"",password:"",phoneNumber:"",address:"",yearsExperience:0,description:""};this.formData=G({},t),this.getPage()}searchTerm="";users=[];selectedUser=null;entityDetails={};entityDetailsId;pageSize=10;currentPage=1;totalItems=0;isAddUserFormVisible=!1;isUpdateUserFormVisible=!1;isUserDetailsVisible=!1;selectedUserId=null;placeholder="Caut\u0103 un specialist...";columns=[{key:"id",header:"ID"},{key:"fullName",header:"Nume"},{key:"email",header:"Email"},{key:"phoneNumber",header:"Num\u0103r de telefon"},{key:"address",header:"Adres\u0103"},{key:"actions",header:"Ac\u021Biuni",type:"action",actions:[{label:"Detalii",class:"view",callback:e=>this.getEntity(e.id)},{label:"Modific\u0103",class:"edit",callback:e=>this.editUser(e)},{label:"\u0218terge",class:"delete",callback:e=>this.deleteUser(e)}]}];defaultUser={fullName:"",email:"",password:"",phoneNumber:"",address:"",yearsExperience:0,description:""};formData={};error=null;addEntityFormFields=Me(this.defaultUser,{email:{type:"email"},password:{type:"password"},yearsExperience:{type:"number",placeholder:"Ex: 5"},description:{type:"textarea",placeholder:"Descrie serviciile oferite",class:"full-width"}});updateEntityFormFields=Me({fullName:this.selectedUser?.fullName||"",phoneNumber:this.selectedUser?.phoneNumber||"",address:this.selectedUser?.address||"",yearsExperience:this.selectedUser?.yearsExperience||"",description:this.selectedUser?.description||""});onSearch(e){this.searchTerm=e,this.currentPage=1,this.getPage()}getEntity(e){this.adminService.getSpecialist(e).subscribe({next:t=>{this.entityDetailsId=t.response?.id,console.log(t.response),this.entityDetails=Sn(t.response??{}),this.isUserDetailsVisible=!0},error:t=>{console.error("Eroare la preluarea utilizatorului:",t),alert("Nu s-au putut \xEEnc\u0103rca detaliile utilizatorului.")}})}getPage(){this.adminService.getSpecialists(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:e=>{this.users=e.response?.data??[],this.totalItems=e.response?.totalCount??0},error:e=>{this.error=e.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addEntity(e){let t=e;this.adminService.addSpecialist(t).subscribe({next:()=>{this.closeAddUserForm(),this.getPage()},error:i=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",i)}})}editUser(e){this.selectedUserId=e.id,this.formData={fullName:e.fullName,phoneNumber:e.phoneNumber,address:e.address,yearsExperience:e.yearsExperience,description:e.description},this.isUpdateUserFormVisible=!0}updateEntity(e){if(console.log("Form data submitted:",e),!this.selectedUserId){console.error("Niciun utilizator nu a fost selectat pentru actualizare."),alert("Eroare: Nu a fost selectat niciun utilizator pentru actualizare.");return}let t={id:this.selectedUserId,fullName:e.fullName,phoneNumber:e.phoneNumber,address:e.address,yearsExperience:e.yearsExperience,description:e.description};console.log("Update payload:",t),this.adminService.updateSpecialist(this.selectedUserId,t).subscribe({next:()=>{console.log(),this.closeUpdateUserForm(),this.getPage()},error:i=>{console.error("Eroare la actualizare:",i)}})}closeUserDetails(){this.isUserDetailsVisible=!1,this.entityDetails={}}closeUpdateUserForm(){this.selectedUserId=null,this.resetForm(),this.isUpdateUserFormVisible=!1}openAddUserForm(){this.selectedUserId=null,this.resetForm(),this.isAddUserFormVisible=!0}viewUser(e){this.isUserDetailsVisible=!0}deleteUser(e){confirm(`Sigur dori\u021Bi s\u0103 \u0219terge\u021Bi utilizatorul ${e.fullName}?`)&&this.adminService.deleteSpecialist(e.id).subscribe({next:()=>{this.getPage()},error:t=>{console.error("Eroare la \u0219tergerea utilizatorului:",t)}})}closeAddUserForm(){this.isAddUserFormVisible=!1,this.resetForm()}resetForm(){this.formData={firstName:"",lastName:"",email:"",password:"",role:"Client"}}getTotalPages(){return Math.ceil(this.totalItems/this.pageSize)}onPageSizeChange(e){this.pageSize=e,this.currentPage=1,this.getPage()}onPageChange(e){this.currentPage=e,this.getPage()}static \u0275fac=function(t){return new(t||n)(D(wn))};static \u0275cmp=R({type:n,selectors:[["app-admin",8,"users"]],attrs:dd,decls:13,vars:11,consts:[[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[1,"admin-wrapper"],[1,"admin-table-container"],[1,"search-box-wrapper"],[3,"searchChanged","placeholder"],[1,"add-btn",3,"click"],[3,"columns","data"],["class","modal-overlay",4,"ngIf"],["class","admin-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal"],[1,"close-button-wrapper"],[1,"close-button",3,"click"],[3,"formSubmit","fields","submitText"],[3,"formSubmit","fields","initialData","submitText"],[1,"admin-overlay"],[3,"entity","title","close",4,"ngIf"],[3,"close","entity","title"]],template:function(t,i){t&1&&(l(0,"app-pagination",0),I("pageChange",function(d){return i.onPageChange(d)})("pageSizeChange",function(d){return i.onPageSizeChange(d)}),a(),l(1,"div",1)(2,"div",2)(3,"h2"),u(4,"Administreaz\u0103 to\u021Bi speciali\u0219tii"),a(),l(5,"div",3)(6,"app-search-input",4),I("searchChanged",function(d){return i.onSearch(d)}),a()(),l(7,"button",5),I("click",function(){return i.openAddUserForm()}),u(8,"Adaug\u0103 specialist"),a(),k(9,"app-dynamic-table",6),a()(),A(10,pd,6,2,"div",7)(11,md,5,3,"div",7)(12,gd,5,1,"div",8)),t&2&&(_("currentPage",i.currentPage)("pageSize",i.pageSize)("pageSizeOptions",ze(10,hd))("totalItems",i.totalItems),p(6),_("placeholder",i.placeholder),p(3),_("columns",i.columns)("data",i.users),p(),_("ngIf",i.isAddUserFormVisible),p(),_("ngIf",i.isUpdateUserFormVisible),p(),_("ngIf",i.isUserDetailsVisible))},dependencies:[Z,Vt,Le,kt,Y,Qe,at],styles:[".admin-wrapper[_ngcontent-%COMP%]{text-align:center}.admin-table-container[_ngcontent-%COMP%]{display:inline-block;padding:24px;background-color:#d9c8ff;border:2px solid #4b358e;border-radius:8px;font-family:Roboto Mono,monospace;box-shadow:0 4px 8px #0000001a;margin:40px auto}.admin-table-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.admin-table[_ngcontent-%COMP%]{width:max-content;max-width:100%;margin-left:auto;margin-right:auto;border-collapse:collapse;background-color:#f8f4ff;border-radius:6px}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;white-space:nowrap}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700}.action-link[_ngcontent-%COMP%]{margin-right:12px;cursor:pointer;text-decoration:none;font-weight:700}.action-link.view[_ngcontent-%COMP%]{color:#00f}.action-link.edit[_ngcontent-%COMP%]{color:green}.action-link.delete[_ngcontent-%COMP%]{color:red}.add-btn[_ngcontent-%COMP%]{background-color:#916fc7;color:#fff;border:3px solid #4b358e;margin-top:14px;margin-bottom:20px;padding:8px 16px;font-weight:700;border-radius:6px;cursor:pointer;transition:background-color .3s;font-family:Roboto Mono,monospace}.add-btn[_ngcontent-%COMP%]:hover{background-color:#3a2973}",".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var dr=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-unauthorized"]],decls:6,vars:0,consts:[["routerLink","/home"]],template:function(t,i){t&1&&(l(0,"h2"),u(1,"Acces restric\u021Bionat"),a(),l(2,"p"),u(3,"Nu ai permisiunea necesar\u0103 pentru a accesa aceast\u0103 pagin\u0103."),a(),l(4,"a",0),u(5,"\xCEnapoi la pagina principal\u0103"),a())},encapsulation:2})};var hr=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.getToken()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(t){return new(t||n)(H($),H(Te))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};function _d(n,e){if(n&1&&k(0,"img",2),n&2){let t=w();_("src",t.icon,He)}}var pr=class n{label;icon;onClick=new z;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-icon-button"]],inputs:{label:"label",icon:"icon"},outputs:{onClick:"onClick"},decls:4,vars:2,consts:[[1,"icon-button",3,"click"],["alt","icon","class","button-icon",3,"src",4,"ngIf"],["alt","icon",1,"button-icon",3,"src"]],template:function(t,i){t&1&&(l(0,"button",0),I("click",function(){return i.onClick.emit()}),A(1,_d,1,1,"img",1),l(2,"span"),u(3),a()()),t&2&&(p(),_("ngIf",i.icon),p(2),j(i.label))},dependencies:[se,Y],styles:[".icon-button[_ngcontent-%COMP%]{width:260px;height:55px;display:flex;align-items:center;gap:12px;padding:12px 24px;font-size:16px;font-weight:500;border:3px solid #4f378a;background-color:#f3e6ff;border-radius:10px;cursor:pointer;transition:background .2s ease;font-family:Roboto Mono,monospace}.icon-button[_ngcontent-%COMP%]:hover{background-color:#a197be}.icon-button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}"]})};var In=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Photo";addProfilePicture(e){let t=new FormData;t.append("file",e);let i=this.authService.getToken(),o=new L({Authorization:`Bearer ${i}`});return this.http.post(`${this.baseUrl}/AddProfilePicture`,t,{headers:o})}updateProfilePicture(e){let t=new FormData;t.append("file",e);let i=this.authService.getToken(),o=new L({Authorization:`Bearer ${i}`});return this.http.patch(`${this.baseUrl}/UpdateProfilePicture`,t,{headers:o})}addPortfolioPicture(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return this.http.post(`${this.baseUrl}/AddPortfolioPicture`,e,{headers:i})}deletePortfolioPicture(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return this.http.delete(`${this.baseUrl}/DeletePortfolioPicture/${e}`,{headers:i})}static \u0275fac=function(t){return new(t||n)(H(ye),H($))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};function yd(n,e){if(n&1&&(l(0,"span",21),u(1),a()),n&2){let t=e.$implicit;p(),j(t.name)}}var mr=class n{constructor(e,t,i,o){this.profileService=e;this.authService=t;this.photoService=i;this.route=o}user;dummyUser={id:"user-001",fullName:"Elena Georgescu",email:"elena.georgescu@example.com",role:"Specialist",createdAt:new Date("2023-02-10T10:15:00Z"),updatedAt:new Date,rating:4.8,contactInfo:{phoneNumber:"0745123456",address:"Strada Florilor 12, Timi\u0219oara"},specialist:{yearsExperience:6,description:"Specialist \xEEn traduceri juridice \u0219i consultan\u021B\u0103 contractual\u0103.",categories:[{id:"cat-007",name:"Traduceri juridice"},{id:"cat-008",name:"Consultan\u021B\u0103 legal\u0103"}]}};ngOnInit(){this.profileService.getUserProfile().subscribe({next:e=>{this.user=e.response,console.log(this.user)},error:e=>{console.error(e)}})}onFileSelected(e){let t=e.target.files[0];if(!t)return;new FormData().append("file",t),this.photoService.addProfilePicture(t).subscribe({next:o=>{console.log("Upload success:",o),console.log(this.user?.profilePictureUrl)},error:o=>{console.error("Upload error:",o)}})}uploadProfilePicture(e){this.photoService.addProfilePicture(e).subscribe({next:t=>{console.log("Upload success:",t)},error:t=>{console.error("Upload error:",t)}})}onEdit(){}goToReviews(){this.route.navigate(["profile/user-reviews"])}goToHistory(){}goToExpertEase(){}goToSettings(){this.route.navigate(["profile/user-settings"])}logout(){window.confirm("Sigur vrei s\u0103 te deloghezi?")&&this.authService.logout(),this.route.navigate(["/home"])}UserRoleEnum=Xt;static \u0275fac=function(t){return new(t||n)(D(fn),D($),D(In),D(Te))};static \u0275cmp=R({type:n,selectors:[["app-profile"]],decls:51,vars:22,consts:[[1,"account-card"],[1,"account-header"],[1,"avatar-wrapper"],[1,"avatar"],["alt","User avatar",3,"src"],[1,"upload-btn"],["type","file","accept","image/*","hidden","",3,"change"],["src","assets/icons/photo_media.svg","alt","Upload icon"],[1,"account-info"],[3,"onClick","label","icon"],[1,"card"],[1,"info"],[1,"full-name"],[1,"details-block"],[1,"row"],[1,"categories"],[1,"label"],["class","tag",4,"ngFor","ngForOf"],[1,"experience"],[1,"description"],[1,"account-actions"],[1,"tag"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),k(4,"img",4),l(5,"label",5)(6,"input",6),I("change",function(d){return i.onFileSelected(d)}),a(),k(7,"img",7),a()()(),l(8,"div",8)(9,"p")(10,"strong"),u(11,"Nume:"),a(),u(12),a(),l(13,"p")(14,"strong"),u(15,"Adresa mail:"),a(),u(16),a(),l(17,"p")(18,"strong"),u(19,"Parol\u0103:"),a(),u(20," ********"),a(),l(21,"p")(22,"strong"),u(23,"Creat la data de:"),a(),u(24),U(25,"date"),a()(),l(26,"app-icon-button",9),I("onClick",function(){return i.onEdit()}),a()(),l(27,"div",10)(28,"div",11)(29,"h2",12),u(30,"Anun\u021Bul t\u0103u"),a(),l(31,"div",13)(32,"div",14)(33,"div",15)(34,"span",16),u(35,"Categorii:"),a(),A(36,yd,2,1,"span",17),a(),l(37,"div",18)(38,"span",16),u(39,"Ani experien\u021B\u0103:"),a(),u(40),a()(),l(41,"div",19)(42,"span",16),u(43,"Descriere:"),a(),u(44),a()()(),l(45,"app-icon-button",9),I("onClick",function(){return i.onEdit()}),a()(),l(46,"div",20)(47,"app-icon-button",9),I("onClick",function(){return i.goToReviews()}),a(),l(48,"app-icon-button",9),I("onClick",function(){return i.goToHistory()}),a(),l(49,"app-icon-button",9),I("onClick",function(){return i.goToSettings()}),a(),l(50,"app-icon-button",9),I("onClick",function(){return i.logout()}),a()()()),t&2&&(p(4),_("src",(i.user==null?null:i.user.profilePictureUrl)||"assets/avatar.svg",He),p(8),V(" ",i.user==null?null:i.user.fullName," "),p(4),V(" ",i.user==null?null:i.user.email,""),p(8),V(" ",pe(25,19,i.user==null?null:i.user.createdAt,"dd.MM.yyyy"),""),p(2),_("label","Editeaz\u0103 profilul")("icon","assets/icons/edit.svg"),p(10),_("ngForOf",i.user==null||i.user.specialist==null?null:i.user.specialist.categories),p(4),V(" ",i.user==null||i.user.specialist==null?null:i.user.specialist.yearsExperience," "),p(4),V(" ",i.user==null||i.user.specialist==null?null:i.user.specialist.description," "),p(),_("label","Editeaz\u0103 anun\u021Bul")("icon","assets/icons/edit.svg"),p(2),_("label","Recenziile tale")("icon","assets/icons/reviews.svg"),p(),_("label","Istoric servicii")("icon","assets/icons/history.svg"),p(),_("label","Set\u0103rile contului")("icon","assets/icons/settings.svg"),p(),_("label","Deconecteaz\u0103-te")("icon","assets/icons/logout.svg"))},dependencies:[Fe,pr,le],styles:[".account-card[_ngcontent-%COMP%]{background:#e0caff;max-width:1000px;margin:32px auto;box-shadow:0 4px 16px #0000001a;font-family:Roboto Mono,monospace;border:3px solid black}.account-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:32px;gap:32px}.account-info[_ngcontent-%COMP%]{flex:1;margin-left:32px;font-size:16px}.account-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px 78px;padding:32px}.card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#a08ad2;padding:20px 32px;width:100%;gap:20px;justify-content:space-between;box-sizing:border-box;border-top:3px solid black;border-bottom:3px solid black;font-family:Roboto Mono,monospace}.info[_ngcontent-%COMP%]{flex:1}.full-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-top:.25rem;margin-bottom:.5rem}.full-name[_ngcontent-%COMP%]:hover{text-decoration:underline}.details-block[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:12px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.categories[_ngcontent-%COMP%], .experience[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{font-size:.95rem}.label[_ngcontent-%COMP%]{font-weight:700;margin-right:6px}.tag[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:160px;aspect-ratio:1/1}.avatar[_ngcontent-%COMP%]{position:relative;width:160px;height:160px;overflow:hidden}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover;display:block}.rating-badge[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;display:inline-flex;align-items:center;gap:.3em;background:#fff;padding:.2em .5em;border-radius:.6em;font-size:1.2em;box-shadow:0 1px 4px #0000001a}.rating-badge[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1em;height:1em}.upload-btn[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:4px;background:#fff;border-radius:50%;padding:6px;cursor:pointer;font-size:18px}.upload-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0}.upload-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}"]})};var Cc=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},vd=function(n){let e=[],t=0,i=0;for(;t<n.length;){let o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){let d=n[t++];e[i++]=String.fromCharCode((o&31)<<6|d&63)}else if(o>239&&o<365){let d=n[t++],y=n[t++],T=n[t++],F=((o&7)<<18|(d&63)<<12|(y&63)<<6|T&63)-65536;e[i++]=String.fromCharCode(55296+(F>>10)),e[i++]=String.fromCharCode(56320+(F&1023))}else{let d=n[t++],y=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(d&63)<<6|y&63)}}return e.join("")},bd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){let d=n[o],y=o+1<n.length,T=y?n[o+1]:0,F=o+2<n.length,q=F?n[o+2]:0,it=d>>2,Re=(d&3)<<4|T>>4,ae=(T&15)<<2|q>>6,Ge=q&63;F||(Ge=64,y||(ae=64)),i.push(t[it],t[Re],t[ae],t[Ge])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Cc(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):vd(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){let d=t[n.charAt(o++)],T=o<n.length?t[n.charAt(o)]:0;++o;let q=o<n.length?t[n.charAt(o)]:64;++o;let Re=o<n.length?t[n.charAt(o)]:64;if(++o,d==null||T==null||q==null||Re==null)throw new qo;let ae=d<<2|T>>4;if(i.push(ae),q!==64){let Ge=T<<4&240|q>>2;if(i.push(Ge),Re!==64){let X=q<<6&192|Re;i.push(X)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},qo=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Cd=function(n){let e=Cc(n);return bd.encodeByteArray(e,!0)},zo=function(n){return Cd(n).replace(/\./g,"")};function jo(){try{return typeof indexedDB=="object"}catch{return!1}}function xc(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var d;e(((d=o.error)===null||d===void 0?void 0:d.message)||"")}}catch(t){e(t)}})}var xd="FirebaseError",_t=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=xd,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pi.prototype.create)}},pi=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},o=`${this.service}/${e}`,d=this.errors[e],y=d?wd(d,i):"Error",T=`${this.serviceName}: ${y} (${o}).`;return new _t(o,T,i)}};function wd(n,e){return n.replace(Ed,(t,i)=>{let o=e[i];return o!=null?String(o):`<${i}?>`})}var Ed=/\{\$([^}]+)}/g;var $g=4*60*60*1e3;var Nt=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Sd=[],re=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(re||{}),Id={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},Td=re.INFO,Dd={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},Pd=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),o=Dd[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Tn=class{constructor(e){this.name=e,this._logLevel=Td,this._logHandler=Pd,this._userLogHandler=null,Sd.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Id[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}};var Ad=(n,e)=>e.some(t=>n instanceof t),wc,Ec;function Md(){return wc||(wc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Od(){return Ec||(Ec=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Sc=new WeakMap,Go=new WeakMap,Ic=new WeakMap,$o=new WeakMap,Wo=new WeakMap;function Rd(n){let e=new Promise((t,i)=>{let o=()=>{n.removeEventListener("success",d),n.removeEventListener("error",y)},d=()=>{t(ct(n.result)),o()},y=()=>{i(n.error),o()};n.addEventListener("success",d),n.addEventListener("error",y)});return e.then(t=>{t instanceof IDBCursor&&Sc.set(t,n)}).catch(()=>{}),Wo.set(e,n),e}function kd(n){if(Go.has(n))return;let e=new Promise((t,i)=>{let o=()=>{n.removeEventListener("complete",d),n.removeEventListener("error",y),n.removeEventListener("abort",y)},d=()=>{t(),o()},y=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",d),n.addEventListener("error",y),n.addEventListener("abort",y)});Go.set(n,e)}var Ko={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Go.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Ic.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ct(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Tc(n){Ko=n(Ko)}function Vd(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(fr(this),e,...t);return Ic.set(i,e.sort?e.sort():[e]),ct(i)}:Od().includes(n)?function(...e){return n.apply(fr(this),e),ct(Sc.get(this))}:function(...e){return ct(n.apply(fr(this),e))}}function Nd(n){return typeof n=="function"?Vd(n):(n instanceof IDBTransaction&&kd(n),Ad(n,Md())?new Proxy(n,Ko):n)}function ct(n){if(n instanceof IDBRequest)return Rd(n);if($o.has(n))return $o.get(n);let e=Nd(n);return e!==n&&($o.set(n,e),Wo.set(e,n)),e}var fr=n=>Wo.get(n);function Pc(n,e,{blocked:t,upgrade:i,blocking:o,terminated:d}={}){let y=indexedDB.open(n,e),T=ct(y);return i&&y.addEventListener("upgradeneeded",F=>{i(ct(y.result),F.oldVersion,F.newVersion,ct(y.transaction),F)}),t&&y.addEventListener("blocked",F=>t(F.oldVersion,F.newVersion,F)),T.then(F=>{d&&F.addEventListener("close",()=>d()),o&&F.addEventListener("versionchange",q=>o(q.oldVersion,q.newVersion,q))}).catch(()=>{}),T}var Fd=["get","getKey","getAll","getAllKeys","count"],Ud=["put","add","delete","clear"],Ho=new Map;function Dc(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ho.get(e))return Ho.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,o=Ud.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Fd.includes(t)))return;let d=function(y,...T){return he(this,null,function*(){let F=this.transaction(y,o?"readwrite":"readonly"),q=F.store;return i&&(q=q.index(T.shift())),(yield Promise.all([q[t](...T),o&&F.done]))[0]})};return Ho.set(e,d),d}Tc(n=>me(G({},n),{get:(e,t,i)=>Dc(e,t)||n.get(e,t,i),has:(e,t)=>!!Dc(e,t)||n.has(e,t)}));var Jo=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Ld(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function Ld(n){let e=n.getComponent();return e?.type==="VERSION"}var Yo="@firebase/app",Ac="0.10.15";var yt=new Tn("@firebase/app"),qd="@firebase/app-compat",zd="@firebase/analytics-compat",jd="@firebase/analytics",$d="@firebase/app-check-compat",Gd="@firebase/app-check",Kd="@firebase/auth",Wd="@firebase/auth-compat",Hd="@firebase/database",Qd="@firebase/data-connect",Jd="@firebase/database-compat",Yd="@firebase/functions",Xd="@firebase/functions-compat",Zd="@firebase/installations",eh="@firebase/installations-compat",th="@firebase/messaging",nh="@firebase/messaging-compat",ih="@firebase/performance",rh="@firebase/performance-compat",oh="@firebase/remote-config",sh="@firebase/remote-config-compat",ah="@firebase/storage",ch="@firebase/storage-compat",lh="@firebase/firestore",uh="@firebase/vertexai",dh="@firebase/firestore-compat",hh="firebase",ph="11.0.1";var mh={[Yo]:"fire-core",[qd]:"fire-core-compat",[jd]:"fire-analytics",[zd]:"fire-analytics-compat",[Gd]:"fire-app-check",[$d]:"fire-app-check-compat",[Kd]:"fire-auth",[Wd]:"fire-auth-compat",[Hd]:"fire-rtdb",[Qd]:"fire-data-connect",[Jd]:"fire-rtdb-compat",[Yd]:"fire-fn",[Xd]:"fire-fn-compat",[Zd]:"fire-iid",[eh]:"fire-iid-compat",[th]:"fire-fcm",[nh]:"fire-fcm-compat",[ih]:"fire-perf",[rh]:"fire-perf-compat",[oh]:"fire-rc",[sh]:"fire-rc-compat",[ah]:"fire-gcs",[ch]:"fire-gcs-compat",[lh]:"fire-fst",[dh]:"fire-fst-compat",[uh]:"fire-vertex","fire-js":"fire-js",[hh]:"fire-js-all"};var fh=new Map,gh=new Map,Mc=new Map;function Oc(n,e){try{n.container.addComponent(e)}catch(t){yt.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function mi(n){let e=n.name;if(Mc.has(e))return yt.debug(`There were multiple attempts to register component ${e}.`),!1;Mc.set(e,n);for(let t of fh.values())Oc(t,n);for(let t of gh.values())Oc(t,n);return!0}var _h={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new pi("app","Firebase",_h);var Nc=ph;function Dn(n,e,t){var i;let o=(i=mh[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);let d=o.match(/\s|\//),y=e.match(/\s|\//);if(d||y){let T=[`Unable to register library "${o}" with version "${e}":`];d&&T.push(`library name "${o}" contains illegal characters (whitespace or "/")`),d&&y&&T.push("and"),y&&T.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yt.warn(T.join(" "));return}mi(new Nt(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}var yh="firebase-heartbeat-database",vh=1,fi="firebase-heartbeat-store",Qo=null;function Fc(){return Qo||(Qo=Pc(yh,vh,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fi)}catch(t){console.warn(t)}}}}).catch(n=>{throw es.create("idb-open",{originalErrorMessage:n.message})})),Qo}function bh(n){return he(this,null,function*(){try{let t=(yield Fc()).transaction(fi),i=yield t.objectStore(fi).get(Uc(n));return yield t.done,i}catch(e){if(e instanceof _t)yt.warn(e.message);else{let t=es.create("idb-get",{originalErrorMessage:e?.message});yt.warn(t.message)}}})}function Rc(n,e){return he(this,null,function*(){try{let i=(yield Fc()).transaction(fi,"readwrite");yield i.objectStore(fi).put(e,Uc(n)),yield i.done}catch(t){if(t instanceof _t)yt.warn(t.message);else{let i=es.create("idb-set",{originalErrorMessage:t?.message});yt.warn(i.message)}}})}function Uc(n){return`${n.name}!${n.options.appId}`}var Ch=1024,xh=30*24*60*60*1e3,Xo=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Zo(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return he(this,null,function*(){var e,t;try{let o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),d=kc();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===d||this._heartbeatsCache.heartbeats.some(y=>y.date===d)?void 0:(this._heartbeatsCache.heartbeats.push({date:d,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(y=>{let T=new Date(y.date).valueOf();return Date.now()-T<=xh}),this._storage.overwrite(this._heartbeatsCache))}catch(i){yt.warn(i)}})}getHeartbeatsHeader(){return he(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=kc(),{heartbeatsToSend:i,unsentEntries:o}=wh(this._heartbeatsCache.heartbeats),d=zo(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),d}catch(t){return yt.warn(t),""}})}};function kc(){return new Date().toISOString().substring(0,10)}function wh(n,e=Ch){let t=[],i=n.slice();for(let o of n){let d=t.find(y=>y.agent===o.agent);if(d){if(d.dates.push(o.date),Vc(t)>e){d.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Vc(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var Zo=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return he(this,null,function*(){return jo()?xc().then(()=>!0).catch(()=>!1):!1})}read(){return he(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield bh(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return he(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let o=yield this.read();return Rc(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return he(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let o=yield this.read();return Rc(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return})}};function Vc(n){return zo(JSON.stringify({version:2,heartbeats:n})).length}function Eh(n){mi(new Nt("platform-logger",e=>new Jo(e),"PRIVATE")),mi(new Nt("heartbeat",e=>new Xo(e),"PRIVATE")),Dn(Yo,Ac,n),Dn(Yo,Ac,"esm2017"),Dn("fire-js","")}Eh("");var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lc={};var ts,qc;(function(){var n;function e(x,m){function g(){}g.prototype=m.prototype,x.D=m.prototype,x.prototype=new g,x.prototype.constructor=x,x.C=function(v,b,E){for(var f=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)f[dt-2]=arguments[dt];return m.prototype[b].apply(v,f)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,m,g){g||(g=0);var v=Array(16);if(typeof m=="string")for(var b=0;16>b;++b)v[b]=m.charCodeAt(g++)|m.charCodeAt(g++)<<8|m.charCodeAt(g++)<<16|m.charCodeAt(g++)<<24;else for(b=0;16>b;++b)v[b]=m[g++]|m[g++]<<8|m[g++]<<16|m[g++]<<24;m=x.g[0],g=x.g[1],b=x.g[2];var E=x.g[3],f=m+(E^g&(b^E))+v[0]+3614090360&4294967295;m=g+(f<<7&4294967295|f>>>25),f=E+(b^m&(g^b))+v[1]+3905402710&4294967295,E=m+(f<<12&4294967295|f>>>20),f=b+(g^E&(m^g))+v[2]+606105819&4294967295,b=E+(f<<17&4294967295|f>>>15),f=g+(m^b&(E^m))+v[3]+3250441966&4294967295,g=b+(f<<22&4294967295|f>>>10),f=m+(E^g&(b^E))+v[4]+4118548399&4294967295,m=g+(f<<7&4294967295|f>>>25),f=E+(b^m&(g^b))+v[5]+1200080426&4294967295,E=m+(f<<12&4294967295|f>>>20),f=b+(g^E&(m^g))+v[6]+2821735955&4294967295,b=E+(f<<17&4294967295|f>>>15),f=g+(m^b&(E^m))+v[7]+4249261313&4294967295,g=b+(f<<22&4294967295|f>>>10),f=m+(E^g&(b^E))+v[8]+1770035416&4294967295,m=g+(f<<7&4294967295|f>>>25),f=E+(b^m&(g^b))+v[9]+2336552879&4294967295,E=m+(f<<12&4294967295|f>>>20),f=b+(g^E&(m^g))+v[10]+4294925233&4294967295,b=E+(f<<17&4294967295|f>>>15),f=g+(m^b&(E^m))+v[11]+2304563134&4294967295,g=b+(f<<22&4294967295|f>>>10),f=m+(E^g&(b^E))+v[12]+1804603682&4294967295,m=g+(f<<7&4294967295|f>>>25),f=E+(b^m&(g^b))+v[13]+4254626195&4294967295,E=m+(f<<12&4294967295|f>>>20),f=b+(g^E&(m^g))+v[14]+2792965006&4294967295,b=E+(f<<17&4294967295|f>>>15),f=g+(m^b&(E^m))+v[15]+1236535329&4294967295,g=b+(f<<22&4294967295|f>>>10),f=m+(b^E&(g^b))+v[1]+4129170786&4294967295,m=g+(f<<5&4294967295|f>>>27),f=E+(g^b&(m^g))+v[6]+3225465664&4294967295,E=m+(f<<9&4294967295|f>>>23),f=b+(m^g&(E^m))+v[11]+643717713&4294967295,b=E+(f<<14&4294967295|f>>>18),f=g+(E^m&(b^E))+v[0]+3921069994&4294967295,g=b+(f<<20&4294967295|f>>>12),f=m+(b^E&(g^b))+v[5]+3593408605&4294967295,m=g+(f<<5&4294967295|f>>>27),f=E+(g^b&(m^g))+v[10]+38016083&4294967295,E=m+(f<<9&4294967295|f>>>23),f=b+(m^g&(E^m))+v[15]+3634488961&4294967295,b=E+(f<<14&4294967295|f>>>18),f=g+(E^m&(b^E))+v[4]+3889429448&4294967295,g=b+(f<<20&4294967295|f>>>12),f=m+(b^E&(g^b))+v[9]+568446438&4294967295,m=g+(f<<5&4294967295|f>>>27),f=E+(g^b&(m^g))+v[14]+3275163606&4294967295,E=m+(f<<9&4294967295|f>>>23),f=b+(m^g&(E^m))+v[3]+4107603335&4294967295,b=E+(f<<14&4294967295|f>>>18),f=g+(E^m&(b^E))+v[8]+1163531501&4294967295,g=b+(f<<20&4294967295|f>>>12),f=m+(b^E&(g^b))+v[13]+2850285829&4294967295,m=g+(f<<5&4294967295|f>>>27),f=E+(g^b&(m^g))+v[2]+4243563512&4294967295,E=m+(f<<9&4294967295|f>>>23),f=b+(m^g&(E^m))+v[7]+1735328473&4294967295,b=E+(f<<14&4294967295|f>>>18),f=g+(E^m&(b^E))+v[12]+2368359562&4294967295,g=b+(f<<20&4294967295|f>>>12),f=m+(g^b^E)+v[5]+4294588738&4294967295,m=g+(f<<4&4294967295|f>>>28),f=E+(m^g^b)+v[8]+2272392833&4294967295,E=m+(f<<11&4294967295|f>>>21),f=b+(E^m^g)+v[11]+1839030562&4294967295,b=E+(f<<16&4294967295|f>>>16),f=g+(b^E^m)+v[14]+4259657740&4294967295,g=b+(f<<23&4294967295|f>>>9),f=m+(g^b^E)+v[1]+2763975236&4294967295,m=g+(f<<4&4294967295|f>>>28),f=E+(m^g^b)+v[4]+1272893353&4294967295,E=m+(f<<11&4294967295|f>>>21),f=b+(E^m^g)+v[7]+4139469664&4294967295,b=E+(f<<16&4294967295|f>>>16),f=g+(b^E^m)+v[10]+3200236656&4294967295,g=b+(f<<23&4294967295|f>>>9),f=m+(g^b^E)+v[13]+681279174&4294967295,m=g+(f<<4&4294967295|f>>>28),f=E+(m^g^b)+v[0]+3936430074&4294967295,E=m+(f<<11&4294967295|f>>>21),f=b+(E^m^g)+v[3]+3572445317&4294967295,b=E+(f<<16&4294967295|f>>>16),f=g+(b^E^m)+v[6]+76029189&4294967295,g=b+(f<<23&4294967295|f>>>9),f=m+(g^b^E)+v[9]+3654602809&4294967295,m=g+(f<<4&4294967295|f>>>28),f=E+(m^g^b)+v[12]+3873151461&4294967295,E=m+(f<<11&4294967295|f>>>21),f=b+(E^m^g)+v[15]+530742520&4294967295,b=E+(f<<16&4294967295|f>>>16),f=g+(b^E^m)+v[2]+3299628645&4294967295,g=b+(f<<23&4294967295|f>>>9),f=m+(b^(g|~E))+v[0]+4096336452&4294967295,m=g+(f<<6&4294967295|f>>>26),f=E+(g^(m|~b))+v[7]+1126891415&4294967295,E=m+(f<<10&4294967295|f>>>22),f=b+(m^(E|~g))+v[14]+2878612391&4294967295,b=E+(f<<15&4294967295|f>>>17),f=g+(E^(b|~m))+v[5]+4237533241&4294967295,g=b+(f<<21&4294967295|f>>>11),f=m+(b^(g|~E))+v[12]+1700485571&4294967295,m=g+(f<<6&4294967295|f>>>26),f=E+(g^(m|~b))+v[3]+2399980690&4294967295,E=m+(f<<10&4294967295|f>>>22),f=b+(m^(E|~g))+v[10]+4293915773&4294967295,b=E+(f<<15&4294967295|f>>>17),f=g+(E^(b|~m))+v[1]+2240044497&4294967295,g=b+(f<<21&4294967295|f>>>11),f=m+(b^(g|~E))+v[8]+1873313359&4294967295,m=g+(f<<6&4294967295|f>>>26),f=E+(g^(m|~b))+v[15]+4264355552&4294967295,E=m+(f<<10&4294967295|f>>>22),f=b+(m^(E|~g))+v[6]+2734768916&4294967295,b=E+(f<<15&4294967295|f>>>17),f=g+(E^(b|~m))+v[13]+1309151649&4294967295,g=b+(f<<21&4294967295|f>>>11),f=m+(b^(g|~E))+v[4]+4149444226&4294967295,m=g+(f<<6&4294967295|f>>>26),f=E+(g^(m|~b))+v[11]+3174756917&4294967295,E=m+(f<<10&4294967295|f>>>22),f=b+(m^(E|~g))+v[2]+718787259&4294967295,b=E+(f<<15&4294967295|f>>>17),f=g+(E^(b|~m))+v[9]+3951481745&4294967295,x.g[0]=x.g[0]+m&4294967295,x.g[1]=x.g[1]+(b+(f<<21&4294967295|f>>>11))&4294967295,x.g[2]=x.g[2]+b&4294967295,x.g[3]=x.g[3]+E&4294967295}i.prototype.u=function(x,m){m===void 0&&(m=x.length);for(var g=m-this.blockSize,v=this.B,b=this.h,E=0;E<m;){if(b==0)for(;E<=g;)o(this,x,E),E+=this.blockSize;if(typeof x=="string"){for(;E<m;)if(v[b++]=x.charCodeAt(E++),b==this.blockSize){o(this,v),b=0;break}}else for(;E<m;)if(v[b++]=x[E++],b==this.blockSize){o(this,v),b=0;break}}this.h=b,this.o+=m},i.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var m=1;m<x.length-8;++m)x[m]=0;var g=8*this.o;for(m=x.length-8;m<x.length;++m)x[m]=g&255,g/=256;for(this.u(x),x=Array(16),m=g=0;4>m;++m)for(var v=0;32>v;v+=8)x[g++]=this.g[m]>>>v&255;return x};function d(x,m){var g=T;return Object.prototype.hasOwnProperty.call(g,x)?g[x]:g[x]=m(x)}function y(x,m){this.h=m;for(var g=[],v=!0,b=x.length-1;0<=b;b--){var E=x[b]|0;v&&E==m||(g[b]=E,v=!1)}this.g=g}var T={};function F(x){return-128<=x&&128>x?d(x,function(m){return new y([m|0],0>m?-1:0)}):new y([x|0],0>x?-1:0)}function q(x){if(isNaN(x)||!isFinite(x))return Re;if(0>x)return de(q(-x));for(var m=[],g=1,v=0;x>=g;v++)m[v]=x/g|0,g*=4294967296;return new y(m,0)}function it(x,m){if(x.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(x.charAt(0)=="-")return de(it(x.substring(1),m));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var g=q(Math.pow(m,8)),v=Re,b=0;b<x.length;b+=8){var E=Math.min(8,x.length-b),f=parseInt(x.substring(b,b+E),m);8>E?(E=q(Math.pow(m,E)),v=v.j(E).add(q(f))):(v=v.j(g),v=v.add(q(f)))}return v}var Re=F(0),ae=F(1),Ge=F(16777216);n=y.prototype,n.m=function(){if(xe(this))return-de(this).m();for(var x=0,m=1,g=0;g<this.g.length;g++){var v=this.i(g);x+=(0<=v?v:4294967296+v)*m,m*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(X(this))return"0";if(xe(this))return"-"+de(this).toString(x);for(var m=q(Math.pow(x,6)),g=this,v="";;){var b=bt(g,m).g;g=nn(g,b.j(m));var E=((0<g.g.length?g.g[0]:g.h)>>>0).toString(x);if(g=b,X(g))return E+v;for(;6>E.length;)E="0"+E;v=E+v}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function X(x){if(x.h!=0)return!1;for(var m=0;m<x.g.length;m++)if(x.g[m]!=0)return!1;return!0}function xe(x){return x.h==-1}n.l=function(x){return x=nn(this,x),xe(x)?-1:X(x)?0:1};function de(x){for(var m=x.g.length,g=[],v=0;v<m;v++)g[v]=~x.g[v];return new y(g,~x.h).add(ae)}n.abs=function(){return xe(this)?de(this):this},n.add=function(x){for(var m=Math.max(this.g.length,x.g.length),g=[],v=0,b=0;b<=m;b++){var E=v+(this.i(b)&65535)+(x.i(b)&65535),f=(E>>>16)+(this.i(b)>>>16)+(x.i(b)>>>16);v=f>>>16,E&=65535,f&=65535,g[b]=f<<16|E}return new y(g,g[g.length-1]&-2147483648?-1:0)};function nn(x,m){return x.add(de(m))}n.j=function(x){if(X(this)||X(x))return Re;if(xe(this))return xe(x)?de(this).j(de(x)):de(de(this).j(x));if(xe(x))return de(this.j(de(x)));if(0>this.l(Ge)&&0>x.l(Ge))return q(this.m()*x.m());for(var m=this.g.length+x.g.length,g=[],v=0;v<2*m;v++)g[v]=0;for(v=0;v<this.g.length;v++)for(var b=0;b<x.g.length;b++){var E=this.i(v)>>>16,f=this.i(v)&65535,dt=x.i(b)>>>16,kn=x.i(b)&65535;g[2*v+2*b]+=f*kn,rt(g,2*v+2*b),g[2*v+2*b+1]+=E*kn,rt(g,2*v+2*b+1),g[2*v+2*b+1]+=f*dt,rt(g,2*v+2*b+1),g[2*v+2*b+2]+=E*dt,rt(g,2*v+2*b+2)}for(v=0;v<m;v++)g[v]=g[2*v+1]<<16|g[2*v];for(v=m;v<2*m;v++)g[v]=0;return new y(g,0)};function rt(x,m){for(;(x[m]&65535)!=x[m];)x[m+1]+=x[m]>>>16,x[m]&=65535,m++}function Ke(x,m){this.g=x,this.h=m}function bt(x,m){if(X(m))throw Error("division by zero");if(X(x))return new Ke(Re,Re);if(xe(x))return m=bt(de(x),m),new Ke(de(m.g),de(m.h));if(xe(m))return m=bt(x,de(m)),new Ke(de(m.g),m.h);if(30<x.g.length){if(xe(x)||xe(m))throw Error("slowDivide_ only works with positive integers.");for(var g=ae,v=m;0>=v.l(x);)g=_i(g),v=_i(v);var b=ot(g,1),E=ot(v,1);for(v=ot(v,2),g=ot(g,2);!X(v);){var f=E.add(v);0>=f.l(x)&&(b=b.add(g),E=f),v=ot(v,1),g=ot(g,1)}return m=nn(x,b.j(m)),new Ke(b,m)}for(b=Re;0<=x.l(m);){for(g=Math.max(1,Math.floor(x.m()/m.m())),v=Math.ceil(Math.log(g)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),E=q(g),f=E.j(m);xe(f)||0<f.l(x);)g-=v,E=q(g),f=E.j(m);X(E)&&(E=ae),b=b.add(E),x=nn(x,f)}return new Ke(b,x)}n.A=function(x){return bt(this,x).h},n.and=function(x){for(var m=Math.max(this.g.length,x.g.length),g=[],v=0;v<m;v++)g[v]=this.i(v)&x.i(v);return new y(g,this.h&x.h)},n.or=function(x){for(var m=Math.max(this.g.length,x.g.length),g=[],v=0;v<m;v++)g[v]=this.i(v)|x.i(v);return new y(g,this.h|x.h)},n.xor=function(x){for(var m=Math.max(this.g.length,x.g.length),g=[],v=0;v<m;v++)g[v]=this.i(v)^x.i(v);return new y(g,this.h^x.h)};function _i(x){for(var m=x.g.length+1,g=[],v=0;v<m;v++)g[v]=x.i(v)<<1|x.i(v-1)>>>31;return new y(g,x.h)}function ot(x,m){var g=m>>5;m%=32;for(var v=x.g.length-g,b=[],E=0;E<v;E++)b[E]=0<m?x.i(E+g)>>>m|x.i(E+g+1)<<32-m:x.i(E+g);return new y(b,x.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,qc=Lc.Md5=i,y.prototype.add=y.prototype.add,y.prototype.multiply=y.prototype.j,y.prototype.modulo=y.prototype.A,y.prototype.compare=y.prototype.l,y.prototype.toNumber=y.prototype.m,y.prototype.toString=y.prototype.toString,y.prototype.getBits=y.prototype.i,y.fromNumber=q,y.fromString=it,ts=Lc.Integer=y}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});var gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vt={};var zc,Sh,jc,$c,Gc,Kc,Wc,Hc,Qc;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(r,s,c){return r==Array.prototype||r==Object.prototype||(r[s]=c.value),r};function t(r){r=[typeof globalThis=="object"&&globalThis,r,typeof window=="object"&&window,typeof self=="object"&&self,typeof gr=="object"&&gr];for(var s=0;s<r.length;++s){var c=r[s];if(c&&c.Math==Math)return c}throw Error("Cannot find global object")}var i=t(this);function o(r,s){if(s)e:{var c=i;r=r.split(".");for(var h=0;h<r.length-1;h++){var C=r[h];if(!(C in c))break e;c=c[C]}r=r[r.length-1],h=c[r],s=s(h),s!=h&&s!=null&&e(c,r,{configurable:!0,writable:!0,value:s})}}function d(r,s){r instanceof String&&(r+="");var c=0,h=!1,C={next:function(){if(!h&&c<r.length){var S=c++;return{value:s(S,r[S]),done:!1}}return h=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}o("Array.prototype.values",function(r){return r||function(){return d(this,function(s,c){return c})}});var y=y||{},T=this||self;function F(r){var s=typeof r;return s=s!="object"?s:r?Array.isArray(r)?"array":s:"null",s=="array"||s=="object"&&typeof r.length=="number"}function q(r){var s=typeof r;return s=="object"&&r!=null||s=="function"}function it(r,s,c){return r.call.apply(r.bind,arguments)}function Re(r,s,c){if(!r)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,h),r.apply(s,C)}}return function(){return r.apply(s,arguments)}}function ae(r,s,c){return ae=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?it:Re,ae.apply(null,arguments)}function Ge(r,s){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),r.apply(this,h)}}function X(r,s){function c(){}c.prototype=s.prototype,r.aa=s.prototype,r.prototype=new c,r.prototype.constructor=r,r.Qb=function(h,C,S){for(var P=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)P[ee-2]=arguments[ee];return s.prototype[C].apply(h,P)}}function xe(r){let s=r.length;if(0<s){let c=Array(s);for(let h=0;h<s;h++)c[h]=r[h];return c}return[]}function de(r,s){for(let c=1;c<arguments.length;c++){let h=arguments[c];if(F(h)){let C=r.length||0,S=h.length||0;r.length=C+S;for(let P=0;P<S;P++)r[C+P]=h[P]}else r.push(h)}}class nn{constructor(s,c){this.i=s,this.j=c,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}function rt(r){return/^[\s\xa0]*$/.test(r)}function Ke(){var r=T.navigator;return r&&(r=r.userAgent)?r:""}function bt(r){return bt[" "](r),r}bt[" "]=function(){};var _i=Ke().indexOf("Gecko")!=-1&&!(Ke().toLowerCase().indexOf("webkit")!=-1&&Ke().indexOf("Edge")==-1)&&!(Ke().indexOf("Trident")!=-1||Ke().indexOf("MSIE")!=-1)&&Ke().indexOf("Edge")==-1;function ot(r,s,c){for(let h in r)s.call(c,r[h],h,r)}function x(r,s){for(let c in r)s.call(void 0,r[c],c,r)}function m(r){let s={};for(let c in r)s[c]=r[c];return s}let g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(r,s){let c,h;for(let C=1;C<arguments.length;C++){h=arguments[C];for(c in h)r[c]=h[c];for(let S=0;S<g.length;S++)c=g[S],Object.prototype.hasOwnProperty.call(h,c)&&(r[c]=h[c])}}function b(r){var s=1;r=r.split(":");let c=[];for(;0<s&&r.length;)c.push(r.shift()),s--;return r.length&&c.push(r.join(":")),c}function E(r){T.setTimeout(()=>{throw r},0)}function f(){var r=Qr;let s=null;return r.g&&(s=r.g,r.g=r.g.next,r.g||(r.h=null),s.next=null),s}class dt{constructor(){this.h=this.g=null}add(s,c){let h=kn.get();h.set(s,c),this.h?this.h.next=h:this.g=h,this.h=h}}var kn=new nn(()=>new al,r=>r.reset());class al{constructor(){this.next=this.g=this.h=null}set(s,c){this.h=s,this.g=c,this.next=null}reset(){this.next=this.g=this.h=null}}let Vn,Nn=!1,Qr=new dt,vs=()=>{let r=T.Promise.resolve(void 0);Vn=()=>{r.then(cl)}};var cl=()=>{for(var r;r=f();){try{r.h.call(r.g)}catch(c){E(c)}var s=kn;s.j(r),100>s.h&&(s.h++,r.next=s.g,s.g=r)}Nn=!1};function Ct(){this.s=this.s,this.C=this.C}Ct.prototype.s=!1,Ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(r,s){this.type=r,this.g=this.target=s,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var ll=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var r=!1,s=Object.defineProperty({},"passive",{get:function(){r=!0}});try{let c=()=>{};T.addEventListener("test",c,s),T.removeEventListener("test",c,s)}catch{}return r}();function Fn(r,s){if(we.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var c=this.type=r.type,h=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=s,s=r.relatedTarget){if(_i){e:{try{bt(s.nodeName);var C=!0;break e}catch{}C=!1}C||(s=null)}}else c=="mouseover"?s=r.fromElement:c=="mouseout"&&(s=r.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType=typeof r.pointerType=="string"?r.pointerType:ul[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Fn.aa.h.call(this)}}X(Fn,we);var ul={2:"touch",3:"pen",4:"mouse"};Fn.prototype.h=function(){Fn.aa.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Un="closure_listenable_"+(1e6*Math.random()|0),dl=0;function hl(r,s,c,h,C){this.listener=r,this.proxy=null,this.src=s,this.type=c,this.capture=!!h,this.ha=C,this.key=++dl,this.da=this.fa=!1}function yi(r){r.da=!0,r.listener=null,r.proxy=null,r.src=null,r.ha=null}function vi(r){this.src=r,this.g={},this.h=0}vi.prototype.add=function(r,s,c,h,C){var S=r.toString();r=this.g[S],r||(r=this.g[S]=[],this.h++);var P=Yr(r,s,h,C);return-1<P?(s=r[P],c||(s.fa=!1)):(s=new hl(s,this.src,S,!!h,C),s.fa=c,r.push(s)),s};function Jr(r,s){var c=s.type;if(c in r.g){var h=r.g[c],C=Array.prototype.indexOf.call(h,s,void 0),S;(S=0<=C)&&Array.prototype.splice.call(h,C,1),S&&(yi(s),r.g[c].length==0&&(delete r.g[c],r.h--))}}function Yr(r,s,c,h){for(var C=0;C<r.length;++C){var S=r[C];if(!S.da&&S.listener==s&&S.capture==!!c&&S.ha==h)return C}return-1}var Xr="closure_lm_"+(1e6*Math.random()|0),Zr={};function bs(r,s,c,h,C){if(h&&h.once)return xs(r,s,c,h,C);if(Array.isArray(s)){for(var S=0;S<s.length;S++)bs(r,s[S],c,h,C);return null}return c=io(c),r&&r[Un]?r.K(s,c,q(h)?!!h.capture:!!h,C):Cs(r,s,c,!1,h,C)}function Cs(r,s,c,h,C,S){if(!s)throw Error("Invalid event type");var P=q(C)?!!C.capture:!!C,ee=to(r);if(ee||(r[Xr]=ee=new vi(r)),c=ee.add(s,c,h,P,S),c.proxy)return c;if(h=pl(),c.proxy=h,h.src=r,h.listener=c,r.addEventListener)ll||(C=P),C===void 0&&(C=!1),r.addEventListener(s.toString(),h,C);else if(r.attachEvent)r.attachEvent(Es(s.toString()),h);else if(r.addListener&&r.removeListener)r.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");return c}function pl(){function r(c){return s.call(r.src,r.listener,c)}let s=ml;return r}function xs(r,s,c,h,C){if(Array.isArray(s)){for(var S=0;S<s.length;S++)xs(r,s[S],c,h,C);return null}return c=io(c),r&&r[Un]?r.L(s,c,q(h)?!!h.capture:!!h,C):Cs(r,s,c,!0,h,C)}function ws(r,s,c,h,C){if(Array.isArray(s))for(var S=0;S<s.length;S++)ws(r,s[S],c,h,C);else h=q(h)?!!h.capture:!!h,c=io(c),r&&r[Un]?(r=r.i,s=String(s).toString(),s in r.g&&(S=r.g[s],c=Yr(S,c,h,C),-1<c&&(yi(S[c]),Array.prototype.splice.call(S,c,1),S.length==0&&(delete r.g[s],r.h--)))):r&&(r=to(r))&&(s=r.g[s.toString()],r=-1,s&&(r=Yr(s,c,h,C)),(c=-1<r?s[r]:null)&&eo(c))}function eo(r){if(typeof r!="number"&&r&&!r.da){var s=r.src;if(s&&s[Un])Jr(s.i,r);else{var c=r.type,h=r.proxy;s.removeEventListener?s.removeEventListener(c,h,r.capture):s.detachEvent?s.detachEvent(Es(c),h):s.addListener&&s.removeListener&&s.removeListener(h),(c=to(s))?(Jr(c,r),c.h==0&&(c.src=null,s[Xr]=null)):yi(r)}}}function Es(r){return r in Zr?Zr[r]:Zr[r]="on"+r}function ml(r,s){if(r.da)r=!0;else{s=new Fn(s,this);var c=r.listener,h=r.ha||r.src;r.fa&&eo(r),r=c.call(h,s)}return r}function to(r){return r=r[Xr],r instanceof vi?r:null}var no="__closure_events_fn_"+(1e9*Math.random()>>>0);function io(r){return typeof r=="function"?r:(r[no]||(r[no]=function(s){return r.handleEvent(s)}),r[no])}function Ee(){Ct.call(this),this.i=new vi(this),this.M=this,this.F=null}X(Ee,Ct),Ee.prototype[Un]=!0,Ee.prototype.removeEventListener=function(r,s,c,h){ws(this,r,s,c,h)};function Pe(r,s){var c,h=r.F;if(h)for(c=[];h;h=h.F)c.push(h);if(r=r.M,h=s.type||s,typeof s=="string")s=new we(s,r);else if(s instanceof we)s.target=s.target||r;else{var C=s;s=new we(h,r),v(s,C)}if(C=!0,c)for(var S=c.length-1;0<=S;S--){var P=s.g=c[S];C=bi(P,h,!0,s)&&C}if(P=s.g=r,C=bi(P,h,!0,s)&&C,C=bi(P,h,!1,s)&&C,c)for(S=0;S<c.length;S++)P=s.g=c[S],C=bi(P,h,!1,s)&&C}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var r=this.i,s;for(s in r.g){for(var c=r.g[s],h=0;h<c.length;h++)yi(c[h]);delete r.g[s],r.h--}}this.F=null},Ee.prototype.K=function(r,s,c,h){return this.i.add(String(r),s,!1,c,h)},Ee.prototype.L=function(r,s,c,h){return this.i.add(String(r),s,!0,c,h)};function bi(r,s,c,h){if(s=r.i.g[String(s)],!s)return!0;s=s.concat();for(var C=!0,S=0;S<s.length;++S){var P=s[S];if(P&&!P.da&&P.capture==c){var ee=P.listener,Ce=P.ha||P.src;P.fa&&Jr(r.i,P),C=ee.call(Ce,h)!==!1&&C}}return C&&!h.defaultPrevented}function Ss(r,s,c){if(typeof r=="function")c&&(r=ae(r,c));else if(r&&typeof r.handleEvent=="function")r=ae(r.handleEvent,r);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:T.setTimeout(r,s||0)}function Is(r){r.g=Ss(()=>{r.g=null,r.i&&(r.i=!1,Is(r))},r.l);let s=r.h;r.h=null,r.m.apply(null,s)}class fl extends Ct{constructor(s,c){super(),this.m=s,this.l=c,this.h=null,this.i=!1,this.g=null}j(s){this.h=arguments,this.g?this.i=!0:Is(this)}N(){super.N(),this.g&&(T.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bn(r){Ct.call(this),this.h=r,this.g={}}X(Bn,Ct);var Ts=[];function Ds(r){ot(r.g,function(s,c){this.g.hasOwnProperty(c)&&eo(s)},r),r.g={}}Bn.prototype.N=function(){Bn.aa.N.call(this),Ds(this)},Bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ro=T.JSON.stringify,gl=T.JSON.parse,_l=class{stringify(r){return T.JSON.stringify(r,void 0)}parse(r){return T.JSON.parse(r,void 0)}};function oo(){}oo.prototype.h=null;function Ps(r){return r.h||(r.h=r.i())}function As(){}var Ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function so(){we.call(this,"d")}X(so,we);function ao(){we.call(this,"c")}X(ao,we);var Ut={},Ms=null;function Ci(){return Ms=Ms||new Ee}Ut.La="serverreachability";function Os(r){we.call(this,Ut.La,r)}X(Os,we);function qn(r){let s=Ci();Pe(s,new Os(s))}Ut.STAT_EVENT="statevent";function Rs(r,s){we.call(this,Ut.STAT_EVENT,r),this.stat=s}X(Rs,we);function Ae(r){let s=Ci();Pe(s,new Rs(s,r))}Ut.Ma="timingevent";function ks(r,s){we.call(this,Ut.Ma,r),this.size=s}X(ks,we);function zn(r,s){if(typeof r!="function")throw Error("Fn must not be null and must be a function");return T.setTimeout(function(){r()},s)}function jn(){this.g=!0}jn.prototype.xa=function(){this.g=!1};function yl(r,s,c,h,C,S){r.info(function(){if(r.g)if(S)for(var P="",ee=S.split("&"),Ce=0;Ce<ee.length;Ce++){var W=ee[Ce].split("=");if(1<W.length){var Se=W[0];W=W[1];var Ie=Se.split("_");P=2<=Ie.length&&Ie[1]=="type"?P+(Se+"="+W+"&"):P+(Se+"=redacted&")}}else P=null;else P=S;return"XMLHTTP REQ ("+h+") [attempt "+C+"]: "+s+`
`+c+`
`+P})}function vl(r,s,c,h,C,S,P){r.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+C+"]: "+s+`
`+c+`
`+S+" "+P})}function rn(r,s,c,h){r.info(function(){return"XMLHTTP TEXT ("+s+"): "+Cl(r,c)+(h?" "+h:"")})}function bl(r,s){r.info(function(){return"TIMEOUT: "+s})}jn.prototype.info=function(){};function Cl(r,s){if(!r.g)return s;if(!s)return null;try{var c=JSON.parse(s);if(c){for(r=0;r<c.length;r++)if(Array.isArray(c[r])){var h=c[r];if(!(2>h.length)){var C=h[1];if(Array.isArray(C)&&!(1>C.length)){var S=C[0];if(S!="noop"&&S!="stop"&&S!="close")for(var P=1;P<C.length;P++)C[P]=""}}}}return ro(c)}catch{return s}}var xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},co;function wi(){}X(wi,oo),wi.prototype.g=function(){return new XMLHttpRequest},wi.prototype.i=function(){return{}},co=new wi;function xt(r,s,c,h){this.j=r,this.i=s,this.l=c,this.R=h||1,this.U=new Bn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ns}function Ns(){this.i=null,this.g="",this.h=!1}var Fs={},lo={};function uo(r,s,c){r.L=1,r.v=Ti(ht(s)),r.m=c,r.P=!0,Us(r,null)}function Us(r,s){r.F=Date.now(),Ei(r),r.A=ht(r.v);var c=r.A,h=r.R;Array.isArray(h)||(h=[String(h)]),Xs(c.i,"t",h),r.C=0,c=r.j.J,r.h=new Ns,r.g=ga(r.j,c?s:null,!r.m),0<r.O&&(r.M=new fl(ae(r.Y,r,r.g),r.O)),s=r.U,c=r.g,h=r.ca;var C="readystatechange";Array.isArray(C)||(C&&(Ts[0]=C.toString()),C=Ts);for(var S=0;S<C.length;S++){var P=bs(c,C[S],h||s.handleEvent,!1,s.h||s);if(!P)break;s.g[P.key]=P}s=r.H?m(r.H):{},r.m?(r.u||(r.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.m,s)):(r.u="GET",r.g.ea(r.A,r.u,null,s)),qn(),yl(r.i,r.u,r.A,r.l,r.R,r.m)}xt.prototype.ca=function(r){r=r.target;let s=this.M;s&&pt(r)==3?s.j():this.Y(r)},xt.prototype.Y=function(r){try{if(r==this.g)e:{let Ie=pt(this.g);var s=this.g.Ba();let an=this.g.Z();if(!(3>Ie)&&(Ie!=3||this.g&&(this.h.h||this.g.oa()||oa(this.g)))){this.J||Ie!=4||s==7||(s==8||0>=an?qn(3):qn(2)),ho(this);var c=this.g.Z();this.X=c;t:if(Bs(this)){var h=oa(this.g);r="";var C=h.length,S=pt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),$n(this);var P="";break t}this.h.i=new T.TextDecoder}for(s=0;s<C;s++)this.h.h=!0,r+=this.h.i.decode(h[s],{stream:!(S&&s==C-1)});h.length=0,this.h.g+=r,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=c==200,vl(this.i,this.u,this.A,this.l,this.R,Ie,c),this.o){if(this.T&&!this.K){t:{if(this.g){var ee,Ce=this.g;if((ee=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rt(ee)){var W=ee;break t}}W=null}if(c=W)rn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,po(this,c);else{this.o=!1,this.s=3,Ae(12),Bt(this),$n(this);break e}}if(this.P){c=!0;let Je;for(;!this.J&&this.C<P.length;)if(Je=xl(this,P),Je==lo){Ie==4&&(this.s=4,Ae(14),c=!1),rn(this.i,this.l,null,"[Incomplete Response]");break}else if(Je==Fs){this.s=4,Ae(15),rn(this.i,this.l,P,"[Invalid Chunk]"),c=!1;break}else rn(this.i,this.l,Je,null),po(this,Je);if(Bs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||P.length!=0||this.h.h||(this.s=1,Ae(16),c=!1),this.o=this.o&&c,!c)rn(this.i,this.l,P,"[Invalid Chunked Response]"),Bt(this),$n(this);else if(0<P.length&&!this.W){this.W=!0;var Se=this.j;Se.g==this&&Se.ba&&!Se.M&&(Se.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),vo(Se),Se.M=!0,Ae(11))}}else rn(this.i,this.l,P,null),po(this,P);Ie==4&&Bt(this),this.o&&!this.J&&(Ie==4?ha(this.j,this):(this.o=!1,Ei(this)))}else Bl(this.g),c==400&&0<P.indexOf("Unknown SID")?(this.s=3,Ae(12)):(this.s=0,Ae(13)),Bt(this),$n(this)}}}catch{}finally{}};function Bs(r){return r.g?r.u=="GET"&&r.L!=2&&r.j.Ca:!1}function xl(r,s){var c=r.C,h=s.indexOf(`
`,c);return h==-1?lo:(c=Number(s.substring(c,h)),isNaN(c)?Fs:(h+=1,h+c>s.length?lo:(s=s.slice(h,h+c),r.C=h+c,s)))}xt.prototype.cancel=function(){this.J=!0,Bt(this)};function Ei(r){r.S=Date.now()+r.I,Ls(r,r.I)}function Ls(r,s){if(r.B!=null)throw Error("WatchDog timer not null");r.B=zn(ae(r.ba,r),s)}function ho(r){r.B&&(T.clearTimeout(r.B),r.B=null)}xt.prototype.ba=function(){this.B=null;let r=Date.now();0<=r-this.S?(bl(this.i,this.A),this.L!=2&&(qn(),Ae(17)),Bt(this),this.s=2,$n(this)):Ls(this,this.S-r)};function $n(r){r.j.G==0||r.J||ha(r.j,r)}function Bt(r){ho(r);var s=r.M;s&&typeof s.ma=="function"&&s.ma(),r.M=null,Ds(r.U),r.g&&(s=r.g,r.g=null,s.abort(),s.ma())}function po(r,s){try{var c=r.j;if(c.G!=0&&(c.g==r||mo(c.h,r))){if(!r.K&&mo(c.h,r)&&c.G==3){try{var h=c.Da.g.parse(s)}catch{h=null}if(Array.isArray(h)&&h.length==3){var C=h;if(C[0]==0){e:if(!c.u){if(c.g)if(c.g.F+3e3<r.F)Oi(c),Ai(c);else break e;yo(c),Ae(18)}}else c.za=C[1],0<c.za-c.T&&37500>C[2]&&c.F&&c.v==0&&!c.C&&(c.C=zn(ae(c.Za,c),6e3));if(1>=js(c.h)&&c.ca){try{c.ca()}catch{}c.ca=void 0}}else qt(c,11)}else if((r.K||c.g==r)&&Oi(c),!rt(s))for(C=c.Da.g.parse(s),s=0;s<C.length;s++){let W=C[s];if(c.T=W[0],W=W[1],c.G==2)if(W[0]=="c"){c.K=W[1],c.ia=W[2];let Se=W[3];Se!=null&&(c.la=Se,c.j.info("VER="+c.la));let Ie=W[4];Ie!=null&&(c.Aa=Ie,c.j.info("SVER="+c.Aa));let an=W[5];an!=null&&typeof an=="number"&&0<an&&(h=1.5*an,c.L=h,c.j.info("backChannelRequestTimeoutMs_="+h)),h=c;let Je=r.g;if(Je){let ki=Je.g?Je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ki){var S=h.h;S.g||ki.indexOf("spdy")==-1&&ki.indexOf("quic")==-1&&ki.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(fo(S,S.h),S.h=null))}if(h.D){let bo=Je.g?Je.g.getResponseHeader("X-HTTP-Session-Id"):null;bo&&(h.ya=bo,oe(h.I,h.D,bo))}}c.G=3,c.l&&c.l.ua(),c.ba&&(c.R=Date.now()-r.F,c.j.info("Handshake RTT: "+c.R+"ms")),h=c;var P=r;if(h.qa=fa(h,h.J?h.ia:null,h.W),P.K){$s(h.h,P);var ee=P,Ce=h.L;Ce&&(ee.I=Ce),ee.B&&(ho(ee),Ei(ee)),h.g=P}else ua(h);0<c.i.length&&Mi(c)}else W[0]!="stop"&&W[0]!="close"||qt(c,7);else c.G==3&&(W[0]=="stop"||W[0]=="close"?W[0]=="stop"?qt(c,7):_o(c):W[0]!="noop"&&c.l&&c.l.ta(W),c.v=0)}}qn(4)}catch{}}var wl=class{constructor(r,s){this.g=r,this.map=s}};function qs(r){this.l=r||10,T.PerformanceNavigationTiming?(r=T.performance.getEntriesByType("navigation"),r=0<r.length&&(r[0].nextHopProtocol=="hq"||r[0].nextHopProtocol=="h2")):r=!!(T.chrome&&T.chrome.loadTimes&&T.chrome.loadTimes()&&T.chrome.loadTimes().wasFetchedViaSpdy),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zs(r){return r.h?!0:r.g?r.g.size>=r.j:!1}function js(r){return r.h?1:r.g?r.g.size:0}function mo(r,s){return r.h?r.h==s:r.g?r.g.has(s):!1}function fo(r,s){r.g?r.g.add(s):r.h=s}function $s(r,s){r.h&&r.h==s?r.h=null:r.g&&r.g.has(s)&&r.g.delete(s)}qs.prototype.cancel=function(){if(this.i=Gs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let r of this.g.values())r.cancel();this.g.clear()}};function Gs(r){if(r.h!=null)return r.i.concat(r.h.D);if(r.g!=null&&r.g.size!==0){let s=r.i;for(let c of r.g.values())s=s.concat(c.D);return s}return xe(r.i)}function El(r){if(r.V&&typeof r.V=="function")return r.V();if(typeof Map<"u"&&r instanceof Map||typeof Set<"u"&&r instanceof Set)return Array.from(r.values());if(typeof r=="string")return r.split("");if(F(r)){for(var s=[],c=r.length,h=0;h<c;h++)s.push(r[h]);return s}s=[],c=0;for(h in r)s[c++]=r[h];return s}function Sl(r){if(r.na&&typeof r.na=="function")return r.na();if(!r.V||typeof r.V!="function"){if(typeof Map<"u"&&r instanceof Map)return Array.from(r.keys());if(!(typeof Set<"u"&&r instanceof Set)){if(F(r)||typeof r=="string"){var s=[];r=r.length;for(var c=0;c<r;c++)s.push(c);return s}s=[],c=0;for(let h in r)s[c++]=h;return s}}}function Ks(r,s){if(r.forEach&&typeof r.forEach=="function")r.forEach(s,void 0);else if(F(r)||typeof r=="string")Array.prototype.forEach.call(r,s,void 0);else for(var c=Sl(r),h=El(r),C=h.length,S=0;S<C;S++)s.call(void 0,h[S],c&&c[S],r)}var Ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Il(r,s){if(r){r=r.split("&");for(var c=0;c<r.length;c++){var h=r[c].indexOf("="),C=null;if(0<=h){var S=r[c].substring(0,h);C=r[c].substring(h+1)}else S=r[c];s(S,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Lt(r){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,r instanceof Lt){this.h=r.h,Si(this,r.j),this.o=r.o,this.g=r.g,Ii(this,r.s),this.l=r.l;var s=r.i,c=new Wn;c.i=s.i,s.g&&(c.g=new Map(s.g),c.h=s.h),Hs(this,c),this.m=r.m}else r&&(s=String(r).match(Ws))?(this.h=!1,Si(this,s[1]||"",!0),this.o=Gn(s[2]||""),this.g=Gn(s[3]||"",!0),Ii(this,s[4]),this.l=Gn(s[5]||"",!0),Hs(this,s[6]||"",!0),this.m=Gn(s[7]||"")):(this.h=!1,this.i=new Wn(null,this.h))}Lt.prototype.toString=function(){var r=[],s=this.j;s&&r.push(Kn(s,Qs,!0),":");var c=this.g;return(c||s=="file")&&(r.push("//"),(s=this.o)&&r.push(Kn(s,Qs,!0),"@"),r.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.s,c!=null&&r.push(":",String(c))),(c=this.l)&&(this.g&&c.charAt(0)!="/"&&r.push("/"),r.push(Kn(c,c.charAt(0)=="/"?Pl:Dl,!0))),(c=this.i.toString())&&r.push("?",c),(c=this.m)&&r.push("#",Kn(c,Ml)),r.join("")};function ht(r){return new Lt(r)}function Si(r,s,c){r.j=c?Gn(s,!0):s,r.j&&(r.j=r.j.replace(/:$/,""))}function Ii(r,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);r.s=s}else r.s=null}function Hs(r,s,c){s instanceof Wn?(r.i=s,Ol(r.i,r.h)):(c||(s=Kn(s,Al)),r.i=new Wn(s,r.h))}function oe(r,s,c){r.i.set(s,c)}function Ti(r){return oe(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Gn(r,s){return r?s?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function Kn(r,s,c){return typeof r=="string"?(r=encodeURI(r).replace(s,Tl),c&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function Tl(r){return r=r.charCodeAt(0),"%"+(r>>4&15).toString(16)+(r&15).toString(16)}var Qs=/[#\/\?@]/g,Dl=/[#\?:]/g,Pl=/[#\?]/g,Al=/[#\?@]/g,Ml=/#/g;function Wn(r,s){this.h=this.g=null,this.i=r||null,this.j=!!s}function wt(r){r.g||(r.g=new Map,r.h=0,r.i&&Il(r.i,function(s,c){r.add(decodeURIComponent(s.replace(/\+/g," ")),c)}))}n=Wn.prototype,n.add=function(r,s){wt(this),this.i=null,r=on(this,r);var c=this.g.get(r);return c||this.g.set(r,c=[]),c.push(s),this.h+=1,this};function Js(r,s){wt(r),s=on(r,s),r.g.has(s)&&(r.i=null,r.h-=r.g.get(s).length,r.g.delete(s))}function Ys(r,s){return wt(r),s=on(r,s),r.g.has(s)}n.forEach=function(r,s){wt(this),this.g.forEach(function(c,h){c.forEach(function(C){r.call(s,C,h,this)},this)},this)},n.na=function(){wt(this);let r=Array.from(this.g.values()),s=Array.from(this.g.keys()),c=[];for(let h=0;h<s.length;h++){let C=r[h];for(let S=0;S<C.length;S++)c.push(s[h])}return c},n.V=function(r){wt(this);let s=[];if(typeof r=="string")Ys(this,r)&&(s=s.concat(this.g.get(on(this,r))));else{r=Array.from(this.g.values());for(let c=0;c<r.length;c++)s=s.concat(r[c])}return s},n.set=function(r,s){return wt(this),this.i=null,r=on(this,r),Ys(this,r)&&(this.h-=this.g.get(r).length),this.g.set(r,[s]),this.h+=1,this},n.get=function(r,s){return r?(r=this.V(r),0<r.length?String(r[0]):s):s};function Xs(r,s,c){Js(r,s),0<c.length&&(r.i=null,r.g.set(on(r,s),xe(c)),r.h+=c.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let r=[],s=Array.from(this.g.keys());for(var c=0;c<s.length;c++){var h=s[c];let S=encodeURIComponent(String(h)),P=this.V(h);for(h=0;h<P.length;h++){var C=S;P[h]!==""&&(C+="="+encodeURIComponent(String(P[h]))),r.push(C)}}return this.i=r.join("&")};function on(r,s){return s=String(s),r.j&&(s=s.toLowerCase()),s}function Ol(r,s){s&&!r.j&&(wt(r),r.i=null,r.g.forEach(function(c,h){var C=h.toLowerCase();h!=C&&(Js(this,h),Xs(this,C,c))},r)),r.j=s}function Rl(r,s){let c=new jn;if(T.Image){let h=new Image;h.onload=Ge(Et,c,"TestLoadImage: loaded",!0,s,h),h.onerror=Ge(Et,c,"TestLoadImage: error",!1,s,h),h.onabort=Ge(Et,c,"TestLoadImage: abort",!1,s,h),h.ontimeout=Ge(Et,c,"TestLoadImage: timeout",!1,s,h),T.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=r}else s(!1)}function kl(r,s){let c=new jn,h=new AbortController,C=setTimeout(()=>{h.abort(),Et(c,"TestPingServer: timeout",!1,s)},1e4);fetch(r,{signal:h.signal}).then(S=>{clearTimeout(C),S.ok?Et(c,"TestPingServer: ok",!0,s):Et(c,"TestPingServer: server error",!1,s)}).catch(()=>{clearTimeout(C),Et(c,"TestPingServer: error",!1,s)})}function Et(r,s,c,h,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),h(c)}catch{}}function Vl(){this.g=new _l}function Nl(r,s,c){let h=c||"";try{Ks(r,function(C,S){let P=C;q(C)&&(P=ro(C)),s.push(h+S+"="+encodeURIComponent(P))})}catch(C){throw s.push(h+"type="+encodeURIComponent("_badmap")),C}}function Hn(r){this.l=r.Ub||null,this.j=r.eb||!1}X(Hn,oo),Hn.prototype.g=function(){return new Di(this.l,this.j)},Hn.prototype.i=function(r){return function(){return r}}({});function Di(r,s){Ee.call(this),this.D=r,this.o=s,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(Di,Ee),n=Di.prototype,n.open=function(r,s){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=r,this.A=s,this.readyState=1,Jn(this)},n.send=function(r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let s={headers:this.u,method:this.B,credentials:this.m,cache:void 0};r&&(s.body=r),(this.D||T).fetch(new Request(this.A,s)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},n.Sa=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")r.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof T.ReadableStream<"u"&&"body"in r){if(this.j=r.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zs(this)}else r.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zs(r){r.j.read().then(r.Pa.bind(r)).catch(r.ga.bind(r))}n.Pa=function(r){if(this.g){if(this.o&&r.value)this.response.push(r.value);else if(!this.o){var s=r.value?r.value:new Uint8Array(0);(s=this.v.decode(s,{stream:!r.done}))&&(this.response=this.responseText+=s)}r.done?Qn(this):Jn(this),this.readyState==3&&Zs(this)}},n.Ra=function(r){this.g&&(this.response=this.responseText=r,Qn(this))},n.Qa=function(r){this.g&&(this.response=r,Qn(this))},n.ga=function(){this.g&&Qn(this)};function Qn(r){r.readyState=4,r.l=null,r.j=null,r.v=null,Jn(r)}n.setRequestHeader=function(r,s){this.u.append(r,s)},n.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let r=[],s=this.h.entries();for(var c=s.next();!c.done;)c=c.value,r.push(c[0]+": "+c[1]),c=s.next();return r.join(`\r
`)};function Jn(r){r.onreadystatechange&&r.onreadystatechange.call(r)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(r){this.m=r?"include":"same-origin"}});function ea(r){let s="";return ot(r,function(c,h){s+=h,s+=":",s+=c,s+=`\r
`}),s}function go(r,s,c){e:{for(h in c){var h=!1;break e}h=!0}h||(c=ea(c),typeof r=="string"?c!=null&&encodeURIComponent(String(c)):oe(r,s,c))}function ce(r){Ee.call(this),this.headers=new Map,this.o=r||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(ce,Ee);var Fl=/^https?$/i,Ul=["POST","PUT"];n=ce.prototype,n.Ha=function(r){this.J=r},n.ea=function(r,s,c,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+r);s=s?s.toUpperCase():"GET",this.D=r,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():co.g(),this.v=this.o?Ps(this.o):Ps(co),this.g.onreadystatechange=ae(this.Ea,this);try{this.B=!0,this.g.open(s,String(r),!0),this.B=!1}catch(S){ta(this,S);return}if(r=c||"",c=new Map(this.headers),h)if(Object.getPrototypeOf(h)===Object.prototype)for(var C in h)c.set(C,h[C]);else if(typeof h.keys=="function"&&typeof h.get=="function")for(let S of h.keys())c.set(S,h.get(S));else throw Error("Unknown input type for opt_headers: "+String(h));h=Array.from(c.keys()).find(S=>S.toLowerCase()=="content-type"),C=T.FormData&&r instanceof T.FormData,!(0<=Array.prototype.indexOf.call(Ul,s,void 0))||h||C||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,P]of c)this.g.setRequestHeader(S,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ra(this),this.u=!0,this.g.send(r),this.u=!1}catch(S){ta(this,S)}};function ta(r,s){r.h=!1,r.g&&(r.j=!0,r.g.abort(),r.j=!1),r.l=s,r.m=5,na(r),Pi(r)}function na(r){r.A||(r.A=!0,Pe(r,"complete"),Pe(r,"error"))}n.abort=function(r){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=r||7,Pe(this,"complete"),Pe(this,"abort"),Pi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pi(this,!0)),ce.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ia(this):this.bb())},n.bb=function(){ia(this)};function ia(r){if(r.h&&typeof y<"u"&&(!r.v[1]||pt(r)!=4||r.Z()!=2)){if(r.u&&pt(r)==4)Ss(r.Ea,0,r);else if(Pe(r,"readystatechange"),pt(r)==4){r.h=!1;try{let P=r.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break e;default:s=!1}var c;if(!(c=s)){var h;if(h=P===0){var C=String(r.D).match(Ws)[1]||null;!C&&T.self&&T.self.location&&(C=T.self.location.protocol.slice(0,-1)),h=!Fl.test(C?C.toLowerCase():"")}c=h}if(c)Pe(r,"complete"),Pe(r,"success");else{r.m=6;try{var S=2<pt(r)?r.g.statusText:""}catch{S=""}r.l=S+" ["+r.Z()+"]",na(r)}}finally{Pi(r)}}}}function Pi(r,s){if(r.g){ra(r);let c=r.g,h=r.v[0]?()=>{}:null;r.g=null,r.v=null,s||Pe(r,"ready");try{c.onreadystatechange=h}catch{}}}function ra(r){r.I&&(T.clearTimeout(r.I),r.I=null)}n.isActive=function(){return!!this.g};function pt(r){return r.g?r.g.readyState:0}n.Z=function(){try{return 2<pt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(r){if(this.g){var s=this.g.responseText;return r&&s.indexOf(r)==0&&(s=s.substring(r.length)),gl(s)}};function oa(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.H){case"":case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch{return null}}function Bl(r){let s={};r=(r.g&&2<=pt(r)&&r.g.getAllResponseHeaders()||"").split(`\r
`);for(let h=0;h<r.length;h++){if(rt(r[h]))continue;var c=b(r[h]);let C=c[0];if(c=c[1],typeof c!="string")continue;c=c.trim();let S=s[C]||[];s[C]=S,S.push(c)}x(s,function(h){return h.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Yn(r,s,c){return c&&c.internalChannelParams&&c.internalChannelParams[r]||s}function sa(r){this.Aa=0,this.i=[],this.j=new jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yn("failFast",!1,r),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yn("baseRetryDelayMs",5e3,r),this.cb=Yn("retryDelaySeedMs",1e4,r),this.Wa=Yn("forwardChannelMaxRetries",2,r),this.wa=Yn("forwardChannelRequestTimeoutMs",2e4,r),this.pa=r&&r.xmlHttpFactory||void 0,this.Xa=r&&r.Tb||void 0,this.Ca=r&&r.useFetchStreams||!1,this.L=void 0,this.J=r&&r.supportsCrossDomainXhr||!1,this.K="",this.h=new qs(r&&r.concurrentRequestLimit),this.Da=new Vl,this.P=r&&r.fastHandshake||!1,this.O=r&&r.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=r&&r.Rb||!1,r&&r.xa&&this.j.xa(),r&&r.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&r&&r.detectBufferingProxy||!1,this.ja=void 0,r&&r.longPollingTimeout&&0<r.longPollingTimeout&&(this.ja=r.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=sa.prototype,n.la=8,n.G=1,n.connect=function(r,s,c,h){Ae(0),this.W=r,this.H=s||{},c&&h!==void 0&&(this.H.OSID=c,this.H.OAID=h),this.F=this.X,this.I=fa(this,null,this.W),Mi(this)};function _o(r){if(aa(r),r.G==3){var s=r.U++,c=ht(r.I);if(oe(c,"SID",r.K),oe(c,"RID",s),oe(c,"TYPE","terminate"),Xn(r,c),s=new xt(r,r.j,s),s.L=2,s.v=Ti(ht(c)),c=!1,T.navigator&&T.navigator.sendBeacon)try{c=T.navigator.sendBeacon(s.v.toString(),"")}catch{}!c&&T.Image&&(new Image().src=s.v,c=!0),c||(s.g=ga(s.j,null),s.g.ea(s.v)),s.F=Date.now(),Ei(s)}ma(r)}function Ai(r){r.g&&(vo(r),r.g.cancel(),r.g=null)}function aa(r){Ai(r),r.u&&(T.clearTimeout(r.u),r.u=null),Oi(r),r.h.cancel(),r.s&&(typeof r.s=="number"&&T.clearTimeout(r.s),r.s=null)}function Mi(r){if(!zs(r.h)&&!r.s){r.s=!0;var s=r.Ga;Vn||vs(),Nn||(Vn(),Nn=!0),Qr.add(s,r),r.B=0}}function Ll(r,s){return js(r.h)>=r.h.j-(r.s?1:0)?!1:r.s?(r.i=s.D.concat(r.i),!0):r.G==1||r.G==2||r.B>=(r.Va?0:r.Wa)?!1:(r.s=zn(ae(r.Ga,r,s),pa(r,r.B)),r.B++,!0)}n.Ga=function(r){if(this.s)if(this.s=null,this.G==1){if(!r){this.U=Math.floor(1e5*Math.random()),r=this.U++;let C=new xt(this,this.j,r),S=this.o;if(this.S&&(S?(S=m(S),v(S,this.S)):S=this.S),this.m!==null||this.O||(C.H=S,S=null),this.P)e:{for(var s=0,c=0;c<this.i.length;c++){t:{var h=this.i[c];if("__data__"in h.map&&(h=h.map.__data__,typeof h=="string")){h=h.length;break t}h=void 0}if(h===void 0)break;if(s+=h,4096<s){s=c;break e}if(s===4096||c===this.i.length-1){s=c+1;break e}}s=1e3}else s=1e3;s=la(this,C,s),c=ht(this.I),oe(c,"RID",r),oe(c,"CVER",22),this.D&&oe(c,"X-HTTP-Session-Id",this.D),Xn(this,c),S&&(this.O?s="headers="+encodeURIComponent(String(ea(S)))+"&"+s:this.m&&go(c,this.m,S)),fo(this.h,C),this.Ua&&oe(c,"TYPE","init"),this.P?(oe(c,"$req",s),oe(c,"SID","null"),C.T=!0,uo(C,c,null)):uo(C,c,s),this.G=2}}else this.G==3&&(r?ca(this,r):this.i.length==0||zs(this.h)||ca(this))};function ca(r,s){var c;s?c=s.l:c=r.U++;let h=ht(r.I);oe(h,"SID",r.K),oe(h,"RID",c),oe(h,"AID",r.T),Xn(r,h),r.m&&r.o&&go(h,r.m,r.o),c=new xt(r,r.j,c,r.B+1),r.m===null&&(c.H=r.o),s&&(r.i=s.D.concat(r.i)),s=la(r,c,1e3),c.I=Math.round(.5*r.wa)+Math.round(.5*r.wa*Math.random()),fo(r.h,c),uo(c,h,s)}function Xn(r,s){r.H&&ot(r.H,function(c,h){oe(s,h,c)}),r.l&&Ks({},function(c,h){oe(s,h,c)})}function la(r,s,c){c=Math.min(r.i.length,c);var h=r.l?ae(r.l.Na,r.l,r):null;e:{var C=r.i;let S=-1;for(;;){let P=["count="+c];S==-1?0<c?(S=C[0].g,P.push("ofs="+S)):S=0:P.push("ofs="+S);let ee=!0;for(let Ce=0;Ce<c;Ce++){let W=C[Ce].g,Se=C[Ce].map;if(W-=S,0>W)S=Math.max(0,C[Ce].g-100),ee=!1;else try{Nl(Se,P,"req"+W+"_")}catch{h&&h(Se)}}if(ee){h=P.join("&");break e}}}return r=r.i.splice(0,c),s.D=r,h}function ua(r){if(!r.g&&!r.u){r.Y=1;var s=r.Fa;Vn||vs(),Nn||(Vn(),Nn=!0),Qr.add(s,r),r.v=0}}function yo(r){return r.g||r.u||3<=r.v?!1:(r.Y++,r.u=zn(ae(r.Fa,r),pa(r,r.v)),r.v++,!0)}n.Fa=function(){if(this.u=null,da(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var r=2*this.R;this.j.info("BP detection timer enabled: "+r),this.A=zn(ae(this.ab,this),r)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ae(10),Ai(this),da(this))};function vo(r){r.A!=null&&(T.clearTimeout(r.A),r.A=null)}function da(r){r.g=new xt(r,r.j,"rpc",r.Y),r.m===null&&(r.g.H=r.o),r.g.O=0;var s=ht(r.qa);oe(s,"RID","rpc"),oe(s,"SID",r.K),oe(s,"AID",r.T),oe(s,"CI",r.F?"0":"1"),!r.F&&r.ja&&oe(s,"TO",r.ja),oe(s,"TYPE","xmlhttp"),Xn(r,s),r.m&&r.o&&go(s,r.m,r.o),r.L&&(r.g.I=r.L);var c=r.g;r=r.ia,c.L=1,c.v=Ti(ht(s)),c.m=null,c.P=!0,Us(c,r)}n.Za=function(){this.C!=null&&(this.C=null,Ai(this),yo(this),Ae(19))};function Oi(r){r.C!=null&&(T.clearTimeout(r.C),r.C=null)}function ha(r,s){var c=null;if(r.g==s){Oi(r),vo(r),r.g=null;var h=2}else if(mo(r.h,s))c=s.D,$s(r.h,s),h=1;else return;if(r.G!=0){if(s.o)if(h==1){c=s.m?s.m.length:0,s=Date.now()-s.F;var C=r.B;h=Ci(),Pe(h,new ks(h,c)),Mi(r)}else ua(r);else if(C=s.s,C==3||C==0&&0<s.X||!(h==1&&Ll(r,s)||h==2&&yo(r)))switch(c&&0<c.length&&(s=r.h,s.i=s.i.concat(c)),C){case 1:qt(r,5);break;case 4:qt(r,10);break;case 3:qt(r,6);break;default:qt(r,2)}}}function pa(r,s){let c=r.Ta+Math.floor(Math.random()*r.cb);return r.isActive()||(c*=2),c*s}function qt(r,s){if(r.j.info("Error code "+s),s==2){var c=ae(r.fb,r),h=r.Xa;let C=!h;h=new Lt(h||"//www.google.com/images/cleardot.gif"),T.location&&T.location.protocol=="http"||Si(h,"https"),Ti(h),C?Rl(h.toString(),c):kl(h.toString(),c)}else Ae(2);r.G=0,r.l&&r.l.sa(s),ma(r),aa(r)}n.fb=function(r){r?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function ma(r){if(r.G=0,r.ka=[],r.l){let s=Gs(r.h);(s.length!=0||r.i.length!=0)&&(de(r.ka,s),de(r.ka,r.i),r.h.i.length=0,xe(r.i),r.i.length=0),r.l.ra()}}function fa(r,s,c){var h=c instanceof Lt?ht(c):new Lt(c);if(h.g!="")s&&(h.g=s+"."+h.g),Ii(h,h.s);else{var C=T.location;h=C.protocol,s=s?s+"."+C.hostname:C.hostname,C=+C.port;var S=new Lt(null);h&&Si(S,h),s&&(S.g=s),C&&Ii(S,C),c&&(S.l=c),h=S}return c=r.D,s=r.ya,c&&s&&oe(h,c,s),oe(h,"VER",r.la),Xn(r,h),h}function ga(r,s,c){if(s&&!r.J)throw Error("Can't create secondary domain capable XhrIo object.");return s=r.Ca&&!r.pa?new ce(new Hn({eb:c})):new ce(r.pa),s.Ha(r.J),s}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _a(){}n=_a.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ri(){}Ri.prototype.g=function(r,s){return new qe(r,s)};function qe(r,s){Ee.call(this),this.g=new sa(s),this.l=r,this.h=s&&s.messageUrlParams||null,r=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.o=r,r=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(r?r["X-WebChannel-Content-Type"]=s.messageContentType:r={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.va&&(r?r["X-WebChannel-Client-Profile"]=s.va:r={"X-WebChannel-Client-Profile":s.va}),this.g.S=r,(r=s&&s.Sb)&&!rt(r)&&(this.g.m=r),this.v=s&&s.supportsCrossDomainXhr||!1,this.u=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!rt(s)&&(this.g.D=s,r=this.h,r!==null&&s in r&&(r=this.h,s in r&&delete r[s])),this.j=new sn(this)}X(qe,Ee),qe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qe.prototype.close=function(){_o(this.g)},qe.prototype.o=function(r){var s=this.g;if(typeof r=="string"){var c={};c.__data__=r,r=c}else this.u&&(c={},c.__data__=ro(r),r=c);s.i.push(new wl(s.Ya++,r)),s.G==3&&Mi(s)},qe.prototype.N=function(){this.g.l=null,delete this.j,_o(this.g),delete this.g,qe.aa.N.call(this)};function ya(r){so.call(this),r.__headers__&&(this.headers=r.__headers__,this.statusCode=r.__status__,delete r.__headers__,delete r.__status__);var s=r.__sm__;if(s){e:{for(let c in s){r=c;break e}r=void 0}(this.i=r)&&(r=this.i,s=s!==null&&r in s?s[r]:void 0),this.data=s}else this.data=r}X(ya,so);function va(){ao.call(this),this.status=1}X(va,ao);function sn(r){this.g=r}X(sn,_a),sn.prototype.ua=function(){Pe(this.g,"a")},sn.prototype.ta=function(r){Pe(this.g,new ya(r))},sn.prototype.sa=function(r){Pe(this.g,new va)},sn.prototype.ra=function(){Pe(this.g,"b")},Ri.prototype.createWebChannel=Ri.prototype.g,qe.prototype.send=qe.prototype.o,qe.prototype.open=qe.prototype.m,qe.prototype.close=qe.prototype.close,Qc=vt.createWebChannelTransport=function(){return new Ri},Hc=vt.getStatEventTarget=function(){return Ci()},Wc=vt.Event=Ut,Kc=vt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,Gc=vt.ErrorCode=xi,Vs.COMPLETE="complete",$c=vt.EventType=Vs,As.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,jc=vt.WebChannel=As,Sh=vt.FetchXmlHttpFactory=Hn,ce.prototype.listenOnce=ce.prototype.L,ce.prototype.getLastError=ce.prototype.Ka,ce.prototype.getLastErrorCode=ce.prototype.Ba,ce.prototype.getStatus=ce.prototype.Z,ce.prototype.getResponseJson=ce.prototype.Oa,ce.prototype.getResponseText=ce.prototype.oa,ce.prototype.send=ce.prototype.ea,ce.prototype.setWithCredentials=ce.prototype.Ha,zc=vt.XhrIo=ce}).apply(typeof gr<"u"?gr:typeof self<"u"?self:typeof window<"u"?window:{});var Jc="@firebase/firestore";var Oe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Oe.UNAUTHENTICATED=new Oe(null),Oe.GOOGLE_CREDENTIALS=new Oe("google-credentials-uid"),Oe.FIRST_PARTY=new Oe("first-party-uid"),Oe.MOCK_USER=new Oe("mock-user");var Sr="11.0.0";var _r=new Tn("@firebase/firestore");function nt(n,...e){if(_r.logLevel<=re.DEBUG){let t=e.map(nl);_r.debug(`Firestore (${Sr}): ${n}`,...t)}}function tl(n,...e){if(_r.logLevel<=re.ERROR){let t=e.map(nl);_r.error(`Firestore (${Sr}): ${n}`,...t)}}function nl(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function $e(n="Unexpected state"){let e=`FIRESTORE (${Sr}) INTERNAL ASSERTION FAILED: `+n;throw tl(e),new Error(e)}function Zt(n,e){n||$e()}var De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},be=class extends _t{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var en=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var is=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},rs=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Oe.UNAUTHENTICATED))}shutdown(){}};var os=class{constructor(e){this.t=e,this.currentUser=Oe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Zt(this.o===void 0);let i=this.i,o=F=>this.i!==i?(i=this.i,t(F)):Promise.resolve(),d=new en;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new en,e.enqueueRetryable(()=>o(this.currentUser))};let y=()=>{let F=d;e.enqueueRetryable(()=>he(this,null,function*(){yield F.promise,yield o(this.currentUser)}))},T=F=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=F,this.o&&(this.auth.addAuthTokenListener(this.o),y())};this.t.onInit(F=>T(F)),setTimeout(()=>{if(!this.auth){let F=this.t.getImmediate({optional:!0});F?T(F):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new en)}},0),y()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Zt(typeof i.accessToken=="string"),new is(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Zt(e===null||typeof e=="string"),new Oe(e)}},ss=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Oe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},as=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new ss(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Oe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},cs=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ls=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Zt(this.o===void 0);let i=d=>{d.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);let y=d.token!==this.R;return this.R=d.token,nt("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>i(d))};let o=d=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>o(d)),setTimeout(()=>{if(!this.appCheck){let d=this.A.getImmediate({optional:!0});d?o(d):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Zt(typeof t.token=="string"),this.R=t.token,new cs(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function yr(n,e){return n<e?-1:n>e?1:0}var vr=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new be(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?yr(this.nanoseconds,e.nanoseconds):yr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var us=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&$e(),i===void 0?i=e.length-t:i>e.length-t&&$e(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let o=0;o<i;o++){let d=e.get(o),y=t.get(o);if(d<y)return-1;if(d>y)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ft=class n extends us{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new be(De.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new n(t)}static emptyPath(){return new n([])}};var tn=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ft.fromString(e))}static fromName(e){return new n(Ft.fromString(e).popFirst(5))}static empty(){return new n(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ft(e.slice()))}};var ds=class{constructor(e,t,i,o){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=o}};ds.UNKNOWN_ID=-1;function Ih(n){return n.name==="IndexedDbTransactionError"}function Th(n){return n===0&&1/n==-1/0}var Dh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],k0=[...Dh,"documentOverlays"],Ph=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ah=Ph,Mh=[...Ah,"indexConfiguration","indexState","indexEntries"];var V0=[...Mh,"globals"];var An=class n{constructor(e,t){this.comparator=e,this.root=t||ut.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ut.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ut.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pn(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pn(this.root,e,this.comparator,!0)}},Pn=class{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?i(e.key,t):1,t&&o&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(d===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ut=class n{constructor(e,t,i,o,d){this.key=e,this.value=t,this.color=i??n.RED,this.left=o??n.EMPTY,this.right=d??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,d){return new n(e??this.key,t??this.value,i??this.color,o??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this,d=i(e,o.key);return o=d<0?o.copy(null,null,null,o.left.insert(e,t,i),null):d===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return n.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $e();let e=this.left.check();if(e!==this.right.check())throw $e();return e+(this.isRed()?0:1)}};ut.EMPTY=null,ut.RED=!0,ut.BLACK=!1;ut.EMPTY=new class{constructor(){this.size=0}get key(){throw $e()}get value(){throw $e()}get color(){throw $e()}get left(){throw $e()}get right(){throw $e()}copy(e,t,i,o,d){return this}insert(e,t,i){return new ut(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var br=class n{constructor(e){this.comparator=e,this.data=new An(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cr(this.data.getIterator())}getIteratorFrom(e){return new Cr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let o=t.getNext().key,d=i.getNext().key;if(this.comparator(o,d)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Cr=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var hs=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Mn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(o){try{return atob(o)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new hs("Invalid base64 string: "+d):d}}(e);return new n(t)}static fromUint8Array(e){let t=function(o){let d="";for(let y=0;y<o.length;++y)d+=String.fromCharCode(o[y]);return d}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Mn.EMPTY_BYTE_STRING=new Mn("");var Oh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rh(n){if(Zt(!!n),typeof n=="string"){let e=0,t=Oh.exec(n);if(Zt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gi(n.seconds),nanos:gi(n.nanos)}}function gi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function kh(n){return typeof n=="string"?Mn.fromBase64String(n):Mn.fromUint8Array(n)}var ps=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function Vh(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Nh(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var F0=new An(tn.comparator);var U0=new An(tn.comparator);var B0=new An(tn.comparator),L0=new br(tn.comparator);var q0=new br(yr);var Yc,K;(K=Yc||(Yc={}))[K.OK=0]="OK",K[K.CANCELLED=1]="CANCELLED",K[K.UNKNOWN=2]="UNKNOWN",K[K.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",K[K.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",K[K.NOT_FOUND=5]="NOT_FOUND",K[K.ALREADY_EXISTS=6]="ALREADY_EXISTS",K[K.PERMISSION_DENIED=7]="PERMISSION_DENIED",K[K.UNAUTHENTICATED=16]="UNAUTHENTICATED",K[K.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",K[K.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",K[K.ABORTED=10]="ABORTED",K[K.OUT_OF_RANGE=11]="OUT_OF_RANGE",K[K.UNIMPLEMENTED=12]="UNIMPLEMENTED",K[K.INTERNAL=13]="INTERNAL",K[K.UNAVAILABLE=14]="UNAVAILABLE",K[K.DATA_LOSS=15]="DATA_LOSS";var z0=new ts([4294967295,4294967295],0);var xr=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(gi(e.integerValue));else if("doubleValue"in e){let i=gi(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),Th(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=Rh(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(kh(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?Nh(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Vh(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):$e()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let o of Object.keys(i))this.Vt(o,t),this.Tt(i[o],t)}wt(e,t){var i,o;let d=e.fields||{};this.dt(t,53);let y="value",T=((o=(i=d[y].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.length)||0;this.dt(t,15),t.At(gi(T)),this.Vt(y,t),this.Tt(d[y],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let o of i)this.Tt(o,t)}yt(e,t){this.dt(t,37),tn.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};xr.vt=new xr;var j0=new Uint8Array(0);var lt=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};lt.DEFAULT_COLLECTION_PERCENTILE=10,lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lt.DEFAULT=new lt(41943040,lt.DEFAULT_COLLECTION_PERCENTILE,lt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lt.DISABLED=new lt(-1,0,0);function ns(){return typeof document<"u"?document:null}var ms=class{constructor(e,t,i=1e3,o=1.5,d=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=o,this.Qo=d,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-i);o>0&&nt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var fs=class n{constructor(e,t,i,o,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=d,this.deferred=new en,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,d){let y=Date.now()+i,T=new n(e,t,y,o,d);return T.start(i),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var Xc,Zc;(Zc=Xc||(Xc={})).ea="default",Zc.Cache="cache";function Fh(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var el=new Map;function Uh(n,e,t,i){if(e===!0&&i===!0)throw new be(De.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}var wr=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new be(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new be(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Uh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fh((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(d){if(d.timeoutSeconds!==void 0){if(isNaN(d.timeoutSeconds))throw new be(De.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new be(De.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new be(De.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},gs=class{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wr({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wr(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new rs;switch(i.type){case"firstParty":return new as(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new be(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return he(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=el.get(t);i&&(nt("ComponentProvider","Removing Datastore"),el.delete(t),i.terminate())}(this),Promise.resolve()}};var Er=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ms(this,"async_queue_retry"),this.Vu=()=>{let i=ns();i&&nt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;let t=ns();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=ns();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new en;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return he(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ih(e))throw e;nt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;let o=function(y){let T=y.message||"";return y.stack&&(T=y.stack.includes(y.message)?y.stack:y.message+`
`+y.stack),T}(i);throw tl("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let o=fs.createAndSchedule(this,e,t,i,d=>this.yu(d));return this.Tu.push(o),o}fu(){this.Eu&&$e()}verifyOperationInProgress(){}wu(){return he(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var _s=class extends gs{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Er,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return he(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Er(e),this._firestoreClient=void 0,yield e}})}};var $0=new RegExp("[~\\*/\\[\\]]");(function(e,t=!0){(function(o){Sr=o})(Nc),mi(new Nt("firestore",(i,{instanceIdentifier:o,options:d})=>{let y=i.getProvider("app").getImmediate(),T=new _s(new os(i.getProvider("auth-internal")),new ls(i.getProvider("app-check-internal")),function(q,it){if(!Object.prototype.hasOwnProperty.apply(q.options,["projectId"]))throw new be(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ps(q.options.projectId,it)}(y,o),y);return d=Object.assign({useFetchStreams:t},d),T._setSettings(d),T},"PUBLIC").setMultipleInstances(!0)),Dn(Jc,"4.7.4",e),Dn(Jc,"4.7.4","esm2017")})();var Bh=(n,e)=>({"request-left":n,"request-right":e}),Lh=(n,e)=>({"rejected-bg":n,"accepted-bg":e});function qh(n,e){if(n&1&&(l(0,"p")(1,"strong"),u(2,"Adres\u0103:"),a(),u(3),a()),n&2){let t=w();p(3),V(" ",t.request.senderContactInfo==null?null:t.request.senderContactInfo.address," ")}}function zh(n,e){if(n&1&&(l(0,"p")(1,"strong"),u(2,"Telefon:"),a(),u(3),a()),n&2){let t=w();p(3),V(" ",t.request.senderContactInfo==null?null:t.request.senderContactInfo.phoneNumber," ")}}function jh(n,e){n&1&&(l(0,"p",5),u(1,"\xCEn a\u0219teptare..."),a())}function $h(n,e){if(n&1){let t=N();l(0,"div",6)(1,"button",7),I("click",function(){M(t);let o=w(2);return O(o.acceptRequest())}),u(2," Accept\u0103 "),a(),l(3,"button",8),I("click",function(){M(t);let o=w(2);return O(o.rejectRequest())}),u(4," Respinge "),a()()}}function Gh(n,e){if(n&1&&(l(0,"div"),A(1,jh,2,0,"p",4)(2,$h,5,0,"div",3),a()),n&2){let t=w();p(),_("ngIf",t.userRole==="Client"),p(),_("ngIf",t.userRole==="Specialist")}}function Kh(n,e){if(n&1){let t=N();l(0,"div",6)(1,"button",9),I("click",function(){M(t);let o=w();return O(o.triggerOffer())}),u(2,"F\u0103 o ofert\u0103"),a()()}}var Ir=class n{constructor(e){this.authService=e}request={id:"",senderId:"",requestedStartDate:new Date,description:"",status:"Pending",senderContactInfo:{phoneNumber:"",address:""}};currentUserId;userRole="";requestAccepted=new z;requestRejected=new z;makeOffer=new z;ngOnInit(){this.userRole=this.authService.getUserRole(),console.log(this.request)}acceptRequest(){this.requestAccepted.emit(this.request.id)}rejectRequest(){this.requestRejected.emit(this.request.id)}showOfferButton(){return this.request.status==="Accepted"&&this.userRole==="Specialist"}triggerOffer(){this.makeOffer.emit(this.request.id)}get isOwnMessage(){return this.request.senderId===this.currentUserId}static \u0275fac=function(t){return new(t||n)(D($))};static \u0275cmp=R({type:n,selectors:[["app-request-message"]],inputs:{request:"request",currentUserId:"currentUserId"},outputs:{requestAccepted:"requestAccepted",requestRejected:"requestRejected",makeOffer:"makeOffer"},decls:17,vars:17,consts:[[1,"request",3,"ngClass"],[1,"request-summary",3,"ngClass"],[4,"ngIf"],["class","action-buttons",4,"ngIf"],["class","status-button",4,"ngIf"],[1,"status-button"],[1,"action-buttons"],[1,"accept-btn",3,"click"],[1,"reject-btn",3,"click"],[1,"offer-btn",3,"click"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h3"),u(3,"Solicitare"),a(),l(4,"p")(5,"strong"),u(6,"Data \u0219i ora:"),a(),u(7),U(8,"date"),a(),l(9,"p")(10,"strong"),u(11,"Descriere:"),a(),u(12),a(),A(13,qh,4,1,"p",2)(14,zh,4,1,"p",2)(15,Gh,3,2,"div",2)(16,Kh,3,0,"div",3),a()()),t&2&&(_("ngClass",et(11,Bh,!i.isOwnMessage,i.isOwnMessage)),p(),_("ngClass",et(14,Lh,i.request.status==="Rejected",i.request.status==="Accepted"||i.request.status==="Completed")),p(6),V(" ",pe(8,8,i.request.requestedStartDate,"short"),""),p(5),V(" ",i.request.description,""),p(),_("ngIf",i.request.senderContactInfo==null?null:i.request.senderContactInfo.address),p(),_("ngIf",i.request.senderContactInfo==null?null:i.request.senderContactInfo.phoneNumber),p(),_("ngIf",i.request.status==="Pending"),p(),_("ngIf",i.showOfferButton()))},dependencies:[Fe,Y,Ne],styles:['@charset "UTF-8";.request[_ngcontent-%COMP%]{display:flex;width:100%}.request-left[_ngcontent-%COMP%]{justify-content:flex-start}.request-right[_ngcontent-%COMP%]{justify-content:flex-end}.request-center[_ngcontent-%COMP%]{justify-content:center}.request-summary[_ngcontent-%COMP%]{max-width:300px;margin:8px;padding:12px;border:2px solid black;background-color:#f8faff;font-size:.8rem;line-height:1.4;border-radius:6px;font-family:Roboto Mono,monospace}.request-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}.request-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-size:1rem;text-align:center}.request-status[_ngcontent-%COMP%]{display:inline-block;margin-top:.5rem;padding:.25rem .5rem;font-weight:700;border-radius:4px}.status-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.status-pending[_ngcontent-%COMP%]{background-color:#fff5c4;color:#856404}.status-accepted[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.status-rejected[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.accepted-bg[_ngcontent-%COMP%]{background-color:#d4edda;border:4px solid #155724}.rejected-bg[_ngcontent-%COMP%]{background-color:#f8d7da;border:4px solid #721c24}.action-buttons[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:10px;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out;font-family:Roboto Mono,monospace}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background-color:#9bc2a3;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]:hover{background-color:#be8a90;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .offer-btn[_ngcontent-%COMP%]{background-color:#d4e2ed;color:#001b3f}.action-buttons[_ngcontent-%COMP%]   .offer-btn[_ngcontent-%COMP%]:hover{background-color:#78a2c4;box-shadow:0 2px 6px #0003}']})};var Wh=(n,e)=>({"bubble-left":n,"bubble-right":e}),Hh=(n,e)=>({left:n,right:e}),Tr=class n{message;currentUserId;get isOwnMessage(){return this.message.senderId===this.currentUserId}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-message-bubble"]],inputs:{message:"message",currentUserId:"currentUserId"},decls:6,vars:13,consts:[[1,"bubble",3,"ngClass"],[1,"bubble-content",3,"ngClass"],[1,"timestamp"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1),u(2),l(3,"div",2),u(4),U(5,"date"),a()()()),t&2&&(_("ngClass",et(7,Wh,!i.isOwnMessage,i.isOwnMessage)),p(),_("ngClass",et(10,Hh,!i.isOwnMessage,i.isOwnMessage)),p(),V(" ",i.message.content," "),p(2),j(pe(5,4,i.message.createdAt,"shortTime")))},dependencies:[Fe,Ne],styles:[".bubble[_ngcontent-%COMP%]{display:flex;width:100%;margin:8px 0}.bubble-left[_ngcontent-%COMP%]{justify-content:flex-start}.bubble-right[_ngcontent-%COMP%]{justify-content:flex-end}.bubble-content[_ngcontent-%COMP%]{display:inline-block;padding:10px 14px;border-radius:12px;font-size:12px;word-wrap:break-word;min-width:80px;max-width:70%;text-align:left}.bubble-content.left[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #514c70;color:#000;border-top-left-radius:4px}.bubble-content.right[_ngcontent-%COMP%]{background-color:#a79ed7;border:1px solid #514c70;color:#000;border-top-right-radius:4px}.bubble-content[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:10px;opacity:.6;margin-top:4px;text-align:right}"]})};var Qh=(n,e)=>({"reply-left":n,"reply-right":e}),Jh=(n,e)=>({"rejected-bg":n,"accepted-bg":e});function Yh(n,e){n&1&&(l(0,"p"),u(1,"\xCEn a\u0219teptare..."),a())}function Xh(n,e){if(n&1){let t=N();l(0,"div",5)(1,"button",6),I("click",function(){M(t);let o=w(2);return O(o.acceptReply())}),u(2," Accept\u0103 "),a(),l(3,"button",7),I("click",function(){M(t);let o=w(2);return O(o.rejectReply())}),u(4," Respinge "),a()()}}function Zh(n,e){if(n&1&&(l(0,"div"),A(1,Yh,2,0,"p",3)(2,Xh,5,0,"div",4),a()),n&2){let t=w();p(),_("ngIf",t.userRole==="Specialist"),p(),_("ngIf",t.userRole==="Client")}}var Dr=class n{constructor(e){this.authService=e}reply={id:"",senderId:"",startDate:new Date,endDate:new Date,price:0,status:"Pending",requestId:""};userRole="";requestId="";currentUserId;replyAccepted=new z;replyRejected=new z;ngOnInit(){this.userRole=this.authService.getUserRole()}acceptReply(){this.replyAccepted.emit({requestId:this.requestId,replyId:this.reply.id})}rejectReply(){this.replyRejected.emit({requestId:this.requestId,replyId:this.reply.id})}get isOwnMessage(){return this.reply.senderId===this.currentUserId}static \u0275fac=function(t){return new(t||n)(D($))};static \u0275cmp=R({type:n,selectors:[["app-reply-message"]],inputs:{reply:"reply",requestId:"requestId",currentUserId:"currentUserId"},outputs:{replyAccepted:"replyAccepted",replyRejected:"replyRejected"},decls:22,vars:27,consts:[[1,"reply",3,"ngClass"],[1,"request-summary",3,"ngClass"],[1,"big-price"],[4,"ngIf"],["class","action-buttons",4,"ngIf"],[1,"action-buttons"],[1,"accept-btn",3,"click"],[1,"reject-btn",3,"click"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h3"),u(3,"Ofert\u0103"),a(),l(4,"p")(5,"strong"),u(6,"Data:"),a(),u(7),U(8,"date"),a(),l(9,"p")(10,"strong"),u(11,"De la ora:"),a(),u(12),U(13,"date"),l(14,"strong"),u(15,"P\xE2n\u0103 la ora:"),a(),u(16),U(17,"date"),a(),l(18,"div",2),u(19),U(20,"currency"),a(),A(21,Zh,3,2,"div",3),a()()),t&2&&(_("ngClass",et(21,Qh,!i.isOwnMessage,i.isOwnMessage)),p(),_("ngClass",et(24,Jh,i.reply.status==="Rejected",i.reply.status==="Accepted")),p(6),V(" ",pe(8,7,i.reply.startDate,"dd MMMM yyyy"),""),p(5),V(" ",pe(13,10,i.reply.startDate,"HH:mm")," \xA0\u2014\xA0 "),p(4),V(" ",pe(17,13,i.reply.endDate,"HH:mm")," "),p(3),V(" ",It(20,16,i.reply.price,"RON","symbol","1.2-2")," "),p(2),_("ngIf",i.reply.status==="Pending"))},dependencies:[Fe,Y,mn,Ne],styles:['@charset "UTF-8";.reply[_ngcontent-%COMP%]{display:flex;width:100%}.reply-left[_ngcontent-%COMP%]{justify-content:flex-start}.reply-right[_ngcontent-%COMP%]{justify-content:flex-end}.reply-center[_ngcontent-%COMP%]{justify-content:center}.request-summary[_ngcontent-%COMP%]{max-width:300px;margin:8px;padding:12px;border:2px solid black;background-color:#f8faff;font-size:.8rem;line-height:1.4;border-radius:6px;font-family:Roboto Mono,monospace}.request-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}.request-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-size:1rem;text-align:center}.request-status[_ngcontent-%COMP%]{display:inline-block;margin-top:.5rem;padding:.25rem .5rem;font-weight:700;border-radius:4px}.status-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.status-pending[_ngcontent-%COMP%]{background-color:#fff5c4;color:#856404}.status-accepted[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.status-rejected[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.accepted-bg[_ngcontent-%COMP%]{background-color:#d4edda;border:4px solid #155724}.rejected-bg[_ngcontent-%COMP%]{background-color:#f8d7da;border:4px solid #721c24}.action-buttons[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:10px;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out;font-family:Roboto Mono,monospace}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background-color:#9bc2a3;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]:hover{background-color:#be8a90;box-shadow:0 2px 6px #0003}.big-price[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a202c;margin-top:.5rem;margin-bottom:.5rem}']})};var tp=(n,e)=>({"rejected-bg":n,"accepted-bg":e});function np(n,e){n&1&&(l(0,"p",6),u(1,"\xCEn a\u0219teptare..."),a())}function ip(n,e){if(n&1){let t=N();l(0,"div",7)(1,"button",8),I("click",function(){M(t);let o=w(2);return O(o.completeTask())}),u(2," Confirm\u0103 "),a(),l(3,"button",9),I("click",function(){M(t);let o=w(2);return O(o.cancelTask())}),u(4," Anuleaz\u0103 "),a()()}}function rp(n,e){if(n&1&&(l(0,"div"),A(1,np,2,0,"p",4)(2,ip,5,0,"div",5),a()),n&2){let t=w();p(),_("ngIf",t.userRole==="Client"),p(),_("ngIf",t.userRole==="Specialist")}}var Pr=class n{serviceTask={id:"",replyId:"",userId:"",specialistId:"",specialistFullName:"",startDate:new Date,endDate:new Date,description:"",address:"",price:0,status:"Confirmed",completedAt:new Date,cancelledAt:new Date};userRole="";replyId="";taskCompleted=new z;taskCancelled=new z;completeTask(){this.taskCompleted.emit({replyId:this.replyId,taskId:this.serviceTask.id})}cancelTask(){this.taskCancelled.emit({replyId:this.replyId,taskId:this.serviceTask.id})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-service-message"]],inputs:{serviceTask:"serviceTask",replyId:"replyId"},outputs:{taskCompleted:"taskCompleted",taskCancelled:"taskCancelled"},decls:30,vars:25,consts:[[1,"request-wrapper"],[1,"request-summary",3,"ngClass"],[1,"big-price"],[4,"ngIf"],["class","status-button status-pending",4,"ngIf"],["class","action-buttons",4,"ngIf"],[1,"status-button","status-pending"],[1,"action-buttons"],[1,"accept-btn",3,"click"],[1,"reject-btn",3,"click"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h3"),u(3,"Serviciu"),a(),l(4,"p")(5,"strong"),u(6,"Descriere:"),a(),u(7),a(),l(8,"p")(9,"strong"),u(10,"Data:"),a(),u(11),U(12,"date"),a(),l(13,"p")(14,"strong"),u(15,"De la ora:"),a(),u(16),U(17,"date"),l(18,"strong"),u(19,"P\xE2n\u0103 la ora:"),a(),u(20),U(21,"date"),a(),l(22,"p")(23,"strong"),u(24,"Adres\u0103:"),a(),u(25),a(),l(26,"div",2),u(27),U(28,"currency"),a(),A(29,rp,3,2,"div",3),a()()),t&2&&(p(),_("ngClass",et(22,tp,i.serviceTask.status==="Cancelled",i.serviceTask.status==="Completed")),p(6),V(" ",i.serviceTask.description,""),p(4),V(" ",pe(12,8,i.serviceTask.startDate,"dd MMMM yyyy"),""),p(5),V(" ",pe(17,11,i.serviceTask.startDate,"HH:mm")," \xA0\u2014\xA0 "),p(4),V(" ",pe(21,14,i.serviceTask.endDate,"HH:mm")," "),p(5),V(" ",i.serviceTask.address,""),p(2),V(" ",It(28,17,i.serviceTask.price,"RON","symbol","1.2-2")," "),p(2),_("ngIf",i.serviceTask.status==="Confirmed"))},dependencies:[mn,Fe,Ne,Y],styles:['@charset "UTF-8";.request-summary[_ngcontent-%COMP%]{max-width:300px;margin:8px auto;padding:12px;border:2px solid black;background-color:#f8faff;font-size:.8rem;line-height:1.4;border-radius:6px;font-family:Roboto Mono,monospace}.request-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}.request-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-size:1rem;text-align:center}.request-status[_ngcontent-%COMP%]{display:inline-block;margin-top:.5rem;padding:.25rem .5rem;font-weight:700;border-radius:4px}.status-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.status-pending[_ngcontent-%COMP%]{background-color:#fff5c4;color:#856404}.status-accepted[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.status-rejected[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.accepted-bg[_ngcontent-%COMP%]{background-color:#d4edda;border:4px solid #155724}.rejected-bg[_ngcontent-%COMP%]{background-color:#f8d7da;border:4px solid #721c24}.action-buttons[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:10px;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out;font-family:Roboto Mono,monospace}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background-color:#9bc2a3;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]:hover{background-color:#be8a90;box-shadow:0 2px 6px #0003}.big-price[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a202c;margin-top:.5rem;margin-bottom:.5rem}']})};var Ar=class n{constructor(e,t){this.authService=e;this.http=t}baseUrl="http://localhost:5241/api/Conversation";getExchanges(e){let t=new tt;e&&(t=t.set("page",e.page.toString()),t=t.set("pageSize",e.pageSize.toString()));let i=this.authService.getToken(),o=new L({Authorization:`Bearer ${i}`});return this.http.get(`${this.baseUrl}/GetPage`,{params:t,headers:o})}getExchange(e,t){let i=new tt;t&&(i=i.set("page",t.page.toString()),i=i.set("pageSize",t.pageSize.toString()));let o=this.authService.getToken(),d=new L({Authorization:`Bearer ${o}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{params:i,headers:d})}static \u0275fac=function(t){return new(t||n)(H($),H(ye))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var Mr=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Message";sendMessage(e,t){let i=this.authService.getToken(),o=new L({Authorization:`Bearer ${i}`});return this.http.post(`${this.baseUrl}/Add/${e}`,t,{headers:o})}static \u0275fac=function(t){return new(t||n)(H(ye),H($))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var Or=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Reply";addReply(e,t){let i=this.authService.getToken(),o=new L({Authorization:`Bearer ${i}`});return this.http.post(`${this.baseUrl}/Add/${e}`,t,{headers:o})}updateReply(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Update/${e.id}`,e,{headers:i})}acceptReply(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return console.log(t),this.http.patch(`${this.baseUrl}/Accept/${e}`,{},{headers:i})}rejectReply(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Reject/${e}`,{},{headers:i})}cancelReply(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Cancel/${e}`,{headers:i})}static \u0275fac=function(t){return new(t||n)(H(ye),H($))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var Rr=class n{mockConversations=[{userId:"user_specialist_456",userFullName:"Ana Popescu",userProfilePictureUrl:"assets/avatar.svg",lastMessage:"Oferta este valabil\u0103 p\xE2n\u0103 m\xE2ine!",lastMessageAt:new Date("2024-01-01T10:45:00Z"),unreadCount:1},{userId:"user_specialist_789",userFullName:"Ion Vasile",userProfilePictureUrl:"assets/avatar.svg",lastMessage:"Bun\u0103 ziua! Cum merge treaba?",lastMessageAt:new Date("2024-01-01T10:00:00Z"),unreadCount:0}];mockConversationItems=[{id:"msg_001",conversationId:"conv_12345",senderId:"user_client_123",type:"message",createdAt:new Date("2024-01-01T10:00:00Z"),data:{Content:"Bun\u0103 ziua! Cum merge treaba?",SenderId:"user_client_123",CreatedAt:new Date("2024-01-01T10:00:00Z"),IsRead:!0}},{id:"req_001",conversationId:"conv_12345",senderId:"user_client_123",type:"request",createdAt:new Date("2024-01-01T10:15:00Z"),data:{RequestId:"req_001",RequestedStartDate:new Date("2024-01-02T09:00:00Z"),PhoneNumber:"0722123456",Address:"Strada Libert\u0103\u021Bii nr. 25, Bucure\u0219ti",Description:"Instalare aer condi\u021Bionat \xEEn living",Status:"Accepted",SenderId:"user_client_123"}},{id:"reply_001",conversationId:"conv_12345",senderId:"user_specialist_456",type:"reply",createdAt:new Date("2024-01-01T10:30:00Z"),data:{RequestId:"req_001",StartDate:new Date("2024-01-02T09:00:00Z"),EndDate:new Date("2024-01-02T12:00:00Z"),Price:450,Status:"Pending",SenderId:"user_specialist_456"}},{id:"msg_002",conversationId:"conv_12345",senderId:"user_specialist_456",type:"message",createdAt:new Date("2024-01-01T10:45:00Z"),data:{Content:"Oferta este valabil\u0103 p\xE2n\u0103 m\xE2ine!",CreatedAt:new Date("2024-01-01T10:45:00Z"),IsRead:!1}}];getExchanges(e){let t={response:{page:e?.page||1,pageSize:e?.pageSize||20,totalCount:this.mockConversations.length,data:this.mockConversations},errorMessage:void 0};return Co(t).pipe(xo(300))}getExchange(e,t){let i={response:{page:t?.page||1,pageSize:t?.pageSize||50,totalCount:this.mockConversationItems.length,data:this.mockConversationItems},errorMessage:void 0};return Co(i).pipe(xo(500))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var On=class n{paymentFlowState=new mt({isActive:!1,serviceDetails:null,userDetails:null,specialistDetails:null,replyId:null,conversationId:null});paymentFlow$=this.paymentFlowState.asObservable();paymentCompleted=new mt(null);paymentCompleted$=this.paymentCompleted.asObservable();initiatePaymentFlow(e,t,i,o,d){let y=e.data,T={serviceTaskId:e.id,startDate:new Date(y.startDate),endDate:new Date(y.endDate),description:t?.data.description||"Serviciu solicitat",address:t?.data.address||"",price:y.price};this.paymentFlowState.next({isActive:!0,serviceDetails:T,userDetails:i,specialistDetails:o,replyId:e.id,conversationId:d})}completePayment(e){this.paymentCompleted.next(e),this.cancelPaymentFlow()}cancelPaymentFlow(){this.paymentFlowState.next({isActive:!1,serviceDetails:null,userDetails:null,specialistDetails:null,replyId:null,conversationId:null})}getCurrentState(){return this.paymentFlowState.value}static \u0275fac=function(t){return new(t||n)};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var lp=n=>["/specialist",n];function up(n,e){n&1&&(l(0,"div",10)(1,"p"),u(2,"Se \xEEncarc\u0103 conversa\u021Biile..."),a()())}function dp(n,e){if(n&1&&(l(0,"div",17),u(1),U(2,"slice"),a()),n&2){let t=w().$implicit;p(),V(" ",Ia(2,1,t.lastMessage,0,30),"... ")}}function hp(n,e){if(n&1&&(l(0,"div",18),u(1),a()),n&2){let t=w().$implicit;p(),V(" ",t.unreadCount," ")}}function pp(n,e){if(n&1){let t=N();l(0,"div",11),U(1,"async"),I("click",function(){let o=M(t).$implicit,d=w();return O(d.selectConversation(o))}),k(2,"img",12),l(3,"div",13)(4,"span",14),u(5),a(),A(6,dp,3,5,"div",15),a(),A(7,hp,2,1,"div",16),a()}if(n&2){let t=e.$implicit,i=w();Xe("active",t.userId===ue(1,7,i.selectedUser$)),p(2),_("src",t.userProfilePictureUrl||"assets/avatar.svg",He)("alt",t.userFullName),p(3),j(t.userFullName),p(),_("ngIf",t.lastMessage),p(),_("ngIf",t.unreadCount&&t.unreadCount>0)}}function mp(n,e){if(n&1){let t=N();l(0,"button",19),U(1,"async"),I("click",function(){M(t);let o=w();return O(o.loadMoreExchanges())}),u(2," \xCEncarc\u0103 mai multe conversa\u021Bii "),a()}if(n&2){let t=w();_("disabled",ue(1,1,t.loading$)===!0)}}function fp(n,e){if(n&1){let t=N();l(0,"button",33),U(1,"async"),I("click",function(){M(t);let o=w(2);return O(o.loadMoreMessages())}),u(2," \xCEncarc\u0103 mesaje mai vechi "),a()}if(n&2){let t=w(2);_("disabled",ue(1,1,t.loading$)===!0)}}function gp(n,e){if(n&1&&k(0,"app-message-bubble",39),n&2){let t=w().$implicit,i=w(2);_("message",i.asTypedMessage(t))("currentUserId",i.userId)}}function _p(n,e){if(n&1){let t=N();l(0,"app-request-message",40),I("requestAccepted",function(){M(t);let o=w().$implicit,d=w(2);return O(d.acceptRequest(o.item.id))})("requestRejected",function(){M(t);let o=w().$implicit,d=w(2);return O(d.rejectRequest(o.item.id))}),a()}if(n&2){let t=w().$implicit,i=w(2);_("request",i.asTypedRequest(t))("currentUserId",i.userId)}}function yp(n,e){if(n&1){let t=N();l(0,"app-reply-message",41),I("replyAccepted",function(){M(t);let o=w().$implicit,d=w(2);return O(d.acceptReply(o.item.id))})("replyRejected",function(){M(t);let o=w().$implicit,d=w(2);return O(d.rejectReply(o.item.id))}),a()}if(n&2){let t=w().$implicit,i=w(2);_("reply",i.asTypedReply(t))("currentUserId",i.userId)}}function vp(n,e){if(n&1&&(l(0,"div",42)(1,"p"),u(2),a()()),n&2){let t=w().$implicit;p(2),V("\u26A0\uFE0F Invalid message type (ID: ",t.item.id,")")}}function bp(n,e){if(n&1&&(ge(0)(1,34),A(2,gp,1,2,"app-message-bubble",35)(3,_p,1,2,"app-request-message",36)(4,yp,1,2,"app-reply-message",37)(5,vp,3,1,"div",38),_e()()),n&2){let t=e.$implicit;p(),_("ngSwitch",t.type),p(),_("ngSwitchCase","message"),p(),_("ngSwitchCase","request"),p(),_("ngSwitchCase","reply"),p(),_("ngSwitchCase","unknown")}}function Cp(n,e){n&1&&(l(0,"div",43)(1,"p"),u(2,"Nu exist\u0103 mesaje \xEEnc\u0103. \xCEncepe conversa\u021Bia!"),a()())}function xp(n,e){n&1&&(l(0,"div",44)(1,"p"),u(2,"Se \xEEncarc\u0103 mesajele..."),a()())}function wp(n,e){if(n&1){let t=N();l(0,"div",45)(1,"div",46),I("click",function(){M(t);let o=w(2);return O(o.hideServiceConfirmation())}),a(),l(2,"div",47)(3,"div",48)(4,"h2"),u(5,"\u2705 Serviciu confirmat \u0219i pl\u0103tit!"),a(),l(6,"button",49),I("click",function(){M(t);let o=w(2);return O(o.hideServiceConfirmation())}),u(7,"\xD7"),a()(),l(8,"app-service-message",50),I("taskCompleted",function(o){M(t);let d=w(2);return O(d.onServiceTaskCompleted(o))})("taskCancelled",function(o){M(t);let d=w(2);return O(d.onServiceTaskCancelled(o))}),a(),l(9,"div",51)(10,"p"),u(11,"Ambele p\u0103r\u021Bi au fost notificate prin email cu detaliile serviciului."),a(),l(12,"button",52),I("click",function(){M(t);let o=w(2);return O(o.hideServiceConfirmation())}),u(13," \xCEnchide "),a()()()()}if(n&2){let t=w(2);p(8),_("serviceTask",t.currentServiceTask)("replyId",t.currentServiceTask.replyId)}}function Ep(n,e){if(n&1){let t=N();l(0,"div",20)(1,"div",21)(2,"div"),u(3),a(),l(4,"div")(5,"button"),k(6,"img",22),a()()(),l(7,"div",23),A(8,fp,3,3,"button",24)(9,bp,6,5,"ng-container",25)(10,Cp,3,0,"div",26),U(11,"async"),U(12,"async"),A(13,xp,3,0,"div",27),U(14,"async"),U(15,"async"),a(),l(16,"div",28)(17,"button")(18,"img",29),I("click",function(){M(t);let o=w();return O(o.openMediaPicker())}),a()(),l(19,"input",30),U(20,"async"),ie("ngModelChange",function(o){M(t);let d=w();return ne(d.messageContent,o)||(d.messageContent=o),O(o)}),I("keydown.enter",function(){M(t);let o=w();return O(o.sendMessage(o.messageContent))}),a(),l(21,"button",31),U(22,"async"),I("click",function(){M(t);let o=w();return O(o.sendMessage(o.messageContent))}),u(23," \u2192 "),a()(),A(24,wp,14,2,"div",32),a()}if(n&2){let t,i,o=e.ngIf,d=w();Xe("overlay-active",d.chatOverlayVisible),p(3),j(o.fullName),p(3),_("routerLink",St(27,lp,o.userId)),p(),Xe("scroll-frozen",d.chatOverlayVisible),p(),_("ngIf",d.messagesMeta.hasMore),p(),_("ngForOf",d.getTypedConversationItems())("ngForTrackBy",d.trackByConversationItem),p(),_("ngIf",!((t=ue(11,15,d.conversationItems$))!=null&&t.length)&&ue(12,17,d.loading$)===!1),p(3),_("ngIf",ue(14,19,d.loading$)===!0&&((i=ue(15,21,d.conversationItems$))==null?null:i.length)),p(6),te("ngModel",d.messageContent),_("disabled",ue(20,23,d.loading$)===!0),p(2),_("disabled",!d.messageContent.trim()||ue(22,25,d.loading$)===!0),p(3),_("ngIf",d.isServiceConfirmationVisible&&d.currentServiceTask)}}function Sp(n,e){n&1&&(l(0,"div",53)(1,"p"),u(2,"Nu exist\u0103 conversa\u021Bii disponibile."),a()())}var kr=class n{constructor(e,t,i,o,d,y,T,F,q){this.exchangeService=e;this.messageService=t;this.requestService=i;this.replyService=o;this.authService=d;this.cdr=y;this.mockExchangeService=T;this.userService=F;this.paymentFlowService=q}destroy$=new cn;conversationListPagination={page:1,pageSize:20};messagesPagination={page:1,pageSize:50};USE_MOCK_DATA=!1;exchangesSubject=new mt([]);conversationItemsSubject=new mt([]);selectedUserSubject=new mt(null);loadingSubject=new mt(!1);selectedUserInfoSubject=new mt(null);exchanges$=this.exchangesSubject.asObservable();conversationItems$=this.conversationItemsSubject.asObservable();selectedUser$=this.selectedUserSubject.asObservable();selectedUserInfo$=this.selectedUserInfoSubject.asObservable();loading$=this.loadingSubject.asObservable();conversationListMeta={totalCount:0,hasMore:!1};messagesMeta={totalCount:0,hasMore:!1};messageContent="";userId=null;trackByConversation=(e,t)=>t.userId;trackByConversationItem=(e,t)=>t.item.id;currentUserDetails;isServiceConfirmationVisible=!1;chatOverlayVisible=!1;currentPaymentDetails;currentServiceTask;showPaymentFlow=!1;ngOnInit(){this.userId=this.authService.getUserId(),this.loadExchanges(),this.loadCurrentUserDetails(),this.subscribeToPaymentCompletion()}loadExchanges(e=!1){e||(this.conversationListPagination.page=1,this.exchangesSubject.next([])),this.loadingSubject.next(!0),(this.USE_MOCK_DATA?this.mockExchangeService:this.exchangeService).getExchanges(this.conversationListPagination).pipe(We(this.destroy$)).subscribe({next:i=>{if(i.response){let o=i.response,y=[...e?this.exchangesSubject.value:[],...o.data||[]];this.exchangesSubject.next(y),this.conversationListMeta={totalCount:o.totalCount,hasMore:y.length<o.totalCount},!e&&Array.isArray(o.data)&&o.data.length>0&&this.selectConversation(o.data[0])}this.loadingSubject.next(!1),this.cdr.markForCheck()},error:i=>{console.error("Error loading conversations:",i),this.loadingSubject.next(!1),this.cdr.markForCheck()}})}loadMoreExchanges(){this.conversationListMeta.hasMore&&!this.loadingSubject.value&&(this.conversationListPagination.page++,this.loadExchanges(!0))}selectConversation(e){this.selectedUserInfoSubject.next({userId:e.userId,fullName:e.userFullName,profilePictureUrl:e.userProfilePictureUrl}),this.loadConversationMessages(e.userId)}loadConversationMessages(e,t=!1){t||(this.messagesPagination.page=1,this.conversationItemsSubject.next([]));let i=this.USE_MOCK_DATA?this.mockExchangeService:this.exchangeService;this.selectedUserSubject.next(e),this.loadingSubject.next(!0),i.getExchange(e,this.messagesPagination).pipe(We(this.destroy$)).subscribe({next:o=>{if(o.response){let d=o.response,y=t?this.conversationItemsSubject.value:[],T=t?[...d.data||[],...y]:[...y,...d.data||[]];this.conversationItemsSubject.next(T),this.messagesMeta={totalCount:d.totalCount,hasMore:T.length<d.totalCount}}this.loadingSubject.next(!1),this.cdr.markForCheck()},error:o=>{console.error("Error loading conversation messages:",o),this.loadingSubject.next(!1),this.cdr.markForCheck()}})}loadMoreMessages(){let e=this.selectedUserSubject.value;e&&this.messagesMeta.hasMore&&!this.loadingSubject.value&&(this.messagesPagination.page++,this.loadConversationMessages(e,!0))}loadCurrentUserDetails(){this.userService.getUserProfile().subscribe({next:e=>{this.currentUserDetails=e.response},error:e=>{console.error("Error loading user details:",e)}})}subscribeToPaymentFlow(){this.paymentFlowService.paymentFlow$.pipe(We(this.destroy$)).subscribe(e=>{this.showPaymentFlow=e.isActive,this.cdr.markForCheck()})}subscribeToPaymentCompletion(){this.paymentFlowService.paymentCompleted$.pipe(We(this.destroy$)).subscribe(e=>{e&&this.handlePaymentCompletion(e)})}handlePaymentCompletion(e){console.log("Payment completed in messages:",e),this.currentPaymentDetails=e,+this.createServiceTaskFromPayment(e),this.showServiceConfirmation(),this.sendPaymentCompletionEmail(e),this.loadExchanges(!1)}createServiceTaskFromPayment(e){let t=this.paymentFlowService.getCurrentState();if(!t.serviceDetails||!t.specialistDetails||!t.userDetails){console.error("Missing service details for task creation");return}this.currentServiceTask={id:e.serviceTaskId,replyId:t.replyId||"",userId:t.userDetails.userId,specialistId:t.specialistDetails.userId,specialistFullName:t.specialistDetails.userFullName,startDate:t.serviceDetails.startDate,endDate:t.serviceDetails.endDate,description:t.serviceDetails.description,address:t.serviceDetails.address,price:t.serviceDetails.price,status:"Confirmed",completedAt:new Date,cancelledAt:new Date},this.cdr.markForCheck()}sendPaymentCompletionEmail(e){console.log("Sending payment completion email for:",e)}showServiceConfirmation(){this.isServiceConfirmationVisible=!0,this.chatOverlayVisible=!0,setTimeout(()=>{this.hideServiceConfirmation()},1e4)}hideServiceConfirmation(){this.isServiceConfirmationVisible=!1,this.chatOverlayVisible=!1}getTypedConversationItems(){let e=this.conversationItemsSubject.value;return e?e.map(t=>{let i=this.deserializeItem(t),o=i?t.type:"unknown";return{item:t,typed:i,type:o}}):[]}deserializeItem(e){if(!e||!e.data||!e.type)return null;let t=e.data,i={id:e.id,senderId:e.senderId||t.SenderId||t.senderId};try{switch(e.type.toLowerCase()){case"message":return me(G({},i),{content:t.Content||t.content||"",createdAt:this.convertTimestamp(t.CreatedAt||t.createdAt||e.createdAt),isRead:!!(t.IsRead??t.isRead??!1)});case"request":return me(G({},i),{requestedStartDate:this.convertTimestamp(t.RequestedStartDate||t.requestedStartDate),description:t.Description||t.description||"",status:t.Status||t.status||"Pending",senderContactInfo:t.SenderContactInfo||t.senderContactInfo});case"reply":return me(G({},i),{requestId:t.RequestId||t.requestId||"",startDate:this.convertTimestamp(t.StartDate||t.startDate),endDate:this.convertTimestamp(t.EndDate||t.endDate),price:Number(t.Price||t.price||0),status:t.Status||t.status||"Pending",serviceTask:t.ServiceTask||t.serviceTask});default:return null}}catch(o){return console.error("Error deserializing conversation item:",o,e),null}}convertTimestamp(e){return e instanceof Date?e:e&&typeof e.toDate=="function"?e.toDate():e&&typeof e.seconds=="number"?new Date(e.seconds*1e3):typeof e=="string"?new Date(e):new Date}asTypedMessage(e){return e.typed}asTypedRequest(e){return e.typed}asTypedReply(e){return e.typed}sendMessage(e){let t=this.selectedUserSubject.value;if(!e.trim()||!t)return;let i={id:`temp_${Date.now()}`,conversationId:"temp",senderId:this.userId,type:"message",createdAt:vr.fromDate(new Date),data:{Content:e.trim(),SenderId:this.userId,CreatedAt:new Date,IsRead:!1}},o=this.conversationItemsSubject.value;this.conversationItemsSubject.next([...o,i]),this.messageContent="",this.cdr.markForCheck(),this.messageService.sendMessage(t,{content:e.trim()}).pipe(We(this.destroy$)).subscribe({next:()=>{this.loadConversationMessages(t)},error:d=>{console.error("Error sending message:",d),this.conversationItemsSubject.next(o),this.cdr.markForCheck()}})}acceptRequest(e){this.requestService.acceptRequest(e).pipe(zt(()=>{let t=this.selectedUserSubject.value;t&&this.loadConversationMessages(t)}),We(this.destroy$)).subscribe({next:()=>console.log("Request accepted"),error:t=>console.error("Error accepting request:",t)})}rejectRequest(e){this.requestService.rejectRequest(e).pipe(zt(()=>{let t=this.selectedUserSubject.value;t&&this.loadConversationMessages(t)}),We(this.destroy$)).subscribe({next:()=>console.log("Request rejected"),error:t=>console.error("Error rejecting request:",t)})}acceptReply(e){this.replyService.acceptReply(e).pipe(zt(()=>{let t=this.selectedUserSubject.value;t&&this.loadConversationMessages(t)}),We(this.destroy$)).subscribe({next:()=>console.log("Reply accepted"),error:t=>console.error("Error accepting reply:",t)})}rejectReply(e){this.replyService.rejectReply(e).pipe(zt(()=>{let t=this.selectedUserSubject.value;t&&this.loadConversationMessages(t)}),We(this.destroy$)).subscribe({next:()=>console.log("Reply rejected"),error:t=>console.error("Error rejecting reply:",t)})}openMediaPicker(){console.log("Open media picker")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onServiceTaskCompleted(e){console.log("Service task completed:",e),this.currentServiceTask&&(this.currentServiceTask.status="Completed",this.currentServiceTask.completedAt=new Date),this.cdr.markForCheck()}onServiceTaskCancelled(e){console.log("Service task cancelled:",e),this.currentServiceTask&&(this.currentServiceTask.status="Cancelled",this.currentServiceTask.cancelledAt=new Date),this.cdr.markForCheck()}static \u0275fac=function(t){return new(t||n)(D(Ar),D(Mr),D(En),D(Or),D($),D(Bi),D(Rr),D(fn),D(On))};static \u0275cmp=R({type:n,selectors:[["app-messages"]],decls:15,vars:12,consts:[["noSelection",""],[1,"chat-wrapper"],[1,"chat-container"],[1,"sidebar"],[1,"sidebar-header"],["class","loading-indicator",4,"ngIf"],[1,"conversation-list"],["class","conversation",3,"active","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","load-more-btn",3,"disabled","click",4,"ngIf"],["class","chat-area",3,"overlay-active",4,"ngIf","ngIfElse"],[1,"loading-indicator"],[1,"conversation",3,"click"],[3,"src","alt"],[1,"conversation-info"],[1,"conversation-name"],["class","conversation-preview",4,"ngIf"],["class","unread-badge",4,"ngIf"],[1,"conversation-preview"],[1,"unread-badge"],[1,"load-more-btn",3,"click","disabled"],[1,"chat-area"],[1,"chat-header"],["src","assets/icons/info.svg","alt","specialist_info",3,"routerLink"],[1,"chat-messages"],["class","load-more-btn top",3,"disabled","click",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","empty-messages",4,"ngIf"],["class","messages-loading",4,"ngIf"],[1,"chat-input"],["src","assets/icons/photo_media.svg","alt","photo_media",3,"click"],["type","text","placeholder","Scrie un mesaj aici",3,"ngModelChange","keydown.enter","ngModel","disabled"],[1,"send-btn",3,"click","disabled"],["class","service-message-overlay",4,"ngIf"],[1,"load-more-btn","top",3,"click","disabled"],[3,"ngSwitch"],[3,"message","currentUserId",4,"ngSwitchCase"],[3,"request","currentUserId","requestAccepted","requestRejected",4,"ngSwitchCase"],[3,"reply","currentUserId","replyAccepted","replyRejected",4,"ngSwitchCase"],["class","error-message",4,"ngSwitchCase"],[3,"message","currentUserId"],[3,"requestAccepted","requestRejected","request","currentUserId"],[3,"replyAccepted","replyRejected","reply","currentUserId"],[1,"error-message"],[1,"empty-messages"],[1,"messages-loading"],[1,"service-message-overlay"],[1,"overlay-background",3,"click"],[1,"service-message-container"],[1,"overlay-header"],[1,"close-overlay-btn",3,"click"],[3,"taskCompleted","taskCancelled","serviceTask","replyId"],[1,"overlay-footer"],[1,"close-overlay-btn","secondary",3,"click"],[1,"chat-area","empty"]],template:function(t,i){if(t&1&&(l(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),u(4,"Convorbiri"),a(),A(5,up,3,0,"div",5),U(6,"async"),l(7,"div",6),A(8,pp,8,9,"div",7),U(9,"async"),A(10,mp,3,3,"button",8),a()(),A(11,Ep,25,29,"div",9),U(12,"async"),A(13,Sp,3,0,"ng-template",null,0,ti),a()()),t&2){let o=Ve(14);p(5),_("ngIf",ue(6,6,i.loading$)===!0),p(3),_("ngForOf",ue(9,8,i.exchanges$))("ngForTrackBy",i.trackByConversation),p(2),_("ngIf",i.conversationListMeta.hasMore),p(),_("ngIf",ue(12,10,i.selectedUserInfo$))("ngIfElse",o)}},dependencies:[Ir,Tr,hn,le,st,Y,pn,Z,Ue,Be,je,Pa,Ma,Dr,Pr],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Roboto Mono,monospace}[_nghost-%COMP%]{display:block;background-color:#f4f4f4;padding:2rem;position:relative}.chat-wrapper[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:auto;border:3px solid black;background-color:#e8d9ff}.chat-container[_ngcontent-%COMP%]{display:flex;height:600px}.sidebar[_ngcontent-%COMP%]{width:25%;border-right:3px solid black;display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{border-bottom:3px solid black;padding:12px}.conversation[_ngcontent-%COMP%]{padding:1rem;border-bottom:2px solid black;background-color:#c9b7ff;display:flex;align-items:center;gap:1rem;cursor:pointer}.conversation[_ngcontent-%COMP%]:hover{background-color:#b8a6ff}.conversation.active[_ngcontent-%COMP%]{background-color:#a695ff}.conversation[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}.chat-area[_ngcontent-%COMP%]{width:75%;display:flex;flex-direction:column}.chat-header[_ngcontent-%COMP%]{border-bottom:3px solid black;padding:16px;background-color:#c9b7ff;display:flex;justify-content:space-between;align-items:center}.chat-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:none;border:none;cursor:pointer}.chat-messages[_ngcontent-%COMP%]{flex-grow:1;padding:1rem;overflow-y:auto;position:relative}.chat-messages[_ngcontent-%COMP%]   app-message-bubble[_ngcontent-%COMP%], .chat-messages[_ngcontent-%COMP%]   app-request-message[_ngcontent-%COMP%], .chat-messages[_ngcontent-%COMP%]   app-reply-message[_ngcontent-%COMP%]{display:block;width:100%}.chat-messages[_ngcontent-%COMP%]   ng-container[_ngcontent-%COMP%]{display:contents}.chat-input[_ngcontent-%COMP%]{border-top:2px solid black;display:flex;align-items:center;padding:.5rem;gap:.5rem}.chat-input[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex:1;padding:.5rem;border-radius:6px;border:none;font-family:Roboto Mono,monospace}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:none;border:none;cursor:pointer}.chat-input[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]{background-color:#c9b7ff;padding:.5rem 1rem;border-radius:6px}.contact-link[_ngcontent-%COMP%]{position:absolute;top:10px;right:20px;font-size:.9rem}.message-left[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin:10px}.message-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin:10px}.action-buttons[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:10px;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out;font-family:Roboto Mono,monospace}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background-color:#9bc2a3;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]:hover{background-color:#be8a90;box-shadow:0 2px 6px #0003}.conversation-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;z-index:10;display:flex;align-items:center;justify-content:center;padding:1rem;box-shadow:0 0 12px #0003}.no-conversations[_ngcontent-%COMP%]{padding:1rem;color:#888;font-style:italic}.chat-area.empty[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#888;font-style:italic}.chat-area.overlay-active[_ngcontent-%COMP%]{position:relative}.chat-messages.scroll-frozen[_ngcontent-%COMP%]{overflow:hidden!important;pointer-events:none}.service-message-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:100;display:flex;align-items:center;justify-content:center;padding:1rem;box-sizing:border-box}.overlay-background[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000000b3;cursor:pointer}.service-message-container[_ngcontent-%COMP%]{position:relative;background:#fff;border:3px solid #28a745;border-radius:16px;max-width:500px;width:100%;max-height:80vh;overflow-y:auto;box-shadow:0 8px 32px #0000004d;font-family:Roboto Mono,monospace;animation:overlayFadeIn .3s ease-out}.overlay-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 2rem 1rem;border-bottom:2px solid #e0caff;background:linear-gradient(135deg,#d4edda,#c3e6cb);border-radius:13px 13px 0 0}.overlay-footer[_ngcontent-%COMP%]{padding:1.5rem 2rem;text-align:center;border-top:1px solid #e0e0e0;background-color:#f9f9f9;border-radius:0 0 13px 13px}@keyframes _ngcontent-%COMP%_successPulse{0%{transform:scale(.3);opacity:0}50%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}@media (max-width: 768px){.service-message-overlay[_ngcontent-%COMP%]{padding:.5rem}.service-message-container[_ngcontent-%COMP%]{max-height:90vh}.overlay-header[_ngcontent-%COMP%]{padding:1rem 1.5rem .5rem;flex-direction:column;gap:.5rem;text-align:center}.overlay-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem}.overlay-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem}.close-overlay-btn.secondary[_ngcontent-%COMP%]{padding:.6rem 1.2rem;font-size:.9rem}}"]})};var Rn=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Category";addCategory(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return this.http.post(`${this.baseUrl}/Add`,e,{headers:i})}getCategoryById(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{headers:i})}getAllCategories(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`}),o=new tt;return e&&(o=o.set("search",e)),this.http.get(`${this.baseUrl}/GetAll`,{headers:i,params:o})}getCategoriesForSpecialist(e){let t=new tt;return e&&(t=t.set("search",e)),this.http.get(`${this.baseUrl}/GetAllForSpecialist`,{params:t})}getCategoriesAdminPage(e,t,i){let o=this.authService.getToken(),d=new L({Authorization:`Bearer ${o}`}),y=new tt().set("search",e||"").set("page",t).set("pageSize",i);return this.http.get(`${this.baseUrl}/GetPageForAdmin`,{headers:d,params:y})}updateCategory(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Update/${e.id}`,e,{headers:i})}deleteCategory(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return this.http.delete(`${this.baseUrl}/Delete/${e}`,{headers:i})}static \u0275fac=function(t){return new(t||n)(H(ye),H($))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};function Ip(n,e){if(n&1){let t=N();l(0,"span",8),I("click",function(){let o=M(t).$implicit,d=w();return O(d.toggle(o.id))}),u(1),a()}if(n&2){let t=e.$implicit,i=w();Xe("disabled",i.selectedCategoryIds.includes(t.id)),p(),V(" ",t.name," ")}}function Tp(n,e){if(n&1){let t=N();l(0,"span",11),u(1),l(2,"button",12),I("click",function(){let o=M(t).$implicit,d=w(2);return O(d.remove(o))}),u(3,"\xD7"),a()()}if(n&2){let t=e.$implicit,i=w(2);p(),V(" ",i.getCategoryName(t)," ")}}function Dp(n,e){if(n&1&&(ge(0),l(1,"div",9),A(2,Tp,4,1,"span",10),a(),_e()),n&2){let t=w();p(2),_("ngForOf",t.selectedCategoryIds)}}var Vr=class n{constructor(e){this.categoryService=e}category=null;allCategories=[];searchTerm="";dummyCategories=[{id:"cat-001",name:"Traduceri medicale",description:"Traducerea documentelor medicale de specialitate."},{id:"cat-002",name:"Logopedie",description:"Servicii de diagnostic \u0219i terapie pentru tulbur\u0103ri de vorbire."},{id:"cat-003",name:"Psihoterapie",description:"Sesiuni individuale sau de grup pentru s\u0103n\u0103tatea mintal\u0103."},{id:"cat-004",name:"Nutri\u021Bie clinic\u0103",description:"Planuri alimentare personalizate pentru afec\u021Biuni cronice."},{id:"cat-005",name:"Fizioterapie",description:"Reabilitare fizic\u0103 post-traumatic\u0103 sau post-operatorie."}];placeholder="Caut\u0103 o categorie...";selectedCategoryIds=[];categoryChange=new z;ngOnInit(){this.allCategories=this.dummyCategories}getCategories(){this.categoryService.getAllCategories().subscribe({next:e=>{let t=this.removeDiacritics(this.searchTerm);this.allCategories=e.response.filter(i=>this.removeDiacritics(i.name).includes(t))},error:e=>{console.error("Eroare la ob\u021Binerea categoriilor:",e.errorMessage)}})}toggle(e){this.selectedCategoryIds.includes(e)||(this.selectedCategoryIds.push(e),this.categoryChange.emit(this.selectedCategoryIds))}remove(e){this.selectedCategoryIds=this.selectedCategoryIds.filter(t=>t!==e),this.categoryChange.emit(this.selectedCategoryIds)}getCategoryName(e){return this.allCategories?.find(t=>t.id===e)?.name||"Categorie necunoscut\u0103"}onSearch(e){this.searchTerm=e,this.getCategories()}removeDiacritics(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}static \u0275fac=function(t){return new(t||n)(D(Rn))};static \u0275cmp=R({type:n,selectors:[["app-category-selector"]],inputs:{selectedCategoryIds:"selectedCategoryIds"},outputs:{categoryChange:"categoryChange"},decls:11,vars:3,consts:[[1,"tag-selector"],[1,"section-title"],[1,"category-box"],[1,"search-category-wrapper"],[3,"searchChanged","placeholder"],[1,"category-options"],["class","tag option",3,"disabled","click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"tag","option",3,"click"],[1,"category-box","category-options"],["class","tag selected",4,"ngFor","ngForOf"],[1,"tag","selected"],["type","button",3,"click"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"h3",1),u(2,"Alege din lista de categorii:"),a(),l(3,"div",2)(4,"div",3)(5,"app-search-input",4),I("searchChanged",function(d){return i.onSearch(d)}),a()(),l(6,"div",5),A(7,Ip,2,3,"span",6),a()(),l(8,"h3",1),u(9,"Categoriile selectate:"),a(),A(10,Dp,3,1,"ng-container",7),a()),t&2&&(p(5),_("placeholder",i.placeholder),p(2),_("ngForOf",i.allCategories),p(3),_("ngIf",i.selectedCategoryIds.length>0))},dependencies:[Z,le,Y,Qe],styles:[".tag-selector[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.category-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:1.5rem;padding:1rem;background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:8px;box-shadow:0 0 4px #0000001a;flex-wrap:wrap}.category-options[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;align-items:flex-start}.tag.option[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem;font-family:Roboto Mono,monospace}.tag.option[_ngcontent-%COMP%]:hover{background-color:#333}.tag.option.disabled[_ngcontent-%COMP%]{background-color:#a1a1a1;cursor:not-allowed;opacity:.6}.tag.selected[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem;font-family:Roboto Mono,monospace}button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff}.section-title[_ngcontent-%COMP%]{margin-bottom:8px;font-family:Roboto Mono,monospace}.search-category-wrapper[_ngcontent-%COMP%]{background-color:#f6efff;border-radius:5px;width:300px;margin:auto;border:2px solid #c9b7ff}"]})};function Pp(n,e){if(n&1){let t=N();l(0,"div",4)(1,"div",5),k(2,"img",6),l(3,"button",7),I("click",function(){let o=M(t).index,d=w();return O(d.remove(o))}),u(4,"\u2715"),a()()()}if(n&2){let t=e.$implicit;p(2),_("src",t,He)}}var Nr=class n{constructor(e,t){this.photoService=e;this.sanitizer=t}uploadedPictures=[];portfolioChange=new z;imagePreviews=[];onFileSelected(e){let t=e.target;if(t.files)for(let i of t.files){let o=i,d={fileStream:o,contentType:o.type,fileName:o.name};this.uploadedPictures.push(d),this.portfolioChange.emit(this.uploadedPictures);let y=new FileReader;y.onload=()=>{this.imagePreviews.push(y.result)},y.readAsDataURL(o)}}remove(e){this.uploadedPictures.splice(e,1),this.imagePreviews.splice(e,1),this.portfolioChange.emit(this.uploadedPictures)}static \u0275fac=function(t){return new(t||n)(D(In),D(ka))};static \u0275cmp=R({type:n,selectors:[["app-portfolio-upload"]],inputs:{uploadedPictures:"uploadedPictures"},outputs:{portfolioChange:"portfolioChange"},decls:5,vars:1,consts:[[1,"porfolio-content"],["class","portfolio-preview",4,"ngFor","ngForOf"],[1,"custom-upload-btn"],["type","file","multiple","","accept","image/*","hidden","",3,"change"],[1,"portfolio-preview"],[1,"image-container"],["alt","Preview",3,"src"],[1,"delete-btn",3,"click"]],template:function(t,i){t&1&&(l(0,"div",0),A(1,Pp,5,1,"div",1),a(),l(2,"label",2),u(3," \u{1F4F8} Adaug\u0103 imagini "),l(4,"input",3),I("change",function(d){return i.onFileSelected(d)}),a()()),t&2&&(p(),_("ngForOf",i.imagePreviews))},dependencies:[le],styles:[".portfolio-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem;background-color:#f9f9f9;border-radius:8px;box-shadow:0 2px 10px #0000001a}.portfolio-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;align-items:center}.porfolio-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:32px;align-items:flex-start;padding:32px}.portfolio-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;max-width:100%}.portfolio-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:160px;height:150px;object-fit:cover;border-radius:8px;box-shadow:0 0 5px #0003;position:relative}.custom-upload-btn[_ngcontent-%COMP%]{display:inline-block;padding:.6rem 1.2rem;background-color:#e0cfff;color:#333;border:2px solid #a87fff;border-radius:8px;font-weight:700;cursor:pointer;transition:background-color .3s ease;box-shadow:0 1px 4px #0000001a;margin:0 auto}.custom-upload-btn[_ngcontent-%COMP%]:hover{background-color:#d4baff}.delete-btn[_ngcontent-%COMP%]{position:absolute;background-color:#333232;color:#fff;border:none;border-radius:50%;font-size:16px;cursor:pointer;width:24px;height:24px}.error-text[_ngcontent-%COMP%]{color:red;font-size:14px}.section-title[_ngcontent-%COMP%]{margin-bottom:8px;font-family:Roboto Mono,monospace}.image-container[_ngcontent-%COMP%]{position:relative;width:150px;height:150px}"]})};var Fr=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/SpecialistProfile";becomeSpecialist(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return this.http.put(`${this.baseUrl}/BecomeSpecialist`,e,{headers:i}).pipe(zt(o=>{o.response?.token&&localStorage.setItem("access_token",o.response.token)}))}getSpecialistProfile(){let e=this.authService.getToken(),t=new L({Authorization:`Bearer ${e}`});return this.http.get(`${this.baseUrl}/Get`,{headers:t})}updateSpecialistProfile(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Update`,e,{headers:i})}static \u0275fac=function(t){return new(t||n)(H(ye),H($))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var sl=()=>[];function Mp(n,e){if(n&1){let t=N();l(0,"app-dynamic-form",5),I("formSubmit",function(o){M(t);let d=w();return O(d.handleStep1(o))}),a()}if(n&2){let t=w();_("fields",t.step1FormFields)("submitText","Treci la pasul urm\u0103tor")}}function Op(n,e){if(n&1){let t=N();l(0,"div",6)(1,"app-category-selector",7),I("categoryChange",function(o){M(t);let d=w();return O(d.updateCategories(o))}),a(),l(2,"div",8)(3,"div",9)(4,"button",10),I("click",function(){M(t);let o=w();return O(o.handleStep2())}),u(5,"Treci la pasul urm\u0103tor"),a()()()()}if(n&2){let t=w();p(),_("selectedCategoryIds",t.specialistData.categories||ze(1,sl))}}function Rp(n,e){if(n&1){let t=N();l(0,"div",6)(1,"app-portfolio-upload",11),I("portfolioChange",function(o){M(t);let d=w();return O(d.updatePortfolio(o))}),a(),l(2,"div",8)(3,"div",9)(4,"button",10),I("click",function(){M(t);let o=w();return O(o.addEntity())}),u(5,"Finalizeaz\u0103"),a()()()()}if(n&2){let t=w();p(),_("uploadedPictures",t.specialistData.portfolio||ze(1,sl))}}var Ur=class n{constructor(e,t,i){this.authService=e;this.specialistProfileService=t;this.router=i}step=1;portfolioImages=[];imagePreviews=[];specialistData={yearsExperience:0,phoneNumber:"",address:"",description:"",categories:[],portfolio:[]};formData={};step1FormFields=Me({yearsExperience:0,phoneNumber:"",address:"",description:""},{address:{type:"text",class:"full-width"},yearsExperience:{type:"number",placeholder:"Ex: 5"},description:{type:"textarea",placeholder:"Descrie serviciile oferite",class:"full-width"}});isAddUserFormVisible=!1;ngOnInit(){let e={phoneNumber:"",address:"",yearsExperience:0,description:""};this.formData=G({},e)}handleStep1(e){this.specialistData=G(G({},this.specialistData),e),this.step=2}updateCategories(e){this.specialistData.categories=e}handleStep2(){this.step=3}updatePortfolio(e){this.portfolioImages=e.map(t=>t.fileStream),this.imagePreviews=e.map(t=>URL.createObjectURL(t.fileStream))}addEntity(){let e=this.authService.getUserId();if(!e){console.error("User ID not found");return}let t={userId:e,phoneNumber:this.specialistData.phoneNumber,address:this.specialistData.address,yearsExperience:this.specialistData.yearsExperience,description:this.specialistData.description,categories:this.specialistData.categories};this.specialistProfileService.becomeSpecialist(t).subscribe({next:()=>{this.closeAddUserForm(),this.router.navigate(["/home"])},error:i=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",i)}})}closeAddUserForm(){this.isAddUserFormVisible=!1}static \u0275fac=function(t){return new(t||n)(D($),D(Fr),D(Te))};static \u0275cmp=R({type:n,selectors:[["app-become-specialist"]],decls:8,vars:4,consts:[[1,"form-wrapper"],[1,"form-box"],[3,"ngSwitch"],[3,"fields","submitText","formSubmit",4,"ngSwitchCase"],["class","form-layout",4,"ngSwitchCase"],[3,"formSubmit","fields","submitText"],[1,"form-layout"],[3,"categoryChange","selectedCategoryIds"],[1,"form-group","full-width"],[1,"button-wrapper"],[1,"send-button",3,"click"],[3,"portfolioChange","uploadedPictures"]],template:function(t,i){t&1&&(l(0,"h2"),u(1,"Devino specialist!"),a(),l(2,"div",0)(3,"div",1),ge(4,2),A(5,Mp,1,2,"app-dynamic-form",3)(6,Op,6,2,"div",4)(7,Rp,6,2,"div",4),_e(),a()()),t&2&&(p(4),_("ngSwitch",i.step),p(),_("ngSwitchCase",1),p(),_("ngSwitchCase",2),p(),_("ngSwitchCase",3))},dependencies:[Le,hn,pn,Vr,Nr],styles:["h2[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:30px}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.send-button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:300px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}.send-button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}.form-layout[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px 20px;padding:24px 32px;max-width:650px;margin:0 auto}.form-group[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;flex:1;display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{flex:1 1 100%}"]})};var kp=["class","categories"],Vp=()=>[5,10,20];function Np(n,e){if(n&1){let t=N();l(0,"div",9)(1,"div",10)(2,"div",11)(3,"button",12),I("click",function(){M(t);let o=w();return O(o.closeAddEntityForm())}),u(4,"\xD7"),a()(),l(5,"app-dynamic-form",13),I("formSubmit",function(o){M(t);let d=w();return O(d.addEntity(o))}),a()()()}if(n&2){let t=w();p(5),_("fields",t.addEntityFormFields)("submitText","Trimite")}}function Fp(n,e){if(n&1){let t=N();l(0,"div",9)(1,"div",10)(2,"button",12),I("click",function(){M(t);let o=w();return O(o.closeUpdateEntityForm())}),u(3,"\xD7"),a(),l(4,"app-dynamic-form",14),I("formSubmit",function(o){M(t);let d=w();return O(d.updateEntity(o))}),a()()()}if(n&2){let t=w();p(4),_("fields",t.updateEntityFormFields)("initialData",t.formData)("submitText","Actualizeaz\u0103")}}function Up(n,e){if(n&1){let t=N();l(0,"app-admin-details",18),I("close",function(){M(t);let o=w(2);return O(o.closeEntityDetails())}),a()}if(n&2){let t=w(2);_("entity",t.entityDetails)("title","Detalii categorie")}}function Bp(n,e){if(n&1){let t=N();l(0,"div",15)(1,"div",16)(2,"button",12),I("click",function(){M(t);let o=w();return O(o.closeEntityDetails())}),u(3,"\xD7"),a(),A(4,Up,1,2,"app-admin-details",17),a()()}if(n&2){let t=w();p(4),_("ngIf",t.isEntityDetailsVisible)}}var Br=class n{constructor(e){this.adminService=e}dummy_categories=[{id:"c1",name:"Psihologie",description:"Categoria pentru speciali\u0219ti \xEEn psihologie",specialistsCount:5,specialistIds:["s1","s2","s3","s4","s5"]},{id:"c2",name:"Nutri\u021Bie",description:"Categoria pentru speciali\u0219ti \xEEn nutri\u021Bie",specialistsCount:3,specialistIds:["s6","s7","s8"]}];searchTerm="";entities=[];selectedEntity=null;entityDetails={};entityDetailsId;pageSize=10;currentPage=1;totalItems=0;isAddEntityFormVisible=!1;isUpdateEntityFormVisible=!1;isEntityDetailsVisible=!1;selectedEntityId=null;columns=[{key:"id",header:"ID"},{key:"name",header:"Denumire"},{key:"description",header:"Descriere"},{key:"specialistsCount",header:"Num\u0103r speciali\u0219ti"},{key:"specialistIds",header:"Speciali\u0219tii cu aceast\u0103 categorie"},{key:"actions",header:"Ac\u021Biuni",type:"action",actions:[{label:"Detalii",class:"view",callback:e=>this.getEntity(e.id)},{label:"Modific\u0103",class:"edit",callback:e=>this.editEntity(e)},{label:"\u0218terge",class:"delete",callback:e=>this.deleteEntity(e)}]}];defaultEntity={name:"",description:""};formData={};error=null;addEntityFormFields=Me(this.defaultEntity,{description:{type:"input",placeholder:"Descrie categoria",required:!1}});updateEntityFormFields=Me({name:this.selectedEntity?.name||"",description:this.selectedEntity?.description||""});placeholder="Caut\u0103 o categorie...";ngOnInit(){let e={name:"",description:""};this.formData=G({},e),this.getPage()}onSearch(e){this.searchTerm=e,this.currentPage=1,this.getPage()}getEntity(e){console.log(e),this.adminService.getCategoryById(e).subscribe({next:t=>{this.entityDetailsId=t.response?.id,this.entityDetails=Sn(t.response??{}),this.isEntityDetailsVisible=!0},error:t=>{console.error("Eroare la preluarea utilizatorului:",t.errorMessage?.status),alert("Nu s-au putut \xEEnc\u0103rca detaliile utilizatorului.")}})}getPage(){this.adminService.getCategoriesAdminPage(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:e=>{console.log(e.response),this.entities=e.response?.data??[],this.totalItems=e.response?.totalCount??0},error:e=>{this.error=e.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addEntity(e){let t=e;this.adminService.addCategory(t).subscribe({next:()=>{this.closeAddEntityForm(),this.getPage()},error:i=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",i)}})}editEntity(e){this.selectedEntityId=e.id,this.formData={name:e.name,description:e.description},this.isUpdateEntityFormVisible=!0}updateEntity(e){if(!this.selectedEntityId){console.error("Niciun utilizator nu a fost selectat pentru actualizare."),alert("Eroare: Nu a fost selectat niciun utilizator pentru actualizare.");return}let t={id:this.selectedEntityId,name:e.name||this.formData.name,description:e.description||this.formData.description};this.adminService.updateCategory(t).subscribe({next:()=>{this.closeUpdateEntityForm(),this.getPage()},error:i=>{console.error("Eroare la actualizare:",i)}})}showEntityDetails(e){this.isEntityDetailsVisible=!0}closeEntityDetails(){this.isEntityDetailsVisible=!1,this.selectedEntity=null}closeUpdateEntityForm(){this.selectedEntityId=null,this.resetForm(),this.isUpdateEntityFormVisible=!1}openAddEntityForm(){this.selectedEntityId=null,this.resetForm(),this.isAddEntityFormVisible=!0}viewEntity(e){this.isEntityDetailsVisible=!0}deleteEntity(e){confirm(`Sigur dori\u021Bi s\u0103 \u0219terge\u021Bi categoria ${e.name}?`)&&this.adminService.deleteCategory(e.id).subscribe({next:()=>{this.getPage()},error:t=>{console.error("Eroare la \u0219tergerea utilizatorului:",t)}})}closeAddEntityForm(){this.isAddEntityFormVisible=!1,this.resetForm()}resetForm(){this.formData={name:"",description:""}}onPageChange(e){this.currentPage=e,this.getPage()}onPageSizeChange(e){this.pageSize=e,this.currentPage=1,this.getPage()}static \u0275fac=function(t){return new(t||n)(D(Rn))};static \u0275cmp=R({type:n,selectors:[["app-admin",8,"categories"]],attrs:kp,decls:13,vars:11,consts:[[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[1,"admin-wrapper"],[1,"admin-table-container"],[1,"search-box-wrapper"],[3,"searchChanged","placeholder"],[1,"add-btn",3,"click"],[3,"columns","data"],["class","modal-overlay",4,"ngIf"],["class","admin-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal"],[1,"close-button-wrapper"],[1,"close-button",3,"click"],[3,"formSubmit","fields","submitText"],[3,"formSubmit","fields","initialData","submitText"],[1,"admin-overlay"],[1,"admin-modal"],[3,"entity","title","close",4,"ngIf"],[3,"close","entity","title"]],template:function(t,i){t&1&&(l(0,"app-pagination",0),I("pageChange",function(d){return i.onPageChange(d)})("pageSizeChange",function(d){return i.onPageSizeChange(d)}),a(),l(1,"div",1)(2,"div",2)(3,"h2"),u(4,"Administreaz\u0103 toate categoriile"),a(),l(5,"div",3)(6,"app-search-input",4),I("searchChanged",function(d){return i.onSearch(d)}),a()(),l(7,"button",5),I("click",function(){return i.openAddEntityForm()}),u(8,"Adaug\u0103 categorie"),a(),k(9,"app-dynamic-table",6),a()(),A(10,Np,6,2,"div",7)(11,Fp,5,3,"div",7)(12,Bp,5,1,"div",8)),t&2&&(_("currentPage",i.currentPage)("pageSize",i.pageSize)("pageSizeOptions",ze(10,Vp))("totalItems",i.totalItems),p(6),_("placeholder",i.placeholder),p(3),_("columns",i.columns)("data",i.entities),p(),_("ngIf",i.isAddEntityFormVisible),p(),_("ngIf",i.isUpdateEntityFormVisible),p(),_("ngIf",i.isEntityDetailsVisible))},dependencies:[Vt,Le,Qe,kt,at,Y],styles:[".admin-wrapper[_ngcontent-%COMP%]{text-align:center}.admin-table-container[_ngcontent-%COMP%]{display:inline-block;padding:24px;background-color:#d9c8ff;border:2px solid #4b358e;border-radius:8px;font-family:Roboto Mono,monospace;box-shadow:0 4px 8px #0000001a;margin:40px auto}.admin-table-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.admin-table[_ngcontent-%COMP%]{width:max-content;max-width:100%;margin-left:auto;margin-right:auto;border-collapse:collapse;background-color:#f8f4ff;border-radius:6px}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;white-space:nowrap}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700}.action-link[_ngcontent-%COMP%]{margin-right:12px;cursor:pointer;text-decoration:none;font-weight:700}.action-link.view[_ngcontent-%COMP%]{color:#00f}.action-link.edit[_ngcontent-%COMP%]{color:green}.action-link.delete[_ngcontent-%COMP%]{color:red}.add-btn[_ngcontent-%COMP%]{background-color:#916fc7;color:#fff;border:3px solid #4b358e;margin-top:14px;margin-bottom:20px;padding:8px 16px;font-weight:700;border-radius:6px;cursor:pointer;transition:background-color .3s;font-family:Roboto Mono,monospace}.add-btn[_ngcontent-%COMP%]:hover{background-color:#3a2973}",".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var Lr=class n{settings={fullName:"",email:"",phoneNumber:"",language:"ro",darkMode:!1,emailNotifications:!0,smsNotifications:!1};onImageUpload(e){let t=e.target.files?.[0];t&&console.log("Uploaded image:",t.name)}changePassword(){alert("Password change flow goes here.")}deactivateAccount(){confirm("E\u0219ti sigur c\u0103 vrei s\u0103 dezactivezi contul?")&&console.log("Account deactivated")}deleteAccount(){confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi contul? Aceast\u0103 ac\u021Biune este ireversibil\u0103.")&&console.log("Account deleted")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-settings"]],decls:48,vars:7,consts:[[1,"settings-container"],[1,"settings-title"],[1,"settings-section"],["for","fullName"],["id","fullName","type","text","name","fullName",3,"ngModelChange","ngModel"],["for","email"],["id","email","type","email","name","email",3,"ngModelChange","ngModel"],["for","phone"],["id","phone","type","text","name","phone",3,"ngModelChange","ngModel"],["for","profileImage"],["id","profileImage","type","file",3,"change"],["type","button",3,"click"],["for","language"],["id","language","name","language",3,"ngModelChange","ngModel"],["value","ro"],["value","en"],["type","checkbox","name","darkMode",3,"ngModelChange","ngModel"],["type","checkbox","name","emailNotifications",3,"ngModelChange","ngModel"],["type","checkbox","name","smsNotifications",3,"ngModelChange","ngModel"],[1,"danger",3,"click"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"h1",1),u(2,"Set\u0103rile contului"),a(),l(3,"section",2)(4,"h2"),u(5,"Profilul t\u0103u"),a(),l(6,"form")(7,"label",3),u(8,"Nume complet"),a(),l(9,"input",4),ie("ngModelChange",function(d){return ne(i.settings.fullName,d)||(i.settings.fullName=d),d}),a(),l(10,"label",5),u(11,"Adresa e-mail"),a(),l(12,"input",6),ie("ngModelChange",function(d){return ne(i.settings.email,d)||(i.settings.email=d),d}),a(),l(13,"label",7),u(14,"Num\u0103r de telefon"),a(),l(15,"input",8),ie("ngModelChange",function(d){return ne(i.settings.phoneNumber,d)||(i.settings.phoneNumber=d),d}),a(),l(16,"label",9),u(17,"Poza de profil"),a(),l(18,"input",10),I("change",function(d){return i.onImageUpload(d)}),a(),l(19,"button",11),I("click",function(){return i.changePassword()}),u(20,"Schimb\u0103 parola"),a()()(),l(21,"section",2)(22,"h2"),u(23,"Set\u0103ri aplica\u021Bie"),a(),l(24,"form")(25,"label",12),u(26,"Limba aplica\u021Biei"),a(),l(27,"select",13),ie("ngModelChange",function(d){return ne(i.settings.language,d)||(i.settings.language=d),d}),l(28,"option",14),u(29,"Rom\xE2n\u0103"),a(),l(30,"option",15),u(31,"English"),a()(),l(32,"label")(33,"input",16),ie("ngModelChange",function(d){return ne(i.settings.darkMode,d)||(i.settings.darkMode=d),d}),a(),u(34," Activeaz\u0103 modul \xEEntrunecat "),a(),l(35,"label")(36,"input",17),ie("ngModelChange",function(d){return ne(i.settings.emailNotifications,d)||(i.settings.emailNotifications=d),d}),a(),u(37," Notific\u0103ri prin e-mail "),a(),l(38,"label")(39,"input",18),ie("ngModelChange",function(d){return ne(i.settings.smsNotifications,d)||(i.settings.smsNotifications=d),d}),a(),u(40," Notific\u0103ri prin SMS "),a()()(),l(41,"section",2)(42,"h2"),u(43,"Siguran\u021B\u0103 \u0219i ac\u021Biuni"),a(),l(44,"button",19),I("click",function(){return i.deactivateAccount()}),u(45,"Dezactiveaz\u0103 contul"),a(),l(46,"button",19),I("click",function(){return i.deleteAccount()}),u(47,"\u0218terge contul"),a()()()),t&2&&(p(9),te("ngModel",i.settings.fullName),p(3),te("ngModel",i.settings.email),p(3),te("ngModel",i.settings.phoneNumber),p(12),te("ngModel",i.settings.language),p(6),te("ngModel",i.settings.darkMode),p(3),te("ngModel",i.settings.emailNotifications),p(3),te("ngModel",i.settings.smsNotifications))},dependencies:[Z,At,bn,Cn,Ue,Po,Mt,Be,Pt,je,Ht],styles:[".settings-container[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;padding:2rem;background-color:#f9f6ff;border-radius:12px;box-shadow:0 0 8px #0000001a}.settings-title[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:2rem;font-weight:700;text-align:center}.settings-section[_ngcontent-%COMP%]{margin-bottom:2.5rem;border-top:1px solid #ccc;padding-top:1.5rem}.settings-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:1rem}.settings-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:500;margin:.5rem 0 .25rem}.settings-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .settings-section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-bottom:1rem;border-radius:6px;border:1px solid #ccc;font-size:1rem}button[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;margin-top:1rem;border:none;border-radius:6px;background-color:#6541f0;color:#fff;font-weight:700;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#5134c9}button.danger[_ngcontent-%COMP%]{background-color:#d9534f;margin-right:1rem}button.danger[_ngcontent-%COMP%]:hover{background-color:#c9302c}"]})};var qr=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Review";addReview(e,t){let i=this.authService.getToken(),o=new L({Authorization:`Bearer ${i}`});return this.http.post(`${this.baseUrl}task/${e}/confirm/reviews`,t,{headers:o})}getReviews(e,t){let i=this.authService.getToken(),o=new L({Authorization:`Bearer ${i}`}),d=new tt().set("page",e).set("pageSize",t);return this.http.get(`${this.baseUrl}/GetPage`,{params:d,headers:o})}getReview(e){let t=this.authService.getToken(),i=new L({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{headers:i})}static \u0275fac=function(t){return new(t||n)(H(ye),H($))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var qp=()=>[];function zp(n,e){if(n&1&&k(0,"img",9),n&2){let t=w().$implicit;_("src",t.senderUserProfilePictureUrl,He)}}function jp(n,e){n&1&&(ge(0),k(1,"img",10),_e())}function $p(n,e){if(n&1&&(l(0,"div",3)(1,"div",4),A(2,zp,1,1,"img",5),l(3,"div",6)(4,"strong"),u(5),a(),l(6,"span",7),A(7,jp,2,0,"ng-container",8),a()()(),l(8,"p"),u(9),a(),l(10,"small"),u(11),U(12,"date"),a()()),n&2){let t=e.$implicit;p(2),_("ngIf",t.senderUserProfilePictureUrl),p(3),j(t.senderUserFullName),p(2),_("ngForOf",ze(8,qp).constructor(t.rating)),p(2),j(t.content),p(2),j(pe(12,5,t.createdAt,"shortDate"))}}var zr=class n{constructor(e){this.reviewService=e}reviews=[];page=1;pageSize=5;dummyReviews=[{id:"1",senderUserFullName:"Ana Popescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/women/21.jpg",rating:5,content:"Excelent! A fost foarte profesionist\u0103 \u0219i m-a ajutat rapid.",createdAt:new Date("2024-12-05T14:35:00"),updatedAt:new Date("2024-12-05T14:35:00")},{id:"2",senderUserFullName:"Andrei Ionescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/men/32.jpg",rating:4,content:"Serviciu bun, dar am avut o mic\u0103 \xEEnt\xE2rziere la \xEEnceput.",createdAt:new Date("2025-01-10T09:20:00"),updatedAt:new Date("2025-01-10T09:20:00")},{id:"3",senderUserFullName:"Mihai Georgescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/men/45.jpg",rating:3,content:"Experien\u021B\u0103 ok, dar se poate \xEEmbun\u0103t\u0103\u021Bi comunicarea.",createdAt:new Date("2025-03-18T17:45:00"),updatedAt:new Date("2025-03-18T17:45:00")},{id:"4",senderUserFullName:"Elena Tudor",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/women/55.jpg",rating:5,content:"Foarte mul\u021Bumit\u0103! Recomand cu \xEEncredere!",createdAt:new Date("2025-04-02T11:10:00"),updatedAt:new Date("2025-04-02T11:10:00")},{id:"5",senderUserFullName:"Radu Vasile",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/men/61.jpg",rating:2,content:"Din p\u0103cate, nu a fost ce am a\u0219teptat. Probleme de punctualitate.",createdAt:new Date("2025-02-14T08:30:00"),updatedAt:new Date("2025-02-14T08:30:00")},{id:"6",senderUserFullName:"Ioana Marinescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/women/88.jpg",rating:4,content:"Totul a decurs bine, dar a\u0219 fi vrut mai multe explica\u021Bii.",createdAt:new Date("2025-05-22T15:50:00"),updatedAt:new Date("2025-05-22T15:50:00")}];ngOnInit(){this.reviews=this.dummyReviews,this.loadReviews()}loadReviews(){this.reviewService.getReviews(this.page,this.pageSize).subscribe({next:e=>{this.reviews=e.response?.data||[]},error:e=>{console.error("Error loading reviews",e)}})}static \u0275fac=function(t){return new(t||n)(D(qr))};static \u0275cmp=R({type:n,selectors:[["app-reviews"]],decls:5,vars:1,consts:[[1,"account-card"],[1,"reviews-container"],["class","review-card",4,"ngFor","ngForOf"],[1,"review-card"],[1,"header"],["alt","Profil",3,"src",4,"ngIf"],[1,"review-info"],[1,"rating"],[4,"ngFor","ngForOf"],["alt","Profil",3,"src"],["src","assets/icons/star-filled.svg","alt","star",2,"width","24px","height","24px","margin-right","0"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),u(3,"Recenziile tale"),a(),A(4,$p,13,9,"div",2),a()()),t&2&&(p(4),_("ngForOf",i.reviews))},dependencies:[le,Y,Fe],styles:[".account-card[_ngcontent-%COMP%]{background:#e0caff;max-width:1000px;margin:32px auto;box-shadow:0 4px 16px #0000001a;font-family:Roboto Mono,monospace;border:3px solid black}.reviews-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:32px}.reviews-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px;text-align:center;margin-bottom:32px;font-weight:700;color:#000}.review-card[_ngcontent-%COMP%]{background-color:#f5f2ff;border-radius:10px;padding:1.25rem;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000000d;transition:transform .2s}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;object-fit:cover;margin-right:16px}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .review-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;padding-top:4px}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .review-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:18px;line-height:1;margin-left:3px;margin-bottom:2px}.review-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-size:1rem;color:#333}.review-card[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;text-align:right;color:#777;font-size:.85rem}.rating[_ngcontent-%COMP%]{display:flex;align-items:center}.rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:1px}"]})};function Gp(n,e){n&1&&(l(0,"span",32),u(1,"\u2713"),a())}function Kp(n,e){n&1&&(l(0,"p",33),u(1," Selecteaz\u0103 metoda de plat\u0103 pe care dore\u0219ti s-o utilizezi "),a())}function Wp(n,e){n&1&&(l(0,"span"),u(1,"Confirm\u0103 \u0219i pl\u0103te\u0219te"),a())}function Hp(n,e){n&1&&(l(0,"span"),u(1,"Se proceseaz\u0103..."),a())}var jr=class n{constructor(e){this.paymentFlowService=e}destroy$=new cn;serviceDetails=null;userDetails=null;specialistDetails=null;paymentMethodSelected=!1;isProcessing=!1;showError=!1;protectionFee=5;get totalAmount(){return this.serviceDetails?this.serviceDetails.price+this.protectionFee:0}ngOnInit(){this.paymentFlowService.paymentFlow$.pipe(We(this.destroy$)).subscribe(e=>{e.isActive&&(this.serviceDetails=e.serviceDetails,this.userDetails=e.userDetails,this.specialistDetails=e.specialistDetails)})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}selectCardPayment(){this.paymentMethodSelected=!0,this.showError=!1}processPayment(){if(!this.paymentMethodSelected){this.showError=!0;return}if(!this.serviceDetails||!this.userDetails||!this.specialistDetails){console.error("Missing payment details");return}this.isProcessing=!0,setTimeout(()=>{this.handlePaymentSuccess()},2e3)}handlePaymentSuccess(){let e={id:`payment_${Date.now()}`,amount:this.totalAmount,currency:"RON",status:"Completed",serviceTaskId:this.serviceDetails.serviceTaskId,paidAt:new Date().toISOString(),createdAt:new Date().toISOString(),stripePaymentIntentId:`pi_${Date.now()}`,serviceDescription:this.serviceDetails.description,serviceAddress:this.serviceDetails.address,serviceStartDate:this.serviceDetails.startDate,serviceEndDate:this.serviceDetails.endDate,specialistName:this.specialistDetails.userFullName,clientName:this.userDetails.userFullName};this.paymentFlowService.completePayment(e),this.isProcessing=!1}cancelPayment(){this.paymentFlowService.cancelPaymentFlow()}static \u0275fac=function(t){return new(t||n)(D(On))};static \u0275cmp=R({type:n,selectors:[["app-service-payment"]],decls:116,vars:46,consts:[[1,"payment-overlay"],[1,"payment-container"],[1,"payment-header"],[1,"close-btn",3,"click","disabled"],[1,"payment-content"],[1,"payment-section"],[1,"details-grid"],[1,"detail-item"],[1,"label"],[1,"value"],[1,"payment-method"],[1,"card-payment-option",3,"click"],["src","assets/icons/card.svg","alt","Card bancar",1,"payment-icon"],[1,"payment-text"],[1,"card-brands"],["src","assets/icons/visa.png","alt","Visa",1,"brand-icon"],["src","assets/icons/mastercard.png","alt","Mastercard",1,"brand-icon"],["class","selection-indicator",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"payment-section","price-section"],[1,"price-breakdown"],[1,"price-item"],[1,"price-label"],[1,"price-value"],[1,"price-item","protection-info"],[1,"price-divider"],[1,"price-item","total"],[1,"price-value","total-amount"],[1,"payment-actions"],[1,"cancel-btn",3,"click","disabled"],[1,"pay-btn",3,"click","disabled"],[4,"ngIf"],[1,"selection-indicator"],[1,"error-message"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),u(4,"Confirm\u0103 \u0219i pl\u0103te\u0219te serviciul"),a(),l(5,"button",3),I("click",function(){return i.cancelPayment()}),u(6,"\xD7"),a()(),l(7,"div",4)(8,"section",5)(9,"h3"),u(10,"Descriere"),a(),l(11,"p"),u(12),a()(),l(13,"section",5)(14,"h3"),u(15,"Detalii specialist"),a(),l(16,"div",6)(17,"div",7)(18,"span",8),u(19,"Nume:"),a(),l(20,"span",9),u(21),a()(),l(22,"div",7)(23,"span",8),u(24,"Adres\u0103 email:"),a(),l(25,"span",9),u(26),a()(),l(27,"div",7)(28,"span",8),u(29,"Num\u0103r de telefon:"),a(),l(30,"span",9),u(31),a()()()(),l(32,"section",5)(33,"h3"),u(34,"Detalii serviciu"),a(),l(35,"div",6)(36,"div",7)(37,"span",8),u(38,"Adresa serviciului:"),a(),l(39,"span",9),u(40),a()(),l(41,"div",7)(42,"span",8),u(43,"Data:"),a(),l(44,"span",9),u(45),U(46,"date"),a()(),l(47,"div",7)(48,"span",8),u(49,"Ora:"),a(),l(50,"span",9),u(51),U(52,"date"),U(53,"date"),a()()()(),l(54,"section",5)(55,"h3"),u(56,"Date de contact ale clientului"),a(),l(57,"div",6)(58,"div",7)(59,"span",8),u(60,"Num\u0103r de telefon:"),a(),l(61,"span",9),u(62),a()(),l(63,"div",7)(64,"span",8),u(65,"Adres\u0103 email:"),a(),l(66,"span",9),u(67),a()()()(),l(68,"section",5)(69,"h3"),u(70,"Plata"),a(),l(71,"div",10)(72,"div",11),I("click",function(){return i.selectCardPayment()}),k(73,"img",12),l(74,"div",13)(75,"strong"),u(76,"Card bancar"),a(),l(77,"p"),u(78,"Utilizeaz\u0103 un card de credit sau de debit"),a(),l(79,"div",14),k(80,"img",15)(81,"img",16),a()(),A(82,Gp,2,0,"span",17),a(),A(83,Kp,2,0,"p",18),a()(),l(84,"section",19)(85,"h3"),u(86,"Detalii pre\u021B"),a(),l(87,"div",20)(88,"div",21)(89,"span",22),u(90,"Pre\u021Bul serviciului:"),a(),l(91,"span",23),u(92),U(93,"currency"),a()(),l(94,"div",21)(95,"span",22),u(96,"Tax\u0103 de protec\u021Bie pentru client:"),a(),l(97,"span",23),u(98),U(99,"currency"),a()(),l(100,"div",24)(101,"small"),u(102,"Pentru cazuri de servicii nesatisf\u0103c\u0103toare"),a()(),k(103,"hr",25),l(104,"div",26)(105,"span",22),u(106,"Total:"),a(),l(107,"span",27),u(108),U(109,"currency"),a()()()()(),l(110,"div",28)(111,"button",29),I("click",function(){return i.cancelPayment()}),u(112," Anuleaz\u0103 "),a(),l(113,"button",30),I("click",function(){return i.processPayment()}),A(114,Wp,2,0,"span",31)(115,Hp,2,0,"span",31),a()()()()),t&2&&(p(5),_("disabled",i.isProcessing),p(7),j(i.serviceDetails==null?null:i.serviceDetails.description),p(9),j(i.specialistDetails==null?null:i.specialistDetails.userFullName),p(5),j(i.specialistDetails==null?null:i.specialistDetails.email),p(5),j(i.specialistDetails==null?null:i.specialistDetails.phoneNumber),p(9),j(i.serviceDetails==null?null:i.serviceDetails.address),p(5),j(pe(46,22,i.serviceDetails==null?null:i.serviceDetails.startDate,"dd MMMM yyyy")),p(6),Ui(" ",pe(52,25,i.serviceDetails==null?null:i.serviceDetails.startDate,"HH:mm")," - ",pe(53,28,i.serviceDetails==null?null:i.serviceDetails.endDate,"HH:mm")," "),p(11),j(i.userDetails==null?null:i.userDetails.phoneNumber),p(5),j(i.userDetails==null?null:i.userDetails.email),p(5),Xe("selected",i.paymentMethodSelected),p(10),_("ngIf",i.paymentMethodSelected),p(),_("ngIf",i.showError),p(9),j(It(93,31,i.serviceDetails==null?null:i.serviceDetails.price,"RON","symbol","1.2-2")),p(6),j(It(99,36,i.protectionFee,"RON","symbol","1.2-2")),p(10),j(It(109,41,i.totalAmount,"RON","symbol","1.2-2")),p(3),_("disabled",i.isProcessing),p(2),_("disabled",!i.paymentMethodSelected||i.isProcessing),p(),_("ngIf",!i.isProcessing),p(),_("ngIf",i.isProcessing))},dependencies:[Z,Fe,mn],styles:[".payment-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0009;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px;box-sizing:border-box}.payment-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;box-shadow:0 8px 32px #0003;max-width:700px;width:100%;max-height:90vh;overflow-y:auto;font-family:Roboto Mono,monospace}.payment-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 32px 16px;border-bottom:2px solid #e0caff}.payment-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#3c1a7d;font-size:1.5rem}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:4px;border-radius:4px;transition:all .2s ease}.close-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f0f0f0;color:#333}.close-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.payment-content[_ngcontent-%COMP%]{padding:0 32px 24px}.payment-section[_ngcontent-%COMP%]{margin-bottom:24px;padding-bottom:16px;border-bottom:1px solid #e0e0e0}.payment-section[_ngcontent-%COMP%]:last-child{border-bottom:none;margin-bottom:0}.payment-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:16px 0 12px;color:#3c1a7d;font-size:1.1rem;font-weight:700}.details-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:16px}.label[_ngcontent-%COMP%]{font-weight:700;color:#555;min-width:140px;flex-shrink:0}.value[_ngcontent-%COMP%]{color:#333;text-align:right;word-break:break-word}.payment-method[_ngcontent-%COMP%]{margin-top:8px}.card-payment-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px;padding:16px;border:2px solid #e0e0e0;border-radius:8px;cursor:pointer;transition:all .2s ease;background-color:#fff;position:relative}.card-payment-option[_ngcontent-%COMP%]:hover{border-color:#c9b7ff;background-color:#f9f6ff}.card-payment-option.selected[_ngcontent-%COMP%]{border-color:#3c1a7d;background-color:#f3e6ff}.payment-icon[_ngcontent-%COMP%]{width:32px;height:32px;flex-shrink:0}.payment-text[_ngcontent-%COMP%]{flex:1}.payment-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:4px;color:#333}.payment-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 8px;color:#666;font-size:.9rem}.card-brands[_ngcontent-%COMP%]{display:flex;gap:8px}.brand-icon[_ngcontent-%COMP%]{height:20px;width:auto}.selection-indicator[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;color:#3c1a7d;font-weight:700;font-size:18px}.error-message[_ngcontent-%COMP%]{color:#d32f2f;font-size:.9rem;margin-top:8px;margin-bottom:0}.price-section[_ngcontent-%COMP%]{background-color:#f9f6ff;padding:16px;border-radius:8px;border:1px solid #e0caff}.price-breakdown[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.price-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.price-item.protection-info[_ngcontent-%COMP%]{justify-content:flex-end;margin-top:-8px}.price-item.protection-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#666;font-style:italic}.price-label[_ngcontent-%COMP%]{color:#555}.price-value[_ngcontent-%COMP%]{font-weight:700;color:#333}.price-divider[_ngcontent-%COMP%]{border:none;height:1px;background-color:#d0d0d0;margin:8px 0}.price-item.total[_ngcontent-%COMP%]{padding-top:8px}.price-item.total[_ngcontent-%COMP%]   .price-label[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem;color:#333}.total-amount[_ngcontent-%COMP%]{font-size:1.3rem;color:#3c1a7d}.payment-actions[_ngcontent-%COMP%]{display:flex;gap:16px;padding:24px 32px;border-top:2px solid #e0caff;background-color:#fafafa;border-radius:0 0 12px 12px}.cancel-btn[_ngcontent-%COMP%], .pay-btn[_ngcontent-%COMP%]{flex:1;padding:12px 24px;border:2px solid;border-radius:8px;font-family:Roboto Mono,monospace;font-weight:700;font-size:1rem;cursor:pointer;transition:all .2s ease}.cancel-btn[_ngcontent-%COMP%]{background-color:#fff;border-color:#666;color:#666}.cancel-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#f5f5f5;border-color:#333;color:#333}.pay-btn[_ngcontent-%COMP%]{background-color:#3c1a7d;border-color:#3c1a7d;color:#fff}.pay-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2d1460;border-color:#2d1460}.pay-btn[_ngcontent-%COMP%]:disabled, .cancel-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 768px){.payment-overlay[_ngcontent-%COMP%]{padding:10px}.payment-header[_ngcontent-%COMP%]{padding:16px 20px 12px}.payment-content[_ngcontent-%COMP%]{padding:0 20px 16px}.payment-actions[_ngcontent-%COMP%]{padding:16px 20px;flex-direction:column}.detail-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:4px}.label[_ngcontent-%COMP%]{min-width:auto}.value[_ngcontent-%COMP%]{text-align:left}}"]})};var $r=class n{constructor(e){this.fb=e;this.contactForm=this.fb.group({name:["",Tt.required],email:["",[Tt.required,Tt.email]],subject:["",Tt.required],message:["",Tt.required]})}contactForm;onSubmit(){if(this.contactForm.valid){let e=this.contactForm.value;console.log("Contact form data:",e),alert("Mesajul a fost trimis cu succes!"),this.contactForm.reset()}}static \u0275fac=function(t){return new(t||n)(D(fc))};static \u0275cmp=R({type:n,selectors:[["app-contact-us"]],decls:47,vars:1,consts:[[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"contact-wrapper"],[3,"ngSubmit","formGroup"],["for","name"],["id","name","type","text","formControlName","name","placeholder","Ex: Ana Popescu"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Ex: ana@email.com"],["for","subject"],["id","subject","type","text","formControlName","subject","placeholder","Subiectul mesajului"],["for","message"],["id","message","rows","5","formControlName","message","placeholder","Scrie-ne mesajul t\u0103u..."],[1,"form-actions"],["type","submit"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),u(3,"Ai o \u021Beav\u0103 spart\u0103?"),a(),l(4,"h1",2),u(5,"\u021Ai s-a stricat chiuveta?"),a(),l(6,"h1"),u(7,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),l(8,"strong",3),u(9,"ExpertEase"),a(),u(10,"!"),a()(),l(11,"p"),u(12,"Peste "),l(13,"strong"),u(14,"100 de speciali\u0219ti"),a(),u(15," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),a()(),l(16,"div",4)(17,"h2"),u(18,"Contacteaz\u0103-ne"),a(),l(19,"p")(20,"strong"),u(21,"Email:"),a(),u(22," contact@expertease.ro"),a(),l(23,"p")(24,"strong"),u(25,"Telefon:"),a(),u(26," +40 712 345 678"),a(),l(27,"p")(28,"strong"),u(29,"Adres\u0103:"),a(),u(30," Str. Exemplului 123, Bucure\u0219ti"),a(),l(31,"form",5),I("ngSubmit",function(){return i.onSubmit()}),l(32,"label",6),u(33,"Nume complet"),a(),k(34,"input",7),l(35,"label",8),u(36,"Email"),a(),k(37,"input",9),l(38,"label",10),u(39,"Subiect"),a(),k(40,"input",11),l(41,"label",12),u(42,"Mesaj"),a(),k(43,"textarea",13),l(44,"div",14)(45,"button",15),u(46,"Trimite"),a()()()()),t&2&&(p(31),_("formGroup",i.contactForm))},dependencies:[Ot,At,Ue,Be,Pt,Uo,Bo],styles:[".home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.contact-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:10px auto;padding:24px;font-family:Roboto Mono,monospace;border:2px solid #3c1a7d;border-radius:8px;background-color:#fff}h2[_ngcontent-%COMP%]{color:#3c1a7d;margin-bottom:24px;text-align:center}label[_ngcontent-%COMP%]{display:block;margin:12px 0 4px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;height:auto;padding:8px 10px;line-height:1.4;font-size:14px;box-sizing:border-box;border:1px solid #ccc;border-radius:4px;margin-bottom:12px;font-family:Roboto Mono,monospace}.form-actions[_ngcontent-%COMP%]{text-align:center;margin-top:20px}button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:300px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}"]})};var Gr=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-terms"]],decls:104,vars:0,consts:[[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"terms-container"],["href","/confidentialitate",1,"privacy-link"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),u(3,"Ai o \u021Beav\u0103 spart\u0103?"),a(),l(4,"h1",2),u(5,"\u021Ai s-a stricat chiuveta?"),a(),l(6,"h1"),u(7,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),l(8,"strong",3),u(9,"ExpertEase"),a(),u(10,"!"),a()(),l(11,"p"),u(12,"Peste "),l(13,"strong"),u(14,"100 de speciali\u0219ti"),a(),u(15," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),a()(),l(16,"div",4)(17,"section")(18,"h2"),u(19,"Introducere"),a(),l(20,"p"),u(21," Acest document stabile\u0219te termenii \u0219i condi\u021Biile de utilizare a platformei "),l(22,"strong"),u(23,"ExpertEase"),a(),u(24,". Prin accesarea sau utilizarea serviciilor noastre, sunte\u021Bi de acord cu ace\u0219ti termeni. "),a()(),l(25,"section")(26,"h2"),u(27,"Defini\u021Bii"),a(),l(28,"p")(29,"strong"),u(30,"Platform\u0103:"),a(),u(31," aplica\u021Bia ExpertEase care faciliteaz\u0103 conexiunea dintre clien\u021Bi \u0219i speciali\u0219ti."),a(),l(32,"p")(33,"strong"),u(34,"Client:"),a(),u(35," utilizator care solicit\u0103 servicii."),a(),l(36,"p")(37,"strong"),u(38,"Specialist:"),a(),u(39," utilizator care ofer\u0103 servicii."),a()(),l(40,"section")(41,"h2"),u(42,"Condi\u021Bii de utilizare"),a(),l(43,"ul")(44,"li"),u(45,"Accesul necesit\u0103 crearea unui cont valid."),a(),l(46,"li"),u(47,"Utilizatorii trebuie s\u0103 aib\u0103 minim 18 ani."),a(),l(48,"li"),u(49,"Este interzis\u0103 utilizarea platformei \xEEn scopuri ilegale, abuzive sau frauduloase."),a()()(),l(50,"section")(51,"h2"),u(52,"Obliga\u021Biile utilizatorilor"),a(),l(53,"p")(54,"strong"),u(55,"Clien\u021Bi:"),a()(),l(56,"ul")(57,"li"),u(58,"S\u0103 ofere informa\u021Bii clare \u0219i reale despre cerere."),a(),l(59,"li"),u(60,"S\u0103 respecte termenii agrea\u021Bi cu specialistul."),a()(),l(61,"p")(62,"strong"),u(63,"Speciali\u0219ti:"),a()(),l(64,"ul")(65,"li"),u(66,"S\u0103 ofere servicii conforme cu descrierea."),a(),l(67,"li"),u(68,"S\u0103 respecte confiden\u021Bialitatea \u0219i termenele stabilite."),a()()(),l(69,"section")(70,"h2"),u(71,"Pl\u0103\u021Bi \u0219i comisioane"),a(),l(72,"p"),u(73," Pl\u0103\u021Bile se realizeaz\u0103 prin Stripe. Comisioanele platformei, dac\u0103 exist\u0103, vor fi afi\u0219ate transparent \xEEnainte de confirmarea serviciului. "),a()(),l(74,"section")(75,"h2"),u(76,"Limitarea r\u0103spunderii"),a(),l(77,"p"),u(78," Platforma ExpertEase ac\u021Bioneaz\u0103 doar ca intermediar. Nu ne asum\u0103m responsabilitatea pentru calitatea serviciilor oferite de speciali\u0219ti. "),a()(),l(79,"section")(80,"h2"),u(81,"Suspendarea contului"),a(),l(82,"p"),u(83," Ne rezerv\u0103m dreptul de a suspenda sau \u0219terge conturi care \xEEncalc\u0103 ace\u0219ti termeni sau folosesc platforma \xEEn mod abuziv. "),a()(),l(84,"section")(85,"h2"),u(86,"Protec\u021Bia datelor"),a(),l(87,"p"),u(88," Datele personale sunt gestionate conform "),l(89,"a",5),u(90,"Politicii de confiden\u021Bialitate"),a(),u(91,". "),a()(),l(92,"section")(93,"h2"),u(94,"Modificarea termenilor"),a(),l(95,"p"),u(96," Putem actualiza ace\u0219ti termeni periodic. Modific\u0103rile vor fi anun\u021Bate \xEEn aplica\u021Bie \u0219i vor intra \xEEn vigoare la publicare. "),a()(),l(97,"section")(98,"h2"),u(99,"Contact"),a(),l(100,"p"),u(101," Pentru \xEEntreb\u0103ri legate de ace\u0219ti termeni, ne pute\u021Bi contacta la: "),l(102,"strong"),u(103,"contact@expertease.ro"),a()()()())},styles:[".home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.home-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}.terms-container[_ngcontent-%COMP%]{max-width:900px;margin:10px auto;padding:0 24px;font-family:Roboto Mono,monospace;font-size:16px;line-height:1.6}.terms-container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{border:2px solid #3c1a7d;border-radius:8px;padding:24px;margin-bottom:32px;background-color:#fff}.terms-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px;color:#3c1a7d}.terms-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:24px;margin-top:8px;margin-bottom:12px}.terms-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.privacy-link[_ngcontent-%COMP%]{color:#000;text-decoration:none;font-weight:700}.privacy-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var Kr=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-privacy"]],decls:103,vars:0,consts:[[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"privacy-container"]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),u(3,"Ai o \u021Beav\u0103 spart\u0103?"),a(),l(4,"h1",2),u(5,"\u021Ai s-a stricat chiuveta?"),a(),l(6,"h1"),u(7,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),l(8,"strong",3),u(9,"ExpertEase"),a(),u(10,"!"),a()(),l(11,"p"),u(12,"Peste "),l(13,"strong"),u(14,"100 de speciali\u0219ti"),a(),u(15," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),a()(),l(16,"div",4)(17,"section")(18,"h2"),u(19,"Politica de Confiden\u021Bialitate"),a(),l(20,"p"),u(21," Aceast\u0103 politic\u0103 explic\u0103 modul \xEEn care ExpertEase colecteaz\u0103, utilizeaz\u0103 \u0219i protejeaz\u0103 datele personale ale utilizatorilor platformei. Ne angaj\u0103m s\u0103 respect\u0103m confiden\u021Bialitatea \u0219i s\u0103 protej\u0103m toate informa\u021Biile personale furnizate. "),a()(),l(22,"section")(23,"h2"),u(24,"Tipuri de date colectate"),a(),l(25,"ul")(26,"li"),u(27,"Nume \u0219i prenume"),a(),l(28,"li"),u(29,"Adres\u0103 de email"),a(),l(30,"li"),u(31,"Num\u0103r de telefon (dac\u0103 este furnizat)"),a(),l(32,"li"),u(33,"Mesaje transmise prin formularele de contact"),a(),l(34,"li"),u(35,"Date pentru autentificare \xEEn cont"),a(),l(36,"li"),u(37,"Date de plat\u0103 (prin Stripe)"),a(),l(38,"li"),u(39,"Informa\u021Bii despre dispozitiv \u0219i IP (pentru securitate)"),a()()(),l(40,"section")(41,"h2"),u(42,"Scopul prelucr\u0103rii datelor"),a(),l(43,"ul")(44,"li"),u(45,"Crearea \u0219i administrarea contului de utilizator"),a(),l(46,"li"),u(47,"Procesarea solicit\u0103rilor \u0219i a pl\u0103\u021Bilor"),a(),l(48,"li"),u(49,"Comunicare \xEEntre utilizatori (client\u2013specialist)"),a(),l(50,"li"),u(51,"\xCEmbun\u0103t\u0103\u021Birea platformei \u0219i a experien\u021Bei de utilizare"),a(),l(52,"li"),u(53,"Respectarea obliga\u021Biilor legale"),a()()(),l(54,"section")(55,"h2"),u(56,"Temeiuri legale (GDPR)"),a(),l(57,"p"),u(58," Datele sunt colectate \xEEn baza consim\u021B\u0103m\xE2ntului dumneavoastr\u0103, a interesului legitim al platformei sau \xEEn scopul execut\u0103rii unui contract. "),a()(),l(59,"section")(60,"h2"),u(61,"Durata de stocare a datelor"),a(),l(62,"p"),u(63," Datele sunt p\u0103strate pe durata existen\u021Bei contului sau conform obliga\u021Biilor legale. Utilizatorii pot solicita \u0219tergerea acestora \xEEn orice moment. "),a()(),l(64,"section")(65,"h2"),u(66,"Partajarea datelor"),a(),l(67,"p"),u(68," Datele nu sunt v\xE2ndute c\u0103tre ter\u021Bi. Ele pot fi partajate doar cu furnizori de servicii esen\u021Biali (ex: Stripe pentru procesarea pl\u0103\u021Bilor). "),a()(),l(69,"section")(70,"h2"),u(71,"Drepturile utilizatorilor"),a(),l(72,"ul")(73,"li"),u(74,"Dreptul de acces la date"),a(),l(75,"li"),u(76,"Dreptul de rectificare sau \u0219tergere"),a(),l(77,"li"),u(78,"Dreptul de restric\u021Bionare a prelucr\u0103rii"),a(),l(79,"li"),u(80,"Dreptul de opozi\u021Bie"),a(),l(81,"li"),u(82,"Dreptul la portabilitatea datelor"),a(),l(83,"li"),u(84,"Dreptul de a depune pl\xE2ngere la ANSPDCP"),a()()(),l(85,"section")(86,"h2"),u(87,"Securitatea datelor"),a(),l(88,"p"),u(89," Implement\u0103m m\u0103suri tehnice \u0219i organizatorice pentru a proteja datele (criptare, acces limitat, autentificare securizat\u0103). "),a()(),l(90,"section")(91,"h2"),u(92,"Modific\u0103ri ale politicii"),a(),l(93,"p"),u(94," Politica poate fi actualizat\u0103. Modific\u0103rile vor fi publicate pe aceast\u0103 pagin\u0103 \u0219i vor intra \xEEn vigoare imediat. "),a()(),l(95,"section")(96,"h2"),u(97,"Contact"),a(),l(98,"p"),u(99," Pentru \xEEntreb\u0103ri legate de datele tale, ne po\u021Bi scrie la "),l(100,"strong"),u(101,"contact@expertease.ro"),a(),u(102,". "),a()()())},styles:[".home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.privacy-container[_ngcontent-%COMP%]{max-width:900px;margin:10px auto;padding:0 24px;font-family:Roboto Mono,monospace;font-size:16px;line-height:1.6}.privacy-container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{border:2px solid #3c1a7d;border-radius:8px;padding:24px;margin-bottom:32px;background-color:#fff}.privacy-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px;color:#3c1a7d}.privacy-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:24px;margin-top:8px;margin-bottom:12px}.privacy-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}"]})};var Wr=[{path:"home",component:rr},{path:"about",component:or},{path:"contact-us",component:$r},{path:"terms",component:Gr},{path:"privacy",component:Kr},{path:"profile",component:mr,canActivate:[hr]},{path:"home/:id",loadComponent:()=>import("./chunk-MISVJHW7.js").then(n=>n.SpecialistDetailsComponent)},{path:"specialist/:id",component:So},{path:"messages",component:kr},{path:"profile/user/become-specialist",component:Ur},{path:"profile/user-settings",component:Lr},{path:"profile/user-reviews",component:zr},{path:"request-form",component:xn},{path:"register",component:sr},{path:"login",component:ar},{path:"specialist-details",component:So},{path:"service-payment",component:jr},{path:"admin",component:cr},{path:"admin/users",component:lr},{path:"admin/specialists",component:ur},{path:"admin/categories",component:Br},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:dr}];var ys={providers:[Ta({eventCoalescing:!0}),qi(Wr),Ra()]};var Qp=n=>({show:n}),Hr=class n{constructor(e,t){this.authService=e;this.router=t;this.router.events.pipe(wa(i=>i instanceof Va)).subscribe(i=>{console.log("Navigated to:",i)})}title="ExpertEase.Frontend";navbarOpen=!1;toggleNavbar(){this.navbarOpen=!this.navbarOpen}static \u0275fac=function(t){return new(t||n)(D($),D(Te))};static \u0275cmp=R({type:n,selectors:[["app-root"]],decls:35,vars:5,consts:[[1,"navbar"],["routerLink","/home","data-btn","Acas\u0103",1,"logo-button","toggle-btn"],["src","logo.svg","alt","Logo"],[1,"navbar-toggle",3,"click"],[1,"navbar-links",3,"ngClass"],["routerLink","profile/user/become-specialist","routerLinkActive","active"],["routerLink","/about","routerLinkActive","active"],["routerLink","/messages","routerLinkActive","active"],["routerLinkActive","active",3,"routerLink"],["routerLink","/admin","routerLinkActive","active"],[1,"site-footer"],[1,"footer-content"],[1,"footer-links"],["routerLink","/contact-us","routerLinkActive","active"],["routerLink","/terms","routerLinkActive","active"],["routerLink","/privacy","routerLinkActive","active"]],template:function(t,i){t&1&&(l(0,"nav",0)(1,"button",1),k(2,"img",2),a(),l(3,"button",3),I("click",function(){return i.toggleNavbar()}),u(4,"\u2630"),a(),l(5,"ul",4)(6,"li")(7,"a",5),u(8,"Devino specialist!"),a()(),l(9,"li")(10,"a",6),u(11,"Despre noi"),a()(),l(12,"li")(13,"a",7),u(14,"Mesajele tale"),a()(),l(15,"li")(16,"a",8),u(17),a()(),l(18,"li")(19,"a",9),u(20,"Admin Dashboard"),a()()()(),k(21,"router-outlet"),l(22,"footer",10)(23,"div",11)(24,"p"),u(25,"\xA9 2025 ExpertEase. Toate drepturile rezervate."),a(),l(26,"nav",12)(27,"a",6),u(28,"Despre noi"),a(),l(29,"a",13),u(30,"Contacteaz\u0103-ne!"),a(),l(31,"a",14),u(32,"Termeni \u0219i condi\u021Bii"),a(),l(33,"a",15),u(34,"Politic\u0103 de confiden\u021Bialitate"),a()()()()),t&2&&(p(5),_("ngClass",St(3,Qp,i.navbarOpen)),p(11),_("routerLink",i.authService.getToken()?"/profile":"/register"),p(),V(" ",i.authService.getToken()?"Contul t\u0103u":"\xCEnregistreaz\u0103-te!"," "))},dependencies:[se,Ne,Li,st],styles:[".navbar[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center;padding:16px 32px;background-color:#1e1e2f;color:#fff;box-shadow:0 2px 2px #0000001a;position:relative}.navbar-toggle[_ngcontent-%COMP%]{display:none;font-size:32px;background:none;border:none;color:#fff;cursor:pointer}.navbar-links[_ngcontent-%COMP%]{list-style:none;display:grid;grid-auto-flow:column;gap:24px;margin:0;padding:0;font-family:Roboto Mono,monospace}.navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:2px 0;transition:border-bottom .2s ease}.navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:2px solid white}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{grid-template-columns:1fr auto;grid-template-rows:auto auto;row-gap:16px}.navbar-toggle[_ngcontent-%COMP%]{display:block}.navbar-links[_ngcontent-%COMP%]{display:none;grid-auto-flow:row;width:100%;grid-column:1/-1}.navbar-links.show[_ngcontent-%COMP%]{display:grid}}.site-footer[_ngcontent-%COMP%]{background-color:#3c1a7d;color:#fff;padding:24px;text-align:center;font-family:Roboto Mono,monospace;margin-top:64px}.site-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{max-width:900px;margin:0 auto}.footer-links[_ngcontent-%COMP%]{margin-top:12px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin:0 12px;font-size:14px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};Oa(Hr,me(G({},ys),{providers:[...ys.providers,qi(Wr)]})).catch(n=>console.error(n));
