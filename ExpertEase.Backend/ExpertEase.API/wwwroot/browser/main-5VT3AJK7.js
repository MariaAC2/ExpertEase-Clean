import{$ as he,A as v,Aa as kn,B as dt,Ba as Vn,C as $,Ca as mt,D as ie,Da as B,E as _,Ea as be,F as wn,Fa as gt,G as Sn,Ga as w,H as d,Ha as ft,I as Te,Ia as cn,J as a,K as o,L as S,M as R,N as U,O as y,P as u,Q as p,R as K,S as l,T as k,U as C,V as Dn,W as D,X as O,Y as P,Z as ue,_ as Y,a as F,aa as Ae,b as ne,ba as z,c as an,ca as _e,d as vn,da as re,e as yn,ea as On,f as bn,fa as Ie,g as Cn,ga as Pn,h as xn,ha as En,i as Mn,ia as sn,j as lt,ja as ve,k as pe,ka as Je,l as q,la as ln,m as ct,ma as X,n as Pe,na as N,o as T,oa as I,p as We,pa as pt,q as f,qa as ut,r as h,ra as Tn,s as Ee,sa as An,t as M,ta as ce,u as He,ua as Fn,v as Ze,va as V,w as le,wa as b,x as c,xa as ye,y as Ke,ya as j,z as g,za as In}from"./chunk-WV6H2KT6.js";var Gn=(()=>{class i{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||i)(g(Ke),g(He))};static \u0275dir=$({type:i})}return i})(),it=(()=>{class i extends Gn{static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ee(i)))(r||i)}})();static \u0275dir=$({type:i,features:[ie]})}return i})(),Ne=new Pe(""),vi={provide:Ne,useExisting:pe(()=>pn),multi:!0},pn=(()=>{class i extends it{writeValue(e){this.setProperty("checked",e)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ee(i)))(r||i)}})();static \u0275dir=$({type:i,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){n&1&&u("change",function(m){return r.onChange(m.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[ue([vi]),ie]})}return i})(),yi={provide:Ne,useExisting:pe(()=>H),multi:!0};function bi(){let i=ln()?ln().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var Ci=new Pe(""),H=(()=>{class i extends Gn{_compositionMode;_composing=!1;constructor(e,n,r){super(e,n),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!bi())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||i)(g(Ke),g(He),g(Ci,8))};static \u0275dir=$({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&u("input",function(m){return r._handleInput(m.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(m){return r._compositionEnd(m.target.value)})},standalone:!1,features:[ue([yi]),ie]})}return i})();function xi(i){return i==null||Mi(i)===0}function Mi(i){return i==null?null:Array.isArray(i)||typeof i=="string"?i.length:i instanceof Set?i.size:null}var un=new Pe(""),Wn=new Pe("");function wi(i){return xi(i.value)?{required:!0}:null}function Rn(i){return null}function Hn(i){return i!=null}function Zn(i){return wn(i)?yn(i):i}function Kn(i){let t={};return i.forEach(e=>{t=e!=null?F(F({},t),e):t}),Object.keys(t).length===0?null:t}function Jn(i,t){return t.map(e=>e(i))}function Si(i){return!i.validate}function Yn(i){return i.map(t=>Si(t)?t:e=>t.validate(e))}function Di(i){if(!i)return null;let t=i.filter(Hn);return t.length==0?null:function(e){return Kn(Jn(e,t))}}function mn(i){return i!=null?Di(Yn(i)):null}function Oi(i){if(!i)return null;let t=i.filter(Hn);return t.length==0?null:function(e){let n=Jn(e,t).map(Zn);return Cn(n).pipe(bn(Kn))}}function gn(i){return i!=null?Oi(Yn(i)):null}function Un(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function Pi(i){return i._rawValidators}function Ei(i){return i._rawAsyncValidators}function dn(i){return i?Array.isArray(i)?i:[i]:[]}function _t(i,t){return Array.isArray(i)?i.includes(t):i===t}function Nn(i,t){let e=dn(t);return dn(i).forEach(r=>{_t(e,r)||e.push(r)}),e}function qn(i,t){return dn(t).filter(e=>!_t(i,e))}var vt=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=mn(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=gn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Re=class extends vt{name;get formDirective(){return null}get path(){return null}},nt=class extends vt{_parent=null;name=null;valueAccessor=null},yt=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Ti={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},wa=ne(F({},Ti),{"[class.ng-submitted]":"isSubmitted"}),Z=(()=>{class i extends yt{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(g(nt,2))};static \u0275dir=$({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&Te("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[ie]})}return i})(),oe=(()=>{class i extends yt{constructor(e){super(e)}static \u0275fac=function(n){return new(n||i)(g(Re,10))};static \u0275dir=$({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,r){n&2&&Te("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[ie]})}return i})();var Ye="VALID",ht="INVALID",ke="PENDING",Xe="DISABLED",Ue=class{},bt=class extends Ue{value;source;constructor(t,e){super(),this.value=t,this.source=e}},et=class extends Ue{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},tt=class extends Ue{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},Ve=class extends Ue{status;source;constructor(t,e){super(),this.status=t,this.source=e}};function Xn(i){return(Mt(i)?i.validators:i)||null}function Ai(i){return Array.isArray(i)?mn(i):i||null}function Qn(i,t){return(Mt(t)?t.asyncValidators:i)||null}function Fi(i){return Array.isArray(i)?gn(i):i||null}function Mt(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}function Ii(i,t,e){let n=i.controls;if(!(t?Object.keys(n):n).length)throw new lt(1e3,"");if(!n[e])throw new lt(1001,"")}function ki(i,t,e){i._forEachChild((n,r)=>{if(e[r]===void 0)throw new lt(1002,"")})}var Ct=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return ve(this.statusReactive)}set status(t){ve(()=>this.statusReactive.set(t))}_status=Je(()=>this.statusReactive());statusReactive=Ze(void 0);get valid(){return this.status===Ye}get invalid(){return this.status===ht}get pending(){return this.status==ke}get disabled(){return this.status===Xe}get enabled(){return this.status!==Xe}errors;get pristine(){return ve(this.pristineReactive)}set pristine(t){ve(()=>this.pristineReactive.set(t))}_pristine=Je(()=>this.pristineReactive());pristineReactive=Ze(!0);get dirty(){return!this.pristine}get touched(){return ve(this.touchedReactive)}set touched(t){ve(()=>this.touchedReactive.set(t))}_touched=Je(()=>this.touchedReactive());touchedReactive=Ze(!1);get untouched(){return!this.touched}_events=new vn;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Nn(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Nn(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(qn(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(qn(t,this._rawAsyncValidators))}hasValidator(t){return _t(this._rawValidators,t)}hasAsyncValidator(t){return _t(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(ne(F({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new tt(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new tt(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(ne(F({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new et(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new et(!0,n))}markAsPending(t={}){this.status=ke;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ve(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(ne(F({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Xe,this.errors=null,this._forEachChild(r=>{r.disable(ne(F({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new bt(this.value,n)),this._events.next(new Ve(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ne(F({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Ye,this._forEachChild(n=>{n.enable(ne(F({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(ne(F({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ye||this.status===ke)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new bt(this.value,e)),this._events.next(new Ve(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(ne(F({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xe:Ye}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=ke,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=Zn(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new Ve(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new M,this.statusChanges=new M}_calculateStatus(){return this._allControlsDisabled()?Xe:this.errors?ht:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ke)?ke:this._anyControlsHaveStatus(ht)?ht:Ye}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new et(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new tt(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Mt(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Ai(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Fi(this._rawAsyncValidators)}},xt=class extends Ct{constructor(t,e,n){super(Xn(e),Qn(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){ki(this,!0,t),Object.keys(t).forEach(n=>{Ii(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let r=this.controls[n];r&&r.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,r)=>((n.enabled||this.disabled)&&(e[r]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((r,s)=>{n=e(n,r,s)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var wt=new Pe("",{providedIn:"root",factory:()=>St}),St="always";function Vi(i,t){return[...t.path,i]}function ei(i,t,e=St){ti(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),Ui(i,t),qi(i,t),Ni(i,t),Ri(i,t)}function zn(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Ri(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function ti(i,t){let e=Pi(i);t.validator!==null?i.setValidators(Un(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=Ei(i);t.asyncValidator!==null?i.setAsyncValidators(Un(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();zn(t._rawValidators,r),zn(t._rawAsyncValidators,r)}function Ui(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&ni(i,t)})}function Ni(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&ni(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function ni(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function qi(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function zi(i,t){i==null,ti(i,t)}function ji(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Bi(i){return Object.getPrototypeOf(i.constructor)===it}function Li(i,t){i._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function $i(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(s=>{s.constructor===H?e=s:Bi(s)?n=s:r=s}),r||n||e||null}var Gi={provide:Re,useExisting:pe(()=>ee)},Qe=Promise.resolve(),ee=(()=>{class i extends Re{callSetDisabledState;get submitted(){return ve(this.submittedReactive)}_submitted=Je(()=>this.submittedReactive());submittedReactive=Ze(!1);_directives=new Set;form;ngSubmit=new M;options;constructor(e,n,r){super(),this.callSetDisabledState=r,this.form=new xt({},mn(e),gn(n))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Qe.then(()=>{let n=this._findContainer(e.path);e.control=n.registerControl(e.name,e.control),ei(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Qe.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Qe.then(()=>{let n=this._findContainer(e.path),r=new xt({});zi(r,e),n.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Qe.then(()=>{let n=this._findContainer(e.path);n&&n.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,n){Qe.then(()=>{this.form.get(e.path).setValue(n)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),Li(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(n){return new(n||i)(g(un,10),g(Wn,10),g(wt,8))};static \u0275dir=$({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,r){n&1&&u("submit",function(m){return r.onSubmit(m)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ue([Gi]),ie]})}return i})();function jn(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function Bn(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var Wi=class extends Ct{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,n){super(Xn(e),Qn(n,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Mt(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Bn(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){jn(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){jn(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Bn(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Hi={provide:nt,useExisting:pe(()=>G)},Ln=Promise.resolve(),G=(()=>{class i extends nt{_changeDetectorRef;callSetDisabledState;control=new Wi;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new M;constructor(e,n,r,s,m,L){super(),this._changeDetectorRef=m,this.callSetDisabledState=L,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=$i(this,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),ji(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ei(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){Ln.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&sn(n);Ln.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Vi(e,this._parent):[e]}static \u0275fac=function(n){return new(n||i)(g(Re,9),g(un,10),g(Wn,10),g(Ne,10),g(En,8),g(wt,8))};static \u0275dir=$({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ue([Hi]),ie,We]})}return i})();var ae=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=$({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return i})(),Zi={provide:Ne,useExisting:pe(()=>rt),multi:!0},rt=(()=>{class i extends it{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ee(i)))(r||i)}})();static \u0275dir=$({type:i,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){n&1&&u("input",function(m){return r.onChange(m.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[ue([Zi]),ie]})}return i})();var Ki=new Pe("");var Ji={provide:Ne,useExisting:pe(()=>Ce),multi:!0};function ii(i,t){return i==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function Yi(i){return i.split(":")[0]}var Ce=(()=>{class i extends it{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n=this._getOptionId(e),r=ii(n,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=n=>{this.value=this._getOptionValue(n),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n),e))return n;return null}_getOptionValue(e){let n=Yi(e);return this._optionMap.has(n)?this._optionMap.get(n):e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ee(i)))(r||i)}})();static \u0275dir=$({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,r){n&1&&u("change",function(m){return r.onChange(m.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ue([Ji]),ie]})}return i})(),qe=(()=>{class i{_element;_renderer;_select;id;constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(ii(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||i)(g(He),g(Ke),g(Ce,9))};static \u0275dir=$({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})(),Xi={provide:Ne,useExisting:pe(()=>ri),multi:!0};function $n(i,t){return i==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${i}: ${t}`.slice(0,50))}function Qi(i){return i.split(":")[0]}var ri=(()=>{class i extends it{value;_optionMap=new Map;_idCounter=0;set compareWith(e){this._compareWith=e}_compareWith=Object.is;writeValue(e){this.value=e;let n;if(Array.isArray(e)){let r=e.map(s=>this._getOptionId(s));n=(s,m)=>{s._setSelected(r.indexOf(m.toString())>-1)}}else n=(r,s)=>{r._setSelected(!1)};this._optionMap.forEach(n)}registerOnChange(e){this.onChange=n=>{let r=[],s=n.selectedOptions;if(s!==void 0){let m=s;for(let L=0;L<m.length;L++){let te=m[L],on=this._getOptionValue(te.value);r.push(on)}}else{let m=n.options;for(let L=0;L<m.length;L++){let te=m[L];if(te.selected){let on=this._getOptionValue(te.value);r.push(on)}}}this.value=r,e(r)}}_registerOption(e){let n=(this._idCounter++).toString();return this._optionMap.set(n,e),n}_getOptionId(e){for(let n of this._optionMap.keys())if(this._compareWith(this._optionMap.get(n)._value,e))return n;return null}_getOptionValue(e){let n=Qi(e);return this._optionMap.has(n)?this._optionMap.get(n)._value:e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ee(i)))(r||i)}})();static \u0275dir=$({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,r){n&1&&u("change",function(m){return r.onChange(m.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ue([Xi]),ie]})}return i})(),ze=(()=>{class i{_element;_renderer;_select;id;_value;constructor(e,n,r){this._element=e,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue($n(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue($n(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(n){return new(n||i)(g(He),g(Ke),g(ri,9))};static \u0275dir=$({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return i})();var er=(()=>{class i{_validator=Rn;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let n=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(n),this._validator=this._enabled?this.createValidator(n):Rn,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(n){return new(n||i)};static \u0275dir=$({type:i,features:[We]})}return i})();var tr={provide:un,useExisting:pe(()=>me),multi:!0};var me=(()=>{class i extends er{required;inputName="required";normalizeInput=sn;createValidator=e=>wi;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=Ee(i)))(r||i)}})();static \u0275dir=$({type:i,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,r){n&2&&Sn("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ue([tr]),ie]})}return i})();var oi=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=dt({type:i});static \u0275inj=ct({})}return i})();var E=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:wt,useValue:e.callSetDisabledState??St}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=dt({type:i});static \u0275inj=ct({imports:[oi]})}return i})(),xe=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Ki,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:wt,useValue:e.callSetDisabledState??St}]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=dt({type:i});static \u0275inj=ct({imports:[oi]})}return i})();var se=class i{searchTerm="";placeholder="Caut\u0103 ...";searchChanged=new M;onSearchChanged(){this.searchChanged.emit(this.searchTerm.trim())}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-search-input"]],inputs:{placeholder:"placeholder"},outputs:{searchChanged:"searchChanged"},decls:4,vars:2,consts:[[1,"search-box"],["type","text",3,"ngModelChange","placeholder","ngModel"],["aria-label","Search",1,"search-icon-button",3,"click"],["src","assets/icons/search.svg","alt","Search Icon"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"input",1),P("ngModelChange",function(s){return O(n.searchTerm,s)||(n.searchTerm=s),s}),o(),a(2,"button",2),u("click",function(){return n.onSearchChanged()}),S(3,"img",3),o()()),e&2&&(c(),d("placeholder",n.placeholder||"Caut\u0103..."),D("ngModel",n.searchTerm))},dependencies:[V,E,H,Z,G],styles:[".search-box[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;align-items:center;gap:20px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 50px 15px 20px;border:none;background:transparent;outline:none;font-family:Roboto Mono,monospace;font-size:12px}.search-icon-button[_ngcontent-%COMP%]{background:none;border:none;padding:0 16px;font-size:1.2rem;color:#444;cursor:pointer;display:flex;align-items:center;justify-content:center}.search-icon-button[_ngcontent-%COMP%]:hover{color:#000}.search-icon-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}"]})};function nr(i,t){if(i&1&&(a(0,"option",7),l(1),o()),i&2){let e=t.$implicit;d("value",e),c(),k(e)}}var de=class i{currentPage=1;totalItems=0;pageSize=10;pageSizeOptions=[5,10,20];pageChange=new M;pageSizeChange=new M;getTotalPages(){return Math.ceil(this.totalItems/this.pageSize)}goToPreviousPage(){this.currentPage>1&&this.pageChange.emit(this.currentPage-1)}goToNextPage(){this.currentPage<this.getTotalPages()&&this.pageChange.emit(this.currentPage+1)}onPageSizeChange(t){let e=Number(t);this.pageSizeChange.emit(e)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-pagination"]],inputs:{currentPage:"currentPage",totalItems:"totalItems",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange"},decls:13,vars:6,consts:[[1,"pagination-wrapper"],[1,"page-size-selector"],["for","pageSize"],["id","pageSize",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"pagination-controls"],[3,"click","disabled"],[3,"value"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"label",2),l(3,"Afi\u0219eaz\u0103 pe pagin\u0103:"),o(),a(4,"select",3),P("ngModelChange",function(s){return O(n.pageSize,s)||(n.pageSize=s),s}),u("change",function(){return n.onPageSizeChange(n.pageSize)}),_(5,nr,2,2,"option",4),o()(),a(6,"div",5)(7,"button",6),u("click",function(){return n.goToPreviousPage()}),l(8,"\u2190"),o(),a(9,"span"),l(10),o(),a(11,"button",6),u("click",function(){return n.goToNextPage()}),l(12,"\u2192"),o()()()),e&2&&(c(4),D("ngModel",n.pageSize),c(),d("ngForOf",n.pageSizeOptions),c(2),d("disabled",n.currentPage===1),c(3),Dn("Pagina ",n.currentPage," din ",n.getTotalPages(),""),c(),d("disabled",n.currentPage===n.getTotalPages()))},dependencies:[N,xe,qe,ze,Ce,Z,E,G],styles:[".pagination-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:32px;flex-wrap:wrap;margin-top:24px;font-family:Roboto Mono,monospace}.page-size-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:16px}.page-size-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0}.page-size-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:4px 6px;border:1px solid #aaa;border-radius:4px;font-size:15px;font-family:Roboto Mono,monospace}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:16px}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border:2px solid #000;background-color:#d9c8ff;border-radius:4px;font-weight:700;cursor:pointer;font-family:Roboto Mono,monospace}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:default}"]})};var je=class i{constructor(t){this.router=t}requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""};formSubmit=new M;close=new M;submitRequest(){this.formSubmit.emit(this.requestForm)}closeForm(){this.close.emit()}static \u0275fac=function(e){return new(e||i)(g(B))};static \u0275cmp=v({type:i,selectors:[["app-request-form"]],inputs:{requestForm:"requestForm"},outputs:{formSubmit:"formSubmit",close:"close"},decls:23,vars:4,consts:[[1,"overlay"],[1,"request-form-wrapper"],[1,"close-button",3,"click"],[1,"request-form"],[1,"form-row"],["type","datetime-local","name","startDate","required","",3,"ngModelChange","ngModel"],["type","tel","name","phoneNumber","required","",3,"ngModelChange","ngModel"],["type","text","name","address","required","",3,"ngModelChange","ngModel"],["name","description","rows","4","required","",3,"ngModelChange","ngModel"],[1,"center-button"],["type","submit",3,"click"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"button",2),u("click",function(){return n.closeForm()}),l(3,"\xD7"),o(),a(4,"h2"),l(5,"Trimite o solicitare"),o(),a(6,"form",3)(7,"div",4)(8,"label"),l(9," Data \u0219i ora dorite: "),a(10,"input",5),P("ngModelChange",function(s){return O(n.requestForm.requestedStartDate,s)||(n.requestForm.requestedStartDate=s),s}),o()(),a(11,"label"),l(12," Num\u0103r de telefon: "),a(13,"input",6),P("ngModelChange",function(s){return O(n.requestForm.phoneNumber,s)||(n.requestForm.phoneNumber=s),s}),o()()(),a(14,"label"),l(15," Adres\u0103: "),a(16,"input",7),P("ngModelChange",function(s){return O(n.requestForm.address,s)||(n.requestForm.address=s),s}),o()(),a(17,"label"),l(18," Descrierea solicit\u0103rii: "),a(19,"textarea",8),P("ngModelChange",function(s){return O(n.requestForm.description,s)||(n.requestForm.description=s),s}),o()(),a(20,"div",9)(21,"button",10),u("click",function(){return n.submitRequest()}),l(22,"Trimite solicitarea"),o()()()()()),e&2&&(c(10),D("ngModel",n.requestForm.requestedStartDate),c(3),D("ngModel",n.requestForm.phoneNumber),c(3),D("ngModel",n.requestForm.address),c(3),D("ngModel",n.requestForm.description))},dependencies:[V,E,ae,H,Z,oe,me,G,ee,xe],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.request-form-wrapper[_ngcontent-%COMP%]{position:relative;max-width:600px;margin:2rem auto;background-color:#e8d9ff;border:2px solid #000;padding:2rem;font-family:Roboto Mono,monospace}.request-form-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.request-form-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1.5rem}.request-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;font-size:.95rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem}.form-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;font-family:Roboto Mono,monospace;font-size:.9rem}.request-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .request-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #999;border-radius:4px;font-family:Roboto Mono,monospace;background-color:#fff}.request-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.center-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem 1rem;border:2px solid #000;border-radius:6px;background-color:#c9b7ff;font-weight:700;cursor:pointer;display:flex;justify-content:center;font-family:Roboto Mono,monospace}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#dcdcdc;color:#888;cursor:not-allowed}"]})};var ir=i=>["/specialist",i];function rr(i,t){if(i&1&&(a(0,"span",18),l(1),o()),i&2){let e=t.$implicit;c(),k(e.name)}}function or(i,t){if(i&1){let e=y();a(0,"div",19)(1,"app-request-form",20),u("formSubmit",function(r){f(e);let s=p();return h(s.submitRequest(r))})("close",function(){f(e);let r=p();return h(r.closeRequestForm())}),o()()}if(i&2){let e=p();c(),d("requestForm",e.requestForm)}}var ot=class i{constructor(t){this.router=t}specialist={id:"",fullName:"",email:"",profilePictureUrl:"",phoneNumber:"",address:"",categories:[],yearsExperience:0,description:"",createdAt:new Date,updatedAt:new Date,rating:0};isRequestFormVisible=!1;requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""};specialistId=new M;requestFormSubmit=new M;goToSendRequest(){this.requestForm.receiverUserId=this.specialist.id,this.isRequestFormVisible=!0}closeRequestForm(){this.requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""},this.isRequestFormVisible=!1}submitRequest(t){this.requestFormSubmit.emit(t),this.closeRequestForm()}static \u0275fac=function(e){return new(e||i)(g(B))};static \u0275cmp=v({type:i,selectors:[["app-specialist-card"]],inputs:{specialist:"specialist"},outputs:{specialistId:"specialistId",requestFormSubmit:"requestFormSubmit"},decls:28,vars:10,consts:[[1,"card"],[1,"avatar-wrapper"],[1,"avatar"],["alt","User avatar",3,"src"],[1,"rating-badge"],["src","assets/star-rating.svg","alt","User star"],[1,"rating-value"],[1,"info"],[1,"full-name",3,"routerLink"],[1,"details-block"],[1,"row"],[1,"categories"],[1,"label"],["class","tag",4,"ngFor","ngForOf"],[1,"experience"],[1,"description"],[1,"request-btn",3,"click"],["class","overlay",4,"ngIf"],[1,"tag"],[1,"overlay"],[3,"formSubmit","close","requestForm"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),S(3,"img",3),o(),a(4,"div",4),S(5,"img",5),a(6,"span",6),l(7),o()()(),a(8,"div",7)(9,"h2",8),l(10),o(),a(11,"div",9)(12,"div",10)(13,"div",11)(14,"span",12),l(15,"Categorii:"),o(),_(16,rr,2,1,"span",13),o(),a(17,"div",14)(18,"span",12),l(19,"Ani experien\u021B\u0103:"),o(),l(20),o()(),a(21,"div",15)(22,"span",12),l(23,"Descriere:"),o(),l(24),o()()(),a(25,"button",16),u("click",function(){return n.goToSendRequest()}),l(26,"F\u0103 o solicitare"),o()(),_(27,or,2,1,"div",17)),e&2&&(c(3),d("src",n.specialist.profilePictureUrl||"assets/avatar.svg",le),c(4),k(n.specialist.rating),c(2),d("routerLink",he(8,ir,n.specialist.id)),c(),C(" ",n.specialist.fullName," "),c(6),d("ngForOf",n.specialist.categories),c(4),C(" ",n.specialist.yearsExperience," "),c(4),C(" ",n.specialist.description," "),c(3),d("ngIf",n.isRequestFormVisible))},dependencies:[V,N,I,je,be],styles:[".card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#cfbdfe;padding:20px;width:100%;gap:20px;justify-content:space-between;box-sizing:border-box;font-family:Roboto Mono,monospace}.info[_ngcontent-%COMP%]{flex:1}.full-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-top:.25rem;margin-bottom:.5rem}.full-name[_ngcontent-%COMP%]:hover{text-decoration:underline}.details-block[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:12px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.categories[_ngcontent-%COMP%], .experience[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{font-size:.95rem}.label[_ngcontent-%COMP%]{font-weight:700;margin-right:6px}.tag[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem}.request-btn[_ngcontent-%COMP%]{background-color:#9a83db;padding:32px 24px;border:none;border-radius:8px;font-weight:700;cursor:pointer;font-family:Roboto Mono,monospace}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:100px;aspect-ratio:1/1}.avatar[_ngcontent-%COMP%]{position:relative;width:100px;height:100px;overflow:hidden}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background-color:#e6dfff;object-fit:cover;display:block}.rating-badge[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;display:inline-flex;align-items:center;gap:.3em;background:#fff;padding:.2em .5em;border-radius:.6em;font-size:1em;box-shadow:0 1px 4px #0000001a}.rating-badge[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1em;height:1em}"]})};var Se=class i{constructor(t,e){this.http=t;this.authService=e}baseUrl="http://localhost:5241/api/Request";addRequest(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.post(`${this.baseUrl}/Add`,t,{headers:n})}acceptRequest(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.patch(`${this.baseUrl}/Accept/${t}`,{},{headers:n})}rejectRequest(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.patch(`${this.baseUrl}/Reject/${t}`,{},{headers:n})}cancelRequest(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.patch(`${this.baseUrl}/Cancel/${t}`,{},{headers:n})}static \u0275fac=function(e){return new(e||i)(T(j),T(w))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var sr=()=>[5,10,20];function lr(i,t){i&1&&S(0,"div",11)}function cr(i,t){if(i&1){let e=y();R(0),a(1,"app-specialist-card",9),u("specialistId",function(r){let s=f(e).$implicit;return h(s.id=r)})("requestFormSubmit",function(r){f(e);let s=p();return h(s.addRequest(r))}),o(),_(2,lr,1,0,"div",10),U()}if(i&2){let e=t.$implicit,n=t.index,r=p();c(),d("specialist",e),c(),d("ngIf",n<r.users.length-1)}}var Dt=class i{constructor(t,e){this.homeService=t;this.userRequestService=e}searchTerm="";currentPage=1;pageSize=10;totalItems=0;entityDetails={};isUserDetailsVisible=!1;users=[];error=null;selectedSpecialist=null;isRequestFormVisible=!1;requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""};receiverUserId="";dummySpecialists=[{id:"spec-001",fullName:"Andrei Popescu",email:"andrei.popescu@example.com",phoneNumber:"0721123456",address:"Strada Mihai Eminescu 45, Bucure\u0219ti",yearsExperience:5,description:"Traduc\u0103tor medical cu experien\u021B\u0103 \xEEn terminologie clinic\u0103 \u0219i farmaceutic\u0103.",createdAt:new Date("2022-03-10T10:00:00Z"),updatedAt:new Date,rating:5,categories:[{id:"cat-001",name:"Traduceri medicale"},{id:"cat-002",name:"Farmacie"}]},{id:"spec-002",fullName:"Ioana Marinescu",email:"ioana.marinescu@example.com",phoneNumber:"0733456789",address:"Bd. Revolu\u021Biei 17, Cluj-Napoca",yearsExperience:8,description:"Specialist \xEEn psihologie cu experien\u021B\u0103 \xEEn redactarea \u0219i corectarea articolelor \u0219tiin\u021Bifice.",createdAt:new Date("2020-11-20T08:30:00Z"),updatedAt:new Date,rating:4},{id:"spec-003",fullName:"Victor Ionescu",email:"victor.ionescu@example.com",phoneNumber:"0744123123",address:"Str. Libert\u0103\u021Bii 88, Ia\u0219i",yearsExperience:3,description:"T\xE2n\u0103r specialist \xEEn tehnologia informa\u021Biei, ofer servicii de consultan\u021B\u0103 \u0219i mentenan\u021B\u0103 software.",createdAt:new Date("2023-01-15T14:45:00Z"),updatedAt:new Date,rating:4.5}];ngOnInit(){this.getPage()}getPage(){this.homeService.getSpecialists(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:t=>{this.users=t.response?.data??[],this.totalItems=t.response?.totalCount??0},error:t=>{this.error=t.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addRequest(t){let e=t;this.userRequestService.addRequest(e).subscribe({next:n=>{alert("Cererea a fost trimis\u0103 cu succes!"),this.closeRequestForm()},error:n=>{console.error("Eroare la trimiterea cererii:",n),alert("Nu s-a putut trimite cererea.")}})}onSearch(t){this.searchTerm=t,this.currentPage=1,this.getPage()}onPageChange(t){this.currentPage=t,this.getPage()}onPageSizeChange(t){this.pageSize=t,this.currentPage=1,this.getPage()}getCategoryNames(t){return t.map(e=>e.name)}closeUserDetails(){this.isUserDetailsVisible=!1,this.entityDetails={}}closeRequestForm(){this.requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""},this.isRequestFormVisible=!1}SpecialistCardComponent=ot;static \u0275fac=function(e){return new(e||i)(g(ft),g(Se))};static \u0275cmp=v({type:i,selectors:[["app-home"]],decls:21,vars:6,consts:[[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"search-box-wrapper"],[3,"searchChanged"],[1,"user-list"],[4,"ngFor","ngForOf"],[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[3,"specialistId","requestFormSubmit","specialist"],["class","separator",4,"ngIf"],[1,"separator"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"Ai o \u021Beav\u0103 spart\u0103?"),o(),a(4,"h1",2),l(5,"\u021Ai s-a stricat chiuveta?"),o(),a(6,"h1"),l(7,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),a(8,"strong",3),l(9,"ExpertEase"),o(),l(10,"!"),o()(),a(11,"div",4)(12,"app-search-input",5),u("searchChanged",function(s){return n.onSearch(s)}),o()(),a(13,"p"),l(14,"Peste "),a(15,"strong"),l(16,"100 de speciali\u0219ti"),o(),l(17," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),o()(),a(18,"div",6),_(19,cr,3,2,"ng-container",7),o(),a(20,"app-pagination",8),u("pageChange",function(s){return n.onPageChange(s)})("pageSizeChange",function(s){return n.onPageSizeChange(s)}),o()),e&2&&(c(19),d("ngForOf",n.users),c(),d("currentPage",n.currentPage)("pageSize",n.pageSize)("pageSizeOptions",Y(5,sr))("totalItems",n.totalItems))},dependencies:[ot,V,N,I,xe,E,se,de],styles:[".user-list[_ngcontent-%COMP%]   app-specialist-card[_ngcontent-%COMP%]{border-bottom:1px solid #b7a4dd;padding-bottom:1rem;margin-bottom:1rem}.user-list[_ngcontent-%COMP%]   app-specialist-card[_ngcontent-%COMP%]:last-child{border-bottom:none}.separator[_ngcontent-%COMP%]{height:3px;background-color:#b7a4dd;width:100%}.home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:2rem}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.close-button[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1.2rem;font-size:1.5rem;background:none;border:none;color:#333;font-weight:700;cursor:pointer;transition:transform .2s}.close-button[_ngcontent-%COMP%]:hover{transform:scale(1.2);color:#d11a2a}",".search-box[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;align-items:center;gap:20px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 50px 15px 20px;border:none;background:transparent;outline:none;font-family:Roboto Mono,monospace;font-size:12px}.search-icon-button[_ngcontent-%COMP%]{background:none;border:none;padding:0 16px;font-size:1.2rem;color:#444;cursor:pointer;display:flex;align-items:center;justify-content:center}.search-icon-button[_ngcontent-%COMP%]:hover{color:#000}.search-icon-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}"]})};var Ot=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-about"]],decls:25,vars:0,consts:[[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"about-info"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"Ai o \u021Beav\u0103 spart\u0103?"),o(),a(4,"h1",2),l(5,"\u021Ai s-a stricat chiuveta?"),o(),a(6,"h1"),l(7,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),a(8,"strong",3),l(9,"ExpertEase"),o(),l(10,"!"),o()(),a(11,"p"),l(12,"Peste "),a(13,"strong"),l(14,"100 de speciali\u0219ti"),o(),l(15," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),o()(),a(16,"div",4)(17,"h3"),l(18,"Cine suntem noi?"),o(),a(19,"p"),l(20,"Compania ExpertEase se ocup\u0103 cu problemele tale \xEEn materie de repara\u021Bii sau instala\u021Bii."),o(),a(21,"h3"),l(22,"Cum facem asta?"),o(),a(23,"p"),l(24,"\xCE\u021Bi punem la dispozi\u021Bie peste 100 de speciali\u0219ti din domeniu, cu varii nivele de experien\u021B\u0103, care sunt preocupa\u021Bi \xEEn a \xEE\u021Bi rezolva problema."),o()())},styles:[".home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.home-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}.about-info[_ngcontent-%COMP%]{padding:16px;font-family:Roboto Mono,monospace;font-size:16px;line-height:1;color:#222;white-space:pre-wrap}"]})};var hn={firstName:"Prenume",lastName:"Nume",fullName:"Nume complet",email:"Adres\u0103 e-mail",password:"Parol\u0103",role:"Rol",phoneNumber:"Num\u0103r de telefon",address:"Adres\u0103",yearsExperience:"Ani experien\u021B\u0103",description:"Descriere",id:"ID",account:"Cont",transaction:"Tranzac\u021Bie",createdAt:"Creat la",updatedAt:"Actualizat la",categories:"Categorii",name:"Denumire",specialistsCount:"Num\u0103r speciali\u0219ti",specialistIds:"Speciali\u0219tii cu aceast\u0103 categorie"};function J(i,t={},e=hn){return Object.keys(i).map(n=>{let r=t[n]||{},s=r.type||(r.options?"select":"text"),m=e[n]||dr(n);return F({key:n,label:m,type:s,placeholder:r.placeholder||`Introdu ${m.toLowerCase()}`,required:r.required??!0,class:r.class||"half-width"},r)})}function dr(i){return i.replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase())}function Be(i){if(!i)return{};let t={},e=Object.keys(i);if("id"in i){let n=hn.id||"id";t[n]=i.id}for(let n of e){if(["id","firstName","lastName"].includes(n))continue;let r=i[n];if(r==null||typeof r=="string"&&r.trim()==="")continue;let s=hn[n]||n,m=r;typeof r=="string"&&pr(r)||r instanceof Date?m=ai(r):n.toLowerCase().includes("password")&&(m="********"),t[s]=m}return t}function pr(i){return/^\d{4}-\d{2}-\d{2}T/.test(i)}function ai(i){let t=new Date(i),e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return`${e}.${n}.${r}`}var ur=i=>({"placeholder-selected":i});function mr(i,t){if(i&1&&(a(0,"div",15),l(1),z(2,"lowercase"),o()),i&2){let e=p(2).$implicit;c(),C(" C\xE2mpul ",_e(2,1,e.label)," este obligatoriu. ")}}function gr(i,t){if(i&1){let e=y();a(0,"div")(1,"div",12)(2,"input",13,1),P("ngModelChange",function(r){f(e);let s=p().$implicit,m=p();return O(m.formData[s.key],r)||(m.formData[s.key]=r),h(r)}),u("input",function(){f(e);let r=p().$implicit,s=p();return h(r.key==="phoneNumber"&&s.liveFormatPhoneNumber(r.key))}),o()(),_(4,mr,3,3,"div",14),o()}if(i&2){let e=K(3),n=p().$implicit,r=p();c(2),d("id",n.key)("name",n.key),D("ngModel",r.formData[n.key]),d("placeholder",n.placeholder)("required",!!n.required),c(2),d("ngIf",n.required&&e.invalid&&(e.dirty||e.touched||r.formSubmitted))}}function fr(i,t){if(i&1&&(a(0,"div",15),l(1),z(2,"lowercase"),o()),i&2){let e=p(2).$implicit;c(),C(" C\xE2mpul ",_e(2,1,e.label)," este obligatoriu. ")}}function hr(i,t){if(i&1){let e=y();a(0,"div")(1,"div",12)(2,"input",16,1),P("ngModelChange",function(r){f(e);let s=p().$implicit,m=p();return O(m.formData[s.key],r)||(m.formData[s.key]=r),h(r)}),o()(),_(4,fr,3,3,"div",14),o()}if(i&2){let e=K(3),n=p().$implicit,r=p();c(2),d("id",n.key)("name",n.key),D("ngModel",r.formData[n.key]),d("placeholder",n.placeholder)("required",!!n.required),c(2),d("ngIf",n.required&&e.invalid&&(e.dirty||e.touched||r.formSubmitted))}}function _r(i,t){if(i&1&&(a(0,"div",15),l(1),z(2,"lowercase"),o()),i&2){let e=p(2).$implicit;c(),C(" C\xE2mpul ",_e(2,1,e.label)," este obligatoriu. ")}}function vr(i,t){if(i&1){let e=y();a(0,"div")(1,"div",12)(2,"input",17,1),P("ngModelChange",function(r){f(e);let s=p().$implicit,m=p();return O(m.formData[s.key],r)||(m.formData[s.key]=r),h(r)}),o()(),_(4,_r,3,3,"div",14),o()}if(i&2){let e=K(3),n=p().$implicit,r=p();c(2),d("id",n.key)("name",n.key),D("ngModel",r.formData[n.key]),d("placeholder",n.placeholder)("required",!!n.required),c(2),d("ngIf",n.required&&e.invalid&&(e.dirty||e.touched||r.formSubmitted))}}function yr(i,t){if(i&1&&(a(0,"div",15),l(1),z(2,"lowercase"),o()),i&2){let e=p(2).$implicit;c(),C(" C\xE2mpul ",_e(2,1,e.label)," este obligatoriu. ")}}function br(i,t){if(i&1){let e=y();a(0,"div")(1,"div",12)(2,"input",18,1),P("ngModelChange",function(r){f(e);let s=p().$implicit,m=p();return O(m.formData[s.key],r)||(m.formData[s.key]=r),h(r)}),o()(),_(4,yr,3,3,"div",14),o()}if(i&2){let e=K(3),n=p().$implicit,r=p();c(2),d("id",n.key)("name",n.key),D("ngModel",r.formData[n.key]),d("placeholder",n.placeholder)("required",!!n.required),c(2),d("ngIf",n.required&&e.invalid&&(e.dirty||e.touched||r.formSubmitted))}}function Cr(i,t){if(i&1&&(a(0,"option",23),l(1),o()),i&2){let e=t.$implicit;d("value",e),c(),k(e)}}function xr(i,t){if(i&1&&(a(0,"div",15),l(1),z(2,"lowercase"),o()),i&2){let e=p(2).$implicit;c(),C(" C\xE2mpul ",_e(2,1,e.label)," este obligatoriu. ")}}function Mr(i,t){if(i&1){let e=y();a(0,"div")(1,"div",19)(2,"select",20,1),P("ngModelChange",function(r){f(e);let s=p().$implicit,m=p();return O(m.formData[s.key],r)||(m.formData[s.key]=r),h(r)}),a(4,"option",21),l(5),o(),_(6,Cr,2,2,"option",22),o()(),_(7,xr,3,3,"div",14),o()}if(i&2){let e=K(3),n=p().$implicit,r=p();c(2),d("id",n.key)("name",n.key),D("ngModel",r.formData[n.key]),d("required",!!n.required)("ngClass",he(8,ur,r.formData[n.key]==="")),c(3),k(n.placeholder||"Selecteaz\u0103 o op\u021Biune"),c(),d("ngForOf",n.options),c(),d("ngIf",n.required&&e.invalid&&(e.dirty||e.touched||r.formSubmitted))}}function wr(i,t){if(i&1&&(a(0,"div",15),l(1),z(2,"lowercase"),o()),i&2){let e=p(2).$implicit;c(),C(" C\xE2mpul ",_e(2,1,e.label)," este obligatoriu. ")}}function Sr(i,t){if(i&1){let e=y();a(0,"div")(1,"div",12)(2,"textarea",24,1),P("ngModelChange",function(r){f(e);let s=p().$implicit,m=p();return O(m.formData[s.key],r)||(m.formData[s.key]=r),h(r)}),l(4,"          "),o()(),_(5,wr,3,3,"div",14),o()}if(i&2){let e=K(3),n=p().$implicit,r=p();c(2),d("id",n.key)("name",n.key),D("ngModel",r.formData[n.key]),d("placeholder",n.placeholder)("required",!!n.required),c(3),d("ngIf",n.required&&e.invalid&&(e.dirty||e.touched||r.formSubmitted))}}function Dr(i,t){if(i&1&&(a(0,"div",15),l(1),z(2,"lowercase"),o()),i&2){let e=p(2).$implicit;c(),C(" C\xE2mpul ",_e(2,1,e.label)," este obligatoriu. ")}}function Or(i,t){if(i&1){let e=y();a(0,"div")(1,"div",12)(2,"input",25,1),P("ngModelChange",function(r){f(e);let s=p().$implicit,m=p();return O(m.formData[s.key],r)||(m.formData[s.key]=r),h(r)}),o()(),_(4,Dr,3,3,"div",14),o()}if(i&2){let e=K(3),n=p().$implicit,r=p();c(2),d("type",n.type)("id",n.key)("name",n.key),D("ngModel",r.formData[n.key]),d("placeholder",n.placeholder)("required",!!n.required),c(2),d("ngIf",n.required&&e.invalid&&(e.dirty||e.touched||r.formSubmitted))}}function Pr(i,t){if(i&1&&(a(0,"div",6)(1,"label",7),l(2),o(),a(3,"div",8),R(4,9),_(5,gr,5,6,"div",10)(6,hr,5,6,"div",10)(7,vr,5,6,"div",10)(8,br,5,6,"div",10)(9,Mr,8,10,"div",10)(10,Sr,6,6,"div",10)(11,Or,5,7,"div",11),U(),o()()),i&2){let e=t.$implicit;d("ngClass",e.class),c(),d("for",e.key),c(),k(e.label),c(2),d("ngSwitch",e.type),c(),d("ngSwitchCase","text"),c(),d("ngSwitchCase","email"),c(),d("ngSwitchCase","password"),c(),d("ngSwitchCase","number"),c(),d("ngSwitchCase","select"),c(),d("ngSwitchCase","textarea")}}var Q=class i{fields=[];initialData={};submitText="Submit";formSubmit=new M;formData={};formSubmitted=!1;ngOnChanges(t){t.initialData&&t.initialData.currentValue&&(this.formData=F({},t.initialData.currentValue),this.fields.forEach(e=>{e.key in this.formData||(this.formData[e.key]="")}))}onSubmit(t){this.formSubmitted=!0,console.log(this.formSubmitted),!t.invalid&&this.formSubmit.emit(this.formData)}liveFormatPhoneNumber(t){let e=this.formData[t]||"",n=e.startsWith("+"),r=e.replace(/\D/g,""),s=r;r.length===11&&r.startsWith("40")?s=r.replace(/(\d{2})(\d{3})(\d{3})(\d{3})/,"$1 $2 $3 $4"):r.length===10&&r.startsWith("0")?s=r.replace(/(\d{3})(\d{3})(\d{4})/,"$1 $2 $3"):r.length===9&&(s=r.replace(/(\d{3})(\d{3})(\d{3})/,"$1 $2 $3")),this.formData[t]=n?`+${s}`:s}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-dynamic-form"]],inputs:{fields:"fields",initialData:"initialData",submitText:"submitText"},outputs:{formSubmit:"formSubmit"},features:[We],decls:6,vars:2,consts:[["formRef","ngForm"],["ctrl","ngModel"],[1,"form-layout",3,"ngSubmit"],["class","form-group",3,"ngClass",4,"ngFor","ngForOf"],[1,"form-group","full-width"],["type","submit",1,"send-button"],[1,"form-group",3,"ngClass"],[3,"for"],[1,"field-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"input-box"],["type","text",3,"ngModelChange","input","id","name","ngModel","placeholder","required"],["class","error",4,"ngIf"],[1,"error"],["type","email",3,"ngModelChange","id","name","ngModel","placeholder","required"],["type","password",3,"ngModelChange","id","name","ngModel","placeholder","required"],["type","number",3,"ngModelChange","id","name","ngModel","placeholder","required"],[1,"select-box"],[3,"ngModelChange","id","name","ngModel","required","ngClass"],["value","","disabled","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["rows","4",3,"ngModelChange","id","name","ngModel","placeholder","required"],[3,"ngModelChange","type","id","name","ngModel","placeholder","required"]],template:function(e,n){if(e&1){let r=y();a(0,"form",2,0),u("ngSubmit",function(){f(r);let m=K(1);return h(n.onSubmit(m))}),_(2,Pr,12,10,"div",3),a(3,"div",4)(4,"button",5),l(5),o()()()}e&2&&(c(2),d("ngForOf",n.fields),c(3),C(" ",n.submitText," "))},dependencies:[V,X,N,I,pt,ut,Tn,An,E,ae,qe,ze,H,rt,Ce,Z,oe,me,G,ee],styles:[".grid-form[_ngcontent-%COMP%]{gap:24px 20px;padding:24px 32px;max-width:650px;margin:0 auto;font-family:Roboto Mono,monospace;border:2px solid #c9b7ff;border-radius:6px;box-shadow:0 4px 12px #0000001a}.form-layout[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px 20px;padding:12px 16px;max-width:650px;margin:0 auto}.form-group[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;flex:1;display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{flex:1 1 100%}.form-group.half-width[_ngcontent-%COMP%]{flex:1 1 48%}label[_ngcontent-%COMP%]{margin-bottom:8px}.input-box[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;transition:border-color .3s}.input-box[_ngcontent-%COMP%]:focus-within{border-color:#9a79ff}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;width:100%;font-family:Roboto Mono,monospace;font-size:16px;outline:none}.input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-family:inherit;font-size:1rem;border:none;border-radius:6px;box-sizing:border-box;resize:vertical;background:#e6dfff}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;font-size:16px;outline:none;appearance:auto;font-family:inherit;width:100%}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#a388ff;box-shadow:0 0 3px #a388ff}.placeholder-selected[_ngcontent-%COMP%]{color:#7d7d7f!important}.send-button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:300px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}.send-button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.field-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.error[_ngcontent-%COMP%]{color:#d8000c;font-size:.85rem;margin-top:4px;padding-left:2px}"]})};var Pt=class i{constructor(t,e){this.authService=t;this.router=e;let n={firstName:"",lastName:"",email:"",password:""};this.formFields=J(n,{email:{type:"email"},password:{type:"password"}}),console.log(this.formFields)}formFields=[];formData={};errorMessage=null;registerUser(t){let e=t;this.authService.registerUser(e).subscribe({next:()=>{let n={email:e.email,password:e.password};this.authService.loginUser(n).subscribe({next:()=>{this.router.navigate(["/home"])},error:r=>{console.error("Login failed:",r),this.errorMessage=r.error?.errorMessage?.message||"Eroare necunoscut\u0103."}})},error:n=>{console.error("Registration failed:",n),this.errorMessage=n.error?.errorMessage?.message||"Eroare necunoscut\u0103."}})}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(e){return new(e||i)(g(w),g(B))};static \u0275cmp=v({type:i,selectors:[["app-register"]],decls:9,vars:2,consts:[[1,"form-wrapper"],[1,"form-box"],[3,"formSubmit","fields","submitText"],[1,"auth-switch"],[1,"auth-button",3,"click"]],template:function(e,n){e&1&&(a(0,"h2"),l(1,"\xCEnregistrare"),o(),a(2,"div",0)(3,"div",1)(4,"app-dynamic-form",2),u("formSubmit",function(s){return n.registerUser(s)}),o()()(),a(5,"p",3),l(6," Deja ai un cont? "),a(7,"button",4),u("click",function(){return n.goToLogin()}),l(8,"Autentific\u0103-te"),o()()),e&2&&(c(4),d("fields",n.formFields)("submitText","Trimite"))},dependencies:[V,E,Q],styles:["p[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:16px}h2[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:30px}.auth-button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700}.auth-button[_ngcontent-%COMP%]:hover{color:#6a5799}"]})};var Et=class i{constructor(t,e){this.authService=t;this.router=e;let n={email:"",password:""};this.formFields=J(n,{email:{type:"email"},password:{type:"password"}})}formFields=[];formData={};errorMessage=null;loginUser(t){let e=t;this.authService.loginUser(e).subscribe({next:n=>{console.log("Login successful:",n),this.router.navigate(["/home"])},error:n=>{console.error("Login failed:",n),this.errorMessage=n.error?.errorMessage?.message||"Eroare necunoscut\u0103."}})}goToRegister(){this.router.navigate(["/register"])}static \u0275fac=function(e){return new(e||i)(g(w),g(B))};static \u0275cmp=v({type:i,selectors:[["app-login"]],decls:9,vars:2,consts:[[1,"form-wrapper"],[1,"form-box"],[3,"formSubmit","fields","submitText"],[1,"auth-switch"],[1,"auth-button",3,"click"]],template:function(e,n){e&1&&(a(0,"h2"),l(1,"Autentificare"),o(),a(2,"div",0)(3,"div",1)(4,"app-dynamic-form",2),u("formSubmit",function(s){return n.loginUser(s)}),o()()(),a(5,"p",3),l(6," Nu ai cont? "),a(7,"button",4),u("click",function(){return n.goToRegister()}),l(8,"\xCEnregistreaz\u0103-te"),o()()),e&2&&(c(4),d("fields",n.formFields)("submitText","Trimite"))},dependencies:[V,E,Q],styles:["p[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:16px}h2[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:30px}.auth-button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700}.auth-button[_ngcontent-%COMP%]:hover{color:#6a5799}"]})};var Tt=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-admin"]],decls:15,vars:0,consts:[[1,"grid-form"],[1,"button-group"],["routerLink","/admin/users","routerLinkActive","active",1,"admin-button"],["routerLink","/admin/specialists","routerLinkActive","active",1,"admin-button"],["routerLink","/admin/categories","routerLinkActive","active",1,"admin-button"],[1,"admin-button"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"button",2),l(3,"Utilizatori"),o(),a(4,"button",3),l(5,"Speciali\u0219ti"),o(),a(6,"button",4),l(7,"Categorii"),o(),a(8,"button",5),l(9,"Servicii"),o(),a(10,"button",5),l(11,"Tranzac\u021Bii"),o(),a(12,"button",5),l(13,"Recenzii"),o()()(),S(14,"router-outlet"))},dependencies:[mt,be],styles:[".grid-form[_ngcontent-%COMP%]{position:absolute;top:calc(50vh - 250px);left:calc(50vw - 400px);width:800px;height:500px;display:flex;flex-direction:column;padding:40px 60px;border:3px solid black;border-radius:4px;box-shadow:0 4px 12px #0000001a;background-color:#cfbdfe;box-sizing:border-box}.button-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:32px;width:100%;justify-items:center;margin-top:24px}.admin-button[_ngcontent-%COMP%]{width:100%;height:5vw;background-color:#e6dfff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;border:3px solid #4b358e;border-radius:5px;cursor:pointer;box-shadow:0 2px 6px #0000001a;transition:background-color .3s ease,text-decoration .2s ease;display:flex;align-items:center;justify-content:center;text-align:center}.admin-button[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var Fe=(n=>(n.Admin="Admin",n.Specialist="Specialist",n.Client="Client",n))(Fe||{});function Er(i,t){if(i&1&&(a(0,"th"),l(1),o()),i&2){let e=t.$implicit;c(),k(e.header)}}function Tr(i,t){if(i&1&&(R(0),l(1),U()),i&2){let e=p(2).$implicit,n=p().$implicit;c(),C(" ",e.compute(n)," ")}}function Ar(i,t){if(i&1&&l(0),i&2){let e=p(2).$implicit,n=p().$implicit;C(" ",n[e.key]," ")}}function Fr(i,t){if(i&1&&(R(0),_(1,Tr,2,1,"ng-container",4)(2,Ar,1,1,"ng-template",null,1,Ie),U()),i&2){let e=K(3),n=p().$implicit;c(),d("ngIf",n.compute)("ngIfElse",e)}}function Ir(i,t){if(i&1){let e=y();a(0,"a",6),u("click",function(){let r=f(e).$implicit,s=p(3).$implicit;return h(r.callback(s))}),l(1),o()}if(i&2){let e=t.$implicit;d("ngClass",e.class),c(),C(" ",e.label," ")}}function kr(i,t){if(i&1&&_(0,Ir,2,2,"a",5),i&2){let e=p().$implicit;d("ngForOf",e.actions)}}function Vr(i,t){if(i&1&&(a(0,"td"),_(1,Fr,4,2,"ng-container",4)(2,kr,1,1,"ng-template",null,0,Ie),o()),i&2){let e=t.$implicit,n=K(3);c(),d("ngIf",e.type!=="action")("ngIfElse",n)}}function Rr(i,t){if(i&1&&(a(0,"tr"),_(1,Vr,4,2,"td",3),o()),i&2){let e=p();c(),d("ngForOf",e.columns)}}var De=class i{columns=[];data=[];static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-dynamic-table"]],inputs:{columns:"columns",data:"data"},decls:6,vars:2,consts:[["actionCell",""],["directValue",""],[1,"admin-table"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["class","action-link",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"action-link",3,"click","ngClass"]],template:function(e,n){e&1&&(a(0,"table",2)(1,"thead")(2,"tr"),_(3,Er,2,1,"th",3),o()(),a(4,"tbody"),_(5,Rr,2,1,"tr",3),o()()),e&2&&(c(3),d("ngForOf",n.columns),c(2),d("ngForOf",n.data))},dependencies:[V,X,N,I,E],styles:[".admin-wrapper[_ngcontent-%COMP%]{text-align:center}.admin-table-container[_ngcontent-%COMP%]{display:inline-block;padding:24px;background-color:#d9c8ff;border:2px solid #4b358e;border-radius:8px;font-family:Roboto Mono,monospace;box-shadow:0 4px 8px #0000001a;margin:40px auto}.admin-table-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.admin-table[_ngcontent-%COMP%]{width:max-content;max-width:100%;margin-left:auto;margin-right:auto;border-collapse:collapse;background-color:#f8f4ff;border-radius:6px}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;white-space:nowrap}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700}.action-link[_ngcontent-%COMP%]{margin-right:12px;cursor:pointer;text-decoration:none;font-weight:700}.action-link.view[_ngcontent-%COMP%]{color:#00f}.action-link.edit[_ngcontent-%COMP%]{color:green}.action-link.delete[_ngcontent-%COMP%]{color:red}.add-btn[_ngcontent-%COMP%]{background-color:#916fc7;color:#fff;border:3px solid #4b358e;margin-top:14px;margin-bottom:20px;padding:8px 16px;font-weight:700;border-radius:6px;cursor:pointer;transition:background-color .3s;font-family:Roboto Mono,monospace}.add-btn[_ngcontent-%COMP%]:hover{background-color:#3a2973}"]})};function Ur(i,t){if(i&1&&(R(0),a(1,"p")(2,"strong"),l(3),o(),l(4),o(),U()),i&2){let e=p().$implicit,n=p();c(3),C("",n.formatKey(e),":"),c(),C(" ",n.formatValue(n.entity[e])," ")}}function Nr(i,t){if(i&1&&(R(0),_(1,Ur,5,2,"ng-container",5),U()),i&2){let e=t.$implicit;c(),d("ngIf",e!=="ID")}}var Oe=class i{entity={};title="";close=new M;onClose(){this.close.emit()}objectKeys=Object.keys;formatKey(t){return t.includes(" ")||t.includes("-")?t:t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}formatValue(t){return typeof t=="boolean"?t?"Da":"Nu":t instanceof Date?t.toLocaleDateString():typeof t=="string"&&t.toLowerCase().includes("password")?"********":t}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-admin-details"]],inputs:{entity:"entity",title:"title"},outputs:{close:"close"},decls:10,vars:3,consts:[[1,"admin-wrapper"],[1,"page-title"],[1,"card"],[1,"divider"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h2",1),l(2),o(),a(3,"div",2)(4,"p")(5,"strong"),l(6,"ID:"),o(),l(7),o(),S(8,"hr",3),_(9,Nr,2,1,"ng-container",4),o()()),e&2&&(c(2),k(n.title),c(5),C(" ",n.entity.ID,""),c(2),d("ngForOf",n.objectKeys(n.entity)))},dependencies:[V,N,I],styles:[".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var Le=class i{constructor(t,e){this.http=t;this.authService=e}baseUrl="http://localhost:5241/api/User";getUser(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.get(`${this.baseUrl}/GetById/${t}`,{headers:n})}getUserProfile(){let t=this.authService.getToken(),e=new b({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/Get`,{headers:e})}getUsers(t,e,n){let r=this.authService.getToken(),s=new b({Authorization:`Bearer ${r}`}),m=new ye().set("search",t??"").set("page",e).set("pageSize",n);return this.http.get(`${this.baseUrl}/GetPage`,{headers:s,params:m})}addUser(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.post(`${this.baseUrl}/Add`,t,{headers:n})}updateUser(t,e){let n=this.authService.getToken(),r=new b({Authorization:`Bearer ${n}`});return this.http.patch(`${this.baseUrl}/Update/${t}`,e,{headers:r})}updateUserProfile(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.patch(`${this.baseUrl}`,t,{headers:n})}deleteUser(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.delete(`${this.baseUrl}/Delete/${t}`,{headers:n})}static \u0275fac=function(e){return new(e||i)(T(j),T(w))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var qr=()=>[5,10,20];function zr(i,t){if(i&1){let e=y();a(0,"div",9)(1,"div",10)(2,"div",11)(3,"button",12),u("click",function(){f(e);let r=p();return h(r.closeAddUserForm())}),l(4,"\xD7"),o()(),a(5,"app-dynamic-form",13),u("formSubmit",function(r){f(e);let s=p();return h(s.addEntity(r))}),o()()()}if(i&2){let e=p();c(5),d("fields",e.addEntityFormFields)("submitText","Trimite")}}function jr(i,t){if(i&1){let e=y();a(0,"div",9)(1,"div",10)(2,"button",12),u("click",function(){f(e);let r=p();return h(r.closeUpdateUserForm())}),l(3,"\xD7"),o(),a(4,"app-dynamic-form",14),u("formSubmit",function(r){f(e);let s=p();return h(s.updateEntity(r))}),o()()()}if(i&2){let e=p();c(4),d("fields",e.updateEntityFormFields)("initialData",e.formData)("submitText","Actualizeaz\u0103")}}function Br(i,t){if(i&1){let e=y();a(0,"app-admin-details",18),u("close",function(){f(e);let r=p(2);return h(r.closeUserDetails())}),o()}if(i&2){let e=p(2);d("entity",e.entityDetails)("title","Detalii utilizator")}}function Lr(i,t){if(i&1){let e=y();a(0,"div",15)(1,"div",16)(2,"button",12),u("click",function(){f(e);let r=p();return h(r.closeUserDetails())}),l(3,"\xD7"),o(),_(4,Br,1,2,"app-admin-details",17),o()()}if(i&2){let e=p();c(4),d("ngIf",e.isUserDetailsVisible)}}var At=class i{constructor(t){this.adminService=t}dummy_users=[{id:"m3n4o5p6",fullName:"Ana Georgescu",email:"ana.georgescu@example.com",role:"Admin",createdAt:new Date("2024-09-01T11:30:00Z"),updatedAt:new Date("2025-01-12T13:00:00Z"),rating:4.5},{id:"q7r8s9t0",fullName:"Radu Enache",email:"radu.enache@example.com",role:"Client",createdAt:new Date("2024-08-20T15:45:00Z"),updatedAt:new Date("2025-01-08T11:15:00Z"),rating:4}];searchTerm="";users=[];selectedUser=null;entityDetails={};entityDetailsId;pageSize=10;currentPage=1;totalItems=0;isAddUserFormVisible=!1;isUpdateUserFormVisible=!1;isUserDetailsVisible=!1;selectedUserId=null;placeholder="Caut\u0103 un utilizator...";columns=[{key:"id",header:"ID"},{key:"fullName",header:"Nume"},{key:"email",header:"Email"},{key:"role",header:"Rol"},{key:"actions",header:"Ac\u021Biuni",type:"action",actions:[{label:"Detalii",class:"view",callback:t=>this.getEntity(t.id)},{label:"Modific\u0103",class:"edit",callback:t=>this.editUser(t)},{label:"\u0218terge",class:"delete",callback:t=>this.deleteEntity(t)}]}];defaultUser={fullName:"",email:"",password:"",role:"Client"};formData={};error=null;addEntityFormFields=J(this.defaultUser,{email:{type:"email"},password:{type:"password"},role:{type:"select",options:Object.values(Fe)}});updateEntityFormFields=J({fullName:this.selectedUser?.fullName||"",role:this.selectedUser?.role||""},{role:{type:"select",options:Object.values(Fe)}});ngOnInit(){let t={fullName:"",email:"",password:"",role:"Client"};this.formData=F({},t),this.getPage()}onSearch(t){this.searchTerm=t,this.currentPage=1,this.getPage()}getEntity(t){console.log(t),this.adminService.getUser(t).subscribe({next:e=>{this.entityDetailsId=e.response?.id,this.entityDetails=Be(e.response??{}),this.isUserDetailsVisible=!0},error:e=>{console.error("Eroare la preluarea utilizatorului:",e),alert("Nu s-au putut \xEEnc\u0103rca detaliile utilizatorului.")}})}getPage(){this.adminService.getUsers(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:t=>{console.log(t.response),this.users=t.response?.data??[],this.totalItems=t.response?.totalCount??0},error:t=>{this.error=t.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addEntity(t){let e=t;this.adminService.addUser(e).subscribe({next:()=>{this.closeAddUserForm(),this.getPage()},error:n=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",n)}})}editUser(t){this.selectedUserId=t.id,this.formData={fullName:t.fullName,role:t.role},this.isUpdateUserFormVisible=!0}updateEntity(t){if(!this.selectedUserId){console.error("Niciun utilizator nu a fost selectat pentru actualizare."),alert("Eroare: Nu a fost selectat niciun utilizator pentru actualizare.");return}let e=t.fullName??[t.firstName,t.lastName].filter(Boolean).join(" ").trim(),n={id:this.selectedUserId,fullName:e,role:t.role};this.adminService.updateUser(this.selectedUserId,n).subscribe({next:()=>{this.closeUpdateUserForm(),this.getPage()},error:r=>{console.error("Eroare la actualizare:",r)}})}showUserDetails(t){this.isUserDetailsVisible=!0}closeUserDetails(){this.isUserDetailsVisible=!1,this.selectedUser=null}closeUpdateUserForm(){this.selectedUserId=null,this.resetForm(),this.isUpdateUserFormVisible=!1}openAddUserForm(){this.selectedUserId=null,this.resetForm(),this.isAddUserFormVisible=!0}viewUser(t){this.isUserDetailsVisible=!0}deleteEntity(t){confirm(`Sigur dori\u021Bi s\u0103 \u0219terge\u021Bi utilizatorul ${t.fullName}?`)&&this.adminService.deleteUser(t.id).subscribe({next:()=>{this.getPage()},error:e=>{console.error("Eroare la \u0219tergerea utilizatorului:",e)}})}closeAddUserForm(){this.isAddUserFormVisible=!1,this.resetForm()}resetForm(){this.formData={firstName:"",lastName:"",email:"",password:"",role:"Client"}}onPageChange(t){this.currentPage=t,this.getPage()}onPageSizeChange(t){this.pageSize=t,this.currentPage=1,this.getPage()}static \u0275fac=function(e){return new(e||i)(g(Le))};static \u0275cmp=v({type:i,selectors:[["app-admin-users"]],decls:13,vars:11,consts:[[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[1,"admin-wrapper"],[1,"admin-table-container"],[1,"search-box-wrapper"],[3,"searchChanged","placeholder"],[1,"add-btn",3,"click"],[3,"columns","data"],["class","modal-overlay",4,"ngIf"],["class","admin-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal"],[1,"close-button-wrapper"],[1,"close-button",3,"click"],[3,"formSubmit","fields","submitText"],[3,"formSubmit","fields","initialData","submitText"],[1,"admin-overlay"],[1,"admin-modal"],[3,"entity","title","close",4,"ngIf"],[3,"close","entity","title"]],template:function(e,n){e&1&&(a(0,"app-pagination",0),u("pageChange",function(s){return n.onPageChange(s)})("pageSizeChange",function(s){return n.onPageSizeChange(s)}),o(),a(1,"div",1)(2,"div",2)(3,"h2"),l(4,"Administreaz\u0103 to\u021Bi utilizatorii"),o(),a(5,"div",3)(6,"app-search-input",4),u("searchChanged",function(s){return n.onSearch(s)}),o()(),a(7,"button",5),u("click",function(){return n.openAddUserForm()}),l(8,"Adaug\u0103 utilizator"),o(),S(9,"app-dynamic-table",6),o()(),_(10,zr,6,2,"div",7)(11,jr,5,3,"div",7)(12,Lr,5,1,"div",8)),e&2&&(d("currentPage",n.currentPage)("pageSize",n.pageSize)("pageSizeOptions",Y(10,qr))("totalItems",n.totalItems),c(6),d("placeholder",n.placeholder),c(3),d("columns",n.columns)("data",n.users),c(),d("ngIf",n.isAddUserFormVisible),c(),d("ngIf",n.isUpdateUserFormVisible),c(),d("ngIf",n.isUserDetailsVisible))},dependencies:[V,I,E,Q,De,Oe,se,de],styles:[".admin-wrapper[_ngcontent-%COMP%]{text-align:center}.admin-table-container[_ngcontent-%COMP%]{display:inline-block;padding:24px;background-color:#d9c8ff;border:2px solid #4b358e;border-radius:8px;font-family:Roboto Mono,monospace;box-shadow:0 4px 8px #0000001a;margin:40px auto}.admin-table-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.admin-table[_ngcontent-%COMP%]{width:max-content;max-width:100%;margin-left:auto;margin-right:auto;border-collapse:collapse;background-color:#f8f4ff;border-radius:6px}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;white-space:nowrap}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700}.action-link[_ngcontent-%COMP%]{margin-right:12px;cursor:pointer;text-decoration:none;font-weight:700}.action-link.view[_ngcontent-%COMP%]{color:#00f}.action-link.edit[_ngcontent-%COMP%]{color:green}.action-link.delete[_ngcontent-%COMP%]{color:red}.add-btn[_ngcontent-%COMP%]{background-color:#916fc7;color:#fff;border:3px solid #4b358e;margin-top:14px;margin-bottom:20px;padding:8px 16px;font-weight:700;border-radius:6px;cursor:pointer;transition:background-color .3s;font-family:Roboto Mono,monospace}.add-btn[_ngcontent-%COMP%]:hover{background-color:#3a2973}",".grid-form[_ngcontent-%COMP%]{gap:24px 20px;padding:24px 32px;max-width:650px;margin:0 auto;font-family:Roboto Mono,monospace;border:2px solid #c9b7ff;border-radius:6px;box-shadow:0 4px 12px #0000001a}.form-layout[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px 20px;padding:12px 16px;max-width:650px;margin:0 auto}.form-group[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;flex:1;display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{flex:1 1 100%}.form-group.half-width[_ngcontent-%COMP%]{flex:1 1 48%}label[_ngcontent-%COMP%]{margin-bottom:8px}.input-box[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;transition:border-color .3s}.input-box[_ngcontent-%COMP%]:focus-within{border-color:#9a79ff}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;width:100%;font-family:Roboto Mono,monospace;font-size:16px;outline:none}.input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-family:inherit;font-size:1rem;border:none;border-radius:6px;box-sizing:border-box;resize:vertical;background:#e6dfff}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;font-size:16px;outline:none;appearance:auto;font-family:inherit;width:100%}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#a388ff;box-shadow:0 0 3px #a388ff}.placeholder-selected[_ngcontent-%COMP%]{color:#7d7d7f!important}.send-button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:300px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}.send-button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.field-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.error[_ngcontent-%COMP%]{color:#d8000c;font-size:.85rem;margin-top:4px;padding-left:2px}",".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var $r=["class","users"],Gr=()=>[5,10,20];function Wr(i,t){if(i&1){let e=y();a(0,"div",9)(1,"div",10)(2,"div",11)(3,"button",12),u("click",function(){f(e);let r=p();return h(r.closeAddUserForm())}),l(4,"\xD7"),o()(),a(5,"app-dynamic-form",13),u("formSubmit",function(r){f(e);let s=p();return h(s.addEntity(r))}),o()()()}if(i&2){let e=p();c(5),d("fields",e.addEntityFormFields)("submitText","Adaug\u0103")}}function Hr(i,t){if(i&1){let e=y();a(0,"div",9)(1,"div",10)(2,"button",12),u("click",function(){f(e);let r=p();return h(r.closeUpdateUserForm())}),l(3,"\xD7"),o(),a(4,"app-dynamic-form",14),u("formSubmit",function(r){f(e);let s=p();return h(s.updateEntity(r))}),o()()()}if(i&2){let e=p();c(4),d("fields",e.updateEntityFormFields)("initialData",e.formData)("submitText","Actualizeaz\u0103")}}function Zr(i,t){if(i&1){let e=y();a(0,"app-admin-details",17),u("close",function(){f(e);let r=p(2);return h(r.closeUserDetails())}),o()}if(i&2){let e=p(2);d("entity",e.entityDetails)("title","Detalii specialist")}}function Kr(i,t){if(i&1){let e=y();a(0,"div",15)(1,"div",10)(2,"button",12),u("click",function(){f(e);let r=p();return h(r.closeUserDetails())}),l(3,"\xD7"),o(),_(4,Zr,1,2,"app-admin-details",16),o()()}if(i&2){let e=p();c(4),d("ngIf",e.isUserDetailsVisible)}}var Ft=class i{constructor(t){this.adminService=t;let e={fullName:"",email:"",password:"",phoneNumber:"",address:"",yearsExperience:0,description:""};this.formData=F({},e),this.getPage()}searchTerm="";users=[];selectedUser=null;entityDetails={};entityDetailsId;pageSize=10;currentPage=1;totalItems=0;isAddUserFormVisible=!1;isUpdateUserFormVisible=!1;isUserDetailsVisible=!1;selectedUserId=null;placeholder="Caut\u0103 un specialist...";columns=[{key:"id",header:"ID"},{key:"fullName",header:"Nume"},{key:"email",header:"Email"},{key:"phoneNumber",header:"Num\u0103r de telefon"},{key:"address",header:"Adres\u0103"},{key:"actions",header:"Ac\u021Biuni",type:"action",actions:[{label:"Detalii",class:"view",callback:t=>this.getEntity(t.id)},{label:"Modific\u0103",class:"edit",callback:t=>this.editUser(t)},{label:"\u0218terge",class:"delete",callback:t=>this.deleteUser(t)}]}];defaultUser={fullName:"",email:"",password:"",phoneNumber:"",address:"",yearsExperience:0,description:""};formData={};error=null;addEntityFormFields=J(this.defaultUser,{email:{type:"email"},password:{type:"password"},yearsExperience:{type:"number",placeholder:"Ex: 5"},description:{type:"textarea",placeholder:"Descrie serviciile oferite",class:"full-width"}});updateEntityFormFields=J({fullName:this.selectedUser?.fullName||"",phoneNumber:this.selectedUser?.phoneNumber||"",address:this.selectedUser?.address||"",yearsExperience:this.selectedUser?.yearsExperience||"",description:this.selectedUser?.description||""});onSearch(t){this.searchTerm=t,this.currentPage=1,this.getPage()}getEntity(t){this.adminService.getSpecialist(t).subscribe({next:e=>{this.entityDetailsId=e.response?.id,console.log(e.response),this.entityDetails=Be(e.response??{}),this.isUserDetailsVisible=!0},error:e=>{console.error("Eroare la preluarea utilizatorului:",e),alert("Nu s-au putut \xEEnc\u0103rca detaliile utilizatorului.")}})}getPage(){this.adminService.getSpecialists(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:t=>{this.users=t.response?.data??[],this.totalItems=t.response?.totalCount??0},error:t=>{this.error=t.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addEntity(t){let e=t;this.adminService.addSpecialist(e).subscribe({next:()=>{this.closeAddUserForm(),this.getPage()},error:n=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",n)}})}editUser(t){this.selectedUserId=t.id,this.formData={fullName:t.fullName,phoneNumber:t.phoneNumber,address:t.address,yearsExperience:t.yearsExperience,description:t.description},this.isUpdateUserFormVisible=!0}updateEntity(t){if(console.log("Form data submitted:",t),!this.selectedUserId){console.error("Niciun utilizator nu a fost selectat pentru actualizare."),alert("Eroare: Nu a fost selectat niciun utilizator pentru actualizare.");return}let e={id:this.selectedUserId,fullName:t.fullName,phoneNumber:t.phoneNumber,address:t.address,yearsExperience:t.yearsExperience,description:t.description};console.log("Update payload:",e),this.adminService.updateSpecialist(this.selectedUserId,e).subscribe({next:()=>{console.log(),this.closeUpdateUserForm(),this.getPage()},error:n=>{console.error("Eroare la actualizare:",n)}})}closeUserDetails(){this.isUserDetailsVisible=!1,this.entityDetails={}}closeUpdateUserForm(){this.selectedUserId=null,this.resetForm(),this.isUpdateUserFormVisible=!1}openAddUserForm(){this.selectedUserId=null,this.resetForm(),this.isAddUserFormVisible=!0}viewUser(t){this.isUserDetailsVisible=!0}deleteUser(t){confirm(`Sigur dori\u021Bi s\u0103 \u0219terge\u021Bi utilizatorul ${t.fullName}?`)&&this.adminService.deleteSpecialist(t.id).subscribe({next:()=>{this.getPage()},error:e=>{console.error("Eroare la \u0219tergerea utilizatorului:",e)}})}closeAddUserForm(){this.isAddUserFormVisible=!1,this.resetForm()}resetForm(){this.formData={firstName:"",lastName:"",email:"",password:"",role:"Client"}}getTotalPages(){return Math.ceil(this.totalItems/this.pageSize)}onPageSizeChange(t){this.pageSize=t,this.currentPage=1,this.getPage()}onPageChange(t){this.currentPage=t,this.getPage()}static \u0275fac=function(e){return new(e||i)(g(ft))};static \u0275cmp=v({type:i,selectors:[["app-admin",8,"users"]],attrs:$r,decls:13,vars:11,consts:[[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[1,"admin-wrapper"],[1,"admin-table-container"],[1,"search-box-wrapper"],[3,"searchChanged","placeholder"],[1,"add-btn",3,"click"],[3,"columns","data"],["class","modal-overlay",4,"ngIf"],["class","admin-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal"],[1,"close-button-wrapper"],[1,"close-button",3,"click"],[3,"formSubmit","fields","submitText"],[3,"formSubmit","fields","initialData","submitText"],[1,"admin-overlay"],[3,"entity","title","close",4,"ngIf"],[3,"close","entity","title"]],template:function(e,n){e&1&&(a(0,"app-pagination",0),u("pageChange",function(s){return n.onPageChange(s)})("pageSizeChange",function(s){return n.onPageSizeChange(s)}),o(),a(1,"div",1)(2,"div",2)(3,"h2"),l(4,"Administreaz\u0103 to\u021Bi speciali\u0219tii"),o(),a(5,"div",3)(6,"app-search-input",4),u("searchChanged",function(s){return n.onSearch(s)}),o()(),a(7,"button",5),u("click",function(){return n.openAddUserForm()}),l(8,"Adaug\u0103 specialist"),o(),S(9,"app-dynamic-table",6),o()(),_(10,Wr,6,2,"div",7)(11,Hr,5,3,"div",7)(12,Kr,5,1,"div",8)),e&2&&(d("currentPage",n.currentPage)("pageSize",n.pageSize)("pageSizeOptions",Y(10,Gr))("totalItems",n.totalItems),c(6),d("placeholder",n.placeholder),c(3),d("columns",n.columns)("data",n.users),c(),d("ngIf",n.isAddUserFormVisible),c(),d("ngIf",n.isUpdateUserFormVisible),c(),d("ngIf",n.isUserDetailsVisible))},dependencies:[E,Oe,Q,De,I,se,de],styles:[".admin-wrapper[_ngcontent-%COMP%]{text-align:center}.admin-table-container[_ngcontent-%COMP%]{display:inline-block;padding:24px;background-color:#d9c8ff;border:2px solid #4b358e;border-radius:8px;font-family:Roboto Mono,monospace;box-shadow:0 4px 8px #0000001a;margin:40px auto}.admin-table-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.admin-table[_ngcontent-%COMP%]{width:max-content;max-width:100%;margin-left:auto;margin-right:auto;border-collapse:collapse;background-color:#f8f4ff;border-radius:6px}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;white-space:nowrap}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700}.action-link[_ngcontent-%COMP%]{margin-right:12px;cursor:pointer;text-decoration:none;font-weight:700}.action-link.view[_ngcontent-%COMP%]{color:#00f}.action-link.edit[_ngcontent-%COMP%]{color:green}.action-link.delete[_ngcontent-%COMP%]{color:red}.add-btn[_ngcontent-%COMP%]{background-color:#916fc7;color:#fff;border:3px solid #4b358e;margin-top:14px;margin-bottom:20px;padding:8px 16px;font-weight:700;border-radius:6px;cursor:pointer;transition:background-color .3s;font-family:Roboto Mono,monospace}.add-btn[_ngcontent-%COMP%]:hover{background-color:#3a2973}",".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var It=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-unauthorized"]],decls:6,vars:0,consts:[["routerLink","/home"]],template:function(e,n){e&1&&(a(0,"h2"),l(1,"Acces restric\u021Bionat"),o(),a(2,"p"),l(3,"Nu ai permisiunea necesar\u0103 pentru a accesa aceast\u0103 pagin\u0103."),o(),a(4,"a",0),l(5,"\xCEnapoi la pagina principal\u0103"),o())},encapsulation:2})};function Jr(i,t){if(i&1&&S(0,"img",2),i&2){let e=p();d("src",e.icon,le)}}var kt=class i{label;icon;onClick=new M;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-icon-button"]],inputs:{label:"label",icon:"icon"},outputs:{onClick:"onClick"},decls:4,vars:2,consts:[[1,"icon-button",3,"click"],["alt","icon","class","button-icon",3,"src",4,"ngIf"],["alt","icon",1,"button-icon",3,"src"]],template:function(e,n){e&1&&(a(0,"button",0),u("click",function(){return n.onClick.emit()}),_(1,Jr,1,1,"img",1),a(2,"span"),l(3),o()()),e&2&&(c(),d("ngIf",n.icon),c(2),k(n.label))},dependencies:[V,I],styles:[".icon-button[_ngcontent-%COMP%]{width:260px;height:55px;display:flex;align-items:center;gap:12px;padding:12px 24px;font-size:16px;font-weight:500;border:3px solid #4f378a;background-color:#f3e6ff;border-radius:10px;cursor:pointer;transition:background .2s ease;font-family:Roboto Mono,monospace}.icon-button[_ngcontent-%COMP%]:hover{background-color:#a197be}.icon-button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}"]})};var Vt=class i{constructor(t,e){this.http=t;this.authService=e}baseUrl="http://localhost:5241/api/Photo";addProfilePicture(t){let e=new FormData;e.append("file",t);let n=this.authService.getToken(),r=new b({Authorization:`Bearer ${n}`});return this.http.post(`${this.baseUrl}/AddProfilePicture`,e,{headers:r})}updateProfilePicture(t){let e=new FormData;e.append("file",t);let n=this.authService.getToken(),r=new b({Authorization:`Bearer ${n}`});return this.http.patch(`${this.baseUrl}/UpdateProfilePicture`,e,{headers:r})}addPortfolioPicture(t){let e=new FormData;e.append("file",t);let n=this.authService.getToken(),r=new b({Authorization:`Bearer ${n}`});return this.http.post(`${this.baseUrl}/AddPortfolioPicture`,e,{headers:r})}deletePortfolioPicture(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.delete(`${this.baseUrl}/DeletePortfolioPicture/${t}`,{headers:n})}static \u0275fac=function(e){return new(e||i)(T(j),T(w))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};function Xr(i,t){if(i&1&&(a(0,"span",21),l(1),o()),i&2){let e=t.$implicit;c(),k(e.name)}}var Rt=class i{constructor(t,e,n,r){this.profileService=t;this.authService=e;this.photoService=n;this.route=r}user;dummyUser={id:"user-001",fullName:"Elena Georgescu",email:"elena.georgescu@example.com",role:"Specialist",createdAt:new Date("2023-02-10T10:15:00Z"),updatedAt:new Date,rating:4.8,contactInfo:{phoneNumber:"0745123456",address:"Strada Florilor 12, Timi\u0219oara"},specialist:{yearsExperience:6,description:"Specialist \xEEn traduceri juridice \u0219i consultan\u021B\u0103 contractual\u0103.",categories:[{id:"cat-007",name:"Traduceri juridice"},{id:"cat-008",name:"Consultan\u021B\u0103 legal\u0103"}]}};ngOnInit(){this.profileService.getUserProfile().subscribe({next:t=>{this.user=t.response,console.log(this.user)},error:t=>{console.error(t)}})}onFileSelected(t){let e=t.target.files[0];if(!e)return;new FormData().append("file",e),this.photoService.addProfilePicture(e).subscribe({next:r=>{console.log("Upload success:",r),console.log(this.user?.profilePictureUrl)},error:r=>{console.error("Upload error:",r)}})}uploadProfilePicture(t){this.photoService.addProfilePicture(t).subscribe({next:e=>{console.log("Upload success:",e)},error:e=>{console.error("Upload error:",e)}})}onEdit(){}goToReviews(){this.route.navigate(["profile/user-reviews"])}goToHistory(){}goToExpertEase(){}goToSettings(){this.route.navigate(["profile/user-settings"])}logout(){window.confirm("Sigur vrei s\u0103 te deloghezi?")&&this.authService.logout(),this.route.navigate(["/home"])}UserRoleEnum=Fe;static \u0275fac=function(e){return new(e||i)(g(Le),g(w),g(Vt),g(B))};static \u0275cmp=v({type:i,selectors:[["app-profile"]],decls:52,vars:23,consts:[[1,"account-card"],[1,"account-header"],[1,"avatar-wrapper"],[1,"avatar"],["alt","User avatar",3,"src"],[1,"rating-badge"],["src","assets/star-rating.svg","alt","User star"],[1,"rating-value"],[1,"account-info"],[3,"onClick","label","icon"],[1,"card"],[1,"info"],[1,"full-name"],[1,"details-block"],[1,"row"],[1,"categories"],[1,"label"],["class","tag",4,"ngFor","ngForOf"],[1,"experience"],[1,"description"],[1,"account-actions"],[1,"tag"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),S(4,"img",4),o(),a(5,"div",5),S(6,"img",6),a(7,"span",7),l(8),o()()(),a(9,"div",8)(10,"p")(11,"strong"),l(12,"Nume:"),o(),l(13),o(),a(14,"p")(15,"strong"),l(16,"Adresa mail:"),o(),l(17),o(),a(18,"p")(19,"strong"),l(20,"Parol\u0103:"),o(),l(21," ********"),o(),a(22,"p")(23,"strong"),l(24,"Creat la data de:"),o(),l(25),z(26,"date"),o()(),a(27,"app-icon-button",9),u("onClick",function(){return n.onEdit()}),o()(),a(28,"div",10)(29,"div",11)(30,"h2",12),l(31,"Anun\u021Bul t\u0103u"),o(),a(32,"div",13)(33,"div",14)(34,"div",15)(35,"span",16),l(36,"Categorii:"),o(),_(37,Xr,2,1,"span",17),o(),a(38,"div",18)(39,"span",16),l(40,"Ani experien\u021B\u0103:"),o(),l(41),o()(),a(42,"div",19)(43,"span",16),l(44,"Descriere:"),o(),l(45),o()()(),a(46,"app-icon-button",9),u("onClick",function(){return n.onEdit()}),o()(),a(47,"div",20)(48,"app-icon-button",9),u("onClick",function(){return n.goToReviews()}),o(),a(49,"app-icon-button",9),u("onClick",function(){return n.goToHistory()}),o(),a(50,"app-icon-button",9),u("onClick",function(){return n.goToSettings()}),o(),a(51,"app-icon-button",9),u("onClick",function(){return n.logout()}),o()()()),e&2&&(c(4),d("src",(n.user==null?null:n.user.profilePictureUrl)||"assets/avatar.svg",le),c(4),k(n.user==null?null:n.user.rating),c(5),C(" ",n.user==null?null:n.user.fullName," "),c(4),C(" ",n.user==null?null:n.user.email,""),c(8),C(" ",re(26,20,n.user==null?null:n.user.createdAt,"dd.MM.yyyy"),""),c(2),d("label","Editeaz\u0103 profilul")("icon","assets/icons/edit.svg"),c(10),d("ngForOf",n.user==null||n.user.specialist==null?null:n.user.specialist.categories),c(4),C(" ",n.user==null||n.user.specialist==null?null:n.user.specialist.yearsExperience," "),c(4),C(" ",n.user==null||n.user.specialist==null?null:n.user.specialist.description," "),c(),d("label","Editeaz\u0103 anun\u021Bul")("icon","assets/icons/edit.svg"),c(2),d("label","Recenziile tale")("icon","assets/icons/reviews.svg"),c(),d("label","Istoric servicii")("icon","assets/icons/history.svg"),c(),d("label","Set\u0103rile contului")("icon","assets/icons/settings.svg"),c(),d("label","Deconecteaz\u0103-te")("icon","assets/icons/logout.svg"))},dependencies:[ce,kt,N],styles:[".account-card[_ngcontent-%COMP%]{background:#e0caff;max-width:1000px;margin:32px auto;box-shadow:0 4px 16px #0000001a;font-family:Roboto Mono,monospace;border:3px solid black}.account-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:32px;gap:32px}.account-info[_ngcontent-%COMP%]{flex:1;margin-left:32px;font-size:16px}.account-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px 78px;padding:32px}.card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#a08ad2;padding:20px 32px;width:100%;gap:20px;justify-content:space-between;box-sizing:border-box;border-top:3px solid black;border-bottom:3px solid black;font-family:Roboto Mono,monospace}.info[_ngcontent-%COMP%]{flex:1}.full-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-top:.25rem;margin-bottom:.5rem}.full-name[_ngcontent-%COMP%]:hover{text-decoration:underline}.details-block[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:12px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.categories[_ngcontent-%COMP%], .experience[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{font-size:.95rem}.label[_ngcontent-%COMP%]{font-weight:700;margin-right:6px}.tag[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:160px;aspect-ratio:1/1}.avatar[_ngcontent-%COMP%]{position:relative;width:160px;height:160px;overflow:hidden}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover;display:block}.rating-badge[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;display:inline-flex;align-items:center;gap:.3em;background:#fff;padding:.2em .5em;border-radius:.6em;font-size:1.2em;box-shadow:0 1px 4px #0000001a}.rating-badge[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1em;height:1em}.upload-btn[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:4px;background:#fff;border-radius:50%;padding:6px;cursor:pointer;font-size:18px}.upload-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0}.upload-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}"]})};var Qr=(i,t)=>({"rejected-bg":i,"accepted-bg":t});function eo(i,t){if(i&1&&(a(0,"p")(1,"strong"),l(2,"Adres\u0103:"),o(),l(3),o()),i&2){let e=p();c(3),C(" ",e.request.senderContactInfo==null?null:e.request.senderContactInfo.address," ")}}function to(i,t){if(i&1&&(a(0,"p")(1,"strong"),l(2,"Telefon:"),o(),l(3),o()),i&2){let e=p();c(3),C(" ",e.request.senderContactInfo==null?null:e.request.senderContactInfo.phoneNumber," ")}}function no(i,t){i&1&&(a(0,"p",5),l(1,"\xCEn a\u0219teptare..."),o())}function io(i,t){if(i&1){let e=y();a(0,"div",6)(1,"button",7),u("click",function(){f(e);let r=p(2);return h(r.acceptRequest())}),l(2," Accept\u0103 "),o(),a(3,"button",8),u("click",function(){f(e);let r=p(2);return h(r.rejectRequest())}),l(4," Respinge "),o()()}}function ro(i,t){if(i&1&&(a(0,"div"),_(1,no,2,0,"p",4)(2,io,5,0,"div",3),o()),i&2){let e=p();c(),d("ngIf",e.userRole==="Client"),c(),d("ngIf",e.userRole==="Specialist")}}function oo(i,t){if(i&1){let e=y();a(0,"div",6)(1,"button",9),u("click",function(){f(e);let r=p();return h(r.triggerOffer())}),l(2,"F\u0103 o ofert\u0103"),o()()}}var Ut=class i{constructor(t,e){this.authService=t;this.requestService=e}request={id:"",senderUserId:"",receiverUserId:"",requestedStartDate:new Date,description:"",status:"Pending",senderContactInfo:{phoneNumber:"",address:""}};userRole="";requestAccepted=new M;requestRejected=new M;makeOffer=new M;ngOnInit(){this.userRole=this.authService.getUserRole()}acceptRequest(){this.requestAccepted.emit(this.request.id)}rejectRequest(){this.requestRejected.emit(this.request.id)}showOfferButton(){return this.request.status==="Accepted"&&this.userRole==="Specialist"}triggerOffer(){this.makeOffer.emit(this.request.id)}static \u0275fac=function(e){return new(e||i)(g(w),g(Se))};static \u0275cmp=v({type:i,selectors:[["app-request-message"]],inputs:{request:"request"},outputs:{requestAccepted:"requestAccepted",requestRejected:"requestRejected",makeOffer:"makeOffer"},decls:17,vars:13,consts:[[1,"request-wrapper"],[1,"request-summary",3,"ngClass"],[4,"ngIf"],["class","action-buttons",4,"ngIf"],["class","status-button",4,"ngIf"],[1,"status-button"],[1,"action-buttons"],[1,"accept-btn",3,"click"],[1,"reject-btn",3,"click"],[1,"offer-btn",3,"click"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h3"),l(3,"Solicitare"),o(),a(4,"p")(5,"strong"),l(6,"Data \u0219i ora:"),o(),l(7),z(8,"date"),o(),a(9,"p")(10,"strong"),l(11,"Descriere:"),o(),l(12),o(),_(13,eo,4,1,"p",2)(14,to,4,1,"p",2)(15,ro,3,2,"div",2)(16,oo,3,0,"div",3),o()()),e&2&&(c(),d("ngClass",Ae(10,Qr,n.request.status==="Rejected",n.request.status==="Accepted"||n.request.status==="Completed")),c(6),C(" ",re(8,7,n.request.requestedStartDate,"short"),""),c(5),C(" ",n.request.description,""),c(),d("ngIf",n.request.senderContactInfo==null?null:n.request.senderContactInfo.address),c(),d("ngIf",n.request.senderContactInfo==null?null:n.request.senderContactInfo.phoneNumber),c(),d("ngIf",n.request.status==="Pending"),c(),d("ngIf",n.showOfferButton()))},dependencies:[ce,I,X],styles:['@charset "UTF-8";.request-summary[_ngcontent-%COMP%]{max-width:300px;margin:8px auto;padding:12px;border:2px solid black;background-color:#f8faff;font-size:.8rem;line-height:1.4;border-radius:6px;font-family:Roboto Mono,monospace}.request-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}.request-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-size:1rem;text-align:center}.request-status[_ngcontent-%COMP%]{display:inline-block;margin-top:.5rem;padding:.25rem .5rem;font-weight:700;border-radius:4px}.status-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.status-pending[_ngcontent-%COMP%]{background-color:#fff5c4;color:#856404}.status-accepted[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.status-rejected[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.accepted-bg[_ngcontent-%COMP%]{background-color:#d4edda;border:4px solid #155724}.rejected-bg[_ngcontent-%COMP%]{background-color:#f8d7da;border:4px solid #721c24}.action-buttons[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:10px;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out;font-family:Roboto Mono,monospace}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background-color:#9bc2a3;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]:hover{background-color:#be8a90;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .offer-btn[_ngcontent-%COMP%]{background-color:#d4e2ed;color:#001b3f}.action-buttons[_ngcontent-%COMP%]   .offer-btn[_ngcontent-%COMP%]:hover{background-color:#78a2c4;box-shadow:0 2px 6px #0003}']})};var Nt=class i{constructor(t){this.router=t}replyForm={startDate:new Date,endDate:new Date,price:0};formSubmit=new M;close=new M;submitReply(){this.formSubmit.emit(this.replyForm)}closeForm(){this.close.emit()}static \u0275fac=function(e){return new(e||i)(g(B))};static \u0275cmp=v({type:i,selectors:[["app-reply-form"]],inputs:{replyForm:"replyForm"},outputs:{formSubmit:"formSubmit",close:"close"},decls:19,vars:3,consts:[[1,"request-form-wrapper"],[1,"close-button",3,"click"],[1,"request-form"],[1,"form-row"],["type","datetime-local","name","startDate","required","",3,"ngModelChange","ngModel"],["type","datetime-local","name","endDate","required","",3,"ngModelChange","ngModel"],["type","number","name","price","step","0.01","required","",3,"ngModelChange","ngModel"],[1,"center-button"],["type","submit",3,"click"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"button",1),u("click",function(){return n.closeForm()}),l(2,"\xD7"),o(),a(3,"h2"),l(4,"Trimite o ofert\u0103"),o(),a(5,"form",2)(6,"div",3)(7,"label"),l(8," De la data de: "),a(9,"input",4),P("ngModelChange",function(s){return O(n.replyForm.startDate,s)||(n.replyForm.startDate=s),s}),o()(),a(10,"label"),l(11," P\xE2n\u0103 la data de: "),a(12,"input",5),P("ngModelChange",function(s){return O(n.replyForm.endDate,s)||(n.replyForm.endDate=s),s}),o()()(),a(13,"label"),l(14," Pre\u021B: "),a(15,"input",6),P("ngModelChange",function(s){return O(n.replyForm.price,s)||(n.replyForm.price=s),s}),o()(),a(16,"div",7)(17,"button",8),u("click",function(){return n.submitReply()}),l(18,"Trimite oferta"),o()()()()),e&2&&(c(9),D("ngModel",n.replyForm.startDate),c(3),D("ngModel",n.replyForm.endDate),c(3),D("ngModel",n.replyForm.price))},dependencies:[E,ae,H,rt,Z,oe,me,G,ee],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.request-form-wrapper[_ngcontent-%COMP%]{position:relative;max-width:600px;margin:2rem auto;background-color:#e8d9ff;border:2px solid #000;padding:2rem;font-family:Roboto Mono,monospace}.request-form-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.request-form-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1.5rem}.request-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;font-size:.95rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem}.form-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;font-family:Roboto Mono,monospace;font-size:.9rem}.request-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .request-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #999;border-radius:4px;font-family:Roboto Mono,monospace;background-color:#fff}.request-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.center-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem 1rem;border:2px solid #000;border-radius:6px;background-color:#c9b7ff;font-weight:700;cursor:pointer;display:flex;justify-content:center;font-family:Roboto Mono,monospace}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#dcdcdc;color:#888;cursor:not-allowed}"]})};var ao=(i,t)=>({"rejected-bg":i,"accepted-bg":t});function so(i,t){i&1&&(a(0,"p"),l(1,"\xCEn a\u0219teptare..."),o())}function lo(i,t){if(i&1){let e=y();a(0,"div",5)(1,"button",6),u("click",function(){f(e);let r=p(2);return h(r.acceptReply())}),l(2," Accept\u0103 "),o(),a(3,"button",7),u("click",function(){f(e);let r=p(2);return h(r.rejectReply())}),l(4," Respinge "),o()()}}function co(i,t){if(i&1&&(a(0,"div"),_(1,so,2,0,"p",3)(2,lo,5,0,"div",4),o()),i&2){let e=p();c(),d("ngIf",e.userRole==="Specialist"),c(),d("ngIf",e.userRole==="Client")}}var qt=class i{constructor(t){this.authService=t}reply={id:"",startDate:new Date,endDate:new Date,price:0,status:"Pending"};userRole="";requestId="";replyAccepted=new M;replyRejected=new M;ngOnInit(){this.userRole=this.authService.getUserRole()}acceptReply(){this.replyAccepted.emit({requestId:this.requestId,replyId:this.reply.id})}rejectReply(){this.replyRejected.emit({requestId:this.requestId,replyId:this.reply.id})}static \u0275fac=function(e){return new(e||i)(g(w))};static \u0275cmp=v({type:i,selectors:[["app-reply-message"]],inputs:{reply:"reply",requestId:"requestId"},outputs:{replyAccepted:"replyAccepted",replyRejected:"replyRejected"},decls:22,vars:23,consts:[[1,"request-wrapper"],[1,"request-summary",3,"ngClass"],[1,"big-price"],[4,"ngIf"],["class","action-buttons",4,"ngIf"],[1,"action-buttons"],[1,"accept-btn",3,"click"],[1,"reject-btn",3,"click"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h3"),l(3,"Ofert\u0103"),o(),a(4,"p")(5,"strong"),l(6,"Data:"),o(),l(7),z(8,"date"),o(),a(9,"p")(10,"strong"),l(11,"De la ora:"),o(),l(12),z(13,"date"),a(14,"strong"),l(15,"P\xE2n\u0103 la ora:"),o(),l(16),z(17,"date"),o(),a(18,"div",2),l(19),z(20,"currency"),o(),_(21,co,3,2,"div",3),o()()),e&2&&(c(),d("ngClass",Ae(20,ao,n.reply.status==="Rejected",n.reply.status==="Accepted")),c(6),C(" ",re(8,6,n.reply.startDate,"dd MMMM yyyy"),""),c(5),C(" ",re(13,9,n.reply.startDate,"HH:mm")," \xA0\u2014\xA0 "),c(4),C(" ",re(17,12,n.reply.endDate,"HH:mm")," "),c(3),C(" ",On(20,15,n.reply.price,"RON","symbol","1.2-2")," "),c(2),d("ngIf",n.reply.status==="Pending"))},dependencies:[ce,I,Fn,X],styles:['@charset "UTF-8";.request-summary[_ngcontent-%COMP%]{max-width:300px;margin:8px auto;padding:12px;border:2px solid black;background-color:#f8faff;font-size:.8rem;line-height:1.4;border-radius:6px;font-family:Roboto Mono,monospace}.request-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}.request-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-size:1rem;text-align:center}.request-status[_ngcontent-%COMP%]{display:inline-block;margin-top:.5rem;padding:.25rem .5rem;font-weight:700;border-radius:4px}.status-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.status-pending[_ngcontent-%COMP%]{background-color:#fff5c4;color:#856404}.status-accepted[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.status-rejected[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.accepted-bg[_ngcontent-%COMP%]{background-color:#d4edda;border:4px solid #155724}.rejected-bg[_ngcontent-%COMP%]{background-color:#f8d7da;border:4px solid #721c24}.action-buttons[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:10px;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out;font-family:Roboto Mono,monospace}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background-color:#9bc2a3;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]:hover{background-color:#be8a90;box-shadow:0 2px 6px #0003}.big-price[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a202c;margin-top:.5rem;margin-bottom:.5rem}']})};var po=()=>[1,2,3,4,5];function uo(i,t){if(i&1){let e=y();R(0),a(1,"img",11),u("click",function(){let r=f(e).index,s=p();return h(s.reviewForm.rating=r+1)}),o(),U()}if(i&2){let e=t.index,n=p();c(),d("src",e<n.reviewForm.rating?"assets/icons/star-filled.svg":"assets/icons/star.svg",le)}}var zt=class i{reviewForm={receiverUserId:"",rating:5,content:""};formSubmit=new M;close=new M;submitReview(){this.formSubmit.emit(this.reviewForm)}closeForm(){this.close.emit()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-review-form"]],inputs:{reviewForm:"reviewForm"},outputs:{formSubmit:"formSubmit",close:"close"},decls:19,vars:3,consts:[["form","ngForm"],[1,"overlay"],[1,"request-form-wrapper"],[1,"close-button",3,"click"],[1,"request-form",3,"ngSubmit"],[1,"rating-container"],[1,"star-rating"],[4,"ngFor","ngForOf"],["name","comment","rows","4","required","",3,"ngModelChange","ngModel"],[1,"center-button"],["type","submit"],["alt","Star",1,"star",3,"click","src"]],template:function(e,n){if(e&1){let r=y();a(0,"div",1)(1,"div",2)(2,"button",3),u("click",function(){return f(r),h(n.closeForm())}),l(3,"\xD7"),o(),a(4,"h2"),l(5,"Trimite o recenzie"),o(),a(6,"form",4,0),u("ngSubmit",function(){return f(r),h(n.submitReview())}),a(8,"div",5)(9,"span"),l(10,"Not\u0103:"),o(),a(11,"div",6),_(12,uo,2,1,"ng-container",7),o()(),a(13,"label"),l(14," Comentariu: "),a(15,"textarea",8),P("ngModelChange",function(m){return f(r),O(n.reviewForm.content,m)||(n.reviewForm.content=m),h(m)}),o()(),a(16,"div",9)(17,"button",10),l(18,"Trimite recenzia"),o()()()()()}e&2&&(c(12),d("ngForOf",Y(2,po)),c(3),D("ngModel",n.reviewForm.content))},dependencies:[E,ae,H,Z,oe,me,G,ee,N],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.request-form-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:400px;margin:60px auto;background-color:#e8d9ff;border:2px solid #000;padding:32px;font-family:Roboto Mono,monospace}.request-form-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.request-form-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1.5rem}.request-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;font-size:.95rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem}.form-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;font-family:Roboto Mono,monospace;font-size:.9rem}.request-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .request-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #999;border-radius:4px;font-family:Roboto Mono,monospace;background-color:#fff}.request-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.center-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem 1rem;border:2px solid #000;border-radius:6px;background-color:#c9b7ff;font-weight:700;cursor:pointer;display:flex;justify-content:center;font-family:Roboto Mono,monospace}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#dcdcdc;color:#888;cursor:not-allowed}.rating-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:1rem}.star-rating[_ngcontent-%COMP%]{display:flex;gap:6px}.star[_ngcontent-%COMP%]{width:24px;height:24px;cursor:pointer;transition:transform .15s ease-in-out}.star[_ngcontent-%COMP%]:hover{transform:scale(1.2)}"]})};var mo=(i,t)=>({"bubble-left":i,"bubble-right":t}),go=(i,t)=>({left:i,right:t}),jt=class i{message;currentUserId;get isOwnMessage(){return this.message.senderId===this.currentUserId}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-message-bubble"]],inputs:{message:"message",currentUserId:"currentUserId"},decls:6,vars:13,consts:[[1,"bubble",3,"ngClass"],[1,"bubble-content",3,"ngClass"],[1,"timestamp"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1),l(2),a(3,"div",2),l(4),z(5,"date"),o()()()),e&2&&(d("ngClass",Ae(7,mo,!n.isOwnMessage,n.isOwnMessage)),c(),d("ngClass",Ae(10,go,!n.isOwnMessage,n.isOwnMessage)),c(),C(" ",n.message.content," "),c(2),k(re(5,4,n.message.createdAt,"shortTime")))},dependencies:[ce,X],styles:[".bubble[_ngcontent-%COMP%]{display:flex;width:100%;margin:8px 0}.bubble-left[_ngcontent-%COMP%]{justify-content:flex-start}.bubble-right[_ngcontent-%COMP%]{justify-content:flex-end}.bubble-content[_ngcontent-%COMP%]{display:inline-block;padding:10px 14px;border-radius:12px;font-size:12px;word-wrap:break-word;min-width:80px;max-width:70%;text-align:left}.bubble-content.left[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #514c70;color:#000;border-top-left-radius:4px}.bubble-content.right[_ngcontent-%COMP%]{background-color:#a79ed7;border:1px solid #514c70;color:#000;border-top-right-radius:4px}.bubble-content[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:10px;opacity:.6;margin-top:4px;text-align:right}"]})};var Bt=class i{constructor(t,e){this.http=t;this.authService=e}baseUrl="http://localhost:5241/api/Reply";addReply(t,e){let n=this.authService.getToken(),r=new b({Authorization:`Bearer ${n}`});return this.http.post(`${this.baseUrl}/Add/${t}`,e,{headers:r})}updateReply(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.patch(`${this.baseUrl}/Update/${t.id}`,t,{headers:n})}acceptReply(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return console.log(e),this.http.patch(`${this.baseUrl}/Accept/${t}`,{},{headers:n})}rejectReply(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.patch(`${this.baseUrl}/Reject/${t}`,{},{headers:n})}cancelReply(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.patch(`${this.baseUrl}/Cancel/${t}`,{headers:n})}static \u0275fac=function(e){return new(e||i)(T(j),T(w))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var Lt=class i{constructor(t,e){this.authService=t;this.http=e}baseUrl="http://localhost:5241/api/Conversation";getExchange(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.get(`${this.baseUrl}/GetById/${t}`,{headers:n})}getExchanges(){let t=this.authService.getToken(),e=new b({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetPage`,{headers:e})}static \u0275fac=function(e){return new(e||i)(T(w),T(j))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var $t=class i{constructor(t,e){this.http=t;this.authService=e}baseUrl="http://localhost:5241/api/Message";sendMessage(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.post(`${this.baseUrl}/Add`,t,{headers:n})}static \u0275fac=function(e){return new(e||i)(T(j),T(w))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var Gt=class i{constructor(t,e){this.http=t;this.authService=e}baseUrl="http://localhost:5241/api/ServiceTask";getServiceTask(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.get(`${this.baseUrl}/GetById/${t}`,{headers:n})}updateServiceTask(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.patch(`${this.baseUrl}/Update/${t.id}`,t,{headers:n})}completeServiceTask(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.patch(`${this.baseUrl}/Complete/${t}`,{},{headers:n})}cancelServiceTask(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.patch(`${this.baseUrl}/Complete/${t}`,{},{headers:n})}static \u0275fac=function(e){return new(e||i)(T(j),T(w))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var $e=class i{constructor(t,e){this.http=t;this.authService=e}baseUrl="http://localhost:5241/api/Review";addReview(t,e){let n=this.authService.getToken(),r=new b({Authorization:`Bearer ${n}`});return this.http.post(`${this.baseUrl}task/${t}/confirm/reviews`,e,{headers:r})}getReviews(t,e){let n=this.authService.getToken(),r=new b({Authorization:`Bearer ${n}`}),s=new ye().set("page",t).set("pageSize",e);return this.http.get(`${this.baseUrl}/GetPage`,{params:s,headers:r})}getReview(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.get(`${this.baseUrl}/GetById/${t}`,{headers:n})}static \u0275fac=function(e){return new(e||i)(T(j),T(w))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var bo=i=>["/specialist",i];function Co(i,t){if(i&1){let e=y();a(0,"div",8),u("click",function(){let r=f(e).$implicit,s=p();return h(s.loadExchange(r.id))}),S(1,"img",9),l(2),o()}if(i&2){let e=t.$implicit,n=p();Te("active",e.id===(n.selectedExchange==null?null:n.selectedExchange.id)),c(2),C(" ",e.fullName," ")}}function xo(i,t){if(i&1&&S(0,"app-message-bubble",20),i&2){let e=t.$implicit,n=p(2);d("message",e)("currentUserId",n.userId)}}function Mo(i,t){if(i&1){let e=y();a(0,"div",24)(1,"app-reply-form",25),u("formSubmit",function(r){f(e);let s=p(3);return h(s.submitReply(r))})("close",function(){f(e);let r=p(3);return h(r.closeReplyForm())}),o()()}if(i&2){let e=p(3);c(),d("replyForm",e.replyForm)}}function wo(i,t){if(i&1){let e=y();R(0),a(1,"app-review-form",29),u("formSubmit",function(r){f(e);let s=p(5);return h(s.submitReview(r))})("close",function(){f(e);let r=p(5);return h(r.closeReviewForm())}),o(),U()}if(i&2){let e=p(5);c(),d("reviewForm",e.reviewForm)}}function So(i,t){}function Do(i,t){if(i&1&&(R(0),a(1,"div",24),_(2,wo,2,1,"ng-container",28)(3,So,0,0,"ng-template",null,1,Ie),o(),U()),i&2){let e=K(4),n=p(4);c(2),d("ngIf",n.isReviewFormVisible)("ngIfElse",e)}}function Oo(i,t){if(i&1){let e=y();R(0),a(1,"div",21)(2,"app-reply-message",26),u("replyAccepted",function(r){f(e);let s=p(3);return h(s.acceptReply(r.requestId,r.replyId))})("replyRejected",function(r){f(e);let s=p(3);return h(s.rejectReply(r.requestId,r.replyId))}),o()(),_(3,Do,5,2,"ng-container",27),U()}if(i&2){let e=t.$implicit,n=p().$implicit,r=p(2);c(),d("ngClass",r.userRole==="Client"?"message-left":"message-right"),c(),d("reply",e)("requestId",n.id),c(),d("ngIf",r.hasActiveServiceTask(n))}}function Po(i,t){if(i&1){let e=y();R(0),a(1,"div",21)(2,"app-request-message",22),u("requestAccepted",function(){let r=f(e).$implicit,s=p(2);return h(s.acceptRequest(r.id))})("requestRejected",function(){let r=f(e).$implicit,s=p(2);return h(s.rejectRequest(r.id))})("makeOffer",function(r){f(e);let s=p(2);return h(s.openReplyForm(r))}),o(),_(3,Mo,2,1,"div",23),o(),_(4,Oo,4,4,"ng-container",15),U()}if(i&2){let e=t.$implicit,n=p(2);c(),d("ngClass",n.userRole==="Client"?"message-right":"message-left"),c(),d("request",e),c(),d("ngIf",n.isReplyFormVisible&&n.selectedRequestId===e.id),c(),d("ngForOf",e.replies)}}function Eo(i,t){if(i&1){let e=y();a(0,"div",10)(1,"div",11)(2,"div"),l(3),o(),a(4,"div")(5,"button"),S(6,"img",12),o()()(),a(7,"div",13),_(8,xo,1,2,"app-message-bubble",14)(9,Po,5,4,"ng-container",15),o(),a(10,"div",16)(11,"button")(12,"img",17),u("click",function(){f(e);let r=p();return h(r.openMediaPicker())}),o()(),a(13,"input",18),P("ngModelChange",function(r){f(e);let s=p();return O(s.messageContent,r)||(s.messageContent=r),h(r)}),u("keydown.enter",function(){f(e);let r=p();return h(r.sendMessage(r.messageContent))}),o(),a(14,"button",19),u("click",function(){f(e);let r=p();return h(r.sendMessage(r.messageContent))}),l(15,"\u2192"),o()()()}if(i&2){let e=p();c(3),k(e.selectedExchange.fullName),c(3),d("routerLink",he(5,bo,e.selectedExchange.id)),c(2),d("ngForOf",e.selectedExchange.messages),c(),d("ngForOf",e.selectedExchange.requests),c(4),D("ngModel",e.messageContent)}}function To(i,t){i&1&&(a(0,"div",30)(1,"p"),l(2,"Nu exist\u0103 conversa\u021Bii disponibile."),o()())}var Wt=class i{constructor(t,e,n,r,s,m,L,te){this.authService=t;this.requestService=e;this.replyService=n;this.exchangeService=r;this.messageService=s;this.taskService=m;this.reviewService=L;this.route=te}messageContent="";request;userRole;userId;isReplyFormVisible=!1;isReviewFormVisible=!1;replyForm={requestId:"",startDate:new Date,endDate:new Date,price:0};reviewForm={receiverUserId:"",rating:5,content:""};selectedRequestId;exchanges=[];selectedExchange;selectedTaskId;dummy_exchanges=[{id:"spec456",fullName:"Ana Popescu"},{id:"2",fullName:"Ion Vasile"},{id:"3",fullName:"Elena Georgescu"}];dummy_selectedExchange={id:"spec456",fullName:"Ana Popescu",requests:[{id:"req1",senderUserId:"user123",receiverUserId:"spec456",requestedStartDate:new Date("2025-06-01T10:00:00"),description:"Instalare aer condi\u021Bionat",status:"Accepted",senderContactInfo:{phoneNumber:"0722123456",address:"Str. Libert\u0103\u021Bii, nr. 15"},replies:[]},{id:"req2",senderUserId:"user123",receiverUserId:"spec456",requestedStartDate:new Date("2025-06-05T14:30:00"),description:"Montare televizor pe perete",status:"Pending",replies:[]}],messages:[{id:"msg1",senderId:"user123",receiverId:"spec456",content:"Bun\u0103 ziua, pute\u021Bi veni s\u0103pt\u0103m\xE2na viitoare?",createdAt:new Date("2025-05-31T12:00:00"),isRead:!0},{id:"msg2",senderId:"spec456",receiverId:"user123",content:"Sigur, mar\u021Bi este ok pentru mine.",createdAt:new Date("2025-05-31T13:15:00"),isRead:!1}]};ngOnInit(){this.userRole=this.authService.getUserRole(),this.userId=this.authService.getUserId(),this.userId="spec456",this.exchanges=this.dummy_exchanges,this.selectedExchange=this.dummy_selectedExchange,this.exchangeService.getExchanges().subscribe({next:t=>{if(this.exchanges=t.response??[],console.log("Convorbiri \xEEnc\u0103rcate:",this.exchanges),this.exchanges.length>0){let e=this.exchanges[this.exchanges.length-1];this.loadExchange(e.id)}},error:t=>{console.error("Eroare la \xEEnc\u0103rcarea convorbirilor:",t)}})}loadExchange(t){console.log("Loading exchange for user:",t),this.exchangeService.getExchange(t).subscribe({next:e=>{this.selectedExchange=e.response},error:e=>{console.error("Failed to reload exchange",e)}})}sendMessage(t){if(console.log("Sending message:",t),!this.selectedExchange){console.error("No exchange selected");return}let e={receiverId:this.selectedExchange.id,content:t};this.messageService.sendMessage(e).subscribe({next:n=>{console.log("Mesaj trimis cu succes:",n),this.loadExchange(this.selectedExchange?.id),this.messageContent=""},error:n=>{console.error("Eroare la trimiterea mesajului:",n)}})}acceptRequest(t){this.requestService.acceptRequest(t).subscribe({next:()=>{console.log("Cererea a fost acceptat\u0103"),this.selectedExchange?.requests.find(n=>n.id===t)&&this.loadExchange(this.selectedExchange?.id)},error:e=>{console.error("Eroare la acceptare:",e)}})}rejectRequest(t){this.requestService.rejectRequest(t).subscribe({next:()=>{console.log("Cererea a fost respins\u0103"),this.selectedExchange?.requests.find(n=>n.id===t)&&this.loadExchange(this.selectedExchange?.id)},error:e=>{console.error("Eroare la respingere:",e)}})}openReplyForm(t){this.selectedRequestId=t,this.isReplyFormVisible=!0}closeReplyForm(){this.isReplyFormVisible=!1}submitReply(t){if(!this.selectedRequestId)return;if(!this.selectedRequestId){console.error("No requestId found to submit reply.");return}let e=t;this.replyService.addReply(this.selectedRequestId,e).subscribe({next:()=>{console.log("Reply submitted successfully!"),this.closeReplyForm()},error:n=>{console.error("Eroare la trimiterea ofertei:",n)}})}acceptReply(t,e){this.replyService.acceptReply(e).subscribe({next:()=>{console.log("Reply accepted");let n=this.selectedExchange?.requests.find(r=>r.id===t);if(n){let r=this.authService.getUserId();(n.senderUserId===r?n.receiverUserId:n.senderUserId)&&this.loadExchange(this.selectedExchange?.id)}},error:n=>console.error("Error accepting reply:",n)})}rejectReply(t,e){this.replyService.rejectReply(e).subscribe({next:()=>{console.log("Reply rejected");let n=this.selectedExchange?.requests.find(r=>r.id===t);if(n){let r=this.authService.getUserId();(n.senderUserId===r?n.receiverUserId:n.senderUserId)&&this.loadExchange(this.selectedExchange?.id)}},error:n=>{console.error("Error rejecting reply:",n)}})}hasActiveServiceTask(t){let e=t.replies??[],n=e[e.length-1];return!!n?.serviceTask&&n.serviceTask.status!=="Completed"}getLastReplyWithServiceTask(t){let e=t.replies??[],n=e[e.length-1];return n?.serviceTask?n:void 0}completeTask(t,e){this.taskService.completeServiceTask(e).subscribe({next:()=>{console.log("Task marked as completed"),this.selectedTaskId=e;let s=this.selectedExchange?.requests.find(m=>m.replies?.some(L=>L.id===t))?.replies?.find(m=>m.id===t)?.serviceTask;s?this.showReviewForm(s):console.warn("Task not found in local data")},error:n=>{console.error("Error completing task:",n)}})}showReviewForm(t){let e=this.authService.getUserId(),n=e===t.userId||e===t.specialistId,r=t.status==="Completed";n&&r&&this.prepareReviewForm(t)}submitReview(t){if(console.log(this.selectedTaskId),!this.selectedTaskId){console.error("No requestId found to submit reply.");return}console.log(t);let e=t;this.reviewService.addReview(this.selectedTaskId,e).subscribe({next:()=>{console.log("Reply submitted successfully!"),this.closeReplyForm()},error:n=>{console.error("Eroare la trimiterea ofertei:",n)}})}closeReviewForm(){this.isReviewFormVisible=!1,this.reviewForm={receiverUserId:"",rating:5,content:""}}prepareReviewForm(t){let n=this.authService.getUserId()===t.userId?t.specialistId:t.userId;this.reviewForm={receiverUserId:n,rating:0,content:""},this.isReviewFormVisible=!0}cancelTask(t,e){this.taskService.cancelServiceTask(e).subscribe({next:()=>{console.log("Cererea a fost acceptat\u0103")},error:n=>{console.error("Eroare la acceptare:",n)}})}openMediaPicker(){console.log("Open media picker"),this.route.navigate(["/service-payment"])}static \u0275fac=function(e){return new(e||i)(g(w),g(Se),g(Bt),g(Lt),g($t),g(Gt),g($e),g(B))};static \u0275cmp=v({type:i,selectors:[["app-messages"]],decls:9,vars:3,consts:[["noSelection",""],["showTaskOverlay",""],[1,"chat-wrapper"],[1,"chat-container"],[1,"sidebar"],[1,"sidebar-header"],["class","conversation",3,"active","click",4,"ngFor","ngForOf"],["class","chat-area",4,"ngIf","ngIfElse"],[1,"conversation",3,"click"],["src","assets/avatar.svg","alt","avatar"],[1,"chat-area"],[1,"chat-header"],["src","assets/icons/info.svg","alt","specialist_info",3,"routerLink"],[1,"chat-messages"],[3,"message","currentUserId",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"chat-input"],["src","assets/icons/photo_media.svg","alt","photo_media",3,"click"],["type","text","placeholder","Scrie un mesaj aici",3,"ngModelChange","keydown.enter","ngModel"],[1,"send-btn",3,"click"],[3,"message","currentUserId"],[3,"ngClass"],[3,"requestAccepted","requestRejected","makeOffer","request"],["class","conversation-overlay",4,"ngIf"],[1,"conversation-overlay"],[3,"formSubmit","close","replyForm"],[3,"replyAccepted","replyRejected","reply","requestId"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"formSubmit","close","reviewForm"],[1,"chat-area","empty"]],template:function(e,n){if(e&1&&(a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),l(4,"Convorbiri"),o(),_(5,Co,3,3,"div",6),o(),_(6,Eo,16,7,"div",7)(7,To,3,0,"ng-template",null,0,Ie),o()()),e&2){let r=K(8);c(5),d("ngForOf",n.exchanges),c(),d("ngIf",n.selectedExchange)("ngIfElse",r)}},dependencies:[V,X,N,I,E,H,Z,G,xe,Ut,Nt,qt,zt,be,jt],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Roboto Mono,monospace}[_nghost-%COMP%]{display:block;background-color:#f4f4f4;padding:2rem;position:relative}.chat-wrapper[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:auto;border:3px solid black;background-color:#e8d9ff}.chat-container[_ngcontent-%COMP%]{display:flex;height:600px}.sidebar[_ngcontent-%COMP%]{width:25%;border-right:3px solid black;display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{border-bottom:3px solid black;padding:12px}.conversation[_ngcontent-%COMP%]{padding:1rem;border-bottom:2px solid black;background-color:#c9b7ff;display:flex;align-items:center;gap:1rem}.conversation[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}.chat-area[_ngcontent-%COMP%]{width:75%;display:flex;flex-direction:column}.chat-header[_ngcontent-%COMP%]{border-bottom:3px solid black;padding:16px;background-color:#c9b7ff;display:flex;justify-content:space-between;align-items:center}.chat-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:none;border:none;cursor:pointer}.chat-messages[_ngcontent-%COMP%]{flex-grow:1;padding:1rem;overflow-y:auto;position:relative}.chat-input[_ngcontent-%COMP%]{border-top:2px solid black;display:flex;align-items:center;padding:.5rem;gap:.5rem}.chat-input[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex:1;padding:.5rem;border-radius:6px;border:none;font-family:Roboto Mono,monospace}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:none;border:none;cursor:pointer}.chat-input[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]{background-color:#c9b7ff;padding:.5rem 1rem;border-radius:6px}.contact-link[_ngcontent-%COMP%]{position:absolute;top:10px;right:20px;font-size:.9rem}.message-left[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin:10px}.message-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin:10px}.action-buttons[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:10px;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out;font-family:Roboto Mono,monospace}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background-color:#9bc2a3;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]:hover{background-color:#be8a90;box-shadow:0 2px 6px #0003}.conversation-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;z-index:10;display:flex;align-items:center;justify-content:center;padding:1rem;box-shadow:0 0 12px #0003}.no-conversations[_ngcontent-%COMP%]{padding:1rem;color:#888;font-style:italic}.chat-area.empty[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#888;font-style:italic}"]})};var Ge=class i{constructor(t,e){this.http=t;this.authService=e}baseUrl="http://localhost:5241/api/Category";addCategory(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.post(`${this.baseUrl}/Add`,t,{headers:n})}getCategoryById(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.get(`${this.baseUrl}/GetById/${t}`,{headers:n})}getAllCategories(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`}),r=new ye;return t&&(r=r.set("search",t)),this.http.get(`${this.baseUrl}/GetAll`,{headers:n,params:r})}getCategoriesForSpecialist(t){let e=new ye;return t&&(e=e.set("search",t)),this.http.get(`${this.baseUrl}/GetAllForSpecialist`,{params:e})}getCategoriesAdminPage(t,e,n){let r=this.authService.getToken(),s=new b({Authorization:`Bearer ${r}`}),m=new ye().set("search",t||"").set("page",e).set("pageSize",n);return this.http.get(`${this.baseUrl}/GetPageForAdmin`,{headers:s,params:m})}updateCategory(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.patch(`${this.baseUrl}/Update/${t.id}`,t,{headers:n})}deleteCategory(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.delete(`${this.baseUrl}/Delete/${t}`,{headers:n})}static \u0275fac=function(e){return new(e||i)(T(j),T(w))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};function Ao(i,t){if(i&1){let e=y();a(0,"span",8),u("click",function(){let r=f(e).$implicit,s=p();return h(s.toggle(r.id))}),l(1),o()}if(i&2){let e=t.$implicit,n=p();Te("disabled",n.selectedCategoryIds.includes(e.id)),c(),C(" ",e.name," ")}}function Fo(i,t){if(i&1){let e=y();a(0,"span",11),l(1),a(2,"button",12),u("click",function(){let r=f(e).$implicit,s=p(2);return h(s.remove(r))}),l(3,"\xD7"),o()()}if(i&2){let e=t.$implicit,n=p(2);c(),C(" ",n.getCategoryName(e)," ")}}function Io(i,t){if(i&1&&(R(0),a(1,"div",9),_(2,Fo,4,1,"span",10),o(),U()),i&2){let e=p();c(2),d("ngForOf",e.selectedCategoryIds)}}var Ht=class i{constructor(t){this.categoryService=t}category=null;allCategories=[];searchTerm="";dummyCategories=[{id:"cat-001",name:"Traduceri medicale",description:"Traducerea documentelor medicale de specialitate."},{id:"cat-002",name:"Logopedie",description:"Servicii de diagnostic \u0219i terapie pentru tulbur\u0103ri de vorbire."},{id:"cat-003",name:"Psihoterapie",description:"Sesiuni individuale sau de grup pentru s\u0103n\u0103tatea mintal\u0103."},{id:"cat-004",name:"Nutri\u021Bie clinic\u0103",description:"Planuri alimentare personalizate pentru afec\u021Biuni cronice."},{id:"cat-005",name:"Fizioterapie",description:"Reabilitare fizic\u0103 post-traumatic\u0103 sau post-operatorie."}];placeholder="Caut\u0103 o categorie...";selectedCategoryIds=[];categoryChange=new M;ngOnInit(){this.allCategories=this.dummyCategories}getCategories(){this.categoryService.getAllCategories().subscribe({next:t=>{let e=this.removeDiacritics(this.searchTerm);this.allCategories=t.response.filter(n=>this.removeDiacritics(n.name).includes(e))},error:t=>{console.error("Eroare la ob\u021Binerea categoriilor:",t.errorMessage)}})}toggle(t){this.selectedCategoryIds.includes(t)||(this.selectedCategoryIds.push(t),this.categoryChange.emit(this.selectedCategoryIds))}remove(t){this.selectedCategoryIds=this.selectedCategoryIds.filter(e=>e!==t),this.categoryChange.emit(this.selectedCategoryIds)}getCategoryName(t){return this.allCategories?.find(e=>e.id===t)?.name||"Categorie necunoscut\u0103"}onSearch(t){this.searchTerm=t,this.getCategories()}removeDiacritics(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}static \u0275fac=function(e){return new(e||i)(g(Ge))};static \u0275cmp=v({type:i,selectors:[["app-category-selector"]],inputs:{selectedCategoryIds:"selectedCategoryIds"},outputs:{categoryChange:"categoryChange"},decls:11,vars:3,consts:[[1,"tag-selector"],[1,"section-title"],[1,"category-box"],[1,"search-category-wrapper"],[3,"searchChanged","placeholder"],[1,"category-options"],["class","tag option",3,"disabled","click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"tag","option",3,"click"],[1,"category-box","category-options"],["class","tag selected",4,"ngFor","ngForOf"],[1,"tag","selected"],["type","button",3,"click"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h3",1),l(2,"Alege din lista de categorii:"),o(),a(3,"div",2)(4,"div",3)(5,"app-search-input",4),u("searchChanged",function(s){return n.onSearch(s)}),o()(),a(6,"div",5),_(7,Ao,2,3,"span",6),o()(),a(8,"h3",1),l(9,"Categoriile selectate:"),o(),_(10,Io,3,1,"ng-container",7),o()),e&2&&(c(5),d("placeholder",n.placeholder),c(2),d("ngForOf",n.allCategories),c(3),d("ngIf",n.selectedCategoryIds.length>0))},dependencies:[E,N,I,se],styles:[".tag-selector[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.category-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:1.5rem;padding:1rem;background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:8px;box-shadow:0 0 4px #0000001a;flex-wrap:wrap}.category-options[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;align-items:flex-start}.tag.option[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem;font-family:Roboto Mono,monospace}.tag.option[_ngcontent-%COMP%]:hover{background-color:#333}.tag.option.disabled[_ngcontent-%COMP%]{background-color:#a1a1a1;cursor:not-allowed;opacity:.6}.tag.selected[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem;font-family:Roboto Mono,monospace}button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff}.section-title[_ngcontent-%COMP%]{margin-bottom:8px;font-family:Roboto Mono,monospace}.search-category-wrapper[_ngcontent-%COMP%]{background-color:#f6efff;border-radius:5px;width:300px;margin:auto;border:2px solid #c9b7ff}"]})};var Zt=class i{constructor(t,e){this.http=t;this.authService=e}baseUrl="http://localhost:5241/api/SpecialistProfile";becomeSpecialist(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.put(`${this.baseUrl}/become_specialist`,t,{headers:n}).pipe(Mn(r=>{r.response?.token&&localStorage.setItem("access_token",r.response.token)}))}getSpecialistProfile(){let t=this.authService.getToken(),e=new b({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/Get`,{headers:e})}updateSpecialistProfile(t){let e=this.authService.getToken(),n=new b({Authorization:`Bearer ${e}`});return this.http.patch(`${this.baseUrl}/Update`,t,{headers:n})}static \u0275fac=function(e){return new(e||i)(T(j),T(w))};static \u0275prov=q({token:i,factory:i.\u0275fac,providedIn:"root"})};var Vo=()=>[];function Ro(i,t){if(i&1){let e=y();a(0,"app-dynamic-form",5),u("formSubmit",function(r){f(e);let s=p();return h(s.handleStep1(r))}),o()}if(i&2){let e=p();d("fields",e.step1FormFields)("submitText","Treci la pasul urm\u0103tor")}}function Uo(i,t){if(i&1){let e=y();a(0,"div",6)(1,"app-category-selector",7),u("categoryChange",function(r){f(e);let s=p();return h(s.updateCategories(r))}),o(),a(2,"div",8)(3,"div",9)(4,"button",10),u("click",function(){f(e);let r=p();return h(r.addEntity())}),l(5,"Finalizeaz\u0103"),o()()()()}if(i&2){let e=p();c(),d("selectedCategoryIds",e.specialistData.categories||Y(1,Vo))}}var Kt=class i{constructor(t,e,n){this.authService=t;this.specialistProfileService=e;this.router=n}step=1;specialistData={yearsExperience:0,phoneNumber:"",address:"",description:"",categories:[]};formData={};step1FormFields=J({yearsExperience:0,phoneNumber:"",address:"",description:""},{address:{type:"text",class:"full-width"},yearsExperience:{type:"number",placeholder:"Ex: 5"},description:{type:"textarea",placeholder:"Descrie serviciile oferite",class:"full-width"}});isAddUserFormVisible=!1;ngOnInit(){let t={phoneNumber:"",address:"",yearsExperience:0,description:""};this.formData=F({},t)}handleStep1(t){this.specialistData=F(F({},this.specialistData),t),this.step=2}updateCategories(t){this.specialistData.categories=t}addEntity(){let t=this.authService.getUserId();if(!t){console.error("User ID not found");return}let e={userId:t,phoneNumber:this.specialistData.phoneNumber,address:this.specialistData.address,yearsExperience:this.specialistData.yearsExperience,description:this.specialistData.description,categories:this.specialistData.categories};this.specialistProfileService.becomeSpecialist(e).subscribe({next:()=>{this.closeAddUserForm(),this.router.navigate(["/home"])},error:n=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",n)}})}closeAddUserForm(){this.isAddUserFormVisible=!1}static \u0275fac=function(e){return new(e||i)(g(w),g(Zt),g(B))};static \u0275cmp=v({type:i,selectors:[["app-become-specialist"]],decls:7,vars:3,consts:[[1,"form-wrapper"],[1,"form-box"],[3,"ngSwitch"],[3,"fields","submitText","formSubmit",4,"ngSwitchCase"],["class","form-layout",4,"ngSwitchCase"],[3,"formSubmit","fields","submitText"],[1,"form-layout"],[3,"categoryChange","selectedCategoryIds"],[1,"form-group","full-width"],[1,"button-wrapper"],[1,"send-button",3,"click"]],template:function(e,n){e&1&&(a(0,"h2"),l(1,"Devino specialist!"),o(),a(2,"div",0)(3,"div",1),R(4,2),_(5,Ro,1,2,"app-dynamic-form",3)(6,Uo,6,2,"div",4),U(),o()()),e&2&&(c(4),d("ngSwitch",n.step),c(),d("ngSwitchCase",1),c(),d("ngSwitchCase",2))},dependencies:[Q,pt,ut,Ht],styles:["h2[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:30px}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.send-button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:300px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}.send-button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}.form-layout[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px 20px;padding:24px 32px;max-width:650px;margin:0 auto}.form-group[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;flex:1;display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{flex:1 1 100%}"]})};var No=["class","categories"],qo=()=>[5,10,20];function zo(i,t){if(i&1){let e=y();a(0,"div",9)(1,"div",10)(2,"div",11)(3,"button",12),u("click",function(){f(e);let r=p();return h(r.closeAddEntityForm())}),l(4,"\xD7"),o()(),a(5,"app-dynamic-form",13),u("formSubmit",function(r){f(e);let s=p();return h(s.addEntity(r))}),o()()()}if(i&2){let e=p();c(5),d("fields",e.addEntityFormFields)("submitText","Trimite")}}function jo(i,t){if(i&1){let e=y();a(0,"div",9)(1,"div",10)(2,"button",12),u("click",function(){f(e);let r=p();return h(r.closeUpdateEntityForm())}),l(3,"\xD7"),o(),a(4,"app-dynamic-form",14),u("formSubmit",function(r){f(e);let s=p();return h(s.updateEntity(r))}),o()()()}if(i&2){let e=p();c(4),d("fields",e.updateEntityFormFields)("initialData",e.formData)("submitText","Actualizeaz\u0103")}}function Bo(i,t){if(i&1){let e=y();a(0,"app-admin-details",18),u("close",function(){f(e);let r=p(2);return h(r.closeEntityDetails())}),o()}if(i&2){let e=p(2);d("entity",e.entityDetails)("title","Detalii categorie")}}function Lo(i,t){if(i&1){let e=y();a(0,"div",15)(1,"div",16)(2,"button",12),u("click",function(){f(e);let r=p();return h(r.closeEntityDetails())}),l(3,"\xD7"),o(),_(4,Bo,1,2,"app-admin-details",17),o()()}if(i&2){let e=p();c(4),d("ngIf",e.isEntityDetailsVisible)}}var Jt=class i{constructor(t){this.adminService=t}dummy_categories=[{id:"c1",name:"Psihologie",description:"Categoria pentru speciali\u0219ti \xEEn psihologie",specialistsCount:5,specialistIds:["s1","s2","s3","s4","s5"]},{id:"c2",name:"Nutri\u021Bie",description:"Categoria pentru speciali\u0219ti \xEEn nutri\u021Bie",specialistsCount:3,specialistIds:["s6","s7","s8"]}];searchTerm="";entities=[];selectedEntity=null;entityDetails={};entityDetailsId;pageSize=10;currentPage=1;totalItems=0;isAddEntityFormVisible=!1;isUpdateEntityFormVisible=!1;isEntityDetailsVisible=!1;selectedEntityId=null;columns=[{key:"id",header:"ID"},{key:"name",header:"Denumire"},{key:"description",header:"Descriere"},{key:"specialistsCount",header:"Num\u0103r speciali\u0219ti"},{key:"specialistIds",header:"Speciali\u0219tii cu aceast\u0103 categorie"},{key:"actions",header:"Ac\u021Biuni",type:"action",actions:[{label:"Detalii",class:"view",callback:t=>this.getEntity(t.id)},{label:"Modific\u0103",class:"edit",callback:t=>this.editEntity(t)},{label:"\u0218terge",class:"delete",callback:t=>this.deleteEntity(t)}]}];defaultEntity={name:"",description:""};formData={};error=null;addEntityFormFields=J(this.defaultEntity,{description:{type:"input",placeholder:"Descrie categoria",required:!1}});updateEntityFormFields=J({name:this.selectedEntity?.name||"",description:this.selectedEntity?.description||""});placeholder="Caut\u0103 o categorie...";ngOnInit(){let t={name:"",description:""};this.formData=F({},t),this.getPage()}onSearch(t){this.searchTerm=t,this.currentPage=1,this.getPage()}getEntity(t){console.log(t),this.adminService.getCategoryById(t).subscribe({next:e=>{this.entityDetailsId=e.response?.id,this.entityDetails=Be(e.response??{}),this.isEntityDetailsVisible=!0},error:e=>{console.error("Eroare la preluarea utilizatorului:",e.errorMessage?.status),alert("Nu s-au putut \xEEnc\u0103rca detaliile utilizatorului.")}})}getPage(){this.adminService.getCategoriesAdminPage(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:t=>{console.log(t.response),this.entities=t.response?.data??[],this.totalItems=t.response?.totalCount??0},error:t=>{this.error=t.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addEntity(t){let e=t;this.adminService.addCategory(e).subscribe({next:()=>{this.closeAddEntityForm(),this.getPage()},error:n=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",n)}})}editEntity(t){this.selectedEntityId=t.id,this.formData={name:t.name,description:t.description},this.isUpdateEntityFormVisible=!0}updateEntity(t){if(!this.selectedEntityId){console.error("Niciun utilizator nu a fost selectat pentru actualizare."),alert("Eroare: Nu a fost selectat niciun utilizator pentru actualizare.");return}let e={id:this.selectedEntityId,name:t.name||this.formData.name,description:t.description||this.formData.description};this.adminService.updateCategory(e).subscribe({next:()=>{this.closeUpdateEntityForm(),this.getPage()},error:n=>{console.error("Eroare la actualizare:",n)}})}showEntityDetails(t){this.isEntityDetailsVisible=!0}closeEntityDetails(){this.isEntityDetailsVisible=!1,this.selectedEntity=null}closeUpdateEntityForm(){this.selectedEntityId=null,this.resetForm(),this.isUpdateEntityFormVisible=!1}openAddEntityForm(){this.selectedEntityId=null,this.resetForm(),this.isAddEntityFormVisible=!0}viewEntity(t){this.isEntityDetailsVisible=!0}deleteEntity(t){confirm(`Sigur dori\u021Bi s\u0103 \u0219terge\u021Bi categoria ${t.name}?`)&&this.adminService.deleteCategory(t.id).subscribe({next:()=>{this.getPage()},error:e=>{console.error("Eroare la \u0219tergerea utilizatorului:",e)}})}closeAddEntityForm(){this.isAddEntityFormVisible=!1,this.resetForm()}resetForm(){this.formData={name:"",description:""}}onPageChange(t){this.currentPage=t,this.getPage()}onPageSizeChange(t){this.pageSize=t,this.currentPage=1,this.getPage()}static \u0275fac=function(e){return new(e||i)(g(Ge))};static \u0275cmp=v({type:i,selectors:[["app-admin",8,"categories"]],attrs:No,decls:13,vars:11,consts:[[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[1,"admin-wrapper"],[1,"admin-table-container"],[1,"search-box-wrapper"],[3,"searchChanged","placeholder"],[1,"add-btn",3,"click"],[3,"columns","data"],["class","modal-overlay",4,"ngIf"],["class","admin-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal"],[1,"close-button-wrapper"],[1,"close-button",3,"click"],[3,"formSubmit","fields","submitText"],[3,"formSubmit","fields","initialData","submitText"],[1,"admin-overlay"],[1,"admin-modal"],[3,"entity","title","close",4,"ngIf"],[3,"close","entity","title"]],template:function(e,n){e&1&&(a(0,"app-pagination",0),u("pageChange",function(s){return n.onPageChange(s)})("pageSizeChange",function(s){return n.onPageSizeChange(s)}),o(),a(1,"div",1)(2,"div",2)(3,"h2"),l(4,"Administreaz\u0103 toate categoriile"),o(),a(5,"div",3)(6,"app-search-input",4),u("searchChanged",function(s){return n.onSearch(s)}),o()(),a(7,"button",5),u("click",function(){return n.openAddEntityForm()}),l(8,"Adaug\u0103 categorie"),o(),S(9,"app-dynamic-table",6),o()(),_(10,zo,6,2,"div",7)(11,jo,5,3,"div",7)(12,Lo,5,1,"div",8)),e&2&&(d("currentPage",n.currentPage)("pageSize",n.pageSize)("pageSizeOptions",Y(10,qo))("totalItems",n.totalItems),c(6),d("placeholder",n.placeholder),c(3),d("columns",n.columns)("data",n.entities),c(),d("ngIf",n.isAddEntityFormVisible),c(),d("ngIf",n.isUpdateEntityFormVisible),c(),d("ngIf",n.isEntityDetailsVisible))},dependencies:[Oe,Q,se,De,de,I],styles:[".admin-wrapper[_ngcontent-%COMP%]{text-align:center}.admin-table-container[_ngcontent-%COMP%]{display:inline-block;padding:24px;background-color:#d9c8ff;border:2px solid #4b358e;border-radius:8px;font-family:Roboto Mono,monospace;box-shadow:0 4px 8px #0000001a;margin:40px auto}.admin-table-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.admin-table[_ngcontent-%COMP%]{width:max-content;max-width:100%;margin-left:auto;margin-right:auto;border-collapse:collapse;background-color:#f8f4ff;border-radius:6px}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;white-space:nowrap}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700}.action-link[_ngcontent-%COMP%]{margin-right:12px;cursor:pointer;text-decoration:none;font-weight:700}.action-link.view[_ngcontent-%COMP%]{color:#00f}.action-link.edit[_ngcontent-%COMP%]{color:green}.action-link.delete[_ngcontent-%COMP%]{color:red}.add-btn[_ngcontent-%COMP%]{background-color:#916fc7;color:#fff;border:3px solid #4b358e;margin-top:14px;margin-bottom:20px;padding:8px 16px;font-weight:700;border-radius:6px;cursor:pointer;transition:background-color .3s;font-family:Roboto Mono,monospace}.add-btn[_ngcontent-%COMP%]:hover{background-color:#3a2973}",".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var Yt=class i{settings={fullName:"",email:"",phoneNumber:"",language:"ro",darkMode:!1,emailNotifications:!0,smsNotifications:!1};onImageUpload(t){let e=t.target.files?.[0];e&&console.log("Uploaded image:",e.name)}changePassword(){alert("Password change flow goes here.")}deactivateAccount(){confirm("E\u0219ti sigur c\u0103 vrei s\u0103 dezactivezi contul?")&&console.log("Account deactivated")}deleteAccount(){confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi contul? Aceast\u0103 ac\u021Biune este ireversibil\u0103.")&&console.log("Account deleted")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-settings"]],decls:48,vars:7,consts:[[1,"settings-container"],[1,"settings-title"],[1,"settings-section"],["for","fullName"],["id","fullName","type","text","name","fullName",3,"ngModelChange","ngModel"],["for","email"],["id","email","type","email","name","email",3,"ngModelChange","ngModel"],["for","phone"],["id","phone","type","text","name","phone",3,"ngModelChange","ngModel"],["for","profileImage"],["id","profileImage","type","file",3,"change"],["type","button",3,"click"],["for","language"],["id","language","name","language",3,"ngModelChange","ngModel"],["value","ro"],["value","en"],["type","checkbox","name","darkMode",3,"ngModelChange","ngModel"],["type","checkbox","name","emailNotifications",3,"ngModelChange","ngModel"],["type","checkbox","name","smsNotifications",3,"ngModelChange","ngModel"],[1,"danger",3,"click"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"h1",1),l(2,"Set\u0103rile contului"),o(),a(3,"section",2)(4,"h2"),l(5,"Profilul t\u0103u"),o(),a(6,"form")(7,"label",3),l(8,"Nume complet"),o(),a(9,"input",4),P("ngModelChange",function(s){return O(n.settings.fullName,s)||(n.settings.fullName=s),s}),o(),a(10,"label",5),l(11,"Adresa e-mail"),o(),a(12,"input",6),P("ngModelChange",function(s){return O(n.settings.email,s)||(n.settings.email=s),s}),o(),a(13,"label",7),l(14,"Num\u0103r de telefon"),o(),a(15,"input",8),P("ngModelChange",function(s){return O(n.settings.phoneNumber,s)||(n.settings.phoneNumber=s),s}),o(),a(16,"label",9),l(17,"Poza de profil"),o(),a(18,"input",10),u("change",function(s){return n.onImageUpload(s)}),o(),a(19,"button",11),u("click",function(){return n.changePassword()}),l(20,"Schimb\u0103 parola"),o()()(),a(21,"section",2)(22,"h2"),l(23,"Set\u0103ri aplica\u021Bie"),o(),a(24,"form")(25,"label",12),l(26,"Limba aplica\u021Biei"),o(),a(27,"select",13),P("ngModelChange",function(s){return O(n.settings.language,s)||(n.settings.language=s),s}),a(28,"option",14),l(29,"Rom\xE2n\u0103"),o(),a(30,"option",15),l(31,"English"),o()(),a(32,"label")(33,"input",16),P("ngModelChange",function(s){return O(n.settings.darkMode,s)||(n.settings.darkMode=s),s}),o(),l(34," Activeaz\u0103 modul \xEEntrunecat "),o(),a(35,"label")(36,"input",17),P("ngModelChange",function(s){return O(n.settings.emailNotifications,s)||(n.settings.emailNotifications=s),s}),o(),l(37," Notific\u0103ri prin e-mail "),o(),a(38,"label")(39,"input",18),P("ngModelChange",function(s){return O(n.settings.smsNotifications,s)||(n.settings.smsNotifications=s),s}),o(),l(40," Notific\u0103ri prin SMS "),o()()(),a(41,"section",2)(42,"h2"),l(43,"Siguran\u021B\u0103 \u0219i ac\u021Biuni"),o(),a(44,"button",19),u("click",function(){return n.deactivateAccount()}),l(45,"Dezactiveaz\u0103 contul"),o(),a(46,"button",19),u("click",function(){return n.deleteAccount()}),l(47,"\u0218terge contul"),o()()()),e&2&&(c(9),D("ngModel",n.settings.fullName),c(3),D("ngModel",n.settings.email),c(3),D("ngModel",n.settings.phoneNumber),c(12),D("ngModel",n.settings.language),c(6),D("ngModel",n.settings.darkMode),c(3),D("ngModel",n.settings.emailNotifications),c(3),D("ngModel",n.settings.smsNotifications))},dependencies:[E,ae,qe,ze,H,pn,Ce,Z,oe,G,ee],styles:[".settings-container[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;padding:2rem;background-color:#f9f6ff;border-radius:12px;box-shadow:0 0 8px #0000001a}.settings-title[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:2rem;font-weight:700;text-align:center}.settings-section[_ngcontent-%COMP%]{margin-bottom:2.5rem;border-top:1px solid #ccc;padding-top:1.5rem}.settings-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:1rem}.settings-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:500;margin:.5rem 0 .25rem}.settings-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .settings-section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-bottom:1rem;border-radius:6px;border:1px solid #ccc;font-size:1rem}button[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;margin-top:1rem;border:none;border-radius:6px;background-color:#6541f0;color:#fff;font-weight:700;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#5134c9}button.danger[_ngcontent-%COMP%]{background-color:#d9534f;margin-right:1rem}button.danger[_ngcontent-%COMP%]:hover{background-color:#c9302c}"]})};var $o=()=>[];function Go(i,t){if(i&1&&S(0,"img",9),i&2){let e=p().$implicit;d("src",e.senderUserProfilePictureUrl,le)}}function Wo(i,t){i&1&&(R(0),S(1,"img",10),U())}function Ho(i,t){if(i&1&&(a(0,"div",3)(1,"div",4),_(2,Go,1,1,"img",5),a(3,"div",6)(4,"strong"),l(5),o(),a(6,"span",7),_(7,Wo,2,0,"ng-container",8),o()()(),a(8,"p"),l(9),o(),a(10,"small"),l(11),z(12,"date"),o()()),i&2){let e=t.$implicit;c(2),d("ngIf",e.senderUserProfilePictureUrl),c(3),k(e.senderUserFullName),c(2),d("ngForOf",Y(8,$o).constructor(e.rating)),c(2),k(e.content),c(2),k(re(12,5,e.createdAt,"shortDate"))}}var Xt=class i{constructor(t){this.reviewService=t}reviews=[];page=1;pageSize=5;dummyReviews=[{id:"1",receiverUserId:"user-123",senderUserFullName:"Ana Popescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/women/21.jpg",rating:5,content:"Excelent! A fost foarte profesionist\u0103 \u0219i m-a ajutat rapid.",createdAt:new Date("2024-12-05T14:35:00"),updatedAt:new Date("2024-12-05T14:35:00")},{id:"2",receiverUserId:"user-456",senderUserFullName:"Andrei Ionescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/men/32.jpg",rating:4,content:"Serviciu bun, dar am avut o mic\u0103 \xEEnt\xE2rziere la \xEEnceput.",createdAt:new Date("2025-01-10T09:20:00"),updatedAt:new Date("2025-01-10T09:20:00")},{id:"3",receiverUserId:"user-789",senderUserFullName:"Mihai Georgescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/men/45.jpg",rating:3,content:"Experien\u021B\u0103 ok, dar se poate \xEEmbun\u0103t\u0103\u021Bi comunicarea.",createdAt:new Date("2025-03-18T17:45:00"),updatedAt:new Date("2025-03-18T17:45:00")},{id:"4",receiverUserId:"user-123",senderUserFullName:"Elena Tudor",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/women/55.jpg",rating:5,content:"Foarte mul\u021Bumit\u0103! Recomand cu \xEEncredere!",createdAt:new Date("2025-04-02T11:10:00"),updatedAt:new Date("2025-04-02T11:10:00")},{id:"5",receiverUserId:"user-999",senderUserFullName:"Radu Vasile",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/men/61.jpg",rating:2,content:"Din p\u0103cate, nu a fost ce am a\u0219teptat. Probleme de punctualitate.",createdAt:new Date("2025-02-14T08:30:00"),updatedAt:new Date("2025-02-14T08:30:00")},{id:"6",receiverUserId:"user-888",senderUserFullName:"Ioana Marinescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/women/88.jpg",rating:4,content:"Totul a decurs bine, dar a\u0219 fi vrut mai multe explica\u021Bii.",createdAt:new Date("2025-05-22T15:50:00"),updatedAt:new Date("2025-05-22T15:50:00")}];ngOnInit(){this.reviews=this.dummyReviews,this.loadReviews()}loadReviews(){this.reviewService.getReviews(this.page,this.pageSize).subscribe({next:t=>{this.reviews=t.response?.data||[]},error:t=>{console.error("Error loading reviews",t)}})}static \u0275fac=function(e){return new(e||i)(g($e))};static \u0275cmp=v({type:i,selectors:[["app-reviews"]],decls:5,vars:1,consts:[[1,"account-card"],[1,"reviews-container"],["class","review-card",4,"ngFor","ngForOf"],[1,"review-card"],[1,"header"],["alt","Profil",3,"src",4,"ngIf"],[1,"review-info"],[1,"rating"],[4,"ngFor","ngForOf"],["alt","Profil",3,"src"],["src","assets/icons/star-filled.svg","alt","star",2,"width","24px","height","24px","margin-right","0"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Recenziile tale"),o(),_(4,Ho,13,9,"div",2),o()()),e&2&&(c(4),d("ngForOf",n.reviews))},dependencies:[N,I,ce],styles:[".account-card[_ngcontent-%COMP%]{background:#e0caff;max-width:1000px;margin:32px auto;box-shadow:0 4px 16px #0000001a;font-family:Roboto Mono,monospace;border:3px solid black}.reviews-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:32px}.reviews-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px;text-align:center;margin-bottom:32px;font-weight:700;color:#000}.review-card[_ngcontent-%COMP%]{background-color:#f5f2ff;border-radius:10px;padding:1.25rem;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000000d;transition:transform .2s}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;object-fit:cover;margin-right:16px}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .review-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;padding-top:4px}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .review-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:18px;line-height:1;margin-left:3px;margin-bottom:2px}.review-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-size:1rem;color:#333}.review-card[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;text-align:right;color:#777;font-size:.85rem}.rating[_ngcontent-%COMP%]{display:flex;align-items:center}.rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:1px}"]})};var mi="basil",Zo=function(t){return t===3?"v3":t},gi="https://js.stripe.com",Ko="".concat(gi,"/").concat(mi,"/stripe.js"),Jo=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Yo=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,pi="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Xo=function(t){return Jo.test(t)||Yo.test(t)},Qo=function(){for(var t=document.querySelectorAll('script[src^="'.concat(gi,'"]')),e=0;e<t.length;e++){var n=t[e];if(Xo(n.src))return n}return null},ui=function(t){var e=t&&!t.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(Ko).concat(e);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},ea=function(t,e){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:e})},at=null,Qt=null,en=null,ta=function(t){return function(e){t(new Error("Failed to load Stripe.js",{cause:e}))}},na=function(t,e){return function(){window.Stripe?t(window.Stripe):e(new Error("Stripe.js not available"))}},ia=function(t){return at!==null?at:(at=new Promise(function(e,n){if(typeof window>"u"||typeof document>"u"){e(null);return}if(window.Stripe&&t&&console.warn(pi),window.Stripe){e(window.Stripe);return}try{var r=Qo();if(r&&t)console.warn(pi);else if(!r)r=ui(t);else if(r&&en!==null&&Qt!==null){var s;r.removeEventListener("load",en),r.removeEventListener("error",Qt),(s=r.parentNode)===null||s===void 0||s.removeChild(r),r=ui(t)}en=na(e,n),Qt=ta(n),r.addEventListener("load",en),r.addEventListener("error",Qt)}catch(m){n(m);return}}),at.catch(function(e){return at=null,Promise.reject(e)}))},ra=function(t,e,n){if(t===null)return null;var r=e[0],s=r.match(/^pk_test/),m=Zo(t.version),L=mi;s&&m!==L&&console.warn("Stripe.js@".concat(m," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(L,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var te=t.apply(void 0,e);return ea(te,n),te},st,fi=!1,hi=function(){return st||(st=ia(null).catch(function(t){return st=null,Promise.reject(t)}),st)};Promise.resolve().then(function(){return hi()}).catch(function(i){fi||console.warn(i)});var _i=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];fi=!0;var r=Date.now();return hi().then(function(s){return ra(s,e,r)})};var tn=class i{serviceTask={id:"12345",replyId:"67890",userId:"user123",specialistId:"spec456",description:"Montare mobilier",address:"Str. Exemplu 123",startDate:new Date,endDate:new Date,specialistFullName:"Ion Popescu",price:350,status:"Confirmed",completedAt:new Date,cancelledAt:new Date};cardPaymentSelected=!1;showError=!1;ngAfterViewInit(){this.setupStripe()}setupStripe(){return an(this,null,function*(){let t=yield _i("pk_test_51RY4TaRP4R8qcMUlWSJwbW6GBjetIiG7jc4fLrsUcl7xMS8uTMcI2mfDHId8YRAku8lllViJiAY0mVPObrvgLYke00QP5RVa7S");if(!t){console.error("Stripe failed to initialize.");return}let n=t.elements().create("card");n.mount("#card-element");let r=yield fetch("http://localhost:5241/api/stripe/account/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"}}),{clientSecret:s}=yield r.json();console.log("Client secret:",s);let m=document.getElementById("payment-form");if(!m){console.error("Payment form not found.");return}m.addEventListener("submit",L=>an(this,null,function*(){L.preventDefault();let te=yield t.confirmCardPayment(s,{payment_method:{card:n,billing_details:{name:"Test Client"}}});te.error?console.error(te.error.message):te.paymentIntent.status==="succeeded"&&alert("Plat\u0103 reu\u0219it\u0103!")}))})}selectCardPayment(){this.cardPaymentSelected=!0,this.showError=!1}payForService(){if(!this.cardPaymentSelected){this.showError=!0;return}console.log("Plat\u0103 ini\u021Biat\u0103 cu cardul bancar."),window.open("https://www.plata-cu-cardul.ro","_blank")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-service-payment"]],decls:7,vars:0,consts:[["id","payment-form"],["for","card-element",2,"display","block","margin-bottom","8px"],["id","card-element",2,"padding","10px","border","1px solid #ccc","border-radius","6px","margin-bottom","12px"],["id","card-errors","role","alert",2,"color","red","margin-bottom","12px"],["id","submit","type","submit",2,"padding","10px 20px","background-color","#8e44ad","color","white","border","none","border-radius","4px","cursor","pointer"]],template:function(e,n){e&1&&(a(0,"form",0)(1,"label",1),l(2," Num\u0103r card "),o(),S(3,"div",2)(4,"div",3),a(5,"button",4),l(6," Pl\u0103te\u0219te "),o()())},dependencies:[E,ae,oe,ee],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f9f7ff;margin:0;padding:0}.container[_ngcontent-%COMP%]{max-width:700px;margin:40px auto;background-color:#fff;padding:32px;border-radius:12px;box-shadow:0 4px 16px #0000001a;border:2px solid #8e44ad}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:24px}.task-detail[_ngcontent-%COMP%]{margin-bottom:12px}.task-detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#555;display:block}.task-detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333;font-size:1rem}.pay-section[_ngcontent-%COMP%]{margin-top:32px;text-align:center}.price[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;color:#27ae60;margin-bottom:16px}.pay-button[_ngcontent-%COMP%]{background-color:#8e44ad;color:#fff;padding:12px 24px;border:none;border-radius:8px;font-size:1rem;cursor:pointer;transition:background-color .2s ease}.pay-button[_ngcontent-%COMP%]:hover{background-color:#732d91}"]})};var nn=[{path:"home",component:Dt},{path:"about",component:Ot},{path:"profile",component:Rt},{path:"home/:id",loadComponent:()=>import("./chunk-BWOOOVFU.js").then(i=>i.SpecialistDetailsComponent)},{path:"specialist/:id",component:cn},{path:"messages",component:Wt},{path:"profile/user/become-specialist",component:Kt},{path:"profile/user-settings",component:Yt},{path:"profile/user-reviews",component:Xt},{path:"request-form",component:je},{path:"register",component:Pt},{path:"login",component:Et},{path:"specialist-details",component:cn},{path:"service-payment",component:tn},{path:"admin",component:Tt},{path:"admin/users",component:At},{path:"admin/specialists",component:Ft},{path:"admin/categories",component:Jt},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:It}];var _n={providers:[Pn({eventCoalescing:!0}),gt(nn),In()]};var oa=i=>({show:i}),rn=class i{constructor(t,e){this.authService=t;this.router=e;this.router.events.pipe(xn(n=>n instanceof Vn)).subscribe(n=>{console.log("Navigated to:",n)})}title="ExpertEase.Frontend";navbarOpen=!1;toggleNavbar(){this.navbarOpen=!this.navbarOpen}static \u0275fac=function(e){return new(e||i)(g(w),g(B))};static \u0275cmp=v({type:i,selectors:[["app-root"]],decls:22,vars:3,consts:[[1,"navbar"],["routerLink","/home","data-btn","Acas\u0103",1,"logo-button","toggle-btn"],["src","logo.svg","alt","Logo"],[1,"navbar-toggle",3,"click"],[1,"navbar-links",3,"ngClass"],["routerLink","profile/user/become-specialist","routerLinkActive","active"],["routerLink","/about","routerLinkActive","active"],["routerLink","/messages","routerLinkActive","active"],["routerLink","/profile","routerLinkActive","active"],["routerLink","/admin","routerLinkActive","active"]],template:function(e,n){e&1&&(a(0,"nav",0)(1,"button",1),S(2,"img",2),o(),a(3,"button",3),u("click",function(){return n.toggleNavbar()}),l(4,"\u2630"),o(),a(5,"ul",4)(6,"li")(7,"a",5),l(8,"Devino specialist!"),o()(),a(9,"li")(10,"a",6),l(11,"Despre noi"),o()(),a(12,"li")(13,"a",7),l(14,"Mesajele tale"),o()(),a(15,"li")(16,"a",8),l(17,"Contul t\u0103u"),o()(),a(18,"li")(19,"a",9),l(20,"Admin Dashboard"),o()()()(),S(21,"router-outlet")),e&2&&(c(5),d("ngClass",he(1,oa,n.navbarOpen)))},dependencies:[V,X,mt,be],styles:[".navbar[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center;padding:16px 32px;background-color:#1e1e2f;color:#fff;box-shadow:0 2px 2px #0000001a;position:relative}.navbar-toggle[_ngcontent-%COMP%]{display:none;font-size:32px;background:none;border:none;color:#fff;cursor:pointer}.navbar-links[_ngcontent-%COMP%]{list-style:none;display:grid;grid-auto-flow:column;gap:24px;margin:0;padding:0;font-family:Roboto Mono,monospace}.navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:2px 0;transition:border-bottom .2s ease}.navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:2px solid white}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{grid-template-columns:1fr auto;grid-template-rows:auto auto;row-gap:16px}.navbar-toggle[_ngcontent-%COMP%]{display:block}.navbar-links[_ngcontent-%COMP%]{display:none;grid-auto-flow:row;width:100%;grid-column:1/-1}.navbar-links.show[_ngcontent-%COMP%]{display:grid}}"]})};kn(rn,ne(F({},_n),{providers:[..._n.providers,gt(nn)]})).catch(i=>console.error(i));
