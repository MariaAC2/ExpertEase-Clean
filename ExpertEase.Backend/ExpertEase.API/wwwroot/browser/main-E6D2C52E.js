var bx=Object.defineProperty,Cx=Object.defineProperties;var xx=Object.getOwnPropertyDescriptors;var eh=Object.getOwnPropertySymbols;var wx=Object.prototype.hasOwnProperty,Mx=Object.prototype.propertyIsEnumerable;var th=(n,e,t)=>e in n?bx(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,S=(n,e)=>{for(var t in e||={})wx.call(e,t)&&th(n,t,e[t]);if(eh)for(var t of eh(e))Mx.call(e,t)&&th(n,t,e[t]);return n},G=(n,e)=>Cx(n,xx(e));var Ar=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var O=(n,e,t)=>new Promise((i,r)=>{var o=u=>{try{l(t.next(u))}catch(g){r(g)}},s=u=>{try{l(t.throw(u))}catch(g){r(g)}},l=u=>u.done?i(u.value):Promise.resolve(u.value).then(o,s);l((t=t.apply(n,e)).next())});function Bu(n,e){return Object.is(n,e)}var it=null,Aa=!1,$u=1,rn=Symbol("SIGNAL");function he(n){let e=it;return it=n,e}function Hu(){return it}var rs={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function os(n){if(Aa)throw new Error("");if(it===null)return;it.consumerOnSignalRead(n);let e=it.nextProducerIndex++;if(Va(it),e<it.producerNode.length&&it.producerNode[e]!==n&&is(it)){let t=it.producerNode[e];La(t,it.producerIndexOfThis[e])}it.producerNode[e]!==n&&(it.producerNode[e]=n,it.producerIndexOfThis[e]=is(it)?ih(n,it,e):0),it.producerLastReadVersion[e]=n.version}function nh(){$u++}function qu(n){if(!(is(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===$u)){if(!n.producerMustRecompute(n)&&!Yu(n)){ju(n);return}n.producerRecomputeValue(n),ju(n)}}function Wu(n){if(n.liveConsumerNode===void 0)return;let e=Aa;Aa=!0;try{for(let t of n.liveConsumerNode)t.dirty||Sx(t)}finally{Aa=e}}function Gu(){return it?.consumerAllowSignalWrites!==!1}function Sx(n){n.dirty=!0,Wu(n),n.consumerMarkedDirty?.(n)}function ju(n){n.dirty=!1,n.lastCleanEpoch=$u}function Fa(n){return n&&(n.nextProducerIndex=0),he(n)}function Zu(n,e){if(he(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(is(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)La(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Yu(n){Va(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(qu(t),i!==t.version))return!0}return!1}function Qu(n){if(Va(n),is(n))for(let e=0;e<n.producerNode.length;e++)La(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ih(n,e,t){if(rh(n),n.liveConsumerNode.length===0&&oh(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=ih(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function La(n,e){if(rh(n),n.liveConsumerNode.length===1&&oh(n))for(let i=0;i<n.producerNode.length;i++)La(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Va(r),r.producerIndexOfThis[i]=e}}function is(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Va(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function rh(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function oh(n){return n.producerNode!==void 0}function Ku(n,e){let t=Object.create(Dx);t.computation=n,e!==void 0&&(t.equal=e);let i=()=>{if(qu(t),os(t),t.value===Na)throw t.error;return t.value};return i[rn]=t,i}var zu=Symbol("UNSET"),Uu=Symbol("COMPUTING"),Na=Symbol("ERRORED"),Dx=G(S({},rs),{value:zu,dirty:!0,error:null,equal:Bu,kind:"computed",producerMustRecompute(n){return n.value===zu||n.value===Uu},producerRecomputeValue(n){if(n.value===Uu)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Uu;let t=Fa(n),i,r=!1;try{i=n.computation(),he(null),r=e!==zu&&e!==Na&&i!==Na&&n.equal(e,i)}catch(o){i=Na,n.error=o}finally{Zu(n,t)}if(r){n.value=e;return}n.value=i,n.version++}});function Ex(){throw new Error}var sh=Ex;function ah(n){sh(n)}function Ju(n){sh=n}var Px=null;function Xu(n,e){let t=Object.create(za);t.value=n,e!==void 0&&(t.equal=e);let i=()=>(os(t),t.value);return i[rn]=t,i}function ss(n,e){Gu()||ah(n),n.equal(n.value,e)||(n.value=e,Ix(n))}function ep(n,e){Gu()||ah(n),ss(n,e(n.value))}var za=G(S({},rs),{equal:Bu,value:void 0,kind:"signal"});function Ix(n){n.version++,nh(),Wu(n),Px?.()}function tp(n){let e=he(null);try{return n()}finally{he(e)}}var np;function as(){return np}function Gn(n){let e=np;return np=n,e}var Ua=Symbol("NotFound");function ne(n){return typeof n=="function"}function Nr(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ja=Nr(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Qi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var He=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(ne(i))try{i()}catch(o){e=o instanceof ja?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{ch(o)}catch(s){e=e??[],s instanceof ja?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ja(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ch(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Qi(t,e)}remove(e){let{_finalizers:t}=this;t&&Qi(t,e),e instanceof n&&e._removeParent(this)}};He.EMPTY=(()=>{let n=new He;return n.closed=!0,n})();var ip=He.EMPTY;function Ba(n){return n instanceof He||n&&"closed"in n&&ne(n.remove)&&ne(n.add)&&ne(n.unsubscribe)}function ch(n){ne(n)?n():n.unsubscribe()}var gn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fr={setTimeout(n,e,...t){let{delegate:i}=Fr;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Fr;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function $a(n){Fr.setTimeout(()=>{let{onUnhandledError:e}=gn;if(e)e(n);else throw n})}function Ki(){}var lh=rp("C",void 0,void 0);function dh(n){return rp("E",void 0,n)}function uh(n){return rp("N",n,void 0)}function rp(n,e,t){return{kind:n,value:e,error:t}}var Ji=null;function Lr(n){if(gn.useDeprecatedSynchronousErrorHandling){let e=!Ji;if(e&&(Ji={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=Ji;if(Ji=null,t)throw i}}else n()}function ph(n){gn.useDeprecatedSynchronousErrorHandling&&Ji&&(Ji.errorThrown=!0,Ji.error=n)}var Xi=class extends He{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ba(e)&&e.add(this)):this.destination=Nx}static create(e,t,i){return new _i(e,t,i)}next(e){this.isStopped?sp(uh(e),this):this._next(e)}error(e){this.isStopped?sp(dh(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?sp(lh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Rx=Function.prototype.bind;function op(n,e){return Rx.call(n,e)}var ap=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Ha(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Ha(i)}else Ha(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ha(t)}}},_i=class extends Xi{constructor(e,t,i){super();let r;if(ne(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&gn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&op(e.next,o),error:e.error&&op(e.error,o),complete:e.complete&&op(e.complete,o)}):r=e}this.destination=new ap(r)}};function Ha(n){gn.useDeprecatedSynchronousErrorHandling?ph(n):$a(n)}function Ax(n){throw n}function sp(n,e){let{onStoppedNotification:t}=gn;t&&Fr.setTimeout(()=>t(n,e))}var Nx={closed:!0,next:Ki,error:Ax,complete:Ki};var Vr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Zt(n){return n}function cp(...n){return lp(n)}function lp(n){return n.length===0?Zt:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var me=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=Lx(t)?t:new _i(t,i,r);return Lr(()=>{let{operator:s,source:l}=this;o.add(s?s.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=fh(i),new i((r,o)=>{let s=new _i({next:l=>{try{t(l)}catch(u){o(u),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Vr](){return this}pipe(...t){return lp(t)(this)}toPromise(t){return t=fh(t),new t((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function fh(n){var e;return(e=n??gn.Promise)!==null&&e!==void 0?e:Promise}function Fx(n){return n&&ne(n.next)&&ne(n.error)&&ne(n.complete)}function Lx(n){return n&&n instanceof Xi||Fx(n)&&Ba(n)}function dp(n){return ne(n?.lift)}function ve(n){return e=>{if(dp(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(n,e,t,i,r){return new up(n,e,t,i,r)}var up=class extends Xi{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(l){try{t(l)}catch(u){e.error(u)}}:super._next,this._error=r?function(l){try{r(l)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function zr(){return ve((n,e)=>{let t=null;n._refCount++;let i=pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Ur=class extends me{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,dp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new He;let t=this.getSubject();e.add(this.source.subscribe(pe(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=He.EMPTY)}return e}refCount(){return zr()(this)}};var gh=Nr(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var _e=(()=>{class n extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new qa(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new gh}next(t){Lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?ip:(this.currentObservers=null,o.push(t),new He(()=>{this.currentObservers=null,Qi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new me;return t.source=this,t}}return n.create=(e,t)=>new qa(e,t),n})(),qa=class extends _e{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:ip}};var be=class extends _e{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var pp={now(){return(pp.delegate||Date).now()},delegate:void 0};var Wa=class extends He{constructor(e,t){super()}schedule(e,t=0){return this}};var cs={setInterval(n,e,...t){let{delegate:i}=cs;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=cs;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ga=class extends Wa{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return cs.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&cs.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Qi(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var jr=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};jr.now=pp.now;var Za=class extends jr{constructor(e,t=jr.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var fp=new Za(Ga),mh=fp;var Rt=new me(n=>n.complete());function Ya(n){return n&&ne(n.schedule)}function hh(n){return n[n.length-1]}function Qa(n){return ne(hh(n))?n.pop():void 0}function yi(n){return Ya(hh(n))?n.pop():void 0}function _h(n,e,t,i){function r(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function l(h){try{g(i.next(h))}catch(C){s(C)}}function u(h){try{g(i.throw(h))}catch(C){s(C)}}function g(h){h.done?o(h.value):r(h.value).then(l,u)}g((i=i.apply(n,e||[])).next())})}function vh(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function er(n){return this instanceof er?(this.v=n,this):new er(n)}function yh(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),r[Symbol.asyncIterator]=function(){return this},r;function s(x){return function(A){return Promise.resolve(A).then(x,C)}}function l(x,A){i[x]&&(r[x]=function(H){return new Promise(function(Q,ue){o.push([x,H,Q,ue])>1||u(x,H)})},A&&(r[x]=A(r[x])))}function u(x,A){try{g(i[x](A))}catch(H){M(o[0][3],H)}}function g(x){x.value instanceof er?Promise.resolve(x.value.v).then(h,C):M(o[0][2],x)}function h(x){u("next",x)}function C(x){u("throw",x)}function M(x,A){x(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function bh(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof vh=="function"?vh(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(l,u){s=n[o](s),r(l,u,s.done,s.value)})}}function r(o,s,l,u){Promise.resolve(u).then(function(g){o({value:g,done:l})},s)}}var Ka=n=>n&&typeof n.length=="number"&&typeof n!="function";function Ja(n){return ne(n?.then)}function Xa(n){return ne(n[Vr])}function ec(n){return Symbol.asyncIterator&&ne(n?.[Symbol.asyncIterator])}function tc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Vx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var nc=Vx();function ic(n){return ne(n?.[nc])}function rc(n){return yh(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield er(t.read());if(r)return yield er(void 0);yield yield er(i)}}finally{t.releaseLock()}})}function oc(n){return ne(n?.getReader)}function Ge(n){if(n instanceof me)return n;if(n!=null){if(Xa(n))return zx(n);if(Ka(n))return Ux(n);if(Ja(n))return jx(n);if(ec(n))return Ch(n);if(ic(n))return Bx(n);if(oc(n))return $x(n)}throw tc(n)}function zx(n){return new me(e=>{let t=n[Vr]();if(ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ux(n){return new me(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function jx(n){return new me(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,$a)})}function Bx(n){return new me(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Ch(n){return new me(e=>{Hx(n,e).catch(t=>e.error(t))})}function $x(n){return Ch(rc(n))}function Hx(n,e){var t,i,r,o;return _h(this,void 0,void 0,function*(){try{for(t=bh(n);i=yield t.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})}function At(n,e,t,i=0,r=!1){let o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function sc(n,e=0){return ve((t,i)=>{t.subscribe(pe(i,r=>At(i,n,()=>i.next(r),e),()=>At(i,n,()=>i.complete(),e),r=>At(i,n,()=>i.error(r),e)))})}function ac(n,e=0){return ve((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function xh(n,e){return Ge(n).pipe(ac(e),sc(e))}function wh(n,e){return Ge(n).pipe(ac(e),sc(e))}function Mh(n,e){return new me(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function Sh(n,e){return new me(t=>{let i;return At(t,e,()=>{i=n[nc](),At(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){t.error(s);return}o?t.complete():t.next(r)},0,!0)}),()=>ne(i?.return)&&i.return()})}function cc(n,e){if(!n)throw new Error("Iterable cannot be null");return new me(t=>{At(t,e,()=>{let i=n[Symbol.asyncIterator]();At(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Dh(n,e){return cc(rc(n),e)}function Eh(n,e){if(n!=null){if(Xa(n))return xh(n,e);if(Ka(n))return Mh(n,e);if(Ja(n))return wh(n,e);if(ec(n))return cc(n,e);if(ic(n))return Sh(n,e);if(oc(n))return Dh(n,e)}throw tc(n)}function Pe(n,e){return e?Eh(n,e):Ge(n)}function J(...n){let e=yi(n);return Pe(n,e)}function bi(n,e){let t=ne(n)?n:()=>n,i=r=>r.error(t());return new me(e?r=>e.schedule(i,0,r):i)}function gp(n){return!!n&&(n instanceof me||ne(n.lift)&&ne(n.subscribe))}var mn=Nr(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ft(n,e){let t=typeof e=="object";return new Promise((i,r)=>{let o=new _i({next:s=>{i(s),o.unsubscribe()},error:r,complete:()=>{t?i(e.defaultValue):r(new mn)}});n.subscribe(o)})}function Ph(n){return n instanceof Date&&!isNaN(n)}function ee(n,e){return ve((t,i)=>{let r=0;t.subscribe(pe(i,o=>{i.next(n.call(e,o,r++))}))})}var{isArray:qx}=Array;function Wx(n,e){return qx(e)?n(...e):n(e)}function lc(n){return ee(e=>Wx(n,e))}var{isArray:Gx}=Array,{getPrototypeOf:Zx,prototype:Yx,keys:Qx}=Object;function dc(n){if(n.length===1){let e=n[0];if(Gx(e))return{args:e,keys:null};if(Kx(e)){let t=Qx(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function Kx(n){return n&&typeof n=="object"&&Zx(n)===Yx}function uc(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Br(...n){let e=yi(n),t=Qa(n),{args:i,keys:r}=dc(n);if(i.length===0)return Pe([],e);let o=new me(Jx(i,e,r?s=>uc(r,s):Zt));return t?o.pipe(lc(t)):o}function Jx(n,e,t=Zt){return i=>{Ih(e,()=>{let{length:r}=n,o=new Array(r),s=r,l=r;for(let u=0;u<r;u++)Ih(e,()=>{let g=Pe(n[u],e),h=!1;g.subscribe(pe(i,C=>{o[u]=C,h||(h=!0,l--),l||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function Ih(n,e,t){n?At(t,n,e):e()}function Oh(n,e,t,i,r,o,s,l){let u=[],g=0,h=0,C=!1,M=()=>{C&&!u.length&&!g&&e.complete()},x=H=>g<i?A(H):u.push(H),A=H=>{o&&e.next(H),g++;let Q=!1;Ge(t(H,h++)).subscribe(pe(e,ue=>{r?.(ue),o?x(ue):e.next(ue)},()=>{Q=!0},void 0,()=>{if(Q)try{for(g--;u.length&&g<i;){let ue=u.shift();s?At(e,s,()=>A(ue)):A(ue)}M()}catch(ue){e.error(ue)}}))};return n.subscribe(pe(e,x,()=>{C=!0,M()})),()=>{l?.()}}function Ze(n,e,t=1/0){return ne(e)?Ze((i,r)=>ee((o,s)=>e(i,o,r,s))(Ge(n(i,r))),t):(typeof e=="number"&&(t=e),ve((i,r)=>Oh(i,r,n,t)))}function $r(n=1/0){return Ze(Zt,n)}function Th(){return $r(1)}function Ci(...n){return Th()(Pe(n,yi(n)))}function pc(n){return new me(e=>{Ge(n()).subscribe(e)})}function mp(...n){let e=Qa(n),{args:t,keys:i}=dc(n),r=new me(o=>{let{length:s}=t;if(!s){o.complete();return}let l=new Array(s),u=s,g=s;for(let h=0;h<s;h++){let C=!1;Ge(t[h]).subscribe(pe(o,M=>{C||(C=!0,g--),l[h]=M},()=>u--,void 0,()=>{(!u||!C)&&(g||o.next(i?uc(i,l):l),o.complete())}))}});return e?r.pipe(lc(e)):r}function kh(n=0,e,t=mh){let i=-1;return e!=null&&(Ya(e)?t=e:i=e),new me(r=>{let o=Ph(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function gt(n,e){return ve((t,i)=>{let r=0;t.subscribe(pe(i,o=>n.call(e,o,r++)&&i.next(o)))})}function Zn(n){return ve((e,t)=>{let i=null,r=!1,o;i=e.subscribe(pe(t,void 0,void 0,s=>{o=Ge(n(s,Zn(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function Rh(n,e,t,i,r){return(o,s)=>{let l=t,u=e,g=0;o.subscribe(pe(s,h=>{let C=g++;u=l?n(u,h,C):(l=!0,h),i&&s.next(u)},r&&(()=>{l&&s.next(u),s.complete()})))}}function Yn(n,e){return ne(e)?Ze(n,e,1):Ze(n,1)}function xi(n){return ve((e,t)=>{let i=!1;e.subscribe(pe(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function vt(n){return n<=0?()=>Rt:ve((e,t)=>{let i=0;e.subscribe(pe(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Ah(){return ve((n,e)=>{n.subscribe(pe(e,Ki))})}function Nh(n){return ee(()=>n)}function hp(n,e){return e?t=>Ci(e.pipe(vt(1),Ah()),t.pipe(hp(n))):Ze((t,i)=>Ge(n(t,i)).pipe(vt(1),Nh(t)))}function fc(n,e=fp){let t=kh(n,e);return hp(()=>t)}function gc(n=Xx){return ve((e,t)=>{let i=!1;e.subscribe(pe(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Xx(){return new mn}function tr(n){return ve((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Qn(n,e){let t=arguments.length>=2;return i=>i.pipe(n?gt((r,o)=>n(r,o,i)):Zt,vt(1),t?xi(e):gc(()=>new mn))}function Hr(n){return n<=0?()=>Rt:ve((e,t)=>{let i=[];e.subscribe(pe(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function vp(n,e){let t=arguments.length>=2;return i=>i.pipe(n?gt((r,o)=>n(r,o,i)):Zt,Hr(1),t?xi(e):gc(()=>new mn))}function _p(n,e){return ve(Rh(n,e,arguments.length>=2,!0))}function yp(...n){let e=yi(n);return ve((t,i)=>{(e?Ci(n,t,e):Ci(n,t)).subscribe(i)})}function St(n,e){return ve((t,i)=>{let r=null,o=0,s=!1,l=()=>s&&!r&&i.complete();t.subscribe(pe(i,u=>{r?.unsubscribe();let g=0,h=o++;Ge(n(u,h)).subscribe(r=pe(i,C=>i.next(e?e(u,C,h,g++):C),()=>{r=null,l()}))},()=>{s=!0,l()}))})}function Ye(n){return ve((e,t)=>{Ge(n).subscribe(pe(t,()=>t.complete(),Ki)),!t.closed&&e.subscribe(t)})}function Ue(n,e,t){let i=ne(n)||e||t?{next:n,error:e,complete:t}:n;return i?ve((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let l=!0;r.subscribe(pe(o,u=>{var g;(g=i.next)===null||g===void 0||g.call(i,u),o.next(u)},()=>{var u;l=!1,(u=i.complete)===null||u===void 0||u.call(i),o.complete()},u=>{var g;l=!1,(g=i.error)===null||g===void 0||g.call(i,u),o.error(u)},()=>{var u,g;l&&((u=i.unsubscribe)===null||u===void 0||u.call(i)),(g=i.finalize)===null||g===void 0||g.call(i)}))}):Zt}var D0="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",$=class extends Error{code;constructor(e,t){super(E0(e,t)),this.code=e}};function e1(n){return`NG0${Math.abs(n)}`}function E0(n,e){return`${e1(n)}${e?": "+e:""}`}var P0=Symbol("InputSignalNode#UNSET"),t1=G(S({},za),{transformFn:void 0,applyValueToInputSignal(n,e){ss(n,e)}});function I0(n,e){let t=Object.create(t1);t.value=n,t.transformFn=e?.transform;function i(){if(os(t),t.value===P0){let r=null;throw new $(-950,r)}return t.value}return i[rn]=t,i}function xs(n){return{toString:n}.toString()}var mc="__parameters__";function n1(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function O0(n,e,t){return xs(()=>{let i=n1(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return l.annotation=s,l;function l(u,g,h){let C=u.hasOwnProperty(mc)?u[mc]:Object.defineProperty(u,mc,{value:[]})[mc];for(;C.length<=h;)C.push(null);return(C[h]=C[h]||[]).push(s),u}}return r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Dn=globalThis;function Re(n){for(let e in n)if(n[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function i1(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ft(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(Ft).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function Fh(n,e){return n?e?`${n} ${e}`:n:e||""}var r1=Re({__forward_ref__:Re});function ct(n){return n.__forward_ref__=ct,n.toString=function(){return Ft(this())},n}function Dt(n){return T0(n)?n():n}function T0(n){return typeof n=="function"&&n.hasOwnProperty(r1)&&n.__forward_ref__===ct}function k(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function _n(n){return{providers:n.providers||[],imports:n.imports||[]}}function Yc(n){return Lh(n,R0)||Lh(n,A0)}function k0(n){return Yc(n)!==null}function Lh(n,e){return n.hasOwnProperty(e)?n[e]:null}function o1(n){let e=n&&(n[R0]||n[A0]);return e||null}function Vh(n){return n&&(n.hasOwnProperty(zh)||n.hasOwnProperty(s1))?n[zh]:null}var R0=Re({\u0275prov:Re}),zh=Re({\u0275inj:Re}),A0=Re({ngInjectableDef:Re}),s1=Re({ngInjectorDef:Re}),W=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=k({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function N0(n){return n&&!!n.\u0275providers}var a1=Re({\u0275cmp:Re}),c1=Re({\u0275dir:Re}),l1=Re({\u0275pipe:Re}),d1=Re({\u0275mod:Re}),Dc=Re({\u0275fac:Re}),ps=Re({__NG_ELEMENT_ID__:Re}),Uh=Re({__NG_ENV_ID__:Re});function Yr(n){return typeof n=="string"?n:n==null?"":String(n)}function u1(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Yr(n)}function F0(n,e){throw new $(-200,n)}function zf(n,e){throw new $(-201,!1)}var le=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(le||{}),Np;function L0(){return Np}function Nt(n){let e=Np;return Np=n,e}function V0(n,e,t){let i=Yc(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&le.Optional)return null;if(e!==void 0)return e;zf(n,"Injector")}var p1={},ir=p1,Fp="__NG_DI_FLAG__",Ec=class{injector;constructor(e){this.injector=e}retrieve(e,t){let i=t;return this.injector.get(e,i.optional?Ua:ir,i)}},Pc="ngTempTokenPath",f1="ngTokenPath",g1=/\n/gm,m1="\u0275",jh="__source";function h1(n,e=le.Default){if(as()===void 0)throw new $(-203,!1);if(as()===null)return V0(n,void 0,e);{let t=as(),i;return t instanceof Ec?i=t.injector:i=t,i.get(n,e&le.Optional?null:void 0,e)}}function T(n,e=le.Default){return(L0()||h1)(Dt(n),e)}function N(n,e=le.Default){return T(n,Qc(e))}function Qc(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Lp(n){let e=[];for(let t=0;t<n.length;t++){let i=Dt(n[t]);if(Array.isArray(i)){if(i.length===0)throw new $(900,!1);let r,o=le.Default;for(let s=0;s<i.length;s++){let l=i[s],u=v1(l);typeof u=="number"?u===-1?r=l.token:o|=u:r=l}e.push(T(r,o))}else e.push(T(i))}return e}function z0(n,e){return n[Fp]=e,n.prototype[Fp]=e,n}function v1(n){return n[Fp]}function _1(n,e,t,i){let r=n[Pc];throw e[jh]&&r.unshift(e[jh]),n.message=y1(`
`+n.message,r,t,i),n[f1]=r,n[Pc]=null,n}function y1(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==m1?n.slice(2):n;let r=Ft(e);if(Array.isArray(e))r=e.map(Ft).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let l=e[s];o.push(s+":"+(typeof l=="string"?JSON.stringify(l):Ft(l)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(g1,`
  `)}`}var U0=z0(O0("Optional"),8);var b1=z0(O0("SkipSelf"),4);function or(n,e){let t=n.hasOwnProperty(Dc);return t?n[Dc]:null}function C1(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}function x1(n){return n.flat(Number.POSITIVE_INFINITY)}function Uf(n,e){n.forEach(t=>Array.isArray(t)?Uf(t,e):e(t))}function j0(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ic(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function w1(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function M1(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let o=r-2;n[r]=n[o],r--}n[e]=t,n[e+1]=i}}function S1(n,e,t){let i=ws(n,e);return i>=0?n[i|1]=t:(i=~i,M1(n,i,e,t)),i}function bp(n,e){let t=ws(n,e);if(t>=0)return n[t|1]}function ws(n,e){return D1(n,e,1)}function D1(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}var sr={},on=[],Qr=new W(""),B0=new W("",-1),$0=new W(""),Oc=class{get(e,t=ir){if(t===ir){let i=new Error(`NullInjectorError: No provider for ${Ft(e)}!`);throw i.name="NullInjectorError",i}return t}};function H0(n,e){let t=n[d1]||null;if(!t&&e===!0)throw new Error(`Type ${Ft(n)} does not have '\u0275mod' property.`);return t}function Kr(n){return n[a1]||null}function E1(n){return n[c1]||null}function P1(n){return n[l1]||null}function so(n){return{\u0275providers:n}}function I1(...n){return{\u0275providers:q0(!0,n),\u0275fromNgModule:!0}}function q0(n,...e){let t=[],i=new Set,r,o=s=>{t.push(s)};return Uf(e,s=>{let l=s;Vp(l,o,[],i)&&(r||=[],r.push(l))}),r!==void 0&&W0(r,o),t}function W0(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];jf(r,o=>{e(o,i)})}}function Vp(n,e,t,i){if(n=Dt(n),!n)return!1;let r=null,o=Vh(n),s=!o&&Kr(n);if(!o&&!s){let u=n.ngModule;if(o=Vh(u),o)r=u;else return!1}else{if(s&&!s.standalone)return!1;r=n}let l=i.has(r);if(s){if(l)return!1;if(i.add(r),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let g of u)Vp(g,e,t,i)}}else if(o){if(o.imports!=null&&!l){i.add(r);let g;try{Uf(o.imports,h=>{Vp(h,e,t,i)&&(g||=[],g.push(h))})}finally{}g!==void 0&&W0(g,e)}if(!l){let g=or(r)||(()=>new r);e({provide:r,useFactory:g,deps:on},r),e({provide:$0,useValue:r,multi:!0},r),e({provide:Qr,useValue:()=>T(r),multi:!0},r)}let u=o.providers;if(u!=null&&!l){let g=n;jf(u,h=>{e(h,g)})}}else return!1;return r!==n&&n.providers!==void 0}function jf(n,e){for(let t of n)N0(t)&&(t=t.\u0275providers),Array.isArray(t)?jf(t,e):e(t)}var O1=Re({provide:String,useValue:Re});function G0(n){return n!==null&&typeof n=="object"&&O1 in n}function T1(n){return!!(n&&n.useExisting)}function k1(n){return!!(n&&n.useFactory)}function Jr(n){return typeof n=="function"}function R1(n){return!!n.useClass}var Kc=new W(""),bc={},Bh={},Cp;function Bf(){return Cp===void 0&&(Cp=new Oc),Cp}var Et=class{},fs=class extends Et{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,Up(e,s=>this.processProvider(s)),this.records.set(B0,qr(void 0,this)),r.has("environment")&&this.records.set(Et,qr(void 0,this));let o=this.records.get(Kc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get($0,on,le.Self))}retrieve(e,t){let i=t;return this.get(e,i.optional?Ua:ir,i)}destroy(){ds(this),this._destroyed=!0;let e=he(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),he(e)}}onDestroy(e){return ds(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ds(this);let t=Gn(this),i=Nt(void 0),r;try{return e()}finally{Gn(t),Nt(i)}}get(e,t=ir,i=le.Default){if(ds(this),e.hasOwnProperty(Uh))return e[Uh](this);i=Qc(i);let r,o=Gn(this),s=Nt(void 0);try{if(!(i&le.SkipSelf)){let u=this.records.get(e);if(u===void 0){let g=V1(e)&&Yc(e);g&&this.injectableDefInScope(g)?u=qr(zp(e),bc):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let l=i&le.Self?Bf():this.parent;return t=i&le.Optional&&t===ir?null:t,l.get(e,t)}catch(l){if(l.name==="NullInjectorError"){if((l[Pc]=l[Pc]||[]).unshift(Ft(e)),o)throw l;return _1(l,e,"R3InjectorError",this.source)}else throw l}finally{Nt(s),Gn(o)}}resolveInjectorInitializers(){let e=he(null),t=Gn(this),i=Nt(void 0),r;try{let o=this.get(Qr,on,le.Self);for(let s of o)s()}finally{Gn(t),Nt(i),he(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(Ft(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Dt(e);let t=Jr(e)?e:Dt(e&&e.provide),i=N1(e);if(!Jr(e)&&e.multi===!0){let r=this.records.get(t);r||(r=qr(void 0,bc,!0),r.factory=()=>Lp(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=he(null);try{return t.value===Bh?F0(Ft(e)):t.value===bc&&(t.value=Bh,t.value=t.factory()),typeof t.value=="object"&&t.value&&L1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{he(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Dt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function zp(n){let e=Yc(n),t=e!==null?e.factory:or(n);if(t!==null)return t;if(n instanceof W)throw new $(204,!1);if(n instanceof Function)return A1(n);throw new $(204,!1)}function A1(n){if(n.length>0)throw new $(204,!1);let t=o1(n);return t!==null?()=>t.factory(n):()=>new n}function N1(n){if(G0(n))return qr(void 0,n.useValue);{let e=Z0(n);return qr(e,bc)}}function Z0(n,e,t){let i;if(Jr(n)){let r=Dt(n);return or(r)||zp(r)}else if(G0(n))i=()=>Dt(n.useValue);else if(k1(n))i=()=>n.useFactory(...Lp(n.deps||[]));else if(T1(n))i=()=>T(Dt(n.useExisting));else{let r=Dt(n&&(n.useClass||n.provide));if(F1(n))i=()=>new r(...Lp(n.deps));else return or(r)||zp(r)}return i}function ds(n){if(n.destroyed)throw new $(205,!1)}function qr(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function F1(n){return!!n.deps}function L1(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function V1(n){return typeof n=="function"||typeof n=="object"&&n instanceof W}function Up(n,e){for(let t of n)Array.isArray(t)?Up(t,e):t&&N0(t)?Up(t.\u0275providers,e):e(t)}function Qt(n,e){let t;n instanceof fs?(ds(n),t=n):t=new Ec(n);let i,r=Gn(t),o=Nt(void 0);try{return e()}finally{Gn(r),Nt(o)}}function z1(){return L0()!==void 0||as()!=null}function U1(n){return typeof n=="function"}var ri=0,de=1,ie=2,_t=3,vn=4,Vt=5,gs=6,Tc=7,Lt=8,Xr=9,Kn=10,Ke=11,ms=12,$h=13,ao=14,an=15,ar=16,Wr=17,Jn=18,Jc=19,Y0=20,wi=21,xp=22,kc=23,sn=24,wp=25,at=26,Q0=1;var cr=7,Rc=8,eo=9,Yt=10;function Mi(n){return Array.isArray(n)&&typeof n[Q0]=="object"}function oi(n){return Array.isArray(n)&&n[Q0]===!0}function $f(n){return(n.flags&4)!==0}function co(n){return n.componentOffset>-1}function Xc(n){return(n.flags&1)===1}function Pn(n){return!!n.template}function Ac(n){return(n[ie]&512)!==0}function Ms(n){return(n[ie]&256)===256}var jp=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function K0(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}var Je=(()=>{let n=()=>J0;return n.ngInherit=!0,n})();function J0(n){return n.type.prototype.ngOnChanges&&(n.setInput=B1),j1}function j1(){let n=ev(this),e=n?.current;if(e){let t=n.previous;if(t===sr)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function B1(n,e,t,i,r){let o=this.declaredInputs[i],s=ev(n)||$1(n,{previous:sr,current:null}),l=s.current||(s.current={}),u=s.previous,g=u[o];l[o]=new jp(g&&g.currentValue,t,u===sr),K0(n,e,r,t)}var X0="__ngSimpleChanges__";function ev(n){return n[X0]||null}function $1(n,e){return n[X0]=e}var Hh=null;var Le=function(n,e=null,t){Hh?.(n,e,t)},tv="svg",H1="math";function In(n){for(;Array.isArray(n);)n=n[ri];return n}function nv(n,e){return In(e[n])}function Rn(n,e){return In(e[n.index])}function iv(n,e){return n.data[e]}function Ss(n,e){return n[e]}function On(n,e){let t=e[n];return Mi(t)?t:t[ri]}function q1(n){return(n[ie]&4)===4}function Hf(n){return(n[ie]&128)===128}function W1(n){return oi(n[_t])}function to(n,e){return e==null?null:n[e]}function rv(n){n[Wr]=0}function ov(n){n[ie]&1024||(n[ie]|=1024,Hf(n)&&tl(n))}function G1(n,e){for(;n>0;)e=e[ao],n--;return e}function el(n){return!!(n[ie]&9216||n[sn]?.dirty)}function Bp(n){n[Kn].changeDetectionScheduler?.notify(8),n[ie]&64&&(n[ie]|=1024),el(n)&&tl(n)}function tl(n){n[Kn].changeDetectionScheduler?.notify(0);let e=lr(n);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!Hf(e)));)e=lr(e)}function sv(n,e){if(Ms(n))throw new $(911,!1);n[wi]===null&&(n[wi]=[]),n[wi].push(e)}function Z1(n,e){if(n[wi]===null)return;let t=n[wi].indexOf(e);t!==-1&&n[wi].splice(t,1)}function lr(n){let e=n[_t];return oi(e)?e[_t]:e}function qf(n){return n[Tc]??=[]}function Wf(n){return n.cleanup??=[]}function Y1(n,e,t,i){let r=qf(e);r.push(t),n.firstCreatePass&&Wf(n).push(i,r.length-1)}var re={lFrame:gv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var $p=!1;function Q1(){return re.lFrame.elementDepthCount}function K1(){re.lFrame.elementDepthCount++}function J1(){re.lFrame.elementDepthCount--}function Gf(){return re.bindingsEnabled}function av(){return re.skipHydrationRootTNode!==null}function X1(n){return re.skipHydrationRootTNode===n}function ew(){re.skipHydrationRootTNode=null}function se(){return re.lFrame.lView}function Xe(){return re.lFrame.tView}function y(n){return re.lFrame.contextLView=n,n[Lt]}function b(n){return re.lFrame.contextLView=null,n}function Pt(){let n=cv();for(;n!==null&&n.type===64;)n=n.parent;return n}function cv(){return re.lFrame.currentTNode}function tw(){let n=re.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function fr(n,e){let t=re.lFrame;t.currentTNode=n,t.isParent=e}function Zf(){return re.lFrame.isParent}function Yf(){re.lFrame.isParent=!1}function nw(){return re.lFrame.contextLView}function lv(){return $p}function qh(n){let e=$p;return $p=n,e}function Di(){let n=re.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function iw(){return re.lFrame.bindingIndex}function rw(n){return re.lFrame.bindingIndex=n}function nl(){return re.lFrame.bindingIndex++}function dv(n){let e=re.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ow(){return re.lFrame.inI18n}function sw(n,e){let t=re.lFrame;t.bindingIndex=t.bindingRootIndex=n,Hp(e)}function aw(){return re.lFrame.currentDirectiveIndex}function Hp(n){re.lFrame.currentDirectiveIndex=n}function cw(n){let e=re.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function uv(){return re.lFrame.currentQueryIndex}function Qf(n){re.lFrame.currentQueryIndex=n}function lw(n){let e=n[de];return e.type===2?e.declTNode:e.type===1?n[Vt]:null}function pv(n,e,t){if(t&le.SkipSelf){let r=e,o=n;for(;r=r.parent,r===null&&!(t&le.Host);)if(r=lw(o),r===null||(o=o[ao],r.type&10))break;if(r===null)return!1;e=r,n=o}let i=re.lFrame=fv();return i.currentTNode=e,i.lView=n,!0}function Kf(n){let e=fv(),t=n[de];re.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function fv(){let n=re.lFrame,e=n===null?null:n.child;return e===null?gv(n):e}function gv(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function mv(){let n=re.lFrame;return re.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var hv=mv;function Jf(){let n=mv();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function dw(n){return(re.lFrame.contextLView=G1(n,re.lFrame.contextLView))[Lt]}function gr(){return re.lFrame.selectedIndex}function dr(n){re.lFrame.selectedIndex=n}function Xf(){let n=re.lFrame;return iv(n.tView,n.selectedIndex)}function lo(){re.lFrame.currentNamespace=tv}function eg(){uw()}function uw(){re.lFrame.currentNamespace=null}function pw(){return re.lFrame.currentNamespace}var vv=!0;function il(){return vv}function rl(n){vv=n}function fw(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=J0(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function tg(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:u,ngAfterViewChecked:g,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),l&&((n.contentHooks??=[]).push(t,l),(n.contentCheckHooks??=[]).push(t,l)),u&&(n.viewHooks??=[]).push(-t,u),g&&((n.viewHooks??=[]).push(t,g),(n.viewCheckHooks??=[]).push(t,g)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Cc(n,e,t){_v(n,e,3,t)}function xc(n,e,t,i){(n[ie]&3)===t&&_v(n,e,t,i)}function Mp(n,e){let t=n[ie];(t&3)===e&&(t&=16383,t+=1,n[ie]=t)}function _v(n,e,t,i){let r=i!==void 0?n[Wr]&65535:0,o=i??-1,s=e.length-1,l=0;for(let u=r;u<s;u++)if(typeof e[u+1]=="number"){if(l=e[u],i!=null&&l>=i)break}else e[u]<0&&(n[Wr]+=65536),(l<o||o==-1)&&(gw(n,t,e,u),n[Wr]=(n[Wr]&4294901760)+u+2),u++}function Wh(n,e){Le(4,n,e);let t=he(null);try{e.call(n)}finally{he(t),Le(5,n,e)}}function gw(n,e,t,i){let r=t[i]<0,o=t[i+1],s=r?-t[i]:t[i],l=n[s];r?n[ie]>>14<n[Wr]>>16&&(n[ie]&3)===e&&(n[ie]+=16384,Wh(l,o)):Wh(l,o)}var Zr=-1,ur=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=i}};function mw(n){return(n.flags&8)!==0}function hw(n){return(n.flags&16)!==0}function vw(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],s=t[i++],l=t[i++];n.setAttribute(e,s,l,o)}else{let o=r,s=t[++i];_w(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function yv(n){return n===3||n===4||n===6}function _w(n){return n.charCodeAt(0)===64}function no(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?Gh(n,t,r,null,e[++i]):Gh(n,t,r,null,null))}}return n}function Gh(n,e,t,i,r){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let l=n[o++];if(typeof l=="number"){if(l===e){s=-1;break}else if(l>e){s=o-1;break}}}for(;o<n.length;){let l=n[o];if(typeof l=="number")break;if(l===t){r!==null&&(n[o+1]=r);return}o++,r!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r)}function bv(n){return n!==Zr}function Nc(n){return n&32767}function yw(n){return n>>16}function Fc(n,e){let t=yw(n),i=e;for(;t>0;)i=i[ao],t--;return i}var qp=!0;function Lc(n){let e=qp;return qp=n,e}var bw=256,Cv=bw-1,xv=5,Cw=0,En={};function xw(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(ps)&&(i=t[ps]),i==null&&(i=t[ps]=Cw++);let r=i&Cv,o=1<<r;e.data[n+(r>>xv)]|=o}function Vc(n,e){let t=wv(n,e);if(t!==-1)return t;let i=e[de];i.firstCreatePass&&(n.injectorIndex=e.length,Sp(i.data,n),Sp(e,null),Sp(i.blueprint,null));let r=ng(n,e),o=n.injectorIndex;if(bv(r)){let s=Nc(r),l=Fc(r,e),u=l[de].data;for(let g=0;g<8;g++)e[o+g]=l[s+g]|u[s+g]}return e[o+8]=r,o}function Sp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function wv(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function ng(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=Pv(r),i===null)return Zr;if(t++,r=r[ao],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Zr}function Wp(n,e,t){xw(n,e,t)}function ww(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(yv(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===e)return t[r+1];r=r+2}}}return null}function Mv(n,e,t){if(t&le.Optional||n!==void 0)return n;zf(e,"NodeInjector")}function Sv(n,e,t,i){if(t&le.Optional&&i===void 0&&(i=null),(t&(le.Self|le.Host))===0){let r=n[Xr],o=Nt(void 0);try{return r?r.get(e,i,t&le.Optional):V0(e,i,t&le.Optional)}finally{Nt(o)}}return Mv(i,e,t)}function Dv(n,e,t,i=le.Default,r){if(n!==null){if(e[ie]&2048&&!(i&le.Self)){let s=Ew(n,e,t,i,En);if(s!==En)return s}let o=Ev(n,e,t,i,En);if(o!==En)return o}return Sv(e,t,i,r)}function Ev(n,e,t,i,r){let o=Sw(t);if(typeof o=="function"){if(!pv(e,n,i))return i&le.Host?Mv(r,t,i):Sv(e,t,i,r);try{let s;if(s=o(i),s==null&&!(i&le.Optional))zf(t);else return s}finally{hv()}}else if(typeof o=="number"){let s=null,l=wv(n,e),u=Zr,g=i&le.Host?e[an][Vt]:null;for((l===-1||i&le.SkipSelf)&&(u=l===-1?ng(n,e):e[l+8],u===Zr||!Yh(i,!1)?l=-1:(s=e[de],l=Nc(u),e=Fc(u,e)));l!==-1;){let h=e[de];if(Zh(o,l,h.data)){let C=Mw(l,e,t,s,i,g);if(C!==En)return C}u=e[l+8],u!==Zr&&Yh(i,e[de].data[l+8]===g)&&Zh(o,l,e)?(s=h,l=Nc(u),e=Fc(u,e)):l=-1}}return r}function Mw(n,e,t,i,r,o){let s=e[de],l=s.data[n+8],u=i==null?co(l)&&qp:i!=s&&(l.type&3)!==0,g=r&le.Host&&o===l,h=wc(l,s,t,u,g);return h!==null?hs(e,s,h,l):En}function wc(n,e,t,i,r){let o=n.providerIndexes,s=e.data,l=o&1048575,u=n.directiveStart,g=n.directiveEnd,h=o>>20,C=i?l:l+h,M=r?l+h:g;for(let x=C;x<M;x++){let A=s[x];if(x<u&&t===A||x>=u&&A.type===t)return x}if(r){let x=s[u];if(x&&Pn(x)&&x.type===t)return u}return null}function hs(n,e,t,i){let r=n[t],o=e.data;if(r instanceof ur){let s=r;s.resolving&&F0(u1(o[t]));let l=Lc(s.canSeeViewProviders);s.resolving=!0;let u,g=s.injectImpl?Nt(s.injectImpl):null,h=pv(n,i,le.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&fw(t,o[t],e)}finally{g!==null&&Nt(g),Lc(l),s.resolving=!1,hv()}}return r}function Sw(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ps)?n[ps]:void 0;return typeof e=="number"?e>=0?e&Cv:Dw:e}function Zh(n,e,t){let i=1<<n;return!!(t[e+(n>>xv)]&i)}function Yh(n,e){return!(n&le.Self)&&!(n&le.Host&&e)}var rr=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Dv(this._tNode,this._lView,e,Qc(i),t)}};function Dw(){return new rr(Pt(),se())}function It(n){return xs(()=>{let e=n.prototype.constructor,t=e[Dc]||Gp(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let o=r[Dc]||Gp(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Gp(n){return T0(n)?()=>{let e=Gp(Dt(n));return e&&e()}:or(n)}function Ew(n,e,t,i,r){let o=n,s=e;for(;o!==null&&s!==null&&s[ie]&2048&&!Ac(s);){let l=Ev(o,s,t,i|le.Self,En);if(l!==En)return l;let u=o.parent;if(!u){let g=s[Y0];if(g){let h=g.get(t,En,i);if(h!==En)return h}u=Pv(s),s=s[ao]}o=u}return r}function Pv(n){let e=n[de],t=e.type;return t===2?e.declTNode:t===1?n[Vt]:null}function ig(n){return ww(Pt(),n)}function Qh(n,e=null,t=null,i){let r=Iv(n,e,t,i);return r.resolveInjectorInitializers(),r}function Iv(n,e=null,t=null,i,r=new Set){let o=[t||on,I1(n)];return i=i||(typeof n=="object"?void 0:Ft(n)),new fs(o,e||Bf(),i||null,r)}var Tn=class n{static THROW_IF_NOT_FOUND=ir;static NULL=new Oc;static create(e,t){if(Array.isArray(e))return Qh({name:""},t,e,"");{let i=e.name??"";return Qh({name:i},e.parent,e.providers,i)}}static \u0275prov=k({token:n,providedIn:"any",factory:()=>T(B0)});static __NG_ELEMENT_ID__=-1};var Pw=new W("");Pw.__NG_ELEMENT_ID__=n=>{let e=Pt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(n&le.Optional)return null;throw new $(204,!1)};var Ov=!1,ol=(()=>{class n{static __NG_ELEMENT_ID__=Iw;static __NG_ENV_ID__=t=>t}return n})(),Zp=class extends ol{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return sv(this._lView,e),()=>Z1(this._lView,e)}};function Iw(){return new Zp(se())}var vs=class{},sl=new W("",{providedIn:"root",factory:()=>!1});var Tv=new W(""),kv=new W(""),Ei=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new be(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=k({token:n,providedIn:"root",factory:()=>new n})}return n})();var Yp=class extends _e{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,z1()&&(this.destroyRef=N(ol,{optional:!0})??void 0,this.pendingTasks=N(Ei,{optional:!0})??void 0)}emit(e){let t=he(null);try{super.next(e)}finally{he(t)}}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&typeof e=="object"){let u=e;r=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let l=super.subscribe({next:r,error:o,complete:s});return e instanceof He&&e.add(l),l}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},V=Yp;function zc(...n){}function Rv(n){let e,t;function i(){n=zc;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function Kh(n){return queueMicrotask(()=>n()),()=>{n=zc}}var rg="isAngularZone",Uc=rg+"_ID",Ow=0,we=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new V(!1);onMicrotaskEmpty=new V(!1);onStable=new V(!1);onError=new V(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=Ov}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,Rw(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(rg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new $(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,Tw,zc,zc);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},Tw={};function og(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function kw(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Rv(()=>{n.callbackScheduled=!1,Qp(n),n.isCheckStableRunning=!0,og(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Qp(n)}function Rw(n){let e=()=>{kw(n)},t=Ow++;n._inner=n._inner.fork({name:"angular",properties:{[rg]:!0,[Uc]:t,[Uc+t]:!0},onInvokeTask:(i,r,o,s,l,u)=>{if(Aw(u))return i.invokeTask(o,s,l,u);try{return Jh(n),i.invokeTask(o,s,l,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Xh(n)}},onInvoke:(i,r,o,s,l,u,g)=>{try{return Jh(n),i.invoke(o,s,l,u,g)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Nw(u)&&e(),Xh(n)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Qp(n),og(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Qp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Jh(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Xh(n){n._nesting--,og(n)}var Kp=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new V;onMicrotaskEmpty=new V;onStable=new V;onError=new V;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function Aw(n){return Av(n,"__ignore_ng_zone__")}function Nw(n){return Av(n,"__scheduler_tick__")}function Av(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Xn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Fw=new W("",{providedIn:"root",factory:()=>{let n=N(we),e=N(Xn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function e0(n,e){return I0(n,e)}function Lw(n){return I0(P0,n)}var Nv=(e0.required=Lw,e0);function Vw(){return uo(Pt(),se())}function uo(n,e){return new mt(Rn(n,e))}var mt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Vw}return n})();function zw(n){return n instanceof mt?n.nativeElement:n}function Uw(n){return typeof n=="function"&&n[rn]!==void 0}function po(n,e){let t=Xu(n,e?.equal),i=t[rn];return t.set=r=>ss(i,r),t.update=r=>ep(i,r),t.asReadonly=jw.bind(t),t}function jw(){let n=this[rn];if(n.readonlyFn===void 0){let e=()=>this();e[rn]=n,n.readonlyFn=e}return n.readonlyFn}function Fv(n){return Uw(n)&&typeof n.set=="function"}function Bw(){return this._results[Symbol.iterator]()}var Jp=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new _e}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=x1(e);(this._changesDetected=!C1(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Bw};function Lv(n){return(n.flags&128)===128}var Vv=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Vv||{}),zv=new Map,$w=0;function Hw(){return $w++}function qw(n){zv.set(n[Jc],n)}function Xp(n){zv.delete(n[Jc])}var t0="__ngContext__";function fo(n,e){Mi(e)?(n[t0]=e[Jc],qw(e)):n[t0]=e}function Uv(n){return Bv(n[ms])}function jv(n){return Bv(n[vn])}function Bv(n){for(;n!==null&&!oi(n);)n=n[vn];return n}var ef;function $v(n){ef=n}function Ww(){if(ef!==void 0)return ef;if(typeof document<"u")return document;throw new $(210,!1)}var sg=new W("",{providedIn:"root",factory:()=>Gw}),Gw="ng",ag=new W(""),si=new W("",{providedIn:"platform",factory:()=>"unknown"});var cg=new W("",{providedIn:"root",factory:()=>Ww().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Zw="h",Yw="b";var Hv=!1,Qw=new W("",{providedIn:"root",factory:()=>Hv});var qv=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(qv||{}),al=new W(""),n0=new Set;function lg(n){n0.has(n)||(n0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Kw=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=k({token:n,providedIn:"root",factory:()=>new n})}return n})();var Jw=()=>null;function Wv(n,e,t=!1){return Jw(n,e,t)}function Gv(n,e){let t=n.contentQueries;if(t!==null){let i=he(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],s=t[r+1];if(s!==-1){let l=n.data[s];Qf(o),l.contentQueries(2,e[s],s)}}}finally{he(i)}}}function tf(n,e,t){Qf(0);let i=he(null);try{e(n,t)}finally{he(i)}}function dg(n,e,t){if($f(e)){let i=he(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let l=n.data[s];if(l.contentQueries){let u=t[s];l.contentQueries(1,u,s)}}}finally{he(i)}}}var kn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(kn||{}),hc;function Xw(){if(hc===void 0&&(hc=null,Dn.trustedTypes))try{hc=Dn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return hc}function cl(n){return Xw()?.createHTML(n)||n}var vc;function eM(){if(vc===void 0&&(vc=null,Dn.trustedTypes))try{vc=Dn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return vc}function i0(n){return eM()?.createScriptURL(n)||n}var ei=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${D0})`}},nf=class extends ei{getTypeName(){return"HTML"}},rf=class extends ei{getTypeName(){return"Style"}},of=class extends ei{getTypeName(){return"Script"}},sf=class extends ei{getTypeName(){return"URL"}},af=class extends ei{getTypeName(){return"ResourceURL"}};function ai(n){return n instanceof ei?n.changingThisBreaksApplicationSecurity:n}function Pi(n,e){let t=tM(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${D0})`)}return t===e}function tM(n){return n instanceof ei&&n.getTypeName()||null}function Zv(n){return new nf(n)}function Yv(n){return new rf(n)}function Qv(n){return new of(n)}function Kv(n){return new sf(n)}function Jv(n){return new af(n)}function nM(n){let e=new lf(n);return iM()?new cf(e):e}var cf=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(cl(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},lf=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=cl(e),t}};function iM(){try{return!!new window.DOMParser().parseFromString(cl(""),"text/html")}catch{return!1}}var rM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function ll(n){return n=String(n),n.match(rM)?n:"unsafe:"+n}function ci(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Ds(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var Xv=ci("area,br,col,hr,img,wbr"),e_=ci("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),t_=ci("rp,rt"),oM=Ds(t_,e_),sM=Ds(e_,ci("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),aM=Ds(t_,ci("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),r0=Ds(Xv,sM,aM,oM),n_=ci("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),cM=ci("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),lM=ci("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),dM=Ds(n_,cM,lM),uM=ci("script,style,template"),df=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=gM(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=fM(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=o0(e).toLowerCase();if(!r0.hasOwnProperty(t))return this.sanitizedSomething=!0,!uM.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),s=o.name,l=s.toLowerCase();if(!dM.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let u=o.value;n_[l]&&(u=ll(u)),this.buf.push(" ",s,'="',s0(u),'"')}return this.buf.push(">"),!0}endElement(e){let t=o0(e).toLowerCase();r0.hasOwnProperty(t)&&!Xv.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(s0(e))}};function pM(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function fM(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw i_(e);return e}function gM(n){let e=n.firstChild;if(e&&pM(n,e))throw i_(e);return e}function o0(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function i_(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var mM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hM=/([^\#-~ |!])/g;function s0(n){return n.replace(/&/g,"&amp;").replace(mM,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(hM,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var _c;function r_(n,e){let t=null;try{_c=_c||nM(n);let i=e?String(e):"";t=_c.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=_c.getInertBodyElement(i)}while(i!==o);let l=new df().sanitizeChildren(a0(t)||t);return cl(l)}finally{if(t){let i=a0(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function a0(n){return"content"in n&&vM(n)?n.content:null}function vM(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var An=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(An||{});function ye(n){let e=s_();return e?e.sanitize(An.URL,n)||"":Pi(n,"URL")?ai(n):ll(Yr(n))}function _M(n){let e=s_();if(e)return i0(e.sanitize(An.RESOURCE_URL,n)||"");if(Pi(n,"ResourceURL"))return i0(ai(n));throw new $(904,!1)}function yM(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?_M:ye}function o_(n,e,t){return yM(e,t)(n)}function s_(){let n=se();return n&&n[Kn].sanitizer}var bM=/^>|^->|<!--|-->|--!>|<!-$/g,CM=/(<|>)/g,xM="\u200B$1\u200B";function wM(n){return n.replace(bM,e=>e.replace(CM,xM))}function a_(n){return n instanceof Function?n():n}function MM(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}var c_="ng-template";function SM(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&MM(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(ug(n))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function ug(n){return n.type===4&&n.value!==c_}function DM(n,e,t){let i=n.type===4&&!t?c_:n.value;return e===i}function EM(n,e,t){let i=4,r=n.attrs,o=r!==null?OM(r):0,s=!1;for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="number"){if(!s&&!hn(i)&&!hn(u))return!1;if(s&&hn(u))continue;s=!1,i=u|i&1;continue}if(!s)if(i&4){if(i=2|i&1,u!==""&&!DM(n,u,t)||u===""&&e.length===1){if(hn(i))return!1;s=!0}}else if(i&8){if(r===null||!SM(n,r,u,t)){if(hn(i))return!1;s=!0}}else{let g=e[++l],h=PM(u,r,ug(n),t);if(h===-1){if(hn(i))return!1;s=!0;continue}if(g!==""){let C;if(h>o?C="":C=r[h+1].toLowerCase(),i&2&&g!==C){if(hn(i))return!1;s=!0}}}}return hn(i)||s}function hn(n){return(n&1)===0}function PM(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){let s=e[r];if(s===n)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let l=e[++r];for(;typeof l=="string";)l=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return TM(e,n)}function l_(n,e,t=!1){for(let i=0;i<e.length;i++)if(EM(n,e[i],t))return!0;return!1}function IM(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function OM(n){for(let e=0;e<n.length;e++){let t=n[e];if(yv(t))return e}return n.length}function TM(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function kM(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function c0(n,e){return n?":not("+e.trim()+")":e}function RM(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(i&2){let l=n[++t];r+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!hn(s)&&(e+=c0(o,r),r=""),i=s,o=o||!hn(i);t++}return r!==""&&(e+=c0(o,r)),e}function AM(n){return n.map(RM).join(",")}function NM(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")r===2?o!==""&&e.push(o,n[++i]):r===8&&t.push(o);else{if(!hn(r))break;r=o}i++}return t.length&&e.push(1,...t),e}var Nn={};function FM(n,e){return n.createText(e)}function LM(n,e,t){n.setValue(e,t)}function VM(n,e){return n.createComment(wM(e))}function d_(n,e,t){return n.createElement(e,t)}function jc(n,e,t,i,r){n.insertBefore(e,t,i,r)}function u_(n,e,t){n.appendChild(e,t)}function l0(n,e,t,i,r){i!==null?jc(n,e,t,i,r):u_(n,e,t)}function zM(n,e,t){n.removeChild(null,e,t)}function UM(n,e,t){n.setAttribute(e,"style",t)}function jM(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function p_(n,e,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&vw(n,e,i),r!==null&&jM(n,e,r),o!==null&&UM(n,e,o)}function pg(n,e,t,i,r,o,s,l,u,g,h){let C=at+i,M=C+r,x=BM(C,M),A=typeof g=="function"?g():g;return x[de]={type:n,blueprint:x,template:t,queries:null,viewQuery:l,declTNode:e,data:x.slice().fill(null,C),bindingStartIndex:C,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function BM(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Nn);return t}function $M(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=pg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function fg(n,e,t,i,r,o,s,l,u,g,h){let C=e.blueprint.slice();return C[ri]=r,C[ie]=i|4|128|8|64|1024,(g!==null||n&&n[ie]&2048)&&(C[ie]|=2048),rv(C),C[_t]=C[ao]=n,C[Lt]=t,C[Kn]=s||n&&n[Kn],C[Ke]=l||n&&n[Ke],C[Xr]=u||n&&n[Xr]||null,C[Vt]=o,C[Jc]=Hw(),C[gs]=h,C[Y0]=g,C[an]=e.type==2?n[an]:C,C}function HM(n,e,t){let i=Rn(e,n),r=$M(t),o=n[Kn].rendererFactory,s=gg(n,fg(n,r,null,f_(t),i,e,null,o.createRenderer(i,t),null,null,null));return n[e.index]=s}function f_(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function g_(n,e,t,i){if(t===0)return-1;let r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function gg(n,e){return n[ms]?n[$h][vn]=e:n[ms]=e,n[$h]=e,e}function p(n=1){m_(Xe(),se(),gr()+n,!1)}function m_(n,e,t,i){if(!i)if((e[ie]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Cc(e,o,t)}else{let o=n.preOrderHooks;o!==null&&xc(e,o,0,t)}dr(t)}var dl=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(dl||{});function uf(n,e,t,i){let r=he(null);try{let[o,s,l]=n.inputs[t],u=null;(s&dl.SignalBased)!==0&&(u=e[o][rn]),u!==null&&u.transformFn!==void 0?i=u.transformFn(i):l!==null&&(i=l.call(e,i)),n.setInput!==null?n.setInput(e,u,i,t,o):K0(e,u,o,i)}finally{he(r)}}function h_(n,e,t,i,r){let o=gr(),s=i&2;try{dr(-1),s&&e.length>at&&m_(n,e,at,!1),Le(s?2:0,r),t(i,r)}finally{dr(o),Le(s?3:1,r)}}function ul(n,e,t){QM(n,e,t),(t.flags&64)===64&&KM(n,e,t)}function mg(n,e,t=Rn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],l=s===-1?t(e,n):n[s];n[r++]=l}}}function qM(n,e,t,i){let o=i.get(Qw,Hv)||t===kn.ShadowDom,s=n.selectRootElement(e,o);return WM(s),s}function WM(n){GM(n)}var GM=()=>null;function ZM(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function v_(n,e,t,i,r,o,s,l){if(!l&&vg(e,n,t,i,r)){co(e)&&YM(t,e.index);return}if(e.type&3){let u=Rn(e,t);i=ZM(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(u,i,r)}else e.type&12}function YM(n,e){let t=On(e,n);t[ie]&16||(t[ie]|=64)}function QM(n,e,t){let i=t.directiveStart,r=t.directiveEnd;co(t)&&HM(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Vc(t,e);let o=t.initialInputs;for(let s=i;s<r;s++){let l=n.data[s],u=hs(e,n,s,t);if(fo(u,e),o!==null&&tS(e,s-i,u,l,t,o),Pn(l)){let g=On(t.index,e);g[Lt]=hs(e,n,s,t)}}}function KM(n,e,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,s=aw();try{dr(o);for(let l=i;l<r;l++){let u=n.data[l],g=e[l];Hp(l),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&JM(u,g)}}finally{dr(-1),Hp(s)}}function JM(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function hg(n,e){let t=n.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];l_(e,o.selectors,!1)&&(i??=[],Pn(o)?i.unshift(o):i.push(o))}return i}function XM(n,e,t,i,r,o){let s=Rn(n,e);eS(e[Ke],s,o,n.value,t,i,r)}function eS(n,e,t,i,r,o,s){if(o==null)n.removeAttribute(e,r,t);else{let l=s==null?Yr(o):s(o,i||"",r);n.setAttribute(e,r,l,t)}}function tS(n,e,t,i,r,o){let s=o[e];if(s!==null)for(let l=0;l<s.length;l+=2){let u=s[l],g=s[l+1];uf(i,t,u,g)}}function nS(n,e){let t=n[Xr],i=t?t.get(Xn,null):null;i&&i.handleError(e)}function vg(n,e,t,i,r){let o=n.inputs?.[i],s=n.hostDirectiveInputs?.[i],l=!1;if(s)for(let u=0;u<s.length;u+=2){let g=s[u],h=s[u+1],C=e.data[g];uf(C,t[g],h,r),l=!0}if(o)for(let u of o){let g=t[u],h=e.data[u];uf(h,g,i,r),l=!0}return l}function iS(n,e){let t=On(e,n),i=t[de];rS(i,t);let r=t[ri];r!==null&&t[gs]===null&&(t[gs]=Wv(r,t[Xr])),Le(18),_g(i,t,t[Lt]),Le(19,t[Lt])}function rS(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function _g(n,e,t){Kf(e);try{let i=n.viewQuery;i!==null&&tf(1,i,t);let r=n.template;r!==null&&h_(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Jn]?.finishViewCreation(n),n.staticContentQueries&&Gv(n,e),n.staticViewQueries&&tf(2,n.viewQuery,t);let o=n.components;o!==null&&oS(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[ie]&=-5,Jf()}}function oS(n,e){for(let t=0;t<e.length;t++)iS(n,e[t])}function __(n,e,t,i){let r=he(null);try{let o=e.tView,l=n[ie]&4096?4096:16,u=fg(n,o,t,l,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),g=n[e.index];u[ar]=g;let h=n[Jn];return h!==null&&(u[Jn]=h.createEmbeddedView(o)),_g(o,u,t),u}finally{he(r)}}function pf(n,e){return!e||e.firstChild===null||Lv(n)}var sS;function yg(n,e){return sS(n,e)}var ti=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ti||{});function bg(n){return(n.flags&32)===32}function Gr(n,e,t,i,r){if(i!=null){let o,s=!1;oi(i)?o=i:Mi(i)&&(s=!0,i=i[ri]);let l=In(i);n===0&&t!==null?r==null?u_(e,t,l):jc(e,t,l,r||null,!0):n===1&&t!==null?jc(e,t,l,r||null,!0):n===2?zM(e,l,s):n===3&&e.destroyNode(l),o!=null&&hS(e,n,o,t,r)}}function aS(n,e){y_(n,e),e[ri]=null,e[Vt]=null}function cS(n,e,t,i,r,o){i[ri]=r,i[Vt]=e,fl(n,i,t,1,r,o)}function y_(n,e){e[Kn].changeDetectionScheduler?.notify(9),fl(n,e,e[Ke],2,null,null)}function lS(n){let e=n[ms];if(!e)return Dp(n[de],n);for(;e;){let t=null;if(Mi(e))t=e[ms];else{let i=e[Yt];i&&(t=i)}if(!t){for(;e&&!e[vn]&&e!==n;)Mi(e)&&Dp(e[de],e),e=e[_t];e===null&&(e=n),Mi(e)&&Dp(e[de],e),t=e&&e[vn]}e=t}}function Cg(n,e){let t=n[eo],i=t.indexOf(e);t.splice(i,1)}function b_(n,e){if(Ms(e))return;let t=e[Ke];t.destroyNode&&fl(n,e,t,3,null,null),lS(e)}function Dp(n,e){if(Ms(e))return;let t=he(null);try{e[ie]&=-129,e[ie]|=256,e[sn]&&Qu(e[sn]),uS(n,e),dS(n,e),e[de].type===1&&e[Ke].destroy();let i=e[ar];if(i!==null&&oi(e[_t])){i!==e[_t]&&Cg(i,e);let r=e[Jn];r!==null&&r.detachView(n)}Xp(e)}finally{he(t)}}function dS(n,e){let t=n.cleanup,i=e[Tc];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let l=t[s+3];l>=0?i[l]():i[-l].unsubscribe(),s+=2}else{let l=i[t[s+1]];t[s].call(l)}i!==null&&(e[Tc]=null);let r=e[wi];if(r!==null){e[wi]=null;for(let s=0;s<r.length;s++){let l=r[s];l()}}let o=e[kc];if(o!==null){e[kc]=null;for(let s of o)s.destroy()}}function uS(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof ur)){let o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let l=r[o[s]],u=o[s+1];Le(4,l,u);try{u.call(l)}finally{Le(5,l,u)}}else{Le(4,r,o);try{o.call(r)}finally{Le(5,r,o)}}}}}function C_(n,e,t){return pS(n,e.parent,t)}function pS(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[ri];if(co(i)){let{encapsulation:r}=n.data[i.directiveStart+i.componentOffset];if(r===kn.None||r===kn.Emulated)return null}return Rn(i,t)}function x_(n,e,t){return gS(n,e,t)}function fS(n,e,t){return n.type&40?Rn(n,t):null}var gS=fS,d0;function pl(n,e,t,i){let r=C_(n,i,e),o=e[Ke],s=i.parent||e[Vt],l=x_(s,i,e);if(r!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)l0(o,r,t[u],l,!1);else l0(o,r,t,l,!1);d0!==void 0&&d0(o,i,e,t,r)}function us(n,e){if(e!==null){let t=e.type;if(t&3)return Rn(e,n);if(t&4)return ff(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return us(n,i);{let r=n[e.index];return oi(r)?ff(-1,r):In(r)}}else{if(t&128)return us(n,e.next);if(t&32)return yg(e,n)()||In(n[e.index]);{let i=w_(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=lr(n[an]);return us(r,i)}else return us(n,e.next)}}}return null}function w_(n,e){if(e!==null){let i=n[an][Vt],r=e.projection;return i.projection[r]}return null}function ff(n,e){let t=Yt+n+1;if(t<e.length){let i=e[t],r=i[de].firstChild;if(r!==null)return us(i,r)}return e[cr]}function xg(n,e,t,i,r,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let l=i[t.index],u=t.type;if(s&&e===0&&(l&&fo(In(l),i),t.flags|=2),!bg(t))if(u&8)xg(n,e,t.child,i,r,o,!1),Gr(e,n,r,l,o);else if(u&32){let g=yg(t,i),h;for(;h=g();)Gr(e,n,r,h,o);Gr(e,n,r,l,o)}else u&16?M_(n,e,i,t,r,o):Gr(e,n,r,l,o);t=s?t.projectionNext:t.next}}function fl(n,e,t,i,r,o){xg(t,i,n.firstChild,e,r,o,!1)}function mS(n,e,t){let i=e[Ke],r=C_(n,t,e),o=t.parent||e[Vt],s=x_(o,t,e);M_(i,0,e,t,r,s)}function M_(n,e,t,i,r,o){let s=t[an],u=s[Vt].projection[i.projection];if(Array.isArray(u))for(let g=0;g<u.length;g++){let h=u[g];Gr(e,n,r,h,o)}else{let g=u,h=s[_t];Lv(i)&&(g.flags|=128),xg(n,e,g,h,r,o,!0)}}function hS(n,e,t,i,r){let o=t[cr],s=In(t);o!==s&&Gr(e,n,i,o,r);for(let l=Yt;l<t.length;l++){let u=t[l];fl(u[de],u,n,e,i,o)}}function vS(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:ti.DashCase;r==null?n.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ti.Important),n.setStyle(t,i,r,o))}}function Bc(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(In(o)),oi(o)&&_S(o,i);let s=t.type;if(s&8)Bc(n,e,t.child,i);else if(s&32){let l=yg(t,e),u;for(;u=l();)i.push(u)}else if(s&16){let l=w_(e,t);if(Array.isArray(l))i.push(...l);else{let u=lr(e[an]);Bc(u[de],u,l,i,!0)}}t=r?t.projectionNext:t.next}return i}function _S(n,e){for(let t=Yt;t<n.length;t++){let i=n[t],r=i[de].firstChild;r!==null&&Bc(i[de],i,r,e)}n[cr]!==n[ri]&&e.push(n[cr])}function S_(n){if(n[wp]!==null){for(let e of n[wp])e.impl.addSequence(e);n[wp].length=0}}var D_=[];function yS(n){return n[sn]??bS(n)}function bS(n){let e=D_.pop()??Object.create(xS);return e.lView=n,e}function CS(n){n.lView[sn]!==n&&(n.lView=null,D_.push(n))}var xS=G(S({},rs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{tl(n.lView)},consumerOnSignalRead(){this.lView[sn]=this}});function wS(n){let e=n[sn]??Object.create(MS);return e.lView=n,e}var MS=G(S({},rs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=lr(n.lView);for(;e&&!E_(e[de]);)e=lr(e);e&&ov(e)},consumerOnSignalRead(){this.lView[sn]=this}});function E_(n){return n.type!==2}function P_(n){if(n[kc]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[kc])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[ie]&8192)}}var SS=100;function I_(n,e=!0,t=0){let r=n[Kn].rendererFactory,o=!1;o||r.begin?.();try{DS(n,t)}catch(s){throw e&&nS(n,s),s}finally{o||r.end?.()}}function DS(n,e){let t=lv();try{qh(!0),gf(n,e);let i=0;for(;el(n);){if(i===SS)throw new $(103,!1);i++,gf(n,1)}}finally{qh(t)}}function ES(n,e,t,i){if(Ms(e))return;let r=e[ie],o=!1,s=!1;Kf(e);let l=!0,u=null,g=null;o||(E_(n)?(g=yS(e),u=Fa(g)):Hu()===null?(l=!1,g=wS(e),u=Fa(g)):e[sn]&&(Qu(e[sn]),e[sn]=null));try{rv(e),rw(n.bindingStartIndex),t!==null&&h_(n,e,t,2,i);let h=(r&3)===3;if(!o)if(h){let x=n.preOrderCheckHooks;x!==null&&Cc(e,x,null)}else{let x=n.preOrderHooks;x!==null&&xc(e,x,0,null),Mp(e,0)}if(s||PS(e),P_(e),O_(e,0),n.contentQueries!==null&&Gv(n,e),!o)if(h){let x=n.contentCheckHooks;x!==null&&Cc(e,x)}else{let x=n.contentHooks;x!==null&&xc(e,x,1),Mp(e,1)}OS(n,e);let C=n.components;C!==null&&k_(e,C,0);let M=n.viewQuery;if(M!==null&&tf(2,M,i),!o)if(h){let x=n.viewCheckHooks;x!==null&&Cc(e,x)}else{let x=n.viewHooks;x!==null&&xc(e,x,2),Mp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[xp]){for(let x of e[xp])x();e[xp]=null}o||(S_(e),e[ie]&=-73)}catch(h){throw o||tl(e),h}finally{g!==null&&(Zu(g,u),l&&CS(g)),Jf()}}function O_(n,e){for(let t=Uv(n);t!==null;t=jv(t))for(let i=Yt;i<t.length;i++){let r=t[i];T_(r,e)}}function PS(n){for(let e=Uv(n);e!==null;e=jv(e)){if(!(e[ie]&2))continue;let t=e[eo];for(let i=0;i<t.length;i++){let r=t[i];ov(r)}}}function IS(n,e,t){Le(18);let i=On(e,n);T_(i,t),Le(19,i[Lt])}function T_(n,e){Hf(n)&&gf(n,e)}function gf(n,e){let i=n[de],r=n[ie],o=n[sn],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&Yu(o)),s||=!1,o&&(o.dirty=!1),n[ie]&=-9217,s)ES(i,n,i.template,n[Lt]);else if(r&8192){P_(n),O_(n,1);let l=i.components;l!==null&&k_(n,l,1),S_(n)}}function k_(n,e,t){for(let i=0;i<e.length;i++)IS(n,e[i],t)}function OS(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)dr(~r);else{let o=r,s=t[++i],l=t[++i];sw(s,o);let u=e[o];Le(24,u),l(2,u),Le(25,u)}}}finally{dr(-1)}}function wg(n,e){let t=lv()?64:1088;for(n[Kn].changeDetectionScheduler?.notify(e);n;){n[ie]|=t;let i=lr(n);if(Ac(n)&&!i)return n;n=i}return null}function R_(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function A_(n,e,t,i=!0){let r=e[de];if(TS(r,e,n,t),i){let s=ff(t,n),l=e[Ke],u=l.parentNode(n[cr]);u!==null&&cS(r,n[Vt],l,e,u,s)}let o=e[gs];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function mf(n,e){if(n.length<=Yt)return;let t=Yt+e,i=n[t];if(i){let r=i[ar];r!==null&&r!==n&&Cg(r,i),e>0&&(n[t-1][vn]=i[vn]);let o=Ic(n,Yt+e);aS(i[de],i);let s=o[Jn];s!==null&&s.detachView(o[de]),i[_t]=null,i[vn]=null,i[ie]&=-129}return i}function TS(n,e,t,i){let r=Yt+i,o=t.length;i>0&&(t[r-1][vn]=e),i<o-Yt?(e[vn]=t[r],j0(t,Yt+i,e)):(t.push(e),e[vn]=null),e[_t]=t;let s=e[ar];s!==null&&t!==s&&N_(s,e);let l=e[Jn];l!==null&&l.insertView(n),Bp(e),e[ie]|=128}function N_(n,e){let t=n[eo],i=e[_t];if(Mi(i))n[ie]|=2;else{let r=i[_t][an];e[an]!==r&&(n[ie]|=2)}t===null?n[eo]=[e]:t.push(e)}var _s=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[de];return Bc(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i}get context(){return this._lView[Lt]}set context(e){this._lView[Lt]=e}get destroyed(){return Ms(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[_t];if(oi(e)){let t=e[Rc],i=t?t.indexOf(this):-1;i>-1&&(mf(e,i),Ic(t,i))}this._attachedToViewContainer=!1}b_(this._lView[de],this._lView)}onDestroy(e){sv(this._lView,e)}markForCheck(){wg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){Bp(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,I_(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ac(this._lView),t=this._lView[ar];t!==null&&!e&&Cg(t,this._lView),y_(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let t=Ac(this._lView),i=this._lView[ar];i!==null&&!t&&N_(i,this._lView),Bp(this._lView)}};var ni=(()=>{class n{static __NG_ELEMENT_ID__=AS}return n})(),kS=ni,RS=class extends kS{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=__(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new _s(r)}};function AS(){return gl(Pt(),se())}function gl(n,e){return n.type&4?new RS(e,n,uo(n,e)):null}function Es(n,e,t,i,r){let o=n.data[e];if(o===null)o=NS(n,e,t,i,r),ow()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let s=tw();o.injectorIndex=s===null?-1:s.injectorIndex}return fr(o,!0),o}function NS(n,e,t,i,r){let o=cv(),s=Zf(),l=s?o:o&&o.parent,u=n.data[e]=LS(n,l,t,e,i,r);return FS(n,u,o,s),u}function FS(n,e,t,i){n.firstChild===null&&(n.firstChild=e),t!==null&&(i?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function LS(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,l=0;return av()&&(l|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var g8=new RegExp(`^(\\d+)*(${Yw}|${Zw})*(.*)`);var VS=()=>null;function hf(n,e){return VS(n,e)}var zS=class{},F_=class{},vf=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Ft(e)}.`)}},ml=class{static NULL=new vf},io=class{},Fn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>US()}return n})();function US(){let n=se(),e=Pt(),t=On(e.index,n);return(Mi(t)?t:n)[Ke]}var jS=(()=>{class n{static \u0275prov=k({token:n,providedIn:"root",factory:()=>null})}return n})();var Ep={},_f=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Qc(i);let r=this.injector.get(e,Ep,i);return r!==Ep||t===Ep?r:this.parentInjector.get(e,t,i)}};function yf(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let l=e[s];if(typeof l=="number")o=l;else if(o==1)r=Fh(r,l);else if(o==2){let u=l,g=e[++s];i=Fh(i,u+": "+g+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function w(n,e=le.Default){let t=se();if(t===null)return T(n,e);let i=Pt();return Dv(i,t,Dt(n),e)}function Mg(n,e,t,i,r){let o=i===null?null:{"":-1},s=r(n,t);if(s!==null){let l,u=null,g=null,h=$S(s);h===null?l=s:[l,u,g]=h,WS(n,e,t,l,o,u,g)}o!==null&&i!==null&&BS(t,i,o)}function BS(n,e,t){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let o=t[e[r+1]];if(o==null)throw new $(-301,!1);i.push(e[r],o)}}function $S(n){let e=null,t=!1;for(let s=0;s<n.length;s++){let l=n[s];if(s===0&&Pn(l)&&(e=l),l.findHostDirectiveDefs!==null){t=!0;break}}if(!t)return null;let i=null,r=null,o=null;for(let s of n)s.findHostDirectiveDefs!==null&&(i??=[],r??=new Map,o??=new Map,HS(s,i,o,r)),s===e&&(i??=[],i.push(s));return i!==null?(i.push(...e===null?n:n.slice(1)),[i,r,o]):null}function HS(n,e,t,i){let r=e.length;n.findHostDirectiveDefs(n,e,i),t.set(n,[r,e.length-1])}function qS(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function WS(n,e,t,i,r,o,s){let l=i.length,u=!1;for(let M=0;M<l;M++){let x=i[M];!u&&Pn(x)&&(u=!0,qS(n,t,M)),Wp(Vc(t,e),n,x.type)}JS(t,n.data.length,l);for(let M=0;M<l;M++){let x=i[M];x.providersResolver&&x.providersResolver(x)}let g=!1,h=!1,C=g_(n,e,l,null);l>0&&(t.directiveToIndex=new Map);for(let M=0;M<l;M++){let x=i[M];if(t.mergedAttrs=no(t.mergedAttrs,x.hostAttrs),ZS(n,t,e,C,x),KS(C,x,r),s!==null&&s.has(x)){let[H,Q]=s.get(x);t.directiveToIndex.set(x.type,[C,H+t.directiveStart,Q+t.directiveStart])}else(o===null||!o.has(x))&&t.directiveToIndex.set(x.type,C);x.contentQueries!==null&&(t.flags|=4),(x.hostBindings!==null||x.hostAttrs!==null||x.hostVars!==0)&&(t.flags|=64);let A=x.type.prototype;!g&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),g=!0),!h&&(A.ngOnChanges||A.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),C++}GS(n,t,o)}function GS(n,e,t){for(let i=e.directiveStart;i<e.directiveEnd;i++){let r=n.data[i];if(t===null||!t.has(r))u0(0,e,r,i),u0(1,e,r,i),f0(e,i,!1);else{let o=t.get(r);p0(0,e,o,i),p0(1,e,o,i),f0(e,i,!0)}}}function u0(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(i),L_(e,o)}}function p0(n,e,t,i){let r=n===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let s=r[o],l;n===0?l=e.hostDirectiveInputs??={}:l=e.hostDirectiveOutputs??={},l[s]??=[],l[s].push(i,o),L_(e,s)}}function L_(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function f0(n,e,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=n;if(i===null||!t&&r===null||t&&o===null||ug(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,l=0;for(;l<i.length;){let u=i[l];if(u===0){l+=4;continue}else if(u===5){l+=2;continue}else if(typeof u=="number")break;if(!t&&r.hasOwnProperty(u)){let g=r[u];for(let h of g)if(h===e){s??=[],s.push(u,i[l+1]);break}}else if(t&&o.hasOwnProperty(u)){let g=o[u];for(let h=0;h<g.length;h+=2)if(g[h]===e){s??=[],s.push(g[h+1],i[l+1]);break}}l+=2}n.initialInputs??=[],n.initialInputs.push(s)}function ZS(n,e,t,i,r){n.data[i]=r;let o=r.factory||(r.factory=or(r.type,!0)),s=new ur(o,Pn(r),w);n.blueprint[i]=s,t[i]=s,YS(n,e,i,g_(n,t,r.hostVars,Nn),r)}function YS(n,e,t,i,r){let o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let l=~e.index;QS(s)!=l&&s.push(l),s.push(t,i,o)}}function QS(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function KS(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Pn(e)&&(t[""]=n)}}function JS(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function V_(n,e,t,i,r,o,s,l){let u=e.consts,g=to(u,s),h=Es(e,n,2,i,g);return o&&Mg(e,t,h,to(u,l),r),h.mergedAttrs=no(h.mergedAttrs,h.attrs),h.attrs!==null&&yf(h,h.attrs,!1),h.mergedAttrs!==null&&yf(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function z_(n,e){tg(n,e),$f(e)&&n.queries.elementEnd(e)}var $c=class extends ml{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Kr(e);return new ys(t,this.ngModule)}};function XS(n){return Object.keys(n).map(e=>{let[t,i,r]=n[e],o={propName:t,templateName:e,isSignal:(i&dl.SignalBased)!==0};return r&&(o.transform=r),o})}function eD(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function tD(n,e,t){let i=e instanceof Et?e:e?.injector;return i&&n.getStandaloneInjector!==null&&(i=n.getStandaloneInjector(i)||i),i?new _f(t,i):t}function nD(n){let e=n.get(io,null);if(e===null)throw new $(407,!1);let t=n.get(jS,null),i=n.get(vs,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:i}}function iD(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return d_(e,t,t==="svg"?tv:t==="math"?H1:null)}var ys=class extends F_{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=XS(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=eD(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=AM(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,i,r){Le(22);let o=he(null);try{let s=this.componentDef,l=i?["ng-version","19.2.8"]:NM(this.componentDef.selectors[0]),u=pg(0,null,null,1,0,null,null,null,null,[l],null),g=tD(s,r||this.ngModule,e),h=nD(g),C=h.rendererFactory.createRenderer(null,s),M=i?qM(C,i,s.encapsulation,g):iD(s,C),x=fg(null,u,null,512|f_(s),null,null,h,C,g,null,Wv(M,g,!0));x[at]=M,Kf(x);let A=null;try{let H=V_(at,u,x,"#host",()=>[this.componentDef],!0,0);M&&(p_(C,M,H),fo(M,x)),ul(u,x,H),dg(u,H,x),z_(u,H),t!==void 0&&rD(H,this.ngContentSelectors,t),A=On(H.index,x),x[Lt]=A[Lt],_g(u,x,null)}catch(H){throw A!==null&&Xp(A),Xp(x),H}finally{Le(23),Jf()}return new bf(this.componentType,x)}finally{he(o)}}},bf=class extends zS{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t){super(),this._rootLView=t,this._tNode=iv(t[de],at),this.location=uo(this._tNode,t),this.instance=On(this._tNode.index,t)[Lt],this.hostView=this.changeDetectorRef=new _s(t,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let r=this._rootLView,o=vg(i,r[de],r,e,t);this.previousInputValues.set(e,t);let s=On(i.index,r);wg(s,1)}get injector(){return new rr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function rD(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var yn=(()=>{class n{static __NG_ELEMENT_ID__=oD}return n})();function oD(){let n=Pt();return j_(n,se())}var sD=yn,U_=class extends sD{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return uo(this._hostTNode,this._hostLView)}get injector(){return new rr(this._hostTNode,this._hostLView)}get parentInjector(){let e=ng(this._hostTNode,this._hostLView);if(bv(e)){let t=Fc(e,this._hostLView),i=Nc(e),r=t[de].data[i+8];return new rr(r,t)}else return new rr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=g0(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Yt}createEmbeddedView(e,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=hf(this._lContainer,e.ssrId),l=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(l,r,pf(this._hostTNode,s)),l}createComponent(e,t,i,r,o){let s=e&&!U1(e),l;if(s)l=t;else{let A=t||{};l=A.index,i=A.injector,r=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new ys(Kr(e)),g=i||this.parentInjector;if(!o&&u.ngModule==null){let H=(s?g:this.parentInjector).get(Et,null);H&&(o=H)}let h=Kr(u.componentType??{}),C=hf(this._lContainer,h?.id??null),M=C?.firstChild??null,x=u.create(g,r,M,o);return this.insertImpl(x.hostView,l,pf(this._hostTNode,C)),x}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(W1(r)){let l=this.indexOf(e);if(l!==-1)this.detach(l);else{let u=r[_t],g=new U_(u,u[Vt],u[_t]);g.detach(g.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return A_(s,r,o,i),e.attachToViewContainerRef(),j0(Pp(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=g0(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=mf(this._lContainer,t);i&&(Ic(Pp(this._lContainer),t),b_(i[de],i))}detach(e){let t=this._adjustIndex(e,-1),i=mf(this._lContainer,t);return i&&Ic(Pp(this._lContainer),t)!=null?new _s(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function g0(n){return n[Rc]}function Pp(n){return n[Rc]||(n[Rc]=[])}function j_(n,e){let t,i=e[n.index];return oi(i)?t=i:(t=R_(i,e,null,n),e[n.index]=t,gg(e,t)),cD(t,e,n,i),new U_(t,n,e)}function aD(n,e){let t=n[Ke],i=t.createComment(""),r=Rn(e,n),o=t.parentNode(r);return jc(t,o,i,t.nextSibling(r),!1),i}var cD=uD,lD=()=>!1;function dD(n,e,t){return lD(n,e,t)}function uD(n,e,t,i){if(n[cr])return;let r;t.type&8?r=In(i):r=aD(e,t),n[cr]=r}var Cf=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},xf=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){let s=t.getByIndex(o),l=this.queries[s.indexInDeclarationView];r.push(l.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Sg(e,t).matches!==null&&this.queries[t].setDirty()}},Hc=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=yD(e):this.predicate=e}},wf=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Mf=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,t,pD(t,o)),this.matchTNodeWithReadOption(e,t,wc(t,e,o,!1,!1))}else i===ni?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,wc(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===mt||r===yn||r===ni&&t.type&4)this.addMatch(t.index,-2);else{let o=wc(t,e,r,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function pD(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function fD(n,e){return n.type&11?uo(n,e):n.type&4?gl(n,e):null}function gD(n,e,t,i){return t===-1?fD(e,n):t===-2?mD(n,e,i):hs(n,n[de],t,e)}function mD(n,e,t){if(t===mt)return uo(e,n);if(t===ni)return gl(e,n);if(t===yn)return j_(e,n)}function B_(n,e,t,i){let r=e[Jn].queries[i];if(r.matches===null){let o=n.data,s=t.matches,l=[];for(let u=0;s!==null&&u<s.length;u+=2){let g=s[u];if(g<0)l.push(null);else{let h=o[g];l.push(gD(e,h,s[u+1],t.metadata.read))}}r.matches=l}return r.matches}function Sf(n,e,t,i){let r=n.queries.getByIndex(t),o=r.matches;if(o!==null){let s=B_(n,e,r,t);for(let l=0;l<o.length;l+=2){let u=o[l];if(u>0)i.push(s[l/2]);else{let g=o[l+1],h=e[-u];for(let C=Yt;C<h.length;C++){let M=h[C];M[ar]===M[_t]&&Sf(M[de],M,g,i)}if(h[eo]!==null){let C=h[eo];for(let M=0;M<C.length;M++){let x=C[M];Sf(x[de],x,g,i)}}}}}return i}function hD(n,e){return n[Jn].queries[e].queryList}function $_(n,e,t){let i=new Jp((t&4)===4);return Y1(n,e,i,i.destroy),(e[Jn]??=new xf).queries.push(new Cf(i))-1}function vD(n,e,t){let i=Xe();return i.firstCreatePass&&(H_(i,new Hc(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),$_(i,se(),e)}function _D(n,e,t,i){let r=Xe();if(r.firstCreatePass){let o=Pt();H_(r,new Hc(e,t,i),o.index),bD(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return $_(r,se(),t)}function yD(n){return n.split(",").map(e=>e.trim())}function H_(n,e,t){n.queries===null&&(n.queries=new wf),n.queries.track(new Mf(e,t))}function bD(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function Sg(n,e){return n.queries.getByIndex(e)}function CD(n,e){let t=n[de],i=Sg(t,e);return i.crossesNgTemplate?Sf(t,n,e,[]):B_(t,n,i,e)}var ro=class{},Dg=class{};var Df=class extends ro{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new $c(this);constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t;let o=H0(e);this._bootstrapComponents=a_(o.bootstrap),this._r3Injector=Iv(e,t,[{provide:ro,useValue:this},{provide:ml,useValue:this.componentFactoryResolver},...i],Ft(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ef=class extends Dg{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Df(this.moduleType,e,[])}};var qc=class extends ro{injector;componentFactoryResolver=new $c(this);instance=null;constructor(e){super();let t=new fs([...e.providers,{provide:ro,useValue:this},{provide:ml,useValue:this.componentFactoryResolver}],e.parent||Bf(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function hl(n,e,t=null){return new qc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var xD=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=q0(!1,t.type),r=i.length>0?hl([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=k({token:n,providedIn:"environment",factory:()=>new n(T(Et))})}return n})();function F(n){return xs(()=>{let e=q_(n),t=G(S({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Vv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?r=>r.get(xD).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||kn.Emulated,styles:n.styles||on,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&lg("NgStandalone"),W_(t);let i=n.dependencies;return t.directiveDefs=m0(i,!1),t.pipeDefs=m0(i,!0),t.id=ED(t),t})}function wD(n){return Kr(n)||E1(n)}function MD(n){return n!==null}function bn(n){return xs(()=>({type:n.type,bootstrap:n.bootstrap||on,declarations:n.declarations||on,imports:n.imports||on,exports:n.exports||on,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function SD(n,e){if(n==null)return sr;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],o,s,l,u;Array.isArray(r)?(l=r[0],o=r[1],s=r[2]??o,u=r[3]||null):(o=r,s=r,l=dl.None,u=null),t[o]=[i,l,u],e[o]=s}return t}function DD(n){if(n==null)return sr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ae(n){return xs(()=>{let e=q_(n);return W_(e),e})}function go(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function q_(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||sr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||on,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:SD(n.inputs,e),outputs:DD(n.outputs),debugInfo:null}}function W_(n){n.features?.forEach(e=>e(n))}function m0(n,e){if(!n)return null;let t=e?P1:wD;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(MD)}function ED(n){let e=0,t=typeof n.consts=="function"?"":n.consts,i=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of i.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function PD(n){return Object.getPrototypeOf(n.prototype).constructor}function et(n){let e=PD(n.type),t=!0,i=[n];for(;e;){let r;if(Pn(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let s=n;s.inputs=Ip(n.inputs),s.declaredInputs=Ip(n.declaredInputs),s.outputs=Ip(n.outputs);let l=r.hostBindings;l&&RD(n,l);let u=r.viewQuery,g=r.contentQueries;if(u&&TD(n,u),g&&kD(n,g),ID(n,r),i1(n.outputs,r.outputs),Pn(r)&&r.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let l=o[s];l&&l.ngInherit&&l(n),l===et&&(t=!1)}}e=Object.getPrototypeOf(e)}OD(i)}function ID(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t])}}function OD(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=no(r.hostAttrs,t=no(t,r.hostAttrs))}}function Ip(n){return n===sr?{}:n===on?[]:n}function TD(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function kD(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,o)=>{e(i,r,o),t(i,r,o)}:n.contentQueries=e}function RD(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function G_(n){return ND(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function AD(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function ND(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Ps(n,e,t){return n[e]=t}function FD(n,e){return n[e]}function ii(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function bs(n,e,t,i){let r=ii(n,e,t);return ii(n,e+1,i)||r}function LD(n,e,t,i,r){let o=bs(n,e,t,i);return ii(n,e+2,r)||o}function VD(n,e,t,i,r,o){let s=bs(n,e,t,i);return bs(n,e+2,r,o)||s}function zD(n,e,t,i,r,o,s,l,u){let g=e.consts,h=Es(e,n,4,s||null,l||null);Gf()&&Mg(e,t,h,to(g,u),hg),h.mergedAttrs=no(h.mergedAttrs,h.attrs),tg(e,h);let C=h.tView=pg(2,h,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,g,null);return e.queries!==null&&(e.queries.template(e,h),C.queries=e.queries.embeddedTView(h)),h}function Z_(n,e,t,i,r,o,s,l,u,g){let h=t+at,C=e.firstCreatePass?zD(h,e,n,i,r,o,s,l,u):e.data[h];fr(C,!1);let M=UD(e,n,C,t);il()&&pl(e,n,M,C),fo(M,n);let x=R_(M,n,M,C);return n[h]=x,gg(n,x),dD(x,C,n),Xc(C)&&ul(e,n,C),u!=null&&mg(n,C,g),C}function _(n,e,t,i,r,o,s,l){let u=se(),g=Xe(),h=to(g.consts,o);return Z_(u,g,n,e,t,i,r,h,s,l),_}var UD=jD;function jD(n,e,t,i){return rl(!0),e[Ke].createComment("")}var Eg=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Y_=new W("");var BD=(()=>{class n{static \u0275prov=k({token:n,providedIn:"root",factory:()=>new Pf})}return n})(),Pf=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let t=e.zone,i=this.queues.get(t);i.has(e)&&(i.delete(e),this.queuedEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}};function Ii(n){return!!n&&typeof n.then=="function"}function Pg(n){return!!n&&typeof n.subscribe=="function"}var $D=new W("");var Q_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=N($D,{optional:!0})??[];injector=N(Tn);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=Qt(this.injector,r);if(Ii(o))t.push(o);else if(Pg(o)){let s=new Promise((l,u)=>{o.subscribe({complete:l,error:u})});t.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ig=new W("");function HD(){Ju(()=>{throw new $(600,!1)})}function qD(n){return n.isBoundToModule}var WD=10;var Si=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N(Fw);afterRenderManager=N(Kw);zonelessEnabled=N(sl);rootEffectScheduler=N(BD);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new _e;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=N(Ei).hasPendingTasks.pipe(ee(t=>!t));constructor(){N(al,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=N(Et);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=Tn.NULL){Le(10);let o=t instanceof F_;if(!this._injector.get(Q_).done){let x="";throw new $(405,x)}let l;o?l=t:l=this._injector.get(ml).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let u=qD(l)?void 0:this._injector.get(ro),g=i||l.selector,h=l.create(r,[],g,u),C=h.location.nativeElement,M=h.injector.get(Y_,null);return M?.registerApplication(C),h.onDestroy(()=>{this.detachView(h.hostView),Mc(this.components,h),M?.unregisterApplication(C)}),this._loadComponent(h),Le(11,h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Le(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(qv.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new $(101,!1);let t=he(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,he(t),this.afterTick.next(),Le(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(io,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<WD;)Le(14),this.synchronizeOnce(),Le(15)}synchronizeOnce(){if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let t=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i,notifyErrorHandler:r}of this.allViews)GD(i,r,t,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>el(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;Mc(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ig,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Mc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new $(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Mc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function GD(n,e,t,i){if(!t&&!el(n))return;I_(n,e,t&&!i?0:1)}function Cn(n,e,t,i){let r=se(),o=nl();if(ii(r,o,e)){let s=Xe(),l=Xf();XM(l,r,n,e,t,i)}return Cn}function ZD(n,e,t,i){return ii(n,nl(),t)?e+Yr(t)+i:Nn}function YD(n,e,t,i,r,o){let s=iw(),l=bs(n,s,t,r);return dv(2),l?e+Yr(t)+i+Yr(r)+o:Nn}function yc(n,e){return n<<17|e<<2}function pr(n){return n>>17&32767}function QD(n){return(n&2)==2}function KD(n,e){return n&131071|e<<17}function If(n){return n|2}function oo(n){return(n&131068)>>2}function Op(n,e){return n&-131069|e<<2}function JD(n){return(n&1)===1}function Of(n){return n|1}function XD(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,l=pr(s),u=oo(s);n[i]=t;let g=!1,h;if(Array.isArray(t)){let C=t;h=C[1],(h===null||ws(C,h)>0)&&(g=!0)}else h=t;if(r)if(u!==0){let M=pr(n[l+1]);n[i+1]=yc(M,l),M!==0&&(n[M+1]=Op(n[M+1],i)),n[l+1]=KD(n[l+1],i)}else n[i+1]=yc(l,0),l!==0&&(n[l+1]=Op(n[l+1],i)),l=i;else n[i+1]=yc(u,0),l===0?l=i:n[u+1]=Op(n[u+1],i),u=i;g&&(n[i+1]=If(n[i+1])),h0(n,h,i,!0),h0(n,h,i,!1),eE(e,h,n,i,o),s=yc(l,u),o?e.classBindings=s:e.styleBindings=s}function eE(n,e,t,i,r){let o=r?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ws(o,e)>=0&&(t[i+1]=Of(t[i+1]))}function h0(n,e,t,i){let r=n[t+1],o=e===null,s=i?pr(r):oo(r),l=!1;for(;s!==0&&(l===!1||o);){let u=n[s],g=n[s+1];tE(u,e)&&(l=!0,n[s+1]=i?Of(g):If(g)),s=i?pr(g):oo(g)}l&&(n[t+1]=i?If(r):Of(r))}function tE(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ws(n,e)>=0:!1}function f(n,e,t){let i=se(),r=nl();if(ii(i,r,e)){let o=Xe(),s=Xf();v_(o,s,i,n,e,i[Ke],t,!1)}return f}function v0(n,e,t,i,r){vg(e,n,t,r?"class":"style",i)}function Og(n,e,t){return K_(n,e,t,!1),Og}function fe(n,e){return K_(n,e,null,!0),fe}function K_(n,e,t,i){let r=se(),o=Xe(),s=dv(2);if(o.firstUpdatePass&&iE(o,n,s,i),e!==Nn&&ii(r,s,e)){let l=o.data[gr()];cE(o,l,r,r[Ke],n,r[s+1]=lE(e,t),i,s)}}function nE(n,e){return e>=n.expandoStartIndex}function iE(n,e,t,i){let r=n.data;if(r[t+1]===null){let o=r[gr()],s=nE(n,t);dE(o,i)&&e===null&&!s&&(e=!1),e=rE(r,o,e,i),XD(r,o,e,t,s,i)}}function rE(n,e,t,i){let r=cw(n),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=Tp(null,n,e,t,i),t=Cs(t,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==r)if(t=Tp(r,n,e,t,i),o===null){let u=oE(n,e,i);u!==void 0&&Array.isArray(u)&&(u=Tp(null,n,e,u[1],i),u=Cs(u,e.attrs,i),sE(n,e,i,u))}else o=aE(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function oE(n,e,t){let i=t?e.classBindings:e.styleBindings;if(oo(i)!==0)return n[pr(i)]}function sE(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[pr(r)]=i}function aE(n,e,t){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=n[o].hostAttrs;i=Cs(i,s,t)}return Cs(i,e.attrs,t)}function Tp(n,e,t,i,r){let o=null,s=t.directiveEnd,l=t.directiveStylingLast;for(l===-1?l=t.directiveStart:l++;l<s&&(o=e[l],i=Cs(i,o.hostAttrs,r),o!==n);)l++;return n!==null&&(t.directiveStylingLast=l),i}function Cs(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),S1(n,s,t?!0:e[++o]))}return n===void 0?null:n}function cE(n,e,t,i,r,o,s,l){if(!(e.type&3))return;let u=n.data,g=u[l+1],h=JD(g)?_0(u,e,t,r,oo(g),s):void 0;if(!Wc(h)){Wc(o)||QD(g)&&(o=_0(u,null,t,r,l,s));let C=nv(gr(),t);vS(i,s,C,r,o)}}function _0(n,e,t,i,r,o){let s=e===null,l;for(;r>0;){let u=n[r],g=Array.isArray(u),h=g?u[1]:u,C=h===null,M=t[r+1];M===Nn&&(M=C?on:void 0);let x=C?bp(M,i):h===i?M:void 0;if(g&&!Wc(x)&&(x=bp(u,i)),Wc(x)&&(l=x,s))return l;let A=n[r+1];r=s?pr(A):oo(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(l=bp(u,i))}return l}function Wc(n){return n!==void 0}function lE(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Ft(ai(n)))),n}function dE(n,e){return(n.flags&(e?8:16))!==0}function c(n,e,t,i){let r=se(),o=Xe(),s=at+n,l=r[Ke],u=o.firstCreatePass?V_(s,o,r,e,hg,Gf(),t,i):o.data[s],g=uE(o,r,u,l,e,n);r[s]=g;let h=Xc(u);return fr(u,!0),p_(l,g,u),!bg(u)&&il()&&pl(o,r,g,u),(Q1()===0||h)&&fo(g,r),K1(),h&&(ul(o,r,u),dg(o,u,r)),i!==null&&mg(r,u),c}function a(){let n=Pt();Zf()?Yf():(n=n.parent,fr(n,!1));let e=n;X1(e)&&ew(),J1();let t=Xe();return t.firstCreatePass&&z_(t,e),e.classesWithoutHost!=null&&mw(e)&&v0(t,e,se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&hw(e)&&v0(t,e,se(),e.stylesWithoutHost,!1),a}function P(n,e,t,i){return c(n,e,t,i),a(),P}var uE=(n,e,t,i,r,o)=>(rl(!0),d_(i,r,pw()));function pE(n,e,t,i,r){let o=e.consts,s=to(o,i),l=Es(e,n,8,"ng-container",s);s!==null&&yf(l,s,!0);let u=to(o,r);return Gf()&&Mg(e,t,l,u,hg),l.mergedAttrs=no(l.mergedAttrs,l.attrs),e.queries!==null&&e.queries.elementStart(e,l),l}function je(n,e,t){let i=se(),r=Xe(),o=n+at,s=r.firstCreatePass?pE(o,r,i,e,t):r.data[o];fr(s,!0);let l=fE(r,i,s,n);return i[o]=l,il()&&pl(r,i,l,s),fo(l,i),Xc(s)&&(ul(r,i,s),dg(r,s,i)),t!=null&&mg(i,s),je}function Be(){let n=Pt(),e=Xe();return Zf()?Yf():(n=n.parent,fr(n,!1)),e.firstCreatePass&&(tg(e,n),$f(n)&&e.queries.elementEnd(n)),Be}function vl(n,e,t){return je(n,e,t),Be(),vl}var fE=(n,e,t,i)=>(rl(!0),VM(e[Ke],""));function D(){return se()}var nr=void 0;function gE(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var mE=["en",[["a","p"],["AM","PM"],nr],[["AM","PM"],nr,nr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],nr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],nr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",nr,"{1} 'at' {0}",nr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",gE],kp={};function zt(n){let e=hE(n),t=y0(e);if(t)return t;let i=e.split("-")[0];if(t=y0(i),t)return t;if(i==="en")return mE;throw new $(701,!1)}function y0(n){return n in kp||(kp[n]=Dn.ng&&Dn.ng.common&&Dn.ng.common.locales&&Dn.ng.common.locales[n]),kp[n]}var qe=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(qe||{});function hE(n){return n.toLowerCase().replace(/_/g,"-")}var Gc="en-US",vE="USD";var _E=Gc;function yE(n){typeof n=="string"&&(_E=n.toLowerCase().replace(/_/g,"-"))}function b0(n,e,t){return function i(r){if(r===Function)return t;let o=co(n)?On(n.index,e):e;wg(o,5);let s=e[Lt],l=C0(e,s,t,r),u=i.__ngNextListenerFn__;for(;u;)l=C0(e,s,u,r)&&l,u=u.__ngNextListenerFn__;return l}}function C0(n,e,t,i){let r=he(null);try{return Le(6,e,t),t(i)!==!1}catch(o){return bE(n,o),!1}finally{Le(7,e,t),he(r)}}function bE(n,e){let t=n[Xr],i=t?t.get(Xn,null):null;i&&i.handleError(e)}function x0(n,e,t,i,r,o){let s=e[t],l=e[de],g=l.data[t].outputs[i],h=s[g],C=l.firstCreatePass?Wf(l):null,M=qf(e),x=h.subscribe(o),A=M.length;M.push(o,x),C&&C.push(r,n.index,A,-(A+1))}var CE=(n,e,t)=>{};function v(n,e,t,i){let r=se(),o=Xe(),s=Pt();return J_(o,r,r[Ke],s,n,e,i),v}function xE(n,e,t,i){let r=n.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===t&&r[o+1]===i){let l=e[Tc],u=r[o+2];return l.length>u?l[u]:null}typeof s=="string"&&(o+=2)}return null}function J_(n,e,t,i,r,o,s){let l=Xc(i),g=n.firstCreatePass?Wf(n):null,h=qf(e),C=!0;if(i.type&3||s){let M=Rn(i,e),x=s?s(M):M,A=h.length,H=s?ue=>s(In(ue[i.index])):i.index,Q=null;if(!s&&l&&(Q=xE(n,e,r,i.index)),Q!==null){let ue=Q.__ngLastListenerFn__||Q;ue.__ngNextListenerFn__=o,Q.__ngLastListenerFn__=o,C=!1}else{o=b0(i,e,o),CE(x,r,o);let ue=t.listen(x,r,o);h.push(o,ue),g&&g.push(r,H,A,A+1)}}else o=b0(i,e,o);if(C){let M=i.outputs?.[r],x=i.hostDirectiveOutputs?.[r];if(x&&x.length)for(let A=0;A<x.length;A+=2){let H=x[A],Q=x[A+1];x0(i,e,H,Q,r,o)}if(M&&M.length)for(let A of M)x0(i,e,A,r,r,o)}}function m(n=1){return dw(n)}function wE(n,e){let t=null,i=IM(n);for(let r=0;r<e.length;r++){let o=e[r];if(o==="*"){t=r;continue}if(i===null?l_(n,o,!0):kM(i,o))return r}return t}function X_(n){let e=se()[an][Vt];if(!e.projection){let t=n?n.length:1,i=e.projection=w1(t,null),r=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?wE(o,n):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function ey(n,e=0,t,i,r,o){let s=se(),l=Xe(),u=i?n+1:null;u!==null&&Z_(s,l,u,i,r,o,null,t);let g=Es(l,at+n,16,null,t||null);g.projection===null&&(g.projection=e),Yf();let C=!s[gs]||av();s[an][Vt].projection[g.projection]===null&&u!==null?ME(s,l,u):C&&!bg(g)&&mS(l,s,g)}function ME(n,e,t){let i=at+t,r=e.data[i],o=n[i],s=hf(o,r.tView.ssrId),l=__(n,r,void 0,{dehydratedView:s});A_(o,l,0,pf(r,s))}function Tg(n,e,t,i){_D(n,e,t,i)}function mo(n,e,t){vD(n,e,t)}function li(n){let e=se(),t=Xe(),i=uv();Qf(i+1);let r=Sg(t,i);if(n.dirty&&q1(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let o=CD(e,i);n.reset(o,zw),n.notifyOnChanges()}return!0}return!1}function di(){return hD(se(),uv())}function SE(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}function K(n){let e=nw();return Ss(e,at+n)}function d(n,e=""){let t=se(),i=Xe(),r=n+at,o=i.firstCreatePass?Es(i,r,1,e,null):i.data[r],s=DE(i,t,o,e,n);t[r]=s,il()&&pl(i,t,s,o),fr(o,!1)}var DE=(n,e,t,i,r)=>(rl(!0),FM(e[Ke],i));function R(n){return I("",n,""),R}function I(n,e,t){let i=se(),r=ZD(i,n,e,t);return r!==Nn&&ty(i,gr(),r),I}function mr(n,e,t,i,r){let o=se(),s=YD(o,n,e,t,i,r);return s!==Nn&&ty(o,gr(),s),mr}function ty(n,e,t){let i=nv(e,n);LM(n[Ke],i,t)}function z(n,e,t){Fv(e)&&(e=e());let i=se(),r=nl();if(ii(i,r,e)){let o=Xe(),s=Xf();v_(o,s,i,n,e,i[Ke],t,!1)}return z}function B(n,e){let t=Fv(n);return t&&n.set(e),t}function U(n,e){let t=se(),i=Xe(),r=Pt();return J_(i,t,t[Ke],r,n,e),U}function EE(n,e,t){let i=Xe();if(i.firstCreatePass){let r=Pn(n);Tf(t,i.data,i.blueprint,r,!0),Tf(e,i.data,i.blueprint,r,!1)}}function Tf(n,e,t,i,r){if(n=Dt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Tf(n[o],e,t,i,r);else{let o=Xe(),s=se(),l=Pt(),u=Jr(n)?n:Dt(n.provide),g=Z0(n),h=l.providerIndexes&1048575,C=l.directiveStart,M=l.providerIndexes>>20;if(Jr(n)||!n.multi){let x=new ur(g,r,w),A=Ap(u,e,r?h:h+M,C);A===-1?(Wp(Vc(l,s),o,u),Rp(o,n,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(x),s.push(x)):(t[A]=x,s[A]=x)}else{let x=Ap(u,e,h+M,C),A=Ap(u,e,h,h+M),H=x>=0&&t[x],Q=A>=0&&t[A];if(r&&!Q||!r&&!H){Wp(Vc(l,s),o,u);let ue=OE(r?IE:PE,t.length,r,i,g);!r&&Q&&(t[A].providerFactory=ue),Rp(o,n,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(ue),s.push(ue)}else{let ue=ny(t[r?A:x],g,!r&&i);Rp(o,n,x>-1?x:A,ue)}!r&&i&&Q&&t[A].componentProviders++}}}function Rp(n,e,t,i){let r=Jr(e),o=R1(e);if(r||o){let u=(o?Dt(e.useClass):e).prototype.ngOnDestroy;if(u){let g=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let h=g.indexOf(t);h===-1?g.push(t,[i,u]):g[h+1].push(i,u)}else g.push(t,u)}}}function ny(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ap(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function PE(n,e,t,i){return kf(this.multi,[])}function IE(n,e,t,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,l=hs(t,t[de],this.providerFactory.index,i);o=l.slice(0,s),kf(r,o);for(let u=s;u<l.length;u++)o.push(l[u])}else o=[],kf(r,o);return o}function kf(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function OE(n,e,t,i,r){let o=new ur(n,t,w);return o.multi=[],o.index=e,o.componentProviders=0,ny(o,r,i&&!t),o}function lt(n,e=[]){return t=>{t.providersResolver=(i,r)=>EE(i,r?r(n):n,e)}}function Ut(n,e,t){let i=Di()+n,r=se();return r[i]===Nn?Ps(r,i,t?e.call(t):e()):FD(r,i)}function ui(n,e,t,i){return ry(se(),Di(),n,e,t,i)}function jt(n,e,t,i,r){return oy(se(),Di(),n,e,t,i,r)}function iy(n,e,t,i,r,o){return sy(se(),Di(),n,e,t,i,r,o)}function _l(n,e){let t=n[e];return t===Nn?void 0:t}function ry(n,e,t,i,r,o){let s=e+t;return ii(n,s,r)?Ps(n,s+1,o?i.call(o,r):i(r)):_l(n,s+1)}function oy(n,e,t,i,r,o,s){let l=e+t;return bs(n,l,r,o)?Ps(n,l+2,s?i.call(s,r,o):i(r,o)):_l(n,l+2)}function sy(n,e,t,i,r,o,s,l){let u=e+t;return LD(n,u,r,o,s)?Ps(n,u+3,l?i.call(l,r,o,s):i(r,o,s)):_l(n,u+3)}function TE(n,e,t,i,r,o,s,l,u){let g=e+t;return VD(n,g,r,o,s,l)?Ps(n,g+4,u?i.call(u,r,o,s,l):i(r,o,s,l)):_l(n,g+4)}function Z(n,e){let t=Xe(),i,r=n+at;t.firstCreatePass?(i=kE(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=or(i.type,!0)),s,l=Nt(w);try{let u=Lc(!1),g=o();return Lc(u),SE(t,se(),r,g),g}finally{Nt(l)}}function kE(n,e){if(e)for(let t=e.length-1;t>=0;t--){let i=e[t];if(n===i.name)return i}}function Me(n,e,t){let i=n+at,r=se(),o=Ss(r,i);return yl(r,i)?ry(r,Di(),e,o.transform,t,o):o.transform(t)}function $e(n,e,t,i){let r=n+at,o=se(),s=Ss(o,r);return yl(o,r)?oy(o,Di(),e,s.transform,t,i,s):s.transform(t,i)}function ay(n,e,t,i,r){let o=n+at,s=se(),l=Ss(s,o);return yl(s,o)?sy(s,Di(),e,l.transform,t,i,r,l):l.transform(t,i,r)}function Oi(n,e,t,i,r,o){let s=n+at,l=se(),u=Ss(l,s);return yl(l,s)?TE(l,Di(),e,u.transform,t,i,r,o,u):u.transform(t,i,r,o)}function yl(n,e){return n[de].data[e].pure}function pi(n,e){return gl(n,e)}var Rf=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},cy=(()=>{class n{compileModuleSync(t){return new Ef(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=H0(t),o=a_(r.declarations).reduce((s,l)=>{let u=Kr(l);return u&&s.push(new ys(u)),s},[]);return new Rf(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var RE=(()=>{class n{zone=N(we);changeDetectionScheduler=N(vs);applicationRef=N(Si);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),AE=new W("",{factory:()=>!1});function ly({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new we(G(S({},uy()),{scheduleInRootZone:t})),[{provide:we,useFactory:n},{provide:Qr,multi:!0,useFactory:()=>{let i=N(RE,{optional:!0});return()=>i.initialize()}},{provide:Qr,multi:!0,useFactory:()=>{let i=N(NE);return()=>{i.initialize()}}},e===!0?{provide:Tv,useValue:!0}:[],{provide:kv,useValue:t??Ov}]}function dy(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,i=ly({ngZoneFactory:()=>{let r=uy(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&lg("NgZone_CoalesceEvent"),new we(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return so([{provide:AE,useValue:!0},{provide:sl,useValue:!1},i])}function uy(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var NE=(()=>{class n{subscription=new He;initialized=!1;zone=N(we);pendingTasks=N(Ei);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var FE=(()=>{class n{appRef=N(Si);taskService=N(Ei);ngZone=N(we);zonelessEnabled=N(sl);tracing=N(al,{optional:!0});disableScheduling=N(Tv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new He;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Uc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(kv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Kp||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?Kh:Rv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Uc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Kh(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function LE(){return typeof $localize<"u"&&$localize.locale||Gc}var Is=new W("",{providedIn:"root",factory:()=>N(Is,le.Optional|le.SkipSelf)||LE()}),py=new W("",{providedIn:"root",factory:()=>vE});var Af=new W(""),VE=new W("");function ls(n){return!n.moduleRef}function zE(n){let e=ls(n)?n.r3Injector:n.moduleRef.injector,t=e.get(we);return t.run(()=>{ls(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Xn,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:o=>{i.handleError(o)}})}),ls(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Af);s.add(o),e.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Af);s.add(o),n.moduleRef.onDestroy(()=>{Mc(n.allPlatformModules,n.moduleRef),r.unsubscribe(),s.delete(o)})}return jE(i,t,()=>{let o=e.get(Q_);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Is,Gc);if(yE(s||Gc),!e.get(VE,!0))return ls(n)?e.get(Si):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ls(n)){let u=e.get(Si);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return UE(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function UE(n,e){let t=n.injector.get(Si);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new $(-403,!1);e.push(n)}function jE(n,e,t){try{let i=t();return Ii(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var Sc=null;function BE(n=[],e){return Tn.create({name:e,providers:[{provide:Kc,useValue:"platform"},{provide:Af,useValue:new Set([()=>Sc=null])},...n]})}function $E(n=[]){if(Sc)return Sc;let e=BE(n);return Sc=e,HD(),HE(e),e}function HE(n){let e=n.get(ag,null);Qt(n,()=>{e?.forEach(t=>t())})}var cn=(()=>{class n{static __NG_ELEMENT_ID__=qE}return n})();function qE(n){return WE(Pt(),se(),(n&16)===16)}function WE(n,e,t){if(co(n)&&!t){let i=On(n.index,e);return new _s(i,i)}else if(n.type&175){let i=e[an];return new _s(i,e)}return null}var Nf=class{constructor(){}supports(e){return G_(e)}create(e){return new Ff(e)}},GE=(n,e)=>e,Ff=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||GE}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){let s=!i||t&&t.currentIndex<w0(i,r,o)?t:i,l=w0(s,r,o),u=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,s.previousIndex==null)r++;else{o||(o=[]);let g=l-r,h=u-r;if(g!=h){for(let M=0;M<g;M++){let x=M<o.length?o[M]:o[M]=0,A=x+M;h<=A&&A<g&&(o[M]=x+1)}let C=s.previousIndex;o[C]=h-g}}l!==u&&e(s,l,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!G_(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)o=e[l],s=this._trackByFn(l,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,l),i=!0):(i&&(t=this._verifyReinsertion(t,o,s,l)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else r=0,AD(e,l=>{s=this._trackByFn(r,l),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,l,s,r),i=!0):(i&&(t=this._verifyReinsertion(t,l,s,r)),Object.is(t.item,l)||this._addIdentityChange(t,l)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new Lf(t,i),o,r)),e}_verifyReinsertion(e,t,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Zc),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Zc),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Lf=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Vf=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},Zc=class{map=new Map;put(e){let t=e.trackById,i=this.map.get(t);i||(i=new Vf,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function w0(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}function M0(){return new kg([new Nf])}var kg=(()=>{class n{factories;static \u0275prov=k({token:n,providedIn:"root",factory:M0});constructor(t){this.factories=t}static create(t,i){if(i!=null){let r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||M0()),deps:[[n,new b1,new U0]]}}find(t){let i=this.factories.find(r=>r.supports(t));if(i!=null)return i;throw new $(901,!1)}}return n})();function fy(n){Le(8);try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=$E(i),o=[ly({}),{provide:vs,useExisting:FE},...t||[]],s=new qc({providers:o,parent:r,debugName:"",runEnvironmentInitializers:!1});return zE({r3Injector:s.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Le(9)}}function Ti(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ln(n){return tp(n)}function ho(n,e){return Ku(n,e?.equal)}var S0=class{[rn];constructor(e){this[rn]=e}destroy(){this[rn].destroy()}};var rt=new W("");var hy=null;function dn(){return hy}function Rg(n){hy??=n}var Os=class{},Ag=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>N(vy),providedIn:"platform"})}return n})();var vy=(()=>{class n extends Ag{_location;_history;_doc=N(rt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return dn().getBaseHref(this._doc)}onPopState(t){let i=dn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=dn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function _y(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function gy(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function ki(n){return n&&n[0]!=="?"?`?${n}`:n}var vo=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>N(by),providedIn:"root"})}return n})(),yy=new W(""),by=(()=>{class n extends vo{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??N(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return _y(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+ki(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+ki(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+ki(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(T(Ag),T(yy,8))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_o=(()=>{class n{_subject=new _e;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=QE(gy(my(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+ki(i))}normalize(t){return n.stripTrailingSlash(YE(this._basePath,my(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ki(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ki(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=ki;static joinWithSlash=_y;static stripTrailingSlash=gy;static \u0275fac=function(i){return new(i||n)(T(vo))};static \u0275prov=k({token:n,factory:()=>ZE(),providedIn:"root"})}return n})();function ZE(){return new _o(T(vo))}function YE(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function my(n){return n.replace(/\/index.html$/,"")}function QE(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Ey={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},$g=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}($g||{});var yt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(yt||{}),Oe=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Oe||{}),Bt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Bt||{}),$t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Py(n){return zt(n)[qe.LocaleId]}function Iy(n,e,t){let i=zt(n),r=[i[qe.DayPeriodsFormat],i[qe.DayPeriodsStandalone]],o=un(r,e);return un(o,t)}function Oy(n,e,t){let i=zt(n),r=[i[qe.DaysFormat],i[qe.DaysStandalone]],o=un(r,e);return un(o,t)}function Ty(n,e,t){let i=zt(n),r=[i[qe.MonthsFormat],i[qe.MonthsStandalone]],o=un(r,e);return un(o,t)}function ky(n,e){let i=zt(n)[qe.Eras];return un(i,e)}function Ts(n,e){let t=zt(n);return un(t[qe.DateFormat],e)}function ks(n,e){let t=zt(n);return un(t[qe.TimeFormat],e)}function Rs(n,e){let i=zt(n)[qe.DateTimeFormat];return un(i,e)}function Ln(n,e){let t=zt(n),i=t[qe.NumberSymbols][e];if(typeof i>"u"){if(e===$t.CurrencyDecimal)return t[qe.NumberSymbols][$t.Decimal];if(e===$t.CurrencyGroup)return t[qe.NumberSymbols][$t.Group]}return i}function Ry(n,e){return zt(n)[qe.NumberFormats][e]}function KE(n){return zt(n)[qe.Currencies]}function Ay(n){if(!n[qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ny(n){let e=zt(n);return Ay(e),(e[qe.ExtraData][2]||[]).map(i=>typeof i=="string"?Ng(i):[Ng(i[0]),Ng(i[1])])}function Fy(n,e,t){let i=zt(n);Ay(i);let r=[i[qe.ExtraData][0],i[qe.ExtraData][1]],o=un(r,e)||[];return un(o,t)||[]}function un(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Ng(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}function Ly(n,e,t="en"){let i=KE(t)[n]||Ey[n]||[],r=i[1];return e==="narrow"&&typeof r=="string"?r:i[0]||n}var JE=2;function Vy(n){let e,t=Ey[n];return t&&(e=t[2]),typeof e=="number"?e:JE}var XE=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,bl={},eP=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function zy(n,e,t,i){let r=lP(n);e=fi(t,e)||e;let s=[],l;for(;e;)if(l=eP.exec(e),l){s=s.concat(l.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=r.getTimezoneOffset();i&&(u=jy(i,u),r=cP(r,i));let g="";return s.forEach(h=>{let C=sP(h);g+=C?C(r,t,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}function Sl(n,e,t){let i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function fi(n,e){let t=Py(n);if(bl[t]??={},bl[t][e])return bl[t][e];let i="";switch(e){case"shortDate":i=Ts(n,Bt.Short);break;case"mediumDate":i=Ts(n,Bt.Medium);break;case"longDate":i=Ts(n,Bt.Long);break;case"fullDate":i=Ts(n,Bt.Full);break;case"shortTime":i=ks(n,Bt.Short);break;case"mediumTime":i=ks(n,Bt.Medium);break;case"longTime":i=ks(n,Bt.Long);break;case"fullTime":i=ks(n,Bt.Full);break;case"short":let r=fi(n,"shortTime"),o=fi(n,"shortDate");i=Cl(Rs(n,Bt.Short),[r,o]);break;case"medium":let s=fi(n,"mediumTime"),l=fi(n,"mediumDate");i=Cl(Rs(n,Bt.Medium),[s,l]);break;case"long":let u=fi(n,"longTime"),g=fi(n,"longDate");i=Cl(Rs(n,Bt.Long),[u,g]);break;case"full":let h=fi(n,"fullTime"),C=fi(n,"fullDate");i=Cl(Rs(n,Bt.Full),[h,C]);break}return i&&(bl[t][e]=i),i}function Cl(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return e!=null&&i in e?e[i]:t})),n}function xn(n,e,t="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function tP(n,e){return xn(n,3).substring(0,e)}function tt(n,e,t=0,i=!1,r=!1){return function(o,s){let l=nP(n,o);if((t>0||l>-t)&&(l+=t),n===3)l===0&&t===-12&&(l=12);else if(n===6)return tP(l,e);let u=Ln(s,$t.MinusSign);return xn(l,e,u,i,r)}}function nP(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Ve(n,e,t=yt.Format,i=!1){return function(r,o){return iP(r,o,n,e,t,i)}}function iP(n,e,t,i,r,o){switch(t){case 2:return Ty(e,r,i)[n.getMonth()];case 1:return Oy(e,r,i)[n.getDay()];case 0:let s=n.getHours(),l=n.getMinutes();if(o){let g=Ny(e),h=Fy(e,r,i),C=g.findIndex(M=>{if(Array.isArray(M)){let[x,A]=M,H=s>=x.hours&&l>=x.minutes,Q=s<A.hours||s===A.hours&&l<A.minutes;if(x.hours<A.hours){if(H&&Q)return!0}else if(H||Q)return!0}else if(M.hours===s&&M.minutes===l)return!0;return!1});if(C!==-1)return h[C]}return Iy(e,r,i)[s<12?0:1];case 3:return ky(e,i)[n.getFullYear()<=0?0:1];default:let u=t;throw new Error(`unexpected translation type ${u}`)}}function xl(n){return function(e,t,i){let r=-1*i,o=Ln(t,$t.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case 0:return(r>=0?"+":"")+xn(s,2,o)+xn(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+xn(s,1,o);case 2:return"GMT"+(r>=0?"+":"")+xn(s,2,o)+":"+xn(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+xn(s,2,o)+":"+xn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var rP=0,Ml=4;function oP(n){let e=Sl(n,rP,1).getDay();return Sl(n,0,1+(e<=Ml?Ml:Ml+7)-e)}function Uy(n){let e=n.getDay(),t=e===0?-3:Ml-e;return Sl(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Fg(n,e=!1){return function(t,i){let r;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();r=1+Math.floor((s+o)/7)}else{let o=Uy(t),s=oP(o.getFullYear()),l=o.getTime()-s.getTime();r=1+Math.round(l/6048e5)}return xn(r,n,Ln(i,$t.MinusSign))}}function wl(n,e=!1){return function(t,i){let o=Uy(t).getFullYear();return xn(o,n,Ln(i,$t.MinusSign),e)}}var Lg={};function sP(n){if(Lg[n])return Lg[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ve(3,Oe.Abbreviated);break;case"GGGG":e=Ve(3,Oe.Wide);break;case"GGGGG":e=Ve(3,Oe.Narrow);break;case"y":e=tt(0,1,0,!1,!0);break;case"yy":e=tt(0,2,0,!0,!0);break;case"yyy":e=tt(0,3,0,!1,!0);break;case"yyyy":e=tt(0,4,0,!1,!0);break;case"Y":e=wl(1);break;case"YY":e=wl(2,!0);break;case"YYY":e=wl(3);break;case"YYYY":e=wl(4);break;case"M":case"L":e=tt(1,1,1);break;case"MM":case"LL":e=tt(1,2,1);break;case"MMM":e=Ve(2,Oe.Abbreviated);break;case"MMMM":e=Ve(2,Oe.Wide);break;case"MMMMM":e=Ve(2,Oe.Narrow);break;case"LLL":e=Ve(2,Oe.Abbreviated,yt.Standalone);break;case"LLLL":e=Ve(2,Oe.Wide,yt.Standalone);break;case"LLLLL":e=Ve(2,Oe.Narrow,yt.Standalone);break;case"w":e=Fg(1);break;case"ww":e=Fg(2);break;case"W":e=Fg(1,!0);break;case"d":e=tt(2,1);break;case"dd":e=tt(2,2);break;case"c":case"cc":e=tt(7,1);break;case"ccc":e=Ve(1,Oe.Abbreviated,yt.Standalone);break;case"cccc":e=Ve(1,Oe.Wide,yt.Standalone);break;case"ccccc":e=Ve(1,Oe.Narrow,yt.Standalone);break;case"cccccc":e=Ve(1,Oe.Short,yt.Standalone);break;case"E":case"EE":case"EEE":e=Ve(1,Oe.Abbreviated);break;case"EEEE":e=Ve(1,Oe.Wide);break;case"EEEEE":e=Ve(1,Oe.Narrow);break;case"EEEEEE":e=Ve(1,Oe.Short);break;case"a":case"aa":case"aaa":e=Ve(0,Oe.Abbreviated);break;case"aaaa":e=Ve(0,Oe.Wide);break;case"aaaaa":e=Ve(0,Oe.Narrow);break;case"b":case"bb":case"bbb":e=Ve(0,Oe.Abbreviated,yt.Standalone,!0);break;case"bbbb":e=Ve(0,Oe.Wide,yt.Standalone,!0);break;case"bbbbb":e=Ve(0,Oe.Narrow,yt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ve(0,Oe.Abbreviated,yt.Format,!0);break;case"BBBB":e=Ve(0,Oe.Wide,yt.Format,!0);break;case"BBBBB":e=Ve(0,Oe.Narrow,yt.Format,!0);break;case"h":e=tt(3,1,-12);break;case"hh":e=tt(3,2,-12);break;case"H":e=tt(3,1);break;case"HH":e=tt(3,2);break;case"m":e=tt(4,1);break;case"mm":e=tt(4,2);break;case"s":e=tt(5,1);break;case"ss":e=tt(5,2);break;case"S":e=tt(6,1);break;case"SS":e=tt(6,2);break;case"SSS":e=tt(6,3);break;case"Z":case"ZZ":case"ZZZ":e=xl(0);break;case"ZZZZZ":e=xl(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=xl(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=xl(2);break;default:return null}return Lg[n]=e,e}function jy(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function aP(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function cP(n,e,t){let r=n.getTimezoneOffset(),o=jy(e,r);return aP(n,-1*(o-r))}function lP(n){if(Cy(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[r,o=1,s=1]=n.split("-").map(l=>+l);return Sl(r,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(XE))return dP(i)}let e=new Date(n);if(!Cy(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function dP(n){let e=new Date(0),t=0,i=0,r=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,l=Number(n[5]||0)-i,u=Number(n[6]||0),g=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,l,u,g),e}function Cy(n){return n instanceof Date&&!isNaN(n.valueOf())}var uP=/^(\d+)?\.((\d+)(-(\d+))?)?$/,xy=22,Dl=".",As="0",pP=";",fP=",",Vg="#",wy="\xA4";function gP(n,e,t,i,r,o,s=!1){let l="",u=!1;if(!isFinite(n))l=Ln(t,$t.Infinity);else{let g=vP(n);s&&(g=hP(g));let h=e.minInt,C=e.minFrac,M=e.maxFrac;if(o){let fn=o.match(uP);if(fn===null)throw new Error(`${o} is not a valid digit info`);let We=fn[1],Yi=fn[3],Ra=fn[5];We!=null&&(h=zg(We)),Yi!=null&&(C=zg(Yi)),Ra!=null?M=zg(Ra):Yi!=null&&C>M&&(M=C)}_P(g,C,M);let x=g.digits,A=g.integerLen,H=g.exponent,Q=[];for(u=x.every(fn=>!fn);A<h;A++)x.unshift(0);for(;A<0;A++)x.unshift(0);A>0?Q=x.splice(A,x.length):(Q=x,x=[0]);let ue=[];for(x.length>=e.lgSize&&ue.unshift(x.splice(-e.lgSize,x.length).join(""));x.length>e.gSize;)ue.unshift(x.splice(-e.gSize,x.length).join(""));x.length&&ue.unshift(x.join("")),l=ue.join(Ln(t,i)),Q.length&&(l+=Ln(t,r)+Q.join("")),H&&(l+=Ln(t,$t.Exponential)+"+"+H)}return n<0&&!u?l=e.negPre+l+e.negSuf:l=e.posPre+l+e.posSuf,l}function By(n,e,t,i,r){let o=Ry(e,$g.Currency),s=mP(o,Ln(e,$t.MinusSign));return s.minFrac=Vy(i),s.maxFrac=s.minFrac,gP(n,s,e,$t.CurrencyGroup,$t.CurrencyDecimal,r).replace(wy,t).replace(wy,"").trim()}function mP(n,e="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(pP),r=i[0],o=i[1],s=r.indexOf(Dl)!==-1?r.split(Dl):[r.substring(0,r.lastIndexOf(As)+1),r.substring(r.lastIndexOf(As)+1)],l=s[0],u=s[1]||"";t.posPre=l.substring(0,l.indexOf(Vg));for(let h=0;h<u.length;h++){let C=u.charAt(h);C===As?t.minFrac=t.maxFrac=h+1:C===Vg?t.maxFrac=h+1:t.posSuf+=C}let g=l.split(fP);if(t.gSize=g[1]?g[1].length:0,t.lgSize=g[2]||g[1]?(g[2]||g[1]).length:0,o){let h=r.length-t.posPre.length-t.posSuf.length,C=o.indexOf(Vg);t.negPre=o.substring(0,C).replace(/'/g,""),t.negSuf=o.slice(C+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function hP(n){if(n.digits[0]===0)return n;let e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(e===0?n.digits.push(0,0):e===1&&n.digits.push(0),n.integerLen+=2),n}function vP(n){let e=Math.abs(n)+"",t=0,i,r,o,s,l;for((r=e.indexOf(Dl))>-1&&(e=e.replace(Dl,"")),(o=e.search(/e/i))>0?(r<0&&(r=o),r+=+e.slice(o+1),e=e.substring(0,o)):r<0&&(r=e.length),o=0;e.charAt(o)===As;o++);if(o===(l=e.length))i=[0],r=1;else{for(l--;e.charAt(l)===As;)l--;for(r-=o,i=[],s=0;o<=l;o++,s++)i[s]=Number(e.charAt(o))}return r>xy&&(i=i.splice(0,xy-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}function _P(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let i=n.digits,r=i.length-n.integerLen,o=Math.min(Math.max(e,r),t),s=o+n.integerLen,l=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let C=s;C<i.length;C++)i[C]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let C=1;C<s;C++)i[C]=0}if(l>=5)if(s-1<0){for(let C=0;C>s;C--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let u=o!==0,g=e+n.integerLen,h=i.reduceRight(function(C,M,x,A){return M=M+C,A[x]=M<10?M:M-10,u&&(A[x]===0&&x>=g?A.pop():u=!1),M>=10?1:0},0);h&&(i.unshift(h),n.integerLen++)}function zg(n){let e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}var Ug=/\s+/,My=[],Ae=(()=>{class n{_ngEl;_renderer;initialClasses=My;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(Ug):My}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Ug):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(Ug).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||n)(w(mt),w(Fn))};static \u0275dir=ae({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var El=class{$implicit;ngForOf;index;count;constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ce=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new El(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let l=i.get(o);i.move(l,s),Sy(l,r)}});for(let r=0,o=i.length;r<o;r++){let l=i.get(r).context;l.index=r,l.count=o,l.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);Sy(o,r)})}static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(w(yn),w(ni),w(kg))};static \u0275dir=ae({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Sy(n,e){n.context.$implicit=e.item}var q=(()=>{class n{_viewContainer;_context=new Pl;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,i){this._viewContainer=t,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Dy(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Dy(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(w(yn),w(ni))};static \u0275dir=ae({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Pl=class{$implicit=null;ngIf=null};function Dy(n,e){if(n&&!n.createEmbeddedView)throw new $(2020,!1)}var Il=class{_viewContainerRef;_templateRef;_created=!1;constructor(e,t){this._viewContainerRef=e,this._templateRef=t}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}},wn=(()=>{class n{_defaultViews=[];_defaultUsed=!1;_caseCount=0;_lastCaseCheckIndex=0;_lastCasesMatched=!1;_ngSwitch;set ngSwitch(t){this._ngSwitch=t,this._caseCount===0&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){let i=t===this._ngSwitch;return this._lastCasesMatched||=i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(let i of this._defaultViews)i.enforceState(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ae({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}})}return n})(),gi=(()=>{class n{ngSwitch;_view;ngSwitchCase;constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Il(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static \u0275fac=function(i){return new(i||n)(w(yn),w(ni),w(wn,9))};static \u0275dir=ae({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}})}return n})(),Ns=(()=>{class n{constructor(t,i,r){r._addDefault(new Il(t,i))}static \u0275fac=function(i){return new(i||n)(w(yn),w(ni),w(wn,9))};static \u0275dir=ae({type:n,selectors:[["","ngSwitchDefault",""]]})}return n})();var Hg=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,i,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,r):!1,get:(t,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static \u0275fac=function(i){return new(i||n)(w(yn))};static \u0275dir=ae({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Je]})}return n})();function Fs(n,e){return new $(2100,!1)}var jg=class{createSubscription(e,t){return ln(()=>e.subscribe({next:t,error:i=>{throw i}}))}dispose(e){ln(()=>e.unsubscribe())}},Bg=class{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}},yP=new Bg,bP=new jg,qg=(()=>{class n{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(t){this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){if(!this._obj){if(t)try{this.markForCheckOnValueUpdate=!1,this._subscribe(t)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if(Ii(t))return yP;if(Pg(t))return bP;throw Fs(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(i){return new(i||n)(w(cn,16))};static \u0275pipe=go({name:"async",type:n,pure:!1})}return n})(),Wg=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw Fs(n,t);return t.toLowerCase()}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=go({name:"lowercase",type:n,pure:!0})}return n})();var CP="mediumDate",$y=new W(""),Hy=new W(""),ot=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let s=i??this.defaultOptions?.dateFormat??CP,l=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return zy(t,s,o||this.locale,l)}catch(s){throw Fs(n,s.message)}}static \u0275fac=function(i){return new(i||n)(w(Is,16),w($y,24),w(Hy,24))};static \u0275pipe=go({name:"date",type:n,pure:!0})}return n})();var hr=(()=>{class n{_locale;_defaultCurrencyCode;constructor(t,i="USD"){this._locale=t,this._defaultCurrencyCode=i}transform(t,i=this._defaultCurrencyCode,r="symbol",o,s){if(!xP(t))return null;s||=this._locale,typeof r=="boolean"&&(r=r?"symbol":"code");let l=i||this._defaultCurrencyCode;r!=="code"&&(r==="symbol"||r==="symbol-narrow"?l=Ly(l,r==="symbol"?"wide":"narrow",s):l=r);try{let u=wP(t);return By(u,s,l,i,o)}catch(u){throw Fs(n,u.message)}}static \u0275fac=function(i){return new(i||n)(w(Is,16),w(py,16))};static \u0275pipe=go({name:"currency",type:n,pure:!0})}return n})();function xP(n){return!(n==null||n===""||n!==n)}function wP(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new Error(`${n} is not a number`);return n}var Gg=(()=>{class n{transform(t,i,r){if(t==null)return null;if(!(typeof t=="string"||Array.isArray(t)))throw Fs(n,t);return t.slice(i,r)}static \u0275fac=function(i){return new(i||n)};static \u0275pipe=go({name:"slice",type:n,pure:!1})}return n})();var Ce=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bn({type:n});static \u0275inj=_n({})}return n})();function Ls(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var Ol="browser",qy="server";function Zg(n){return n===Ol}function Tl(n){return n===qy}var vr=class{};var Al=new W(""),Jg=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(T(Al),T(we))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),Vs=class{_doc;constructor(e){this._doc=e}manager},kl="ng-app-id";function Wy(n){for(let e of n)e.remove()}function Gy(n,e){let t=e.createElement("style");return t.textContent=n,t}function MP(n,e,t,i){let r=n.head?.querySelectorAll(`style[${kl}="${e}"],link[${kl}="${e}"]`);if(r)for(let o of r)o.removeAttribute(kl),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Qg(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Xg=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.isServer=Tl(o),MP(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,Gy);i?.forEach(r=>this.addUsage(r,this.external,Qg))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(Wy(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Wy(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,Gy(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,Qg(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(kl,this.appId),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(T(rt),T(sg),T(cg,8),T(si))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),Yg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},em=/%COMP%/g;var Yy="%COMP%",SP=`_nghost-${Yy}`,DP=`_ngcontent-${Yy}`,EP=!0,PP=new W("",{providedIn:"root",factory:()=>EP});function IP(n){return DP.replace(em,n)}function OP(n){return SP.replace(em,n)}function Qy(n,e){return e.map(t=>t.replace(em,n))}var tm=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,s,l,u,g=null,h=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=l,this.ngZone=u,this.nonce=g,this.tracingService=h,this.platformIsServer=Tl(l),this.defaultRenderer=new zs(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===kn.ShadowDom&&(i=G(S({},i),{encapsulation:kn.Emulated}));let r=this.getOrCreateRenderer(t,i);return r instanceof Rl?r.applyToHost(t):r instanceof Us&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,l=this.ngZone,u=this.eventManager,g=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,C=this.platformIsServer,M=this.tracingService;switch(i.encapsulation){case kn.Emulated:o=new Rl(u,g,i,this.appId,h,s,l,C,M);break;case kn.ShadowDom:return new Kg(u,g,t,i,s,l,this.nonce,C,M);default:o=new Us(u,g,i,h,s,l,C,M);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||n)(T(Jg),T(Xg),T(sg),T(PP),T(rt),T(si),T(we),T(cg),T(al,8))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),zs=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,r,o){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Yg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Zy(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Zy(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new $(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let o=Yg[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=Yg[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(ti.DashCase|ti.Important)?e.style.setProperty(t,i,r&ti.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ti.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i,r){if(typeof e=="string"&&(e=dn().getGlobalEventTarget(this.doc,e),!e))throw new $(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,r)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Zy(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Kg=class extends zs{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,r,o,s,l,u,g){super(e,o,s,u,g),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=r.styles;h=Qy(r.id,h);for(let M of h){let x=document.createElement("style");l&&x.setAttribute("nonce",l),x.textContent=M,this.shadowRoot.appendChild(x)}let C=r.getExternalStyles?.();if(C)for(let M of C){let x=Qg(M,o);l&&x.setAttribute("nonce",l),this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Us=class extends zs{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,r,o,s,l,u,g){super(e,o,s,l,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let h=i.styles;this.styles=g?Qy(g,h):h,this.styleUrls=i.getExternalStyles?.(g)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Rl=class extends Us{contentAttr;hostAttr;constructor(e,t,i,r,o,s,l,u,g){let h=r+"-"+i.id;super(e,t,i,o,s,l,u,g,h),this.contentAttr=IP(h),this.hostAttr=OP(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}};var Nl=class n extends Os{supportsDOMEvents=!0;static makeCurrent(){Rg(new n)}onAndCancel(e,t,i,r){return e.addEventListener(t,i,r),()=>{e.removeEventListener(t,i,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=TP();return t==null?null:kP(t)}resetBaseElement(){js=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ls(document.cookie,e)}},js=null;function TP(){return js=js||document.querySelector("base"),js?js.getAttribute("href"):null}function kP(n){return new URL(n,document.baseURI).pathname}var RP=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),Jy=(()=>{class n extends Vs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||n)(T(rt))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),Ky=["alt","control","meta","shift"],AP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},NP={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Xy=(()=>{class n extends Vs{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,r,o){let s=n.parseEventName(i),l=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>dn().onAndCancel(t,s.domEventName,l,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=n._normalizeKey(i.pop()),s="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),s="code."),Ky.forEach(g=>{let h=i.indexOf(g);h>-1&&(i.splice(h,1),s+=g+".")}),s+=o,i.length!=0||o.length===0)return null;let u={};return u.domEventName=r,u.fullKey=s,u}static matchEventFullKeyCode(t,i){let r=AP[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Ky.forEach(s=>{if(s!==r){let l=NP[s];l(t)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(T(rt))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();function nm(n,e){return fy(S({rootComponent:n},FP(e)))}function FP(n){return{appProviders:[...jP,...n?.providers??[]],platformProviders:UP}}function LP(){Nl.makeCurrent()}function VP(){return new Xn}function zP(){return $v(document),document}var UP=[{provide:si,useValue:Ol},{provide:ag,useValue:LP,multi:!0},{provide:rt,useFactory:zP}];var jP=[{provide:Kc,useValue:"root"},{provide:Xn,useFactory:VP},{provide:Al,useClass:Jy,multi:!0,deps:[rt]},{provide:Al,useClass:Xy,multi:!0,deps:[rt]},tm,Xg,Jg,{provide:io,useExisting:tm},{provide:vr,useClass:RP},[]];var bo=class{},Bs=class{},j=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,t);let r=(e.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(l=>o.indexOf(l)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let i=e.toLowerCase();this.maybeSetNormalizedName(e,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(e,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Ll=class{encodeKey(e){return eb(e)}encodeValue(e){return eb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function BP(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,l]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],u=t.get(s)||[];u.push(l),t.set(s,u)}),t}var $P=/%(\d[a-f0-9])/gi,HP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function eb(n){return encodeURIComponent(n).replace($P,(e,t)=>HP[t]??e)}function Fl(n){return`${n}`}var Qe=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Ll,e.fromString){if(e.fromObject)throw new $(2805,!1);this.map=BP(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let i=e.fromObject[t],r=Array.isArray(i)?i.map(Fl):[Fl(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Fl(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Fl(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Vl=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function qP(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function tb(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function nb(n){return typeof Blob<"u"&&n instanceof Blob}function ib(n){return typeof FormData<"u"&&n instanceof FormData}function WP(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var rb="Content-Type",ob="Accept",sb="X-Request-URL",ab="text/plain",cb="application/json",GP=`${cb}, ${ab}, */*`,yo=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,i,r){this.url=t,this.method=e.toUpperCase();let o;if(qP(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new j,this.context??=new Vl,!this.params)this.params=new Qe,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let l=t.indexOf("?"),u=l===-1?"?":l<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||tb(this.body)||nb(this.body)||ib(this.body)||WP(this.body)?this.body:this.body instanceof Qe?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ib(this.body)?null:nb(this.body)?this.body.type||null:tb(this.body)?null:typeof this.body=="string"?ab:this.body instanceof Qe?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?cb:null}clone(e={}){let t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,l=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,g=e.headers||this.headers,h=e.params||this.params,C=e.context??this.context;return e.setHeaders!==void 0&&(g=Object.keys(e.setHeaders).reduce((M,x)=>M.set(x,e.setHeaders[x]),g)),e.setParams&&(h=Object.keys(e.setParams).reduce((M,x)=>M.set(x,e.setParams[x]),h)),new n(t,i,s,{params:h,headers:g,context:C,reportProgress:u,responseType:r,withCredentials:l,transferCache:o})}},_r=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(_r||{}),Co=class{headers;status;statusText;url;ok;type;constructor(e,t=200,i="OK"){this.headers=e.headers||new j,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},zl=class n extends Co{constructor(e={}){super(e)}type=_r.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},$s=class n extends Co{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=_r.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Hs=class extends Co{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},ZP=200,YP=204;function im(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Se=(()=>{class n{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof yo)o=t;else{let u;r.headers instanceof j?u=r.headers:u=new j(r.headers);let g;r.params&&(r.params instanceof Qe?g=r.params:g=new Qe({fromObject:r.params})),o=new yo(t,i,r.body!==void 0?r.body:null,{headers:u,context:r.context,params:g,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let s=J(o).pipe(Yn(u=>this.handler.handle(u)));if(t instanceof yo||r.observe==="events")return s;let l=s.pipe(gt(u=>u instanceof $s));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new $(2806,!1);return u.body}));case"blob":return l.pipe(ee(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new $(2807,!1);return u.body}));case"text":return l.pipe(ee(u=>{if(u.body!==null&&typeof u.body!="string")throw new $(2808,!1);return u.body}));case"json":default:return l.pipe(ee(u=>u.body))}case"response":return l;default:throw new $(2809,!1)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new Qe().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,im(r,i))}post(t,i,r={}){return this.request("POST",t,im(r,i))}put(t,i,r={}){return this.request("PUT",t,im(r,i))}static \u0275fac=function(i){return new(i||n)(T(bo))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();var QP=new W("");function KP(n,e){return e(n)}function JP(n,e,t){return(i,r)=>Qt(t,()=>e(i,o=>n(o,r)))}var lb=new W(""),db=new W(""),ub=new W("",{providedIn:"root",factory:()=>!0});var Ul=(()=>{class n extends bo{backend;injector;chain=null;pendingTasks=N(Ei);contributeToStability=N(ub);constructor(t,i){super(),this.backend=t,this.injector=i}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(lb),...this.injector.get(db,[])]));this.chain=i.reduceRight((r,o)=>JP(r,o,this.injector),KP)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(tr(()=>this.pendingTasks.remove(i)))}else return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||n)(T(Bs),T(Et))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();var XP=/^\)\]\}',?\n/,eI=RegExp(`^${sb}:`,"m");function tI(n){return"responseURL"in n&&n.responseURL?n.responseURL:eI.test(n.getAllResponseHeaders())?n.getResponseHeader(sb):null}var rm=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new $(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?Pe(i.\u0275loadImpl()):J(null)).pipe(St(()=>new me(o=>{let s=i.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((H,Q)=>s.setRequestHeader(H,Q.join(","))),t.headers.has(ob)||s.setRequestHeader(ob,GP),!t.headers.has(rb)){let H=t.detectContentTypeHeader();H!==null&&s.setRequestHeader(rb,H)}if(t.responseType){let H=t.responseType.toLowerCase();s.responseType=H!=="json"?H:"text"}let l=t.serializeBody(),u=null,g=()=>{if(u!==null)return u;let H=s.statusText||"OK",Q=new j(s.getAllResponseHeaders()),ue=tI(s)||t.url;return u=new zl({headers:Q,status:s.status,statusText:H,url:ue}),u},h=()=>{let{headers:H,status:Q,statusText:ue,url:fn}=g(),We=null;Q!==YP&&(We=typeof s.response>"u"?s.responseText:s.response),Q===0&&(Q=We?ZP:0);let Yi=Q>=200&&Q<300;if(t.responseType==="json"&&typeof We=="string"){let Ra=We;We=We.replace(XP,"");try{We=We!==""?JSON.parse(We):null}catch(yx){We=Ra,Yi&&(Yi=!1,We={error:yx,text:We})}}Yi?(o.next(new $s({body:We,headers:H,status:Q,statusText:ue,url:fn||void 0})),o.complete()):o.error(new Hs({error:We,headers:H,status:Q,statusText:ue,url:fn||void 0}))},C=H=>{let{url:Q}=g(),ue=new Hs({error:H,status:s.status||0,statusText:s.statusText||"Unknown Error",url:Q||void 0});o.error(ue)},M=!1,x=H=>{M||(o.next(g()),M=!0);let Q={type:_r.DownloadProgress,loaded:H.loaded};H.lengthComputable&&(Q.total=H.total),t.responseType==="text"&&s.responseText&&(Q.partialText=s.responseText),o.next(Q)},A=H=>{let Q={type:_r.UploadProgress,loaded:H.loaded};H.lengthComputable&&(Q.total=H.total),o.next(Q)};return s.addEventListener("load",h),s.addEventListener("error",C),s.addEventListener("timeout",C),s.addEventListener("abort",C),t.reportProgress&&(s.addEventListener("progress",x),l!==null&&s.upload&&s.upload.addEventListener("progress",A)),s.send(l),o.next({type:_r.Sent}),()=>{s.removeEventListener("error",C),s.removeEventListener("abort",C),s.removeEventListener("load",h),s.removeEventListener("timeout",C),t.reportProgress&&(s.removeEventListener("progress",x),l!==null&&s.upload&&s.upload.removeEventListener("progress",A)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(i){return new(i||n)(T(vr))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})(),pb=new W(""),nI="XSRF-TOKEN",iI=new W("",{providedIn:"root",factory:()=>nI}),rI="X-XSRF-TOKEN",oI=new W("",{providedIn:"root",factory:()=>rI}),qs=class{},sI=(()=>{class n{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ls(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||n)(T(rt),T(si),T(iI))};static \u0275prov=k({token:n,factory:n.\u0275fac})}return n})();function aI(n,e){let t=n.url.toLowerCase();if(!N(pb)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let i=N(qs).getToken(),r=N(oI);return i!=null&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}function om(...n){let e=[Se,rm,Ul,{provide:bo,useExisting:Ul},{provide:Bs,useFactory:()=>N(QP,{optional:!0})??N(rm)},{provide:lb,useValue:aI,multi:!0},{provide:pb,useValue:!0},{provide:qs,useClass:sI}];for(let t of n)e.push(...t.\u0275providers);return so(e)}var fb=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||n)(T(rt))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sm=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:function(i){let r=null;return i?r=new(i||n):r=T(lI),r},providedIn:"root"})}return n})(),lI=(()=>{class n extends sm{_doc;constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case An.NONE:return i;case An.HTML:return Pi(i,"HTML")?ai(i):r_(this._doc,String(i)).toString();case An.STYLE:return Pi(i,"Style")?ai(i):i;case An.SCRIPT:if(Pi(i,"Script"))return ai(i);throw new $(5200,!1);case An.URL:return Pi(i,"URL")?ai(i):ll(String(i));case An.RESOURCE_URL:if(Pi(i,"ResourceURL"))return ai(i);throw new $(5201,!1);default:throw new $(5202,!1)}}bypassSecurityTrustHtml(t){return Zv(t)}bypassSecurityTrustStyle(t){return Yv(t)}bypassSecurityTrustScript(t){return Qv(t)}bypassSecurityTrustUrl(t){return Kv(t)}bypassSecurityTrustResourceUrl(t){return Jv(t)}static \u0275fac=function(i){return new(i||n)(T(rt))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var oe="primary",oa=Symbol("RouteTitle"),um=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Cr(n){return new um(n)}function xb(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],l=n[o];if(s[0]===":")r[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function dI(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Vn(n[t],e[t]))return!1;return!0}function Vn(n,e){let t=n?pm(n):void 0,i=e?pm(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!wb(n[r],e[r]))return!1;return!0}function pm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function wb(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}else return n===e}function Mb(n){return n.length>0?n[n.length-1]:null}function Ni(n){return gp(n)?n:Ii(n)?Pe(Promise.resolve(n)):J(n)}var uI={exact:Db,subset:Eb},Sb={exact:pI,subset:fI,ignored:()=>!0};function mb(n,e,t){return uI[t.paths](n.root,e.root,t.matrixParams)&&Sb[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function pI(n,e){return Vn(n,e)}function Db(n,e,t){if(!yr(n.segments,e.segments)||!$l(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!Db(n.children[i],e.children[i],t))return!1;return!0}function fI(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>wb(n[t],e[t]))}function Eb(n,e,t){return Pb(n,e,e.segments,t)}function Pb(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!yr(r,t)||e.hasChildren()||!$l(r,t,i))}else if(n.segments.length===t.length){if(!yr(n.segments,t)||!$l(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!Eb(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!yr(n.segments,r)||!$l(n.segments,r,i)||!n.children[oe]?!1:Pb(n.children[oe],e,o,i)}}function $l(n,e,t){return e.every((i,r)=>Sb[t](n[r].parameters,i.parameters))}var Un=class{root;queryParams;fragment;_queryParamMap;constructor(e=new De([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Cr(this.queryParams),this._queryParamMap}toString(){return hI.serialize(this)}},De=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Hl(this)}},Ri=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Cr(this.parameters),this._parameterMap}toString(){return Ob(this)}};function gI(n,e){return yr(n,e)&&n.every((t,i)=>Vn(t.parameters,e[i].parameters))}function yr(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function mI(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===oe&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==oe&&(t=t.concat(e(r,i)))}),t}var sa=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>new xr,providedIn:"root"})}return n})(),xr=class{parse(e){let t=new gm(e);return new Un(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ws(e.root,!0)}`,i=yI(e.queryParams),r=typeof e.fragment=="string"?`#${vI(e.fragment)}`:"";return`${t}${i}${r}`}},hI=new xr;function Hl(n){return n.segments.map(e=>Ob(e)).join("/")}function Ws(n,e){if(!n.hasChildren())return Hl(n);if(e){let t=n.children[oe]?Ws(n.children[oe],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==oe&&i.push(`${r}:${Ws(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=mI(n,(i,r)=>r===oe?[Ws(n.children[oe],!1)]:[`${r}:${Ws(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[oe]!=null?`${Hl(n)}/${t[0]}`:`${Hl(n)}/(${t.join("//")})`}}function Ib(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jl(n){return Ib(n).replace(/%3B/gi,";")}function vI(n){return encodeURI(n)}function fm(n){return Ib(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ql(n){return decodeURIComponent(n)}function hb(n){return ql(n.replace(/\+/g,"%20"))}function Ob(n){return`${fm(n.path)}${_I(n.parameters)}`}function _I(n){return Object.entries(n).map(([e,t])=>`;${fm(e)}=${fm(t)}`).join("")}function yI(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${jl(t)}=${jl(r)}`).join("&"):`${jl(t)}=${jl(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var bI=/^[^\/()?;#]+/;function am(n){let e=n.match(bI);return e?e[0]:""}var CI=/^[^\/()?;=#]+/;function xI(n){let e=n.match(CI);return e?e[0]:""}var wI=/^[^=?&#]+/;function MI(n){let e=n.match(wI);return e?e[0]:""}var SI=/^[^&#]+/;function DI(n){let e=n.match(SI);return e?e[0]:""}var gm=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[oe]=new De(e,t)),i}parseSegment(){let e=am(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Ri(ql(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=xI(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=am(this.remaining);r&&(i=r,this.capture(i))}e[ql(t)]=ql(i)}parseQueryParam(e){let t=MI(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=DI(this.remaining);s&&(i=s,this.capture(i))}let r=hb(t),o=hb(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=am(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new $(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[oe]:new De([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function Tb(n){return n.segments.length>0?new De([],{[oe]:n}):n}function kb(n){let e={};for(let[i,r]of Object.entries(n.children)){let o=kb(r);if(i===oe&&o.segments.length===0&&o.hasChildren())for(let[s,l]of Object.entries(o.children))e[s]=l;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new De(n.segments,e);return EI(t)}function EI(n){if(n.numberOfChildren===1&&n.children[oe]){let e=n.children[oe];return new De(n.segments.concat(e.segments),e.children)}return n}function Ai(n){return n instanceof Un}function Rb(n,e,t=null,i=null){let r=Ab(n);return Nb(r,e,t,i)}function Ab(n){let e;function t(o){let s={};for(let u of o.children){let g=t(u);s[u.outlet]=g}let l=new De(o.url,s);return o===n&&(e=l),l}let i=t(n.root),r=Tb(i);return e??r}function Nb(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return cm(r,r,r,t,i);let o=PI(e);if(o.toRoot())return cm(r,r,new De([],{}),t,i);let s=II(o,r,n),l=s.processChildren?Zs(s.segmentGroup,s.index,o.commands):Lb(s.segmentGroup,s.index,o.commands);return cm(r,s.segmentGroup,l,t,i)}function Gl(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Qs(n){return typeof n=="object"&&n!=null&&n.outlets}function cm(n,e,t,i,r){let o={};i&&Object.entries(i).forEach(([u,g])=>{o[u]=Array.isArray(g)?g.map(h=>`${h}`):`${g}`});let s;n===e?s=t:s=Fb(n,e,t);let l=Tb(kb(s));return new Un(l,o,r)}function Fb(n,e,t){let i={};return Object.entries(n.children).forEach(([r,o])=>{o===e?i[r]=t:i[r]=Fb(o,e,t)}),new De(n.segments,i)}var Zl=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Gl(i[0]))throw new $(4003,!1);let r=i.find(Qs);if(r&&r!==Mb(i))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function PI(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Zl(!0,0,n);let e=0,t=!1,i=n.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([u,g])=>{l[u]=typeof g=="string"?g.split("/"):g}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((l,u)=>{u==0&&l==="."||(u==0&&l===""?t=!0:l===".."?e++:l!=""&&r.push(l))}),r):[...r,o]},[]);return new Zl(t,e,i)}var Mo=class{segmentGroup;processChildren;index;constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function II(n,e,t){if(n.isAbsolute)return new Mo(e,!0,0);if(!t)return new Mo(e,!1,NaN);if(t.parent===null)return new Mo(t,!0,0);let i=Gl(n.commands[0])?0:1,r=t.segments.length-1+i;return OI(t,r,n.numberOfDoubleDots)}function OI(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new $(4005,!1);r=i.segments.length}return new Mo(i,!1,r-o)}function TI(n){return Qs(n[0])?n[0].outlets:{[oe]:n}}function Lb(n,e,t){if(n??=new De([],{}),n.segments.length===0&&n.hasChildren())return Zs(n,e,t);let i=kI(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new De(n.segments.slice(0,i.pathIndex),{});return o.children[oe]=new De(n.segments.slice(i.pathIndex),n.children),Zs(o,0,r)}else return i.match&&r.length===0?new De(n.segments,{}):i.match&&!n.hasChildren()?mm(n,e,t):i.match?Zs(n,0,r):mm(n,e,t)}function Zs(n,e,t){if(t.length===0)return new De(n.segments,{});{let i=TI(t),r={};if(Object.keys(i).some(o=>o!==oe)&&n.children[oe]&&n.numberOfChildren===1&&n.children[oe].segments.length===0){let o=Zs(n.children[oe],e,t);return new De(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=Lb(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new De(n.segments,r)}}function kI(n,e,t){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;let s=n.segments[r],l=t[i];if(Qs(l))break;let u=`${l}`,g=i<t.length-1?t[i+1]:null;if(r>0&&u===void 0)break;if(u&&g&&typeof g=="object"&&g.outlets===void 0){if(!_b(u,g,s))return o;i+=2}else{if(!_b(u,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function mm(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let o=t[r];if(Qs(o)){let u=RI(o.outlets);return new De(i,u)}if(r===0&&Gl(t[0])){let u=n.segments[e];i.push(new Ri(u.path,vb(t[0]))),r++;continue}let s=Qs(o)?o.outlets[oe]:`${o}`,l=r<t.length-1?t[r+1]:null;s&&l&&Gl(l)?(i.push(new Ri(s,vb(l))),r+=2):(i.push(new Ri(s,{})),r++)}return new De(i,{})}function RI(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=mm(new De([],{}),0,i))}),e}function vb(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function _b(n,e,t){return n==t.path&&Vn(e,t.parameters)}var Wl="imperative",dt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(dt||{}),Jt=class{id;url;constructor(e,t){this.id=e,this.url=t}},wr=class extends Jt{type=dt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Xt=class extends Jt{urlAfterRedirects;type=dt.NavigationEnd;constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ht=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ht||{}),Ks=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Ks||{}),zn=class extends Jt{reason;code;type=dt.NavigationCancel;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mi=class extends Jt{reason;code;type=dt.NavigationSkipped;constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r}},Do=class extends Jt{error;target;type=dt.NavigationError;constructor(e,t,i,r){super(e,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Js=class extends Jt{urlAfterRedirects;state;type=dt.RoutesRecognized;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yl=class extends Jt{urlAfterRedirects;state;type=dt.GuardsCheckStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ql=class extends Jt{urlAfterRedirects;state;shouldActivate;type=dt.GuardsCheckEnd;constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Kl=class extends Jt{urlAfterRedirects;state;type=dt.ResolveStart;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jl=class extends Jt{urlAfterRedirects;state;type=dt.ResolveEnd;constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xl=class{route;type=dt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ed=class{route;type=dt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},td=class{snapshot;type=dt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nd=class{snapshot;type=dt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},id=class{snapshot;type=dt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rd=class{snapshot;type=dt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Xs=class{},Eo=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function AI(n,e){return n.providers&&!n._injector&&(n._injector=hl(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Mn(n){return n.outlet||oe}function NI(n,e){let t=n.filter(i=>Mn(i)===e);return t.push(...n.filter(i=>Mn(i)!==e)),t}function aa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var od=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return aa(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Oo(this.rootInjector)}},Oo=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new od(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||n)(T(Et))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=hm(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=hm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=vm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return vm(e,this._root).map(t=>t.value)}};function hm(n,e){if(n===e.value)return e;for(let t of e.children){let i=hm(n,t);if(i)return i}return null}function vm(n,e){if(n===e.value)return[e];for(let t of e.children){let i=vm(n,t);if(i.length)return i.unshift(e),i}return[]}var Kt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function wo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ea=class extends sd{snapshot;constructor(e,t){super(e),this.snapshot=t,Sm(this,e)}toString(){return this.snapshot.toString()}};function Vb(n){let e=FI(n),t=new be([new Ri("",{})]),i=new be({}),r=new be({}),o=new be({}),s=new be(""),l=new ht(t,i,o,s,r,oe,n,e.root);return l.snapshot=e.root,new ea(new Kt(l,[]),e)}function FI(n){let e={},t={},i={},r="",o=new br([],e,i,r,t,oe,n,null,{});return new ta("",new Kt(o,[]))}var ht=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,i,r,o,s,l,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=l,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ee(g=>g[oa]))??J(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ee(e=>Cr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ee(e=>Cr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ad(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:S(S({},e.params),n.params),data:S(S({},e.data),n.data),resolve:S(S(S(S({},n.data),e.data),r?.data),n._resolvedData)}:i={params:S({},n.params),data:S({},n.data),resolve:S(S({},n.data),n._resolvedData??{})},r&&Ub(r)&&(i.resolve[oa]=r.title),i}var br=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[oa]}constructor(e,t,i,r,o,s,l,u,g){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=l,this.routeConfig=u,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Cr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Cr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},ta=class extends sd{url;constructor(e,t){super(t),this.url=e,Sm(this,t)}toString(){return zb(this._root)}};function Sm(n,e){e.value._routerState=n,e.children.forEach(t=>Sm(n,t))}function zb(n){let e=n.children.length>0?` { ${n.children.map(zb).join(", ")} } `:"";return`${n.value}${e}`}function lm(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Vn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Vn(e.params,t.params)||n.paramsSubject.next(t.params),dI(e.url,t.url)||n.urlSubject.next(t.url),Vn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function _m(n,e){let t=Vn(n.params,e.params)&&gI(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||_m(n.parent,e.parent))}function Ub(n){return typeof n.title=="string"||n.title===null}var jb=new W(""),Mr=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=oe;activateEvents=new V;deactivateEvents=new V;attachEvents=new V;detachEvents=new V;routerOutletData=Nv(void 0);parentContexts=N(Oo);location=N(yn);changeDetector=N(cn);inputBinder=N(ud,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=t;let r=this.location,s=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new ym(t,l,r.injector,this.routerOutletData);this.activated=r.createComponent(s,{index:r.length,injector:u,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ae({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Je]})}return n})(),ym=class{route;childContexts;parent;outletData;constructor(e,t,i,r){this.route=e,this.childContexts=t,this.parent=i,this.outletData=r}get(e,t){return e===ht?this.route:e===Oo?this.childContexts:e===jb?this.outletData:this.parent.get(e,t)}},ud=new W("");function LI(n,e,t){let i=na(n,e._root,t?t._root:void 0);return new ea(i,e)}function na(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=VI(n,e,t);return new Kt(i,r)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(l=>na(n,l)),s}}let i=zI(e.value),r=e.children.map(o=>na(n,o));return new Kt(i,r)}}function VI(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return na(n,i,r);return na(n,i)})}function zI(n){return new ht(new be(n.url),new be(n.params),new be(n.queryParams),new be(n.fragment),new be(n.data),n.outlet,n.component,n)}var Po=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Bb="ngNavigationCancelingError";function cd(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=Ai(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=$b(!1,Ht.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function $b(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Bb]=!0,t.cancellationCode=e,t}function UI(n){return Hb(n)&&Ai(n.url)}function Hb(n){return!!n&&n[Bb]}var jI=(n,e,t,i)=>ee(r=>(new bm(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),bm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),lm(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=wo(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=wo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=wo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=wo(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new rd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new nd(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,o=t?t.value:null;if(lm(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),lm(l.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,i)}},ld=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},So=class{component;route;constructor(e,t){this.component=e,this.route=t}};function BI(n,e,t){let i=n._root,r=e?e._root:null;return Gs(i,r,t,[i.value])}function $I(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function To(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!k0(n)?n:e.get(n):i}function Gs(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=wo(e);return n.children.forEach(s=>{HI(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,l])=>Ys(l,t.getContext(s),r)),r}function HI(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,l=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=qI(s,o,o.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new ld(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Gs(n,e,l?l.children:null,i,r):Gs(n,e,t,i,r),u&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new So(l.outlet.component,s))}else s&&Ys(e,l,r),r.canActivateChecks.push(new ld(i)),o.component?Gs(n,null,l?l.children:null,i,r):Gs(n,null,t,i,r);return r}function qI(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!yr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!yr(n.url,e.url)||!Vn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_m(n,e)||!Vn(n.queryParams,e.queryParams);case"paramsChange":default:return!_m(n,e)}}function Ys(n,e,t){let i=wo(n),r=n.value;Object.entries(i).forEach(([o,s])=>{r.component?e?Ys(s,e.children.getContext(o),t):Ys(s,null,t):Ys(s,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new So(e.outlet.component,r)):t.canDeactivateChecks.push(new So(null,r)):t.canDeactivateChecks.push(new So(null,r))}function ca(n){return typeof n=="function"}function WI(n){return typeof n=="boolean"}function GI(n){return n&&ca(n.canLoad)}function ZI(n){return n&&ca(n.canActivate)}function YI(n){return n&&ca(n.canActivateChild)}function QI(n){return n&&ca(n.canDeactivate)}function KI(n){return n&&ca(n.canMatch)}function qb(n){return n instanceof mn||n?.name==="EmptyError"}var Bl=Symbol("INITIAL_VALUE");function Io(){return St(n=>Br(n.map(e=>e.pipe(vt(1),yp(Bl)))).pipe(ee(e=>{for(let t of e)if(t!==!0){if(t===Bl)return Bl;if(t===!1||JI(t))return t}return!0}),gt(e=>e!==Bl),vt(1)))}function JI(n){return Ai(n)||n instanceof Po}function XI(n,e){return Ze(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?J(G(S({},t),{guardsResult:!0})):eO(s,i,r,n).pipe(Ze(l=>l&&WI(l)?tO(i,o,n,e):J(l)),ee(l=>G(S({},t),{guardsResult:l})))})}function eO(n,e,t,i){return Pe(n).pipe(Ze(r=>sO(r.component,r.route,t,e,i)),Qn(r=>r!==!0,!0))}function tO(n,e,t,i){return Pe(e).pipe(Yn(r=>Ci(iO(r.route.parent,i),nO(r.route,i),oO(n,r.path,t),rO(n,r.route,t))),Qn(r=>r!==!0,!0))}function nO(n,e){return n!==null&&e&&e(new id(n)),J(!0)}function iO(n,e){return n!==null&&e&&e(new td(n)),J(!0)}function rO(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return J(!0);let r=i.map(o=>pc(()=>{let s=aa(e)??t,l=To(o,s),u=ZI(l)?l.canActivate(e,n):Qt(s,()=>l(e,n));return Ni(u).pipe(Qn())}));return J(r).pipe(Io())}function oO(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>$I(s)).filter(s=>s!==null).map(s=>pc(()=>{let l=s.guards.map(u=>{let g=aa(s.node)??t,h=To(u,g),C=YI(h)?h.canActivateChild(i,n):Qt(g,()=>h(i,n));return Ni(C).pipe(Qn())});return J(l).pipe(Io())}));return J(o).pipe(Io())}function sO(n,e,t,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return J(!0);let s=o.map(l=>{let u=aa(e)??r,g=To(l,u),h=QI(g)?g.canDeactivate(n,e,t,i):Qt(u,()=>g(n,e,t,i));return Ni(h).pipe(Qn())});return J(s).pipe(Io())}function aO(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return J(!0);let o=r.map(s=>{let l=To(s,n),u=GI(l)?l.canLoad(e,t):Qt(n,()=>l(e,t));return Ni(u)});return J(o).pipe(Io(),Wb(i))}function Wb(n){return cp(Ue(e=>{if(typeof e!="boolean")throw cd(n,e)}),ee(e=>e===!0))}function cO(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return J(!0);let o=r.map(s=>{let l=To(s,n),u=KI(l)?l.canMatch(e,t):Qt(n,()=>l(e,t));return Ni(u)});return J(o).pipe(Io(),Wb(i))}var ia=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},ra=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function xo(n){return bi(new ia(n))}function lO(n){return bi(new $(4e3,!1))}function dO(n){return bi($b(!1,Ht.GuardRejected))}var Cm=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return J(i);if(r.numberOfChildren>1||!r.children[oe])return lO(`${e.redirectTo}`);r=r.children[oe]}}applyRedirectCommands(e,t,i,r,o){if(typeof t!="string"){let l=t,{queryParams:u,fragment:g,routeConfig:h,url:C,outlet:M,params:x,data:A,title:H}=r,Q=Qt(o,()=>l({params:x,data:A,queryParams:u,fragment:g,routeConfig:h,url:C,outlet:M,title:H}));if(Q instanceof Un)throw new ra(Q);t=Q}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new ra(s);return s}applyRedirectCreateUrlTree(e,t,i,r){let o=this.createSegmentGroup(e,t.root,i,r);return new Un(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let l=o.substring(1);i[r]=t[l]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){let o=this.createSegments(e,t.segments,i,r),s={};return Object.entries(t.children).forEach(([l,u])=>{s[l]=this.createSegmentGroup(e,u,i,r)}),new De(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new $(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},xm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function uO(n,e,t,i,r){let o=Gb(n,e,t);return o.matched?(i=AI(e,i),cO(i,e,t,r).pipe(ee(s=>s===!0?o:S({},xm)))):J(o)}function Gb(n,e,t){if(e.path==="**")return pO(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?S({},xm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||xb)(t,n,e);if(!r)return S({},xm);let o={};Object.entries(r.posParams??{}).forEach(([l,u])=>{o[l]=u.path});let s=r.consumed.length>0?S(S({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function pO(n){return{matched:!0,parameters:n.length>0?Mb(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function yb(n,e,t,i){return t.length>0&&mO(n,t,i)?{segmentGroup:new De(e,gO(i,new De(t,n.children))),slicedSegments:[]}:t.length===0&&hO(n,t,i)?{segmentGroup:new De(n.segments,fO(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new De(n.segments,n.children),slicedSegments:t}}function fO(n,e,t,i){let r={};for(let o of t)if(pd(n,e,o)&&!i[Mn(o)]){let s=new De([],{});r[Mn(o)]=s}return S(S({},i),r)}function gO(n,e){let t={};t[oe]=e;for(let i of n)if(i.path===""&&Mn(i)!==oe){let r=new De([],{});t[Mn(i)]=r}return t}function mO(n,e,t){return t.some(i=>pd(n,e,i)&&Mn(i)!==oe)}function hO(n,e,t){return t.some(i=>pd(n,e,i))}function pd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function vO(n,e,t){return e.length===0&&!n.children[t]}var wm=class{};function _O(n,e,t,i,r,o,s="emptyOnly"){return new Mm(n,e,t,i,r,s,o).recognize()}var yO=31,Mm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,i,r,o,s,l){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.applyRedirects=new Cm(this.urlSerializer,this.urlTree)}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=yb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ee(({children:t,rootSnapshot:i})=>{let r=new Kt(i,t),o=new ta("",r),s=Rb(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new br([],Object.freeze({}),Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,t).pipe(ee(i=>({children:i,rootSnapshot:t})),Zn(i=>{if(i instanceof ra)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ia?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,r,!0,o).pipe(ee(s=>s instanceof Kt?[s]:[]))}processChildren(e,t,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return Pe(o).pipe(Yn(s=>{let l=i.children[s],u=NI(t,s);return this.processSegmentGroup(e,u,l,s,r)}),_p((s,l)=>(s.push(...l),s)),xi(null),vp(),Ze(s=>{if(s===null)return xo(i);let l=Zb(s);return bO(l),J(l)}))}processSegment(e,t,i,r,o,s,l){return Pe(t).pipe(Yn(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,i,r,o,s,l).pipe(Zn(g=>{if(g instanceof ia)return J(null);throw g}))),Qn(u=>!!u),Zn(u=>{if(qb(u))return vO(i,r,o)?J(new wm):xo(i);throw u}))}processSegmentAgainstRoute(e,t,i,r,o,s,l,u){return Mn(i)!==s&&(s===oe||!pd(r,o,i))?xo(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s,u):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s,u):xo(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s,l){let{matched:u,parameters:g,consumedSegments:h,positionalParamSegments:C,remainingSegments:M}=Gb(t,r,o);if(!u)return xo(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>yO&&(this.allowRedirects=!1));let x=new br(o,g,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,bb(r),Mn(r),r.component??r._loadedComponent??null,r,Cb(r)),A=ad(x,l,this.paramsInheritanceStrategy);x.params=Object.freeze(A.params),x.data=Object.freeze(A.data);let H=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,C,x,e);return this.applyRedirects.lineralizeSegments(r,H).pipe(Ze(Q=>this.processSegment(e,i,t,Q.concat(M),s,!1,l)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let l=uO(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),l.pipe(St(u=>u.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(St(({routes:g})=>{let h=i._loadedInjector??e,{parameters:C,consumedSegments:M,remainingSegments:x}=u,A=new br(M,C,Object.freeze(S({},this.urlTree.queryParams)),this.urlTree.fragment,bb(i),Mn(i),i.component??i._loadedComponent??null,i,Cb(i)),H=ad(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(H.params),A.data=Object.freeze(H.data);let{segmentGroup:Q,slicedSegments:ue}=yb(t,M,x,g);if(ue.length===0&&Q.hasChildren())return this.processChildren(h,g,Q,A).pipe(ee(We=>new Kt(A,We)));if(g.length===0&&ue.length===0)return J(new Kt(A,[]));let fn=Mn(i)===o;return this.processSegment(h,g,Q,ue,fn?oe:o,!0,A).pipe(ee(We=>new Kt(A,We instanceof Kt?[We]:[])))}))):xo(t)))}getChildConfig(e,t,i){return t.children?J({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?J({routes:t._loadedRoutes,injector:t._loadedInjector}):aO(e,t,i,this.urlSerializer).pipe(Ze(r=>r?this.configLoader.loadChildren(e,t).pipe(Ue(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):dO(t))):J({routes:[],injector:e})}};function bO(n){n.sort((e,t)=>e.value.outlet===oe?-1:t.value.outlet===oe?1:e.value.outlet.localeCompare(t.value.outlet))}function CO(n){let e=n.value.routeConfig;return e&&e.path===""}function Zb(n){let e=[],t=new Set;for(let i of n){if(!CO(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=Zb(i.children);e.push(new Kt(i.value,r))}return e.filter(i=>!t.has(i))}function bb(n){return n.data||{}}function Cb(n){return n.resolve||{}}function xO(n,e,t,i,r,o){return Ze(s=>_O(n,e,t,i,s.extractedUrl,r,o).pipe(ee(({state:l,tree:u})=>G(S({},s),{targetSnapshot:l,urlAfterRedirects:u}))))}function wO(n,e){return Ze(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return J(t);let o=new Set(r.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let g of Yb(u))s.add(g);let l=0;return Pe(s).pipe(Yn(u=>o.has(u)?MO(u,i,n,e):(u.data=ad(u,u.parent,n).resolve,J(void 0))),Ue(()=>l++),Hr(1),Ze(u=>l===s.size?J(t):Rt))})}function Yb(n){let e=n.children.map(t=>Yb(t)).flat();return[n,...e]}function MO(n,e,t,i){let r=n.routeConfig,o=n._resolve;return r?.title!==void 0&&!Ub(r)&&(o[oa]=r.title),SO(o,n,e,i).pipe(ee(s=>(n._resolvedData=s,n.data=ad(n,n.parent,t).resolve,null)))}function SO(n,e,t,i){let r=pm(n);if(r.length===0)return J({});let o={};return Pe(r).pipe(Ze(s=>DO(n[s],e,t,i).pipe(Qn(),Ue(l=>{if(l instanceof Po)throw cd(new xr,l);o[s]=l}))),Hr(1),ee(()=>o),Zn(s=>qb(s)?Rt:bi(s)))}function DO(n,e,t,i){let r=aa(e)??i,o=To(n,r),s=o.resolve?o.resolve(e,t):Qt(r,()=>o(e,t));return Ni(s)}function dm(n){return St(e=>{let t=n(e);return t?Pe(t).pipe(ee(()=>e)):J(e)})}var Dm=(()=>{class n{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===oe);return i}getResolvedTitleForRoute(t){return t.data[oa]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>N(Qb),providedIn:"root"})}return n})(),Qb=(()=>{class n extends Dm{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(T(fb))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),la=new W("",{providedIn:"root",factory:()=>({})}),Em=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=F({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&P(0,"router-outlet")},dependencies:[Mr],encapsulation:2})}return n})();function Pm(n){let e=n.children&&n.children.map(Pm),t=e?G(S({},n),{children:e}):S({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==oe&&(t.component=Em),t}var da=new W(""),Kb=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(cy);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return J(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Ni(t.loadComponent()).pipe(ee(Xb),Ue(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),tr(()=>{this.componentLoaders.delete(t)})),r=new Ur(i,()=>new _e).pipe(zr());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return J({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Jb(i,this.compiler,t,this.onLoadEndListener).pipe(tr(()=>{this.childrenLoaders.delete(i)})),s=new Ur(o,()=>new _e).pipe(zr());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jb(n,e,t,i){return Ni(n.loadChildren()).pipe(ee(Xb),Ze(r=>r instanceof Dg||Array.isArray(r)?J(r):Pe(e.compileModuleAsync(r))),ee(r=>{i&&i(n);let o,s,l=!1;return Array.isArray(r)?(s=r,l=!0):(o=r.create(t).injector,s=o.get(da,[],{optional:!0,self:!0}).flat()),{routes:s.map(Pm),injector:o}}))}function EO(n){return n&&typeof n=="object"&&"default"in n}function Xb(n){return EO(n)?n.default:n}var fd=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>N(PO),providedIn:"root"})}return n})(),PO=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eC=new W("");var tC=new W(""),nC=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new _e;transitionAbortSubject=new _e;configLoader=N(Kb);environmentInjector=N(Et);destroyRef=N(ol);urlSerializer=N(sa);rootContexts=N(Oo);location=N(_o);inputBindingEnabled=N(ud,{optional:!0})!==null;titleStrategy=N(Dm);options=N(la,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(fd);createViewTransition=N(eC,{optional:!0});navigationErrorHandler=N(tC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>J(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new Xl(r)),i=r=>this.events.next(new ed(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(G(S({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(t){return this.transitions=new be(null),this.transitions.pipe(gt(i=>i!==null),St(i=>{let r=!1,o=!1;return J(i).pipe(St(s=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Ht.SupersededByNewNavigation),Rt;this.currentTransition=i,this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?G(S({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=s.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let g="";return this.events.next(new mi(s.id,this.urlSerializer.serialize(s.rawUrl),g,Ks.IgnoredSameUrlNavigation)),s.resolve(!1),Rt}if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return J(s).pipe(St(g=>(this.events.next(new wr(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),g.id!==this.navigationId?Rt:Promise.resolve(g))),xO(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Ue(g=>{i.targetSnapshot=g.targetSnapshot,i.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=G(S({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let h=new Js(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:g,extractedUrl:h,source:C,restoredState:M,extras:x}=s,A=new wr(g,this.urlSerializer.serialize(h),C,M);this.events.next(A);let H=Vb(this.rootComponentType).snapshot;return this.currentTransition=i=G(S({},s),{targetSnapshot:H,urlAfterRedirects:h,extras:G(S({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,J(i)}else{let g="";return this.events.next(new mi(s.id,this.urlSerializer.serialize(s.extractedUrl),g,Ks.IgnoredByUrlHandlingStrategy)),s.resolve(!1),Rt}}),Ue(s=>{let l=new Yl(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(l)}),ee(s=>(this.currentTransition=i=G(S({},s),{guards:BI(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),i)),XI(this.environmentInjector,s=>this.events.next(s)),Ue(s=>{if(i.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw cd(this.urlSerializer,s.guardsResult);let l=new Ql(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(l)}),gt(s=>s.guardsResult?!0:(this.cancelNavigationTransition(s,"",Ht.GuardRejected),!1)),dm(s=>{if(s.guards.canActivateChecks.length!==0)return J(s).pipe(Ue(l=>{let u=new Kl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),St(l=>{let u=!1;return J(l).pipe(wO(this.paramsInheritanceStrategy,this.environmentInjector),Ue({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Ht.NoDataFromResolver)}}))}),Ue(l=>{let u=new Jl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),dm(s=>{let l=u=>{let g=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ue(h=>{u.component=h}),ee(()=>{})));for(let h of u.children)g.push(...l(h));return g};return Br(l(s.targetSnapshot.root)).pipe(xi(null),vt(1))}),dm(()=>this.afterPreactivation()),St(()=>{let{currentSnapshot:s,targetSnapshot:l}=i,u=this.createViewTransition?.(this.environmentInjector,s.root,l.root);return u?Pe(u).pipe(ee(()=>i)):J(i)}),ee(s=>{let l=LI(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return this.currentTransition=i=G(S({},s),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,i}),Ue(()=>{this.events.next(new Xs)}),jI(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),vt(1),Ue({next:s=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xt(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{r=!0}}),Ye(this.transitionAbortSubject.pipe(Ue(s=>{throw s}))),tr(()=>{!r&&!o&&this.cancelNavigationTransition(i,"",Ht.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Zn(s=>{if(this.destroyed)return i.resolve(!1),Rt;if(o=!0,Hb(s))this.events.next(new zn(i.id,this.urlSerializer.serialize(i.extractedUrl),s.message,s.cancellationCode)),UI(s)?this.events.next(new Eo(s.url,s.navigationBehaviorOptions)):i.resolve(!1);else{let l=new Do(i.id,this.urlSerializer.serialize(i.extractedUrl),s,i.targetSnapshot??void 0);try{let u=Qt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof Po){let{message:g,cancellationCode:h}=cd(this.urlSerializer,u);this.events.next(new zn(i.id,this.urlSerializer.serialize(i.extractedUrl),g,h)),this.events.next(new Eo(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(l),s}catch(u){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(u)}}return Rt}))}))}cancelNavigationTransition(t,i,r){let o=new zn(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IO(n){return n!==Wl}var iC=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>N(OO),providedIn:"root"})}return n})(),dd=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},OO=(()=>{class n extends dd{static \u0275fac=(()=>{let t;return function(r){return(t||(t=It(n)))(r||n)}})();static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rC=(()=>{class n{urlSerializer=N(sa);options=N(la,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(_o);urlHandlingStrategy=N(fd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Un;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:r}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,s=r??o;return s instanceof Un?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:r}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=t):this.rawUrlTree=r}routerState=Vb(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:()=>N(TO),providedIn:"root"})}return n})(),TO=(()=>{class n extends rC{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof wr?this.updateStateMemento():t instanceof mi?this.commitTransition(i):t instanceof Js?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof Xs?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof zn&&(t.code===Ht.GuardRejected||t.code===Ht.NoDataFromResolver)?this.restoreHistory(i):t instanceof Do?this.restoreHistory(i,!0):t instanceof Xt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:r}){let{replaceUrl:o,state:s}=i;if(this.location.isCurrentPathEqualTo(t)||o){let l=this.browserPageId,u=S(S({},s),this.generateNgRouterState(r,l));this.location.replaceState(t,"",u)}else{let l=S(S({},s),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(t,"",l)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=It(n)))(r||n)}})();static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Im(n,e){n.events.pipe(gt(t=>t instanceof Xt||t instanceof zn||t instanceof Do||t instanceof mi),ee(t=>t instanceof Xt||t instanceof mi?0:(t instanceof zn?t.code===Ht.Redirect||t.code===Ht.SupersededByNewNavigation:!1)?2:1),gt(t=>t!==2),vt(1)).subscribe(()=>{e()})}var kO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xe=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(Eg);stateManager=N(rC);options=N(la,{optional:!0})||{};pendingTasks=N(Ei);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(nC);urlSerializer=N(sa);location=N(_o);urlHandlingStrategy=N(fd);_events=new _e;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(iC);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(da,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(ud,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new He;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof zn&&i.code!==Ht.Redirect&&i.code!==Ht.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Xt)this.navigated=!0;else if(i instanceof Eo){let s=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),u=S({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||IO(r.source)},s);this.scheduleNavigation(l,Wl,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}NO(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Wl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,r)=>{this.navigateToSyncWithBrowser(t,r,i)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let u=S({},r);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let l=this.parseUrl(t);this.scheduleNavigation(l,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Pm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:l,preserveFragment:u}=i,g=u?this.currentUrlTree.fragment:s,h=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":h=S(S({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let C;try{let M=r?r.snapshot:this.routerState.snapshot.root;C=Ab(M)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),C=this.currentUrlTree.root}return Nb(C,t,h,g??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Ai(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Wl,null,i)}navigate(t,i={skipLocationChange:!1}){return AO(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=S({},kO):i===!1?r=S({},RO):r=i,Ai(t))return mb(this.currentUrlTree,t,r);let o=this.parseUrl(t);return mb(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let l,u,g;s?(l=s.resolve,u=s.reject,g=s.promise):g=new Promise((C,M)=>{l=C,u=M});let h=this.pendingTasks.add();return Im(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:l,reject:u,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(C=>Promise.reject(C))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AO(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new $(4008,!1)}function NO(n){return!(n instanceof Xs)&&!(n instanceof Eo)}var Ct=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new _e;constructor(t,i,r,o,s,l){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=l;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(g=>{g instanceof Xt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ai(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,s){let l=this.urlTree;if(l===null||this.isAnchorElement&&(t!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:o_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Ai(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(w(xe),w(ht),ig("tabindex"),w(Fn),w(mt),w(vo))};static \u0275dir=ae({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&v("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&Cn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ti],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ti],replaceUrl:[2,"replaceUrl","replaceUrl",Ti],routerLink:"routerLink"},features:[Je]})}return n})(),ua=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new V;constructor(t,i,r,o,s){this.router=t,this.element=i,this.renderer=r,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(l=>{l instanceof Xt&&this.update()})}ngAfterContentInit(){J(this.links.changes,J(null)).pipe($r()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Pe(t).pipe($r()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=LO(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let o=r.urlTree;return o?t.isActive(o,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(i){return new(i||n)(w(xe),w(mt),w(Fn),w(cn),w(Ct,8))};static \u0275dir=ae({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,r,o){if(i&1&&Tg(o,Ct,5),i&2){let s;li(s=di())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Je]})}return n})();function LO(n){return!!n.paths}var VO=new W("");function pa(n,...e){return so([{provide:da,multi:!0,useValue:n},[],{provide:ht,useFactory:zO,deps:[xe]},{provide:Ig,multi:!0,useFactory:UO},e.map(t=>t.\u0275providers)])}function zO(n){return n.routerState.root}function UO(){let n=N(Tn);return e=>{let t=n.get(Si);if(e!==t.components[0])return;let i=n.get(xe),r=n.get(jO);n.get(BO)===1&&i.initialNavigation(),n.get($O,null,le.Optional)?.setUpPreloading(),n.get(VO,null,le.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var jO=new W("",{factory:()=>new _e}),BO=new W("",{providedIn:"root",factory:()=>1});var $O=new W("");var gC=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||n)(w(Fn),w(mt))};static \u0275dir=ae({type:n})}return n})(),ya=(()=>{class n extends gC{static \u0275fac=(()=>{let t;return function(r){return(t||(t=It(n)))(r||n)}})();static \u0275dir=ae({type:n,features:[et]})}return n})(),Dr=new W(""),HO={provide:Dr,useExisting:ct(()=>Er),multi:!0},Er=(()=>{class n extends ya{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(r){return(t||(t=It(n)))(r||n)}})();static \u0275dir=ae({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&v("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[lt([HO]),et]})}return n})(),qO={provide:Dr,useExisting:ct(()=>ze),multi:!0};function WO(){let n=dn()?dn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var GO=new W(""),ze=(()=>{class n extends gC{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!WO())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||n)(w(Fn),w(mt),w(GO,8))};static \u0275dir=ae({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&v("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},standalone:!1,features:[lt([qO]),et]})}return n})();function Rm(n){return n==null||Am(n)===0}function Am(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var jn=new W(""),Sd=new W(""),ZO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Fi=class{static min(e){return mC(e)}static max(e){return hC(e)}static required(e){return vC(e)}static requiredTrue(e){return _C(e)}static email(e){return yC(e)}static minLength(e){return bC(e)}static maxLength(e){return YO(e)}static pattern(e){return QO(e)}static nullValidator(e){return md()}static compose(e){return DC(e)}static composeAsync(e){return EC(e)}};function mC(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function hC(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function vC(n){return Rm(n.value)?{required:!0}:null}function _C(n){return n.value===!0?null:{required:!0}}function yC(n){return Rm(n.value)||ZO.test(n.value)?null:{email:!0}}function bC(n){return e=>{let t=e.value?.length??Am(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function YO(n){return e=>{let t=e.value?.length??Am(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function QO(n){if(!n)return md;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Rm(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function md(n){return null}function CC(n){return n!=null}function xC(n){return Ii(n)?Pe(n):n}function wC(n){let e={};return n.forEach(t=>{e=t!=null?S(S({},e),t):e}),Object.keys(e).length===0?null:e}function MC(n,e){return e.map(t=>t(n))}function KO(n){return!n.validate}function SC(n){return n.map(e=>KO(e)?e:t=>e.validate(t))}function DC(n){if(!n)return null;let e=n.filter(CC);return e.length==0?null:function(t){return wC(MC(t,e))}}function Nm(n){return n!=null?DC(SC(n)):null}function EC(n){if(!n)return null;let e=n.filter(CC);return e.length==0?null:function(t){let i=MC(t,e).map(xC);return mp(i).pipe(ee(wC))}}function Fm(n){return n!=null?EC(SC(n)):null}function oC(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function PC(n){return n._rawValidators}function IC(n){return n._rawAsyncValidators}function Om(n){return n?Array.isArray(n)?n:[n]:[]}function hd(n,e){return Array.isArray(n)?n.includes(e):n===e}function sC(n,e){let t=Om(e);return Om(n).forEach(r=>{hd(t,r)||t.push(r)}),t}function aC(n,e){return Om(e).filter(t=>!hd(n,t))}var vd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Nm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Fm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},hi=class extends vd{name;get formDirective(){return null}get path(){return null}},Sr=class extends vd{_parent=null;name=null;valueAccessor=null},_d=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},JO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},u7=G(S({},JO),{"[class.ng-submitted]":"isSubmitted"}),Te=(()=>{class n extends _d{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(w(Sr,2))};static \u0275dir=ae({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&fe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[et]})}return n})(),xt=(()=>{class n extends _d{constructor(t){super(t)}static \u0275fac=function(i){return new(i||n)(w(hi,10))};static \u0275dir=ae({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&fe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[et]})}return n})();var fa="VALID",gd="INVALID",ko="PENDING",ga="DISABLED",Li=class{},yd=class extends Li{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ha=class extends Li{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},va=class extends Li{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Ro=class extends Li{status;source;constructor(e,t){super(),this.status=e,this.source=t}},bd=class extends Li{source;constructor(e){super(),this.source=e}},Cd=class extends Li{source;constructor(e){super(),this.source=e}};function Lm(n){return(Dd(n)?n.validators:n)||null}function XO(n){return Array.isArray(n)?Nm(n):n||null}function Vm(n,e){return(Dd(e)?e.asyncValidators:n)||null}function e2(n){return Array.isArray(n)?Fm(n):n||null}function Dd(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function OC(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new $(1e3,"");if(!i[t])throw new $(1001,"")}function TC(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new $(1002,"")})}var Ao=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ln(this.statusReactive)}set status(e){ln(()=>this.statusReactive.set(e))}_status=ho(()=>this.statusReactive());statusReactive=po(void 0);get valid(){return this.status===fa}get invalid(){return this.status===gd}get pending(){return this.status==ko}get disabled(){return this.status===ga}get enabled(){return this.status!==ga}errors;get pristine(){return ln(this.pristineReactive)}set pristine(e){ln(()=>this.pristineReactive.set(e))}_pristine=ho(()=>this.pristineReactive());pristineReactive=po(!0);get dirty(){return!this.pristine}get touched(){return ln(this.touchedReactive)}set touched(e){ln(()=>this.touchedReactive.set(e))}_touched=ho(()=>this.touchedReactive());touchedReactive=po(!1);get untouched(){return!this.touched}_events=new _e;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(sC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(sC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(aC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(aC(e,this._rawAsyncValidators))}hasValidator(e){return hd(this._rawValidators,e)}hasAsyncValidator(e){return hd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(G(S({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new va(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new va(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(G(S({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new ha(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new ha(!0,i))}markAsPending(e={}){this.status=ko;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ro(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(G(S({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ga,this.errors=null,this._forEachChild(r=>{r.disable(G(S({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new yd(this.value,i)),this._events.next(new Ro(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(G(S({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=fa,this._forEachChild(i=>{i.enable(G(S({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(G(S({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fa||this.status===ko)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new yd(this.value,t)),this._events.next(new Ro(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(G(S({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ga:fa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ko,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=xC(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Ro(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new V,this.statusChanges=new V}_calculateStatus(){return this._allControlsDisabled()?ga:this.errors?gd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ko)?ko:this._anyControlsHaveStatus(gd)?gd:fa}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new ha(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new va(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Dd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=XO(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=e2(this._rawAsyncValidators)}},No=class extends Ao{constructor(e,t,i){super(Lm(t),Vm(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){TC(this,!0,e),Object.keys(e).forEach(i=>{OC(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Tm=class extends No{};var ba=new W("",{providedIn:"root",factory:()=>Ed}),Ed="always";function kC(n,e){return[...e.path,n]}function xd(n,e,t=Ed){zm(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),n2(n,e),r2(n,e),i2(n,e),t2(n,e)}function cC(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Md(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function wd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function t2(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function zm(n,e){let t=PC(n);e.validator!==null?n.setValidators(oC(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=IC(n);e.asyncValidator!==null?n.setAsyncValidators(oC(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();wd(e._rawValidators,r),wd(e._rawAsyncValidators,r)}function Md(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=PC(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let r=IC(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}let i=()=>{};return wd(e._rawValidators,i),wd(e._rawAsyncValidators,i),t}function n2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&RC(n,e)})}function i2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&RC(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function RC(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function r2(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function AC(n,e){n==null,zm(n,e)}function o2(n,e){return Md(n,e)}function NC(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function s2(n){return Object.getPrototypeOf(n.constructor)===ya}function FC(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function LC(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(o=>{o.constructor===ze?t=o:s2(o)?i=o:r=o}),r||i||t||null}function a2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var c2={provide:hi,useExisting:ct(()=>Tt)},ma=Promise.resolve(),Tt=(()=>{class n extends hi{callSetDisabledState;get submitted(){return ln(this.submittedReactive)}_submitted=ho(()=>this.submittedReactive());submittedReactive=po(!1);_directives=new Set;form;ngSubmit=new V;options;constructor(t,i,r){super(),this.callSetDisabledState=r,this.form=new No({},Nm(t),Fm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ma.then(()=>{let i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),xd(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ma.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ma.then(()=>{let i=this._findContainer(t.path),r=new No({});AC(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ma.then(()=>{let i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){ma.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),FC(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new bd(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Cd(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(i){return new(i||n)(w(jn,10),w(Sd,10),w(ba,8))};static \u0275dir=ae({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&v("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[lt([c2]),et]})}return n})();function lC(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function dC(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var _a=class extends Ao{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,i){super(Lm(t),Vm(i,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(dC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){lC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){lC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){dC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var l2=n=>n instanceof _a;var d2={provide:Sr,useExisting:ct(()=>Ne)},uC=Promise.resolve(),Ne=(()=>{class n extends Sr{_changeDetectorRef;callSetDisabledState;control=new _a;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new V;constructor(t,i,r,o,s,l){super(),this._changeDetectorRef=s,this.callSetDisabledState=l,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=LC(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),NC(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){xd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){uC.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&Ti(i);uC.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?kC(t,this._parent):[t]}static \u0275fac=function(i){return new(i||n)(w(hi,9),w(jn,10),w(Sd,10),w(Dr,10),w(cn,8),w(ba,8))};static \u0275dir=ae({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[lt([d2]),et,Je]})}return n})();var wt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=ae({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),u2={provide:Dr,useExisting:ct(()=>vi),multi:!0},vi=(()=>{class n extends ya{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=It(n)))(r||n)}})();static \u0275dir=ae({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&v("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[lt([u2]),et]})}return n})();var VC=new W("");var p2={provide:hi,useExisting:ct(()=>Um)},Um=(()=>{class n extends hi{callSetDisabledState;get submitted(){return ln(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=ho(()=>this._submittedReactive());_submittedReactive=po(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new V;constructor(t,i,r){super(),this.callSetDisabledState=r,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Md(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return xd(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){cC(t.control||null,t,!1),a2(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),FC(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new bd(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Cd(this.form))}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(cC(i||null,t),l2(r)&&(xd(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);AC(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&o2(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zm(this.form,this),this._oldForm&&Md(this._oldForm,this)}static \u0275fac=function(i){return new(i||n)(w(jn,10),w(Sd,10),w(ba,8))};static \u0275dir=ae({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&v("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[lt([p2]),et,Je]})}return n})();var f2={provide:Sr,useExisting:ct(()=>jm)},jm=(()=>{class n extends Sr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new V;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=LC(this,o)}ngOnChanges(t){this._added||this._setUpControl(),NC(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return kC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||n)(w(hi,13),w(jn,10),w(Sd,10),w(Dr,10),w(VC,8))};static \u0275dir=ae({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[lt([f2]),et,Je]})}return n})();var g2={provide:Dr,useExisting:ct(()=>Vi),multi:!0};function zC(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function m2(n){return n.split(":")[0]}var Vi=(()=>{class n extends ya{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i=this._getOptionId(t),r=zC(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=m2(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=It(n)))(r||n)}})();static \u0275dir=ae({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&v("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[lt([g2]),et]})}return n})(),Fo=(()=>{class n{_element;_renderer;_select;id;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(zC(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(w(mt),w(Fn),w(Vi,9))};static \u0275dir=ae({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),h2={provide:Dr,useExisting:ct(()=>UC),multi:!0};function pC(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function v2(n){return n.split(":")[0]}var UC=(()=>{class n extends ya{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let l=0;l<s.length;l++){let u=s[l],g=this._getOptionValue(u.value);r.push(g)}}else{let s=i.options;for(let l=0;l<s.length;l++){let u=s[l];if(u.selected){let g=this._getOptionValue(u.value);r.push(g)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=v2(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=It(n)))(r||n)}})();static \u0275dir=ae({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&v("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[lt([h2]),et]})}return n})(),Lo=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(pC(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(pC(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||n)(w(mt),w(Fn),w(UC,9))};static \u0275dir=ae({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();function _2(n){return typeof n=="number"?n:parseInt(n,10)}function jC(n){return typeof n=="number"?n:parseFloat(n)}var Ca=(()=>{class n{_validator=md;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):md,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ae({type:n,features:[Je]})}return n})(),y2={provide:jn,useExisting:ct(()=>Pr),multi:!0},Pr=(()=>{class n extends Ca{max;inputName="max";normalizeInput=t=>jC(t);createValidator=t=>hC(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=It(n)))(r||n)}})();static \u0275dir=ae({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Cn("max",r._enabled?r.max:null)},inputs:{max:"max"},standalone:!1,features:[lt([y2]),et]})}return n})(),b2={provide:jn,useExisting:ct(()=>Ir),multi:!0},Ir=(()=>{class n extends Ca{min;inputName="min";normalizeInput=t=>jC(t);createValidator=t=>mC(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=It(n)))(r||n)}})();static \u0275dir=ae({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Cn("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[lt([b2]),et]})}return n})(),C2={provide:jn,useExisting:ct(()=>Mt),multi:!0},x2={provide:jn,useExisting:ct(()=>Bm),multi:!0},Mt=(()=>{class n extends Ca{required;inputName="required";normalizeInput=Ti;createValidator=t=>vC;enabled(t){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=It(n)))(r||n)}})();static \u0275dir=ae({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&Cn("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[lt([C2]),et]})}return n})(),Bm=(()=>{class n extends Mt{createValidator=t=>_C;static \u0275fac=(()=>{let t;return function(r){return(t||(t=It(n)))(r||n)}})();static \u0275dir=ae({type:n,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Cn("required",r._enabled?"":null)},standalone:!1,features:[lt([x2]),et]})}return n})(),w2={provide:jn,useExisting:ct(()=>$m),multi:!0},$m=(()=>{class n extends Ca{email;inputName="email";normalizeInput=Ti;createValidator=t=>yC;enabled(t){return t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=It(n)))(r||n)}})();static \u0275dir=ae({type:n,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},standalone:!1,features:[lt([w2]),et]})}return n})(),M2={provide:jn,useExisting:ct(()=>Hm),multi:!0},Hm=(()=>{class n extends Ca{minlength;inputName="minlength";normalizeInput=t=>_2(t);createValidator=t=>bC(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=It(n)))(r||n)}})();static \u0275dir=ae({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&Cn("minlength",r._enabled?r.minlength:null)},inputs:{minlength:"minlength"},standalone:!1,features:[lt([M2]),et]})}return n})();var BC=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=bn({type:n});static \u0275inj=_n({})}return n})(),km=class extends Ao{constructor(e,t,i){super(Lm(t),Vm(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){TC(this,!1,e),e.forEach((i,r)=>{OC(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function fC(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var $C=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return fC(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new No(r,o)}record(t,i=null){let r=this._reduceControls(t);return new Tm(r,i)}control(t,i,r){let o={};return this.useNonNullable?(fC(i)?o=i:(o.validators=i,o.asyncValidators=r),new _a(t,G(S({},o),{nonNullable:!0}))):new _a(t,i,r)}array(t,i,r){let o=t.map(s=>this._createControl(s));return new km(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof _a)return t;if(t instanceof Ao)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ge=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ba,useValue:t.callSetDisabledState??Ed}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=bn({type:n});static \u0275inj=_n({imports:[BC]})}return n})(),zi=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:VC,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ba,useValue:t.callSetDisabledState??Ed}]}}static \u0275fac=function(i){return new(i||n)};static \u0275mod=bn({type:n});static \u0275inj=_n({imports:[BC]})}return n})();var pn=class n{searchTerm="";placeholder="Caut\u0103 ...";searchChanged=new V;onSearchChanged(){this.searchChanged.emit(this.searchTerm.trim())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["app-search-input"]],inputs:{placeholder:"placeholder"},outputs:{searchChanged:"searchChanged"},decls:4,vars:2,consts:[[1,"search-box"],["type","text",3,"ngModelChange","placeholder","ngModel"],["aria-label","Search",1,"search-icon-button",3,"click"],["src","assets/icons/search.svg","alt","Search Icon"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"input",1),U("ngModelChange",function(o){return B(i.searchTerm,o)||(i.searchTerm=o),o}),a(),c(2,"button",2),v("click",function(){return i.onSearchChanged()}),P(3,"img",3),a()()),t&2&&(p(),f("placeholder",i.placeholder||"Caut\u0103..."),z("ngModel",i.searchTerm))},dependencies:[Ce,ge,ze,Te,Ne],styles:[".search-box[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;align-items:center;gap:20px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 50px 15px 20px;border:none;background:transparent;outline:none;font-family:Roboto Mono,monospace;font-size:12px}.search-icon-button[_ngcontent-%COMP%]{background:none;border:none;padding:0 16px;font-size:1.2rem;color:#444;cursor:pointer;display:flex;align-items:center;justify-content:center}.search-icon-button[_ngcontent-%COMP%]:hover{color:#000}.search-icon-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}"]})};function S2(n,e){if(n&1&&(c(0,"option",7),d(1),a()),n&2){let t=e.$implicit;f("value",t),p(),R(t)}}var Bn=class n{currentPage=1;totalItems=0;pageSize=10;pageSizeOptions=[5,10,20];pageChange=new V;pageSizeChange=new V;getTotalPages(){return Math.ceil(this.totalItems/this.pageSize)}goToPreviousPage(){this.currentPage>1&&this.pageChange.emit(this.currentPage-1)}goToNextPage(){this.currentPage<this.getTotalPages()&&this.pageChange.emit(this.currentPage+1)}onPageSizeChange(e){let t=Number(e);this.pageSizeChange.emit(t)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["app-pagination"]],inputs:{currentPage:"currentPage",totalItems:"totalItems",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange"},decls:13,vars:6,consts:[[1,"pagination-wrapper"],[1,"page-size-selector"],["for","pageSize"],["id","pageSize",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"pagination-controls"],[3,"click","disabled"],[3,"value"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"label",2),d(3,"Afi\u0219eaz\u0103 pe pagin\u0103:"),a(),c(4,"select",3),U("ngModelChange",function(o){return B(i.pageSize,o)||(i.pageSize=o),o}),v("change",function(){return i.onPageSizeChange(i.pageSize)}),_(5,S2,2,2,"option",4),a()(),c(6,"div",5)(7,"button",6),v("click",function(){return i.goToPreviousPage()}),d(8,"\u2190"),a(),c(9,"span"),d(10),a(),c(11,"button",6),v("click",function(){return i.goToNextPage()}),d(12,"\u2192"),a()()()),t&2&&(p(4),z("ngModel",i.pageSize),p(),f("ngForOf",i.pageSizeOptions),p(2),f("disabled",i.currentPage===1),p(3),mr("Pagina ",i.currentPage," din ",i.getTotalPages(),""),p(),f("disabled",i.currentPage===i.getTotalPages()))},dependencies:[ce,zi,Fo,Lo,Vi,Te,ge,Ne],styles:[".pagination-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:32px;flex-wrap:wrap;margin-top:24px;font-family:Roboto Mono,monospace}.page-size-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:16px}.page-size-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0}.page-size-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:4px 6px;border:1px solid #aaa;border-radius:4px;font-size:15px;font-family:Roboto Mono,monospace}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:16px}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border:2px solid #000;background-color:#d9c8ff;border-radius:4px;font-weight:700;cursor:pointer;font-family:Roboto Mono,monospace}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:default}"]})};function D2(n,e){n&1&&(c(0,"div",37),P(1,"div",38),c(2,"p"),d(3,"Se trimite solicitarea..."),a()())}function E2(n,e){n&1&&(c(0,"div",39),d(1," Data \u0219i ora sunt obligatorii. "),a())}function P2(n,e){if(n&1&&(c(0,"div",39),d(1),a()),n&2){let t=m();p(),I(" ",t.validationErrors.datetime," ")}}function I2(n,e){if(n&1&&(c(0,"div",39),d(1),a()),n&2){let t=m();p(),I(" ",t.validationErrors.time," ")}}function O2(n,e){if(n&1&&(c(0,"div",39),d(1),a()),n&2){let t=m();p(),I(" ",t.validationErrors.day," ")}}function T2(n,e){n&1&&(c(0,"div",39),d(1," Num\u0103rul de telefon este obligatoriu. "),a())}function k2(n,e){if(n&1&&(c(0,"div",39),d(1),a()),n&2){let t=m();p(),I(" ",t.validationErrors.phoneNumber," ")}}function R2(n,e){n&1&&(c(0,"div",39),d(1," Adresa este obligatorie. "),a())}function A2(n,e){if(n&1&&(c(0,"div",39),d(1),a()),n&2){let t=m();p(),I(" ",t.validationErrors.address," ")}}function N2(n,e){if(n&1&&(c(0,"div",40),d(1),a()),n&2){let t=m();p(),I(" ",t.requestForm.description.length," caractere ")}}function F2(n,e){n&1&&(c(0,"div",39),d(1," Descrierea solicit\u0103rii este obligatorie. "),a())}function L2(n,e){if(n&1&&(c(0,"div",39),d(1),a()),n&2){let t=m();p(),I(" ",t.validationErrors.description," ")}}function V2(n,e){n&1&&(c(0,"span"),d(1,"Trimite solicitarea"),a())}function z2(n,e){n&1&&(c(0,"span"),d(1,"Se trimite..."),a())}var Vo=class n{constructor(e){this.router=e}requestForm={receiverUserId:"",day:null,month:null,year:null,startHour:null,startMinute:null,phoneNumber:"",address:"",description:""};formSubmit=new V;close=new V;formSubmitted=!1;isLoading=!1;validationErrors={};submitRequest(e){if(this.formSubmitted=!0,this.validationErrors={},this.validateForm(),e.invalid||Object.keys(this.validationErrors).length>0){Object.keys(e.controls).forEach(r=>{e.controls[r].markAsTouched()});return}this.isLoading=!0;let t=this.combineDateTime(),i=G(S({},this.requestForm),{requestedStartDate:t});setTimeout(()=>{this.formSubmit.emit(i),this.isLoading=!1,this.router.navigate(["/messages"]).then(()=>{this.closeForm()})},2e3)}validateForm(){let e={};if(this.requestForm.day&&this.requestForm.month&&this.requestForm.year&&this.requestForm.startHour!==null&&this.requestForm.startMinute!==null){let t=this.combineDateTime();t<=new Date&&(e.datetime="Data \u0219i ora trebuie s\u0103 fie \xEEn viitor.");let r=new Date;r.setFullYear(r.getFullYear()+1),t>r&&(e.datetime="Data nu poate fi mai mult de un an \xEEn viitor.");let o=this.requestForm.startHour;(o<8||o>20)&&(e.time="Ora trebuie s\u0103 fie \xEEntre 08:00 \u0219i 20:00.")}if(this.requestForm.phoneNumber&&(/^(\+40|0)(7[0-9]{8}|[23][0-9]{7})$/.test(this.requestForm.phoneNumber.replace(/\s/g,""))||(e.phoneNumber="Num\u0103rul de telefon nu este valid. Folosi\u021Bi formatul rom\xE2nesc (ex: 0723123456).")),this.requestForm.address&&this.requestForm.address.trim().length<10&&(e.address="Adresa trebuie s\u0103 con\u021Bin\u0103 cel pu\u021Bin 10 caractere."),this.requestForm.description&&this.requestForm.description.trim().length<20&&(e.description="Descrierea trebuie s\u0103 con\u021Bin\u0103 cel pu\u021Bin 20 de caractere."),this.requestForm.day!==null){let t=this.requestForm.month||1,i=this.requestForm.year||new Date().getFullYear(),r=new Date(i,t,0).getDate();(this.requestForm.day<1||this.requestForm.day>r)&&(e.day=`Ziua trebuie s\u0103 fie \xEEntre 1 \u0219i ${r} pentru luna selectat\u0103.`)}this.validationErrors=e}combineDateTime(){let e=this.requestForm.day||1,t=(this.requestForm.month||1)-1,i=this.requestForm.year||new Date().getFullYear(),r=this.requestForm.startHour||0,o=this.requestForm.startMinute||0;return new Date(i,t,e,r,o,0,0)}closeForm(){this.isLoading||this.close.emit()}getCurrentYear(){return new Date().getFullYear()}formatPhoneNumber(){if(this.requestForm.phoneNumber){let e=this.requestForm.phoneNumber.replace(/[^\d+]/g,"");e.startsWith("+40")?(e=e.slice(3),this.requestForm.phoneNumber="+40 "+this.formatDigits(e)):e.startsWith("40")?(e=e.slice(2),this.requestForm.phoneNumber="+40 "+this.formatDigits(e)):e.startsWith("0")?this.requestForm.phoneNumber=this.formatDigits(e):e.length>0&&(this.requestForm.phoneNumber="0"+this.formatDigits(e))}}formatDigits(e){return e.length<=4?e:e.length<=7?e.slice(0,4)+" "+e.slice(4):e.slice(0,4)+" "+e.slice(4,7)+" "+e.slice(7,10)}static \u0275fac=function(t){return new(t||n)(w(xe))};static \u0275cmp=F({type:n,selectors:[["app-request-form"]],inputs:{requestForm:"requestForm"},outputs:{formSubmit:"formSubmit",close:"close"},decls:73,vars:36,consts:[["formRef","ngForm"],["dayCtrl","ngModel"],["monthCtrl","ngModel"],["yearCtrl","ngModel"],["hourCtrl","ngModel"],["minuteCtrl","ngModel"],["phoneCtrl","ngModel"],["addressCtrl","ngModel"],["descriptionCtrl","ngModel"],[1,"overlay"],[1,"request-form-wrapper"],[1,"close-button",3,"click","disabled"],["class","loading-overlay",4,"ngIf"],[1,"request-form",3,"ngSubmit"],[1,"datetime-row"],[1,"date-fields"],[1,"date-field"],[1,"input-box"],["type","number","name","day","placeholder","ZZ","min","1","max","31","required","",3,"ngModelChange","ngModel","disabled"],[1,"date-separator"],["type","number","name","month","placeholder","LL","min","1","max","12","required","",3,"ngModelChange","ngModel","disabled"],["type","number","name","year","placeholder","AAAA","required","",3,"ngModelChange","ngModel","min","max","disabled"],[1,"time-fields"],[1,"time-field"],["type","number","name","startHour","placeholder","HH","min","8","max","20","required","",3,"ngModelChange","ngModel","disabled"],[1,"time-separator"],["type","number","name","startMinute","placeholder","MM","min","0","max","59","required","",3,"ngModelChange","ngModel","disabled"],["class","error",4,"ngIf"],[1,"info-text"],["type","tel","name","phoneNumber","placeholder","ex: 0723 123 456","required","",3,"ngModelChange","blur","ngModel","disabled"],["type","text","name","address","placeholder","ex: Str. Teiului nr. 14, Bucure\u0219ti","required","",3,"ngModelChange","ngModel","disabled"],[1,"input-box","textarea-box"],["name","description","rows","4","placeholder","Descrie\u021Bi \xEEn detaliu serviciul de care ave\u021Bi nevoie... (minim 20 caractere)","required","",3,"ngModelChange","ngModel","disabled"],["class","character-count",4,"ngIf"],[1,"center-button"],["type","submit",3,"disabled"],[4,"ngIf"],[1,"loading-overlay"],[1,"spinner"],[1,"error"],[1,"character-count"]],template:function(t,i){if(t&1){let r=D();c(0,"div",9)(1,"div",10)(2,"button",11),v("click",function(){return y(r),b(i.closeForm())}),d(3,"\xD7"),a(),c(4,"h2"),d(5,"Trimite o solicitare"),a(),_(6,D2,4,0,"div",12),c(7,"form",13,0),v("ngSubmit",function(){y(r);let s=K(8);return b(i.submitRequest(s))}),c(9,"label"),d(10," Data \u0219i ora dorite: "),c(11,"div",14)(12,"div",15)(13,"div",16)(14,"div",17)(15,"input",18,1),U("ngModelChange",function(s){return y(r),B(i.requestForm.day,s)||(i.requestForm.day=s),b(s)}),a()()(),c(17,"span",19),d(18,"/"),a(),c(19,"div",16)(20,"div",17)(21,"input",20,2),U("ngModelChange",function(s){return y(r),B(i.requestForm.month,s)||(i.requestForm.month=s),b(s)}),a()()(),c(23,"span",19),d(24,"/"),a(),c(25,"div",16)(26,"div",17)(27,"input",21,3),U("ngModelChange",function(s){return y(r),B(i.requestForm.year,s)||(i.requestForm.year=s),b(s)}),a()()()(),c(29,"div",22)(30,"div",23)(31,"div",17)(32,"input",24,4),U("ngModelChange",function(s){return y(r),B(i.requestForm.startHour,s)||(i.requestForm.startHour=s),b(s)}),a()()(),c(34,"span",25),d(35,":"),a(),c(36,"div",23)(37,"div",17)(38,"input",26,5),U("ngModelChange",function(s){return y(r),B(i.requestForm.startMinute,s)||(i.requestForm.startMinute=s),b(s)}),a()()()()(),_(40,E2,2,0,"div",27)(41,P2,2,1,"div",27)(42,I2,2,1,"div",27)(43,O2,2,1,"div",27),c(44,"div",28)(45,"small"),d(46,"Programul de lucru: 08:00 - 20:00"),a()()(),c(47,"label"),d(48," Num\u0103r de telefon: "),c(49,"div",17)(50,"input",29,6),U("ngModelChange",function(s){return y(r),B(i.requestForm.phoneNumber,s)||(i.requestForm.phoneNumber=s),b(s)}),v("blur",function(){return y(r),b(i.formatPhoneNumber())}),a()(),_(52,T2,2,0,"div",27)(53,k2,2,1,"div",27),a(),c(54,"label"),d(55," Adres\u0103: "),c(56,"div",17)(57,"input",30,7),U("ngModelChange",function(s){return y(r),B(i.requestForm.address,s)||(i.requestForm.address=s),b(s)}),a()(),_(59,R2,2,0,"div",27)(60,A2,2,1,"div",27),a(),c(61,"label"),d(62," Descrierea solicit\u0103rii: "),c(63,"div",31)(64,"textarea",32,8),U("ngModelChange",function(s){return y(r),B(i.requestForm.description,s)||(i.requestForm.description=s),b(s)}),a()(),_(66,N2,2,1,"div",33)(67,F2,2,0,"div",27)(68,L2,2,1,"div",27),a(),c(69,"div",34)(70,"button",35),_(71,V2,2,0,"span",36)(72,z2,2,0,"span",36),a()()()()()}if(t&2){let r=K(8),o=K(16),s=K(22),l=K(28),u=K(33),g=K(39),h=K(51),C=K(58),M=K(65);p(2),f("disabled",i.isLoading),p(4),f("ngIf",i.isLoading),p(),fe("loading",i.isLoading),p(8),z("ngModel",i.requestForm.day),f("disabled",i.isLoading),p(6),z("ngModel",i.requestForm.month),f("disabled",i.isLoading),p(6),z("ngModel",i.requestForm.year),f("min",i.getCurrentYear())("max",i.getCurrentYear()+1)("disabled",i.isLoading),p(5),z("ngModel",i.requestForm.startHour),f("disabled",i.isLoading),p(6),z("ngModel",i.requestForm.startMinute),f("disabled",i.isLoading),p(2),f("ngIf",(o.invalid||s.invalid||l.invalid||u.invalid||g.invalid)&&(o.dirty||o.touched||s.dirty||s.touched||l.dirty||l.touched||u.dirty||u.touched||g.dirty||g.touched||i.formSubmitted)),p(),f("ngIf",i.validationErrors.datetime),p(),f("ngIf",i.validationErrors.time),p(),f("ngIf",i.validationErrors.day),p(7),z("ngModel",i.requestForm.phoneNumber),f("disabled",i.isLoading),p(2),f("ngIf",h.invalid&&(h.dirty||h.touched||i.formSubmitted)),p(),f("ngIf",i.validationErrors.phoneNumber),p(4),z("ngModel",i.requestForm.address),f("disabled",i.isLoading),p(2),f("ngIf",C.invalid&&(C.dirty||C.touched||i.formSubmitted)),p(),f("ngIf",i.validationErrors.address),p(4),z("ngModel",i.requestForm.description),f("disabled",i.isLoading),p(2),f("ngIf",i.requestForm.description),p(),f("ngIf",M.invalid&&(M.dirty||M.touched||i.formSubmitted)),p(),f("ngIf",i.validationErrors.description),p(2),f("disabled",r.invalid&&i.formSubmitted||i.isLoading),p(),f("ngIf",!i.isLoading),p(),f("ngIf",i.isLoading)}},dependencies:[Ce,q,ge,wt,ze,vi,Te,xt,Mt,Ir,Pr,Ne,Tt,zi],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.request-form-wrapper[_ngcontent-%COMP%]{position:relative;width:600px;max-width:90vw;margin:2rem auto;background-color:#e8d9ff;border:2px solid #000;padding:2rem;font-family:Roboto Mono,monospace;border-radius:8px;box-shadow:0 4px 12px #00000026}.close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;background:none;border:none;font-size:24px;font-weight:700;cursor:pointer;color:#333;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}.close-button[_ngcontent-%COMP%]:hover:not(:disabled){color:#000;background-color:#0000001a;border-radius:50%}.close-button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.request-form-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:1.25rem;margin-bottom:1.5rem;margin-top:0}.loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#e8d9fff2;display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:10;border-radius:8px}.loading-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;font-weight:700;color:#333}.spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #c9b7ff;border-top:4px solid #9a79ff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.request-form[_ngcontent-%COMP%]{transition:opacity .3s ease}.request-form.loading[_ngcontent-%COMP%]{pointer-events:none;opacity:.7}.request-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;font-size:.95rem;font-weight:500}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem}.form-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;font-family:Roboto Mono,monospace;font-size:.9rem}.input-box[_ngcontent-%COMP%]{background-color:#f8f5ff;border:2px solid #c9b7ff;border-radius:6px;padding:8px;box-shadow:0 2px 6px #00000014;transition:border-color .3s ease;margin-top:4px}.input-box[_ngcontent-%COMP%]:focus-within{border-color:#9a79ff;box-shadow:0 2px 8px #9a79ff33}.input-box[_ngcontent-%COMP%]:has(input:disabled), .input-box[_ngcontent-%COMP%]:has(textarea:disabled){background-color:#f0f0f0;border-color:#ddd;opacity:.8}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;width:100%;font-family:Roboto Mono,monospace;font-size:14px;outline:none;color:#333}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#888;font-style:italic}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled, .input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:disabled{color:#888;cursor:not-allowed}.datetime-row[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;margin-top:4px}.date-fields[_ngcontent-%COMP%]{flex:2;display:flex;align-items:center;gap:4px}.time-fields[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:4px}.date-field[_ngcontent-%COMP%]{flex:1}.date-field[_ngcontent-%COMP%]:nth-child(5){flex:1.5}.time-field[_ngcontent-%COMP%]{flex:1}.date-separator[_ngcontent-%COMP%], .time-separator[_ngcontent-%COMP%]{font-weight:700;font-size:18px;color:#666;margin:0 2px}.date-field[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .time-field[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:center;font-weight:500}.date-field[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, .date-field[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, .time-field[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, .time-field[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.date-field[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[type=number][type=number][_ngcontent-%COMP%], .time-field[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[type=number][type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.textarea-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px;padding:8px 0;line-height:1.4}.center-button[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1.5rem}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 24px;border:2px solid #000;border-radius:6px;background-color:#c9b7ff;font-weight:700;cursor:pointer;font-family:Roboto Mono,monospace;font-size:14px;transition:all .3s ease;min-width:180px}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#b8a3ff;box-shadow:0 2px 6px #0003;transform:translateY(-1px)}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0);box-shadow:0 1px 3px #0003}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#dcdcdc;color:#888;cursor:not-allowed;border-color:#bbb;transform:none;box-shadow:none}.error[_ngcontent-%COMP%]{color:#d8000c;font-size:.85rem;margin-top:4px;font-weight:400;background-color:#d8000c1a;padding:4px 8px;border-radius:4px;border-left:3px solid #d8000c}.info-text[_ngcontent-%COMP%]{margin-top:4px}.info-text[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#666;font-size:.8rem;font-style:italic}.character-count[_ngcontent-%COMP%]{font-size:.8rem;color:#666;margin-top:2px;text-align:right}@media (max-width: 768px){.request-form-wrapper[_ngcontent-%COMP%]{max-width:90vw;margin:1rem;padding:1.5rem}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.form-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.5rem}.datetime-row[_ngcontent-%COMP%]{flex-direction:column;gap:8px;align-items:stretch}.date-fields[_ngcontent-%COMP%], .time-fields[_ngcontent-%COMP%]{justify-content:center}}"]})};function U2(n,e){if(n&1&&(c(0,"span",18),d(1),a()),n&2){let t=e.$implicit;p(),R(t.name)}}function j2(n,e){if(n&1){let t=D();c(0,"div",19)(1,"app-request-form",20),v("formSubmit",function(r){y(t);let o=m();return b(o.submitRequest(r))})("close",function(){y(t);let r=m();return b(r.closeRequestForm())}),a()()}if(n&2){let t=m();p(),f("requestForm",t.requestForm)}}var xa=class n{constructor(e){this.router=e}specialist={id:"",fullName:"",email:"",profilePictureUrl:"",phoneNumber:"",address:"",categories:[],yearsExperience:0,description:"",createdAt:new Date,updatedAt:new Date,rating:0};isRequestFormVisible=!1;requestForm={receiverUserId:"",day:null,month:null,year:null,startHour:null,startMinute:null,phoneNumber:"",address:"",description:""};specialistId=new V;requestFormSubmit=new V;showDetails=new V;navigateToDetails(){this.showDetails.emit(this.specialist.id)}goToSendRequest(){this.requestForm.receiverUserId=this.specialist.id,this.isRequestFormVisible=!0}closeRequestForm(){this.requestForm={receiverUserId:"",day:null,month:null,year:null,startHour:null,startMinute:null,phoneNumber:"",address:"",description:""},this.isRequestFormVisible=!1}transformFormDataToRequestDTO(e){let t=this.combineDateTime(e);return{receiverUserId:e.receiverUserId,requestedStartDate:t,phoneNumber:e.phoneNumber,address:e.address,description:e.description}}combineDateTime(e){let t=e.day||1,i=(e.month||1)-1,r=e.year||new Date().getFullYear(),o=e.startHour||0,s=e.startMinute||0;return new Date(r,i,t,o,s,0,0)}submitRequest(e){let t=this.transformFormDataToRequestDTO(e);this.requestFormSubmit.emit(t),this.closeRequestForm()}static \u0275fac=function(t){return new(t||n)(w(xe))};static \u0275cmp=F({type:n,selectors:[["app-specialist-card"]],inputs:{specialist:"specialist"},outputs:{specialistId:"specialistId",requestFormSubmit:"requestFormSubmit",showDetails:"showDetails"},decls:28,vars:7,consts:[[1,"card"],[1,"avatar-wrapper"],[1,"avatar",3,"click"],["alt","User avatar",3,"src"],[1,"rating-badge"],["src","assets/star-rating.svg","alt","User star"],[1,"rating-value"],[1,"info"],[1,"full-name",3,"click"],[1,"details-block"],[1,"row"],[1,"categories"],[1,"label"],["class","tag",4,"ngFor","ngForOf"],[1,"experience"],[1,"description"],[1,"request-btn",3,"click"],["class","overlay",4,"ngIf"],[1,"tag"],[1,"overlay"],[3,"formSubmit","close","requestForm"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2),v("click",function(){return i.navigateToDetails()}),P(3,"img",3),a(),c(4,"div",4),P(5,"img",5),c(6,"span",6),d(7),a()()(),c(8,"div",7)(9,"h2",8),v("click",function(){return i.navigateToDetails()}),d(10),a(),c(11,"div",9)(12,"div",10)(13,"div",11)(14,"span",12),d(15,"Categorii:"),a(),_(16,U2,2,1,"span",13),a(),c(17,"div",14)(18,"span",12),d(19,"Ani experien\u021B\u0103:"),a(),d(20),a()(),c(21,"div",15)(22,"span",12),d(23,"Descriere:"),a(),d(24),a()()(),c(25,"button",16),v("click",function(){return i.goToSendRequest()}),d(26,"F\u0103 o solicitare"),a()(),_(27,j2,2,1,"div",17)),t&2&&(p(3),f("src",i.specialist.profilePictureUrl||"assets/avatar.svg",ye),p(4),R(i.specialist.rating),p(3),I(" ",i.specialist.fullName," "),p(6),f("ngForOf",i.specialist.categories),p(4),I(" ",i.specialist.yearsExperience," "),p(4),I(" ",i.specialist.description," "),p(3),f("ngIf",i.isRequestFormVisible))},dependencies:[Ce,ce,q,Vo],styles:[".card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#cfbdfe;padding:20px;width:100%;gap:20px;justify-content:space-between;box-sizing:border-box;font-family:Roboto Mono,monospace}.info[_ngcontent-%COMP%]{flex:1}.full-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-top:.25rem;margin-bottom:.5rem}.full-name[_ngcontent-%COMP%]:hover{text-decoration:underline}.details-block[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:12px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.categories[_ngcontent-%COMP%], .experience[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{font-size:.95rem}.label[_ngcontent-%COMP%]{font-weight:700;margin-right:6px}.tag[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem}.request-btn[_ngcontent-%COMP%]{background-color:#9a83db;padding:32px 24px;border:none;border-radius:8px;font-weight:700;cursor:pointer;font-family:Roboto Mono,monospace}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:100px;aspect-ratio:1/1}.avatar[_ngcontent-%COMP%]{position:relative;width:100px;height:100px;overflow:hidden}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background-color:#e6dfff;object-fit:cover;display:block}.rating-badge[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;display:inline-flex;align-items:center;gap:.3em;background:#fff;padding:.2em .5em;border-radius:.6em;font-size:1em;box-shadow:0 1px 4px #0000001a}.rating-badge[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1em;height:1em}"]})};var Or=class extends Error{};Or.prototype.name="InvalidTokenError";function B2(n){return decodeURIComponent(atob(n).replace(/(.)/g,(e,t)=>{let i=t.charCodeAt(0).toString(16).toUpperCase();return i.length<2&&(i="0"+i),"%"+i}))}function $2(n){let e=n.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return B2(e)}catch{return atob(e)}}function HC(n,e){if(typeof n!="string")throw new Or("Invalid token specified: must be a string");e||(e={});let t=e.header===!0?0:1,i=n.split(".")[t];if(typeof i!="string")throw new Or(`Invalid token specified: missing part #${t+1}`);let r;try{r=$2(i)}catch(o){throw new Or(`Invalid token specified: invalid base64 for part #${t+1} (${o.message})`)}try{return JSON.parse(r)}catch(o){throw new Or(`Invalid token specified: invalid json for part #${t+1} (${o.message})`)}}var Y=class n{constructor(e){this.http=e}baseUrl="http://localhost:5241/api";authUrl=`${this.baseUrl}/Auth`;registerUser(e){return this.http.post(`${this.authUrl}/Register`,e)}loginUser(e){return this.http.post(`${this.authUrl}/Login`,e).pipe(Ue(t=>{let i=t.response?.token;console.log("Login Token:",i),i&&localStorage.setItem("access_token",i)}))}socialLogin(e){return this.http.post(`${this.authUrl}/SocialLogin`,e).pipe(Ue(t=>{let i=t.response?.token;console.log("Social Login Token:",i),i&&localStorage.setItem("access_token",i)}))}exchangeOAuthCode(e){return console.log("Sending OAuth code exchange request:",e),this.http.post(`${this.authUrl}/ExchangeOAuthCode`,e).pipe(Ue(t=>{let i=t.response?.token;console.log("OAuth Exchange Token:",i),i&&localStorage.setItem("access_token",i)}))}getToken(){return localStorage.getItem("access_token")}decodeToken(){let e=this.getToken();if(!e)return null;try{return HC(e)}catch(t){return console.error("Invalid token",t),null}}getUserRole(){return this.decodeToken()?.role??null}getUserId(){return this.decodeToken()?.nameid??null}setToken(e){e&&localStorage.setItem("access_token",e)}isAuthenticated(){if(!this.getToken())return!1;try{let t=this.decodeToken();if(!t)return!1;let i=Date.now()/1e3;return t.exp&&t.exp<i?(this.logout(),!1):!0}catch(t){return console.error("Error checking authentication:",t),this.logout(),!1}}logout(){localStorage.removeItem("access_token"),sessionStorage.removeItem("google_oauth_state"),sessionStorage.removeItem("google_oauth_redirect"),sessionStorage.removeItem("google_oauth_type"),localStorage.removeItem("google_auth_code"),localStorage.removeItem("google_auth_state"),localStorage.removeItem("google_auth_error"),localStorage.removeItem("google_auth_code_redirect"),localStorage.removeItem("google_auth_type")}getCurrentUserInfo(){let e=this.decodeToken();return!e||!e.nameid?null:{id:e.nameid,email:e.email||"",role:e.role||""}}static \u0275fac=function(t){return new(t||n)(T(Se))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ui=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Category";addCategory(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.post(`${this.baseUrl}/Add`,e,{headers:i})}getCategoryById(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{headers:i})}getAllCategories(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`}),r=new Qe;return e&&(r=r.set("search",e)),this.http.get(`${this.baseUrl}/GetAll`,{headers:i,params:r})}getCategoriesForSpecialist(e){let t=new Qe;return e&&(t=t.set("search",e)),this.http.get(`${this.baseUrl}/GetAllForSpecialist`,{params:t})}getCategoriesAdminPage(e,t,i){let r=this.authService.getToken(),o=new j({Authorization:`Bearer ${r}`}),s=new Qe().set("search",e||"").set("page",t).set("pageSize",i);return this.http.get(`${this.baseUrl}/GetPageForAdmin`,{headers:o,params:s})}updateCategory(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Update/${e.id}`,e,{headers:i})}deleteCategory(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.delete(`${this.baseUrl}/Delete/${e}`,{headers:i})}static \u0275fac=function(t){return new(t||n)(T(Se),T(Y))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function H2(n,e){if(n&1&&(c(0,"span",5),d(1),a()),n&2){let t=m();p(),I("(",t.activeFiltersCount,")")}}function q2(n,e){if(n&1&&(c(0,"span",17),d(1),a()),n&2){let t=m(3);p(),I("",t.selectedCategoriesCount," selectate")}}function W2(n,e){if(n&1&&(c(0,"span",17),d(1),a()),n&2){let t=m(3);p(),R(t.getRatingLabel(t.currentFilters.minRating))}}function G2(n,e){if(n&1&&(c(0,"span",17),d(1),a()),n&2){let t=m(3);p(),R(t.getExperienceLabel(t.currentFilters.experienceRange))}}function Z2(n,e){if(n&1&&(c(0,"span",17),d(1),a()),n&2){let t=m(3);p(),R(t.getSortLabel(t.currentFilters.sortByRating))}}function Y2(n,e){if(n&1){let t=D();c(0,"button",18),v("click",function(){y(t);let r=m(3);return b(r.clearAllFilters())}),P(1,"img",19),c(2,"span"),d(3,"\u0218terge toate"),a()()}}function Q2(n,e){if(n&1){let t=D();c(0,"div",9)(1,"button",10),v("click",function(){y(t);let r=m(2);return b(r.selectFilterType("categories"))}),P(2,"img",11),c(3,"span"),d(4,"Categorii"),a(),_(5,q2,2,1,"span",12),a(),c(6,"button",10),v("click",function(){y(t);let r=m(2);return b(r.selectFilterType("rating"))}),P(7,"img",13),c(8,"span"),d(9,"Rating"),a(),_(10,W2,2,1,"span",12),a(),c(11,"button",10),v("click",function(){y(t);let r=m(2);return b(r.selectFilterType("experience"))}),P(12,"img",14),c(13,"span"),d(14,"Experien\u021B\u0103"),a(),_(15,G2,2,1,"span",12),a(),c(16,"button",10),v("click",function(){y(t);let r=m(2);return b(r.selectFilterType("sort"))}),P(17,"img",15),c(18,"span"),d(19,"Sortare"),a(),_(20,Z2,2,1,"span",12),a(),_(21,Y2,4,0,"button",16),a()}if(n&2){let t=m(2);p(5),f("ngIf",t.selectedCategoriesCount>0),p(5),f("ngIf",t.currentFilters.minRating),p(5),f("ngIf",t.currentFilters.experienceRange),p(5),f("ngIf",t.currentFilters.sortByRating),p(),f("ngIf",t.activeFiltersCount>0)}}function K2(n,e){if(n&1&&(c(0,"span",35),d(1),a()),n&2){let t=m().$implicit;p(),R(t.description)}}function J2(n,e){if(n&1){let t=D();c(0,"div",31),v("click",function(){let r=y(t).$implicit,o=m(4);return b(o.toggleCategory(r.id))}),c(1,"input",32),v("click",function(r){return y(t),b(r.stopPropagation())})("change",function(){let r=y(t).$implicit,o=m(4);return b(o.toggleCategory(r.id))}),a(),c(2,"span",33),d(3),a(),_(4,K2,2,1,"span",34),a()}if(n&2){let t=e.$implicit,i=m(4);p(),f("checked",i.isCategorySelected(t.id)),p(2),R(t.name),p(),f("ngIf",t.description)}}function X2(n,e){if(n&1&&(c(0,"div",29),_(1,J2,5,3,"div",30),a()),n&2){let t=m(3);p(),f("ngForOf",t.filteredCategories)}}function eT(n,e){n&1&&(c(0,"div",36),d(1," Se \xEEncarc\u0103 categoriile... "),a())}function tT(n,e){if(n&1){let t=D();c(0,"button",37),v("click",function(){y(t);let r=m(3);return b(r.clearCategoriesFilter())}),d(1),a()}if(n&2){let t=m(3);p(),I(" \u0218terge categoriile (",t.selectedCategoriesCount,") ")}}function nT(n,e){if(n&1){let t=D();c(0,"div",20)(1,"div",21)(2,"button",22),v("click",function(){y(t);let r=m(2);return b(r.goBack())}),d(3,"\u2190 \xCEnapoi"),a(),c(4,"h3"),d(5,"Categorii"),a()(),c(6,"div",23)(7,"div",24)(8,"input",25),U("ngModelChange",function(r){y(t);let o=m(2);return B(o.categorySearchTerm,r)||(o.categorySearchTerm=r),b(r)}),v("ngModelChange",function(){y(t);let r=m(2);return b(r.searchCategories())}),a()(),_(9,X2,2,1,"div",26)(10,eT,2,0,"div",27)(11,tT,2,1,"button",28),a()()}if(n&2){let t=m(2);p(8),z("ngModel",t.categorySearchTerm),p(),f("ngIf",!t.loadingCategories),p(),f("ngIf",t.loadingCategories),p(),f("ngIf",t.selectedCategoriesCount>0)}}function iT(n,e){n&1&&P(0,"img",44)}function rT(n,e){if(n&1){let t=D();c(0,"button",40),v("click",function(){let r=y(t).$implicit,o=m(3);return b(o.selectRating(r.value))}),c(1,"div",41),_(2,iT,1,0,"img",42),a(),c(3,"span",43),d(4),a()()}if(n&2){let t=e.$implicit,i=m(3);fe("selected",i.currentFilters.minRating===t.value),p(2),f("ngForOf",i.getStarArray(t.value)),p(2),R(t.label)}}function oT(n,e){if(n&1){let t=D();c(0,"button",37),v("click",function(){y(t);let r=m(3);return b(r.clearRatingFilter())}),d(1," \u0218terge filtrul "),a()}}function sT(n,e){if(n&1){let t=D();c(0,"div",20)(1,"div",21)(2,"button",22),v("click",function(){y(t);let r=m(2);return b(r.goBack())}),d(3,"\u2190 \xCEnapoi"),a(),c(4,"h3"),d(5,"Rating minim"),a()(),c(6,"div",23)(7,"div",38),_(8,rT,5,4,"button",39),a(),_(9,oT,2,0,"button",28),a()()}if(n&2){let t=m(2);p(8),f("ngForOf",t.ratingOptions),p(),f("ngIf",t.currentFilters.minRating)}}function aT(n,e){if(n&1){let t=D();c(0,"button",47),v("click",function(){let r=y(t).$implicit,o=m(3);return b(o.selectExperience(r.value))}),d(1),a()}if(n&2){let t=e.$implicit,i=m(3);fe("selected",i.currentFilters.experienceRange===t.value),p(),I(" ",t.label," ")}}function cT(n,e){if(n&1){let t=D();c(0,"button",37),v("click",function(){y(t);let r=m(3);return b(r.clearExperienceFilter())}),d(1," \u0218terge filtrul "),a()}}function lT(n,e){if(n&1){let t=D();c(0,"div",20)(1,"div",21)(2,"button",22),v("click",function(){y(t);let r=m(2);return b(r.goBack())}),d(3,"\u2190 \xCEnapoi"),a(),c(4,"h3"),d(5,"Experien\u021B\u0103"),a()(),c(6,"div",23)(7,"div",45),_(8,aT,2,3,"button",46),a(),_(9,cT,2,0,"button",28),a()()}if(n&2){let t=m(2);p(8),f("ngForOf",t.experienceOptions),p(),f("ngIf",t.currentFilters.experienceRange)}}function dT(n,e){if(n&1){let t=D();c(0,"button",37),v("click",function(){y(t);let r=m(3);return b(r.clearSortFilter())}),d(1," \u0218terge filtrul "),a()}}function uT(n,e){if(n&1){let t=D();c(0,"div",20)(1,"div",21)(2,"button",22),v("click",function(){y(t);let r=m(2);return b(r.goBack())}),d(3,"\u2190 \xCEnapoi"),a(),c(4,"h3"),d(5,"Sortare dup\u0103 rating"),a()(),c(6,"div",23)(7,"div",48)(8,"button",49),v("click",function(){y(t);let r=m(2);return b(r.selectSort("desc"))}),d(9," Rating descresc\u0103tor "),a(),c(10,"button",49),v("click",function(){y(t);let r=m(2);return b(r.selectSort("asc"))}),d(11," Rating cresc\u0103tor "),a()(),_(12,dT,2,0,"button",28),a()()}if(n&2){let t=m(2);p(8),fe("selected",t.currentFilters.sortByRating==="desc"),p(2),fe("selected",t.currentFilters.sortByRating==="asc"),p(2),f("ngIf",t.currentFilters.sortByRating)}}function pT(n,e){if(n&1&&(c(0,"div",6),_(1,Q2,22,5,"div",7)(2,nT,12,4,"div",8)(3,sT,10,2,"div",8)(4,lT,10,2,"div",8)(5,uT,13,5,"div",8),a()),n&2){let t=m();fe("open",t.isOpen),p(),f("ngIf",!t.selectedFilterType),p(),f("ngIf",t.selectedFilterType==="categories"),p(),f("ngIf",t.selectedFilterType==="rating"),p(),f("ngIf",t.selectedFilterType==="experience"),p(),f("ngIf",t.selectedFilterType==="sort")}}var Pd=class n{constructor(e){this.categoryService=e}initialFilters={};filtersChange=new V;isOpen=!1;selectedFilterType=null;currentFilters={};allCategories=[];filteredCategories=[];categorySearchTerm="";loadingCategories=!1;ratingOptions=[{value:5,label:"5 stele"},{value:4,label:"4+ stele"},{value:3,label:"3+ stele"}];experienceOptions=[{value:"0-2",label:"0-2 ani"},{value:"2-5",label:"2-5 ani"},{value:"5-7",label:"5-7 ani"},{value:"7-10",label:"7-10 ani"},{value:"10+",label:"10+ ani"}];ngOnInit(){this.currentFilters=S({},this.initialFilters),this.loadCategories()}get activeFiltersCount(){let e=0;return this.currentFilters.categoryIds&&this.currentFilters.categoryIds.length>0&&e++,this.currentFilters.minRating&&e++,this.currentFilters.experienceRange&&e++,this.currentFilters.sortByRating&&e++,e}get selectedCategoriesCount(){return this.currentFilters.categoryIds?this.currentFilters.categoryIds.length:0}getStarArray(e){return Array(e).fill(0)}loadCategories(){this.loadingCategories=!0,this.categoryService.getAllCategories().subscribe({next:e=>{this.allCategories=e.response||[],this.filteredCategories=[...this.allCategories],this.loadingCategories=!1},error:e=>{console.error("Error loading categories:",e),this.loadingCategories=!1}})}searchCategories(){if(!this.categorySearchTerm.trim())this.filteredCategories=[...this.allCategories];else{let e=this.categorySearchTerm.toLowerCase();this.filteredCategories=this.allCategories.filter(t=>t.name.toLowerCase().includes(e)||t.description&&t.description.toLowerCase().includes(e))}}toggleFilterPanel(){this.isOpen=!this.isOpen,this.isOpen||(this.selectedFilterType=null)}selectFilterType(e){this.selectedFilterType=e}goBack(){this.selectedFilterType=null}toggleCategory(e){this.currentFilters.categoryIds||(this.currentFilters.categoryIds=[]);let t=this.currentFilters.categoryIds.indexOf(e);t>-1?this.currentFilters.categoryIds.splice(t,1):this.currentFilters.categoryIds.push(e),this.onFiltersChange()}isCategorySelected(e){return this.currentFilters.categoryIds?this.currentFilters.categoryIds.includes(e):!1}clearCategoriesFilter(){this.currentFilters.categoryIds=[],this.onFiltersChange()}selectRating(e){this.currentFilters.minRating=e,this.onFiltersChange()}clearRatingFilter(){this.currentFilters.minRating=void 0,this.onFiltersChange()}selectExperience(e){this.currentFilters.experienceRange=e,this.onFiltersChange()}clearExperienceFilter(){this.currentFilters.experienceRange=void 0,this.onFiltersChange()}selectSort(e){this.currentFilters.sortByRating=e,this.onFiltersChange()}clearSortFilter(){this.currentFilters.sortByRating=void 0,this.onFiltersChange()}clearAllFilters(){this.currentFilters={},this.onFiltersChange(),this.isOpen=!1,this.selectedFilterType=null}onFiltersChange(){let e={};this.currentFilters.categoryIds&&this.currentFilters.categoryIds.length>0&&(e.categoryIds=this.currentFilters.categoryIds),this.currentFilters.minRating&&(e.minRating=this.currentFilters.minRating),this.currentFilters.experienceRange&&(e.experienceRange=this.currentFilters.experienceRange),this.currentFilters.sortByRating&&(e.sortByRating=this.currentFilters.sortByRating),this.filtersChange.emit(e)}getRatingLabel(e){let t=this.ratingOptions.find(i=>i.value===e);return t?t.label:`${e}+ stele`}getExperienceLabel(e){let t=this.experienceOptions.find(i=>i.value===e);return t?t.label:e}getSortLabel(e){return e==="desc"?"Descresc\u0103tor":"Cresc\u0103tor"}static \u0275fac=function(t){return new(t||n)(w(Ui))};static \u0275cmp=F({type:n,selectors:[["app-search-filters"]],inputs:{initialFilters:"initialFilters"},outputs:{filtersChange:"filtersChange"},decls:7,vars:5,consts:[[1,"compact-filters"],[1,"filter-toggle",3,"click"],["alt","Toggle filters",1,"filter-icon",3,"src"],["class","filter-count",4,"ngIf"],["class","filter-panel",3,"open",4,"ngIf"],[1,"filter-count"],[1,"filter-panel"],["class","filter-options",4,"ngIf"],["class","filter-detail",4,"ngIf"],[1,"filter-options"],[1,"filter-option",3,"click"],["src","assets/icons/categories.svg","alt","Categories",1,"option-icon"],["class","option-value",4,"ngIf"],["src","assets/icons/rating.svg","alt","Rating",1,"option-icon"],["src","assets/icons/experience.svg","alt","Experience",1,"option-icon"],["src","assets/icons/sort.svg","alt","Sort",1,"option-icon"],["class","clear-all-btn",3,"click",4,"ngIf"],[1,"option-value"],[1,"clear-all-btn",3,"click"],["src","assets/icons/delete.svg","alt","Clear all",1,"option-icon"],[1,"filter-detail"],[1,"filter-header"],[1,"back-btn",3,"click"],[1,"filter-content"],[1,"search-categories"],["type","text","placeholder","Caut\u0103 categorii...",1,"filter-input",3,"ngModelChange","ngModel"],["class","categories-list",4,"ngIf"],["class","loading-categories",4,"ngIf"],["class","clear-filter-btn",3,"click",4,"ngIf"],[1,"categories-list"],["class","category-item",3,"click",4,"ngFor","ngForOf"],[1,"category-item",3,"click"],["type","checkbox",3,"click","change","checked"],[1,"category-name"],["class","category-description",4,"ngIf"],[1,"category-description"],[1,"loading-categories"],[1,"clear-filter-btn",3,"click"],[1,"rating-options"],["class","rating-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"rating-option",3,"click"],[1,"stars"],["src","assets/icons/star-filled.svg","alt","star","class","star-icon",4,"ngFor","ngForOf"],[1,"rating-label"],["src","assets/icons/star-filled.svg","alt","star",1,"star-icon"],[1,"experience-options"],["class","experience-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"experience-option",3,"click"],[1,"sort-options"],[1,"sort-option",3,"click"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"button",1),v("click",function(){return i.toggleFilterPanel()}),P(2,"img",2),c(3,"span"),d(4,"Filtreaz\u0103"),a(),_(5,H2,2,1,"span",3),a(),_(6,pT,6,7,"div",4),a()),t&2&&(p(),fe("active",i.isOpen),p(),f("src",i.isOpen?"assets/icons/up-button.svg":"assets/icons/down-button.svg",ye),p(3),f("ngIf",i.activeFiltersCount>0),p(),f("ngIf",i.isOpen))},dependencies:[Ce,ce,q,ge,ze,Te,Ne],styles:[".compact-filters[_ngcontent-%COMP%]{position:relative;display:inline-block}.filter-toggle[_ngcontent-%COMP%]{background-color:#9a83db;color:#fff;border:none;padding:10px 16px;border-radius:6px;cursor:pointer;font-family:Roboto Mono,monospace;font-weight:700;display:flex;align-items:center;gap:8px;transition:all .2s;font-size:.9rem}.filter-toggle[_ngcontent-%COMP%]:hover, .filter-toggle.active[_ngcontent-%COMP%]{background-color:#8670d1}.filter-icon[_ngcontent-%COMP%]{width:16px;height:16px;transition:transform .2s}.filter-count[_ngcontent-%COMP%]{background-color:#3c1a7d;color:#fff;padding:2px 6px;border-radius:12px;font-size:.75rem;font-weight:700}.filter-panel[_ngcontent-%COMP%]{position:absolute;top:100%;left:0;background:#fff;border:2px solid #9a83db;border-radius:8px;box-shadow:0 4px 12px #9a83db4d;z-index:1000;min-width:280px;max-width:350px;max-height:400px;opacity:0;visibility:hidden;transform:translateY(-10px);transition:all .2s ease}.filter-panel.open[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.filter-options[_ngcontent-%COMP%]{padding:8px}.filter-option[_ngcontent-%COMP%], .clear-all-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;gap:8px;padding:10px 12px;border:none;background:transparent;cursor:pointer;border-radius:4px;font-family:Roboto Mono,monospace;font-size:.85rem;transition:background-color .2s;text-align:left}.filter-option[_ngcontent-%COMP%]:hover, .clear-all-btn[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.clear-all-btn[_ngcontent-%COMP%]{margin-top:8px;border-top:1px solid #e0e0e0;padding-top:12px;color:#dc3545}.clear-all-btn[_ngcontent-%COMP%]:hover{background-color:#fff5f5}.option-icon[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0}.option-value[_ngcontent-%COMP%]{margin-left:auto;font-size:.75rem;color:#666;background:#e6dfff;padding:2px 6px;border-radius:4px}.filter-detail[_ngcontent-%COMP%]{padding:0;display:flex;flex-direction:column;height:100%}.filter-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;background:#f8f9fa;border-bottom:1px solid #e0e0e0}.filter-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:.9rem;font-weight:600;color:#333}.back-btn[_ngcontent-%COMP%]{background:none;border:none;color:#9a83db;cursor:pointer;font-family:Roboto Mono,monospace;font-weight:700;font-size:.85rem;padding:4px 8px;border-radius:4px;transition:background-color .2s}.back-btn[_ngcontent-%COMP%]:hover{background-color:#e6dfff}.filter-content[_ngcontent-%COMP%]{padding:16px;flex:1;overflow-y:auto;max-height:300px}.filter-input[_ngcontent-%COMP%]{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-family:Roboto Mono,monospace;font-size:.85rem;margin-bottom:12px}.filter-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#9a83db;box-shadow:0 0 0 2px #9a83db33}.categories-list[_ngcontent-%COMP%]{max-height:200px;overflow-y:auto;border:1px solid #e0e0e0;border-radius:4px;margin-bottom:12px}.category-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;padding:10px;border-bottom:1px solid #f0f0f0;cursor:pointer;transition:background-color .2s}.category-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.category-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.category-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{margin-top:2px;cursor:pointer}.category-item[_ngcontent-%COMP%]   .category-name[_ngcontent-%COMP%]{font-weight:500;color:#333;font-size:.85rem;flex:1}.category-item[_ngcontent-%COMP%]   .category-description[_ngcontent-%COMP%]{font-size:.75rem;color:#666;max-width:120px;text-align:right}.loading-categories[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#666;font-style:italic}.rating-options[_ngcontent-%COMP%], .experience-options[_ngcontent-%COMP%], .sort-options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-bottom:12px}.rating-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;border:1px solid #ddd;background:#fff;border-radius:4px;cursor:pointer;font-family:Roboto Mono,monospace;transition:all .2s}.rating-option[_ngcontent-%COMP%]:hover{border-color:#9a83db;background-color:#f8f9fa}.rating-option.selected[_ngcontent-%COMP%]{background-color:#9a83db;color:#fff;border-color:#9a83db}.rating-option[_ngcontent-%COMP%]   .stars[_ngcontent-%COMP%]{display:flex;gap:2px;min-width:80px}.rating-option[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{width:14px;height:14px}.rating-option[_ngcontent-%COMP%]   .rating-label[_ngcontent-%COMP%]{font-size:.85rem}.experience-option[_ngcontent-%COMP%], .sort-option[_ngcontent-%COMP%]{padding:10px 12px;border:1px solid #ddd;background:#fff;border-radius:4px;cursor:pointer;font-family:Roboto Mono,monospace;font-size:.85rem;transition:all .2s}.experience-option[_ngcontent-%COMP%]:hover, .sort-option[_ngcontent-%COMP%]:hover{border-color:#9a83db;background-color:#f8f9fa}.experience-option.selected[_ngcontent-%COMP%], .sort-option.selected[_ngcontent-%COMP%]{background-color:#9a83db;color:#fff;border-color:#9a83db}.clear-filter-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;padding:8px 12px;border-radius:4px;cursor:pointer;font-family:Roboto Mono,monospace;font-size:.8rem;font-weight:700;transition:background-color .2s;width:100%}.clear-filter-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}"]})};var zo=class n{constructor(){}geocodeAddress(e){return O(this,null,function*(){if(!window.google||!window.google.maps)throw new Error("Google Maps API not loaded");let t=new google.maps.Geocoder;return new Promise((i,r)=>{t.geocode({address:e},(o,s)=>{if(s===google.maps.GeocoderStatus.OK&&o&&o[0]){let l=o[0].geometry.location;i({lat:l.lat(),lng:l.lng()})}else i(null)})})})}geocodeAddresses(e){let t=e.map(i=>this.geocodeAddress(i));return Pe(Promise.all(t))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var Uo=class n{constructor(){}getCurrentPosition(){return navigator.geolocation?Pe(new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(i=>e(i),i=>t(i),{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})})):bi(()=>new Error("Geolocation is not supported by this browser."))}calculateDistance(e,t,i,r){let s=this.deg2rad(i-e),l=this.deg2rad(r-t),u=Math.sin(s/2)*Math.sin(s/2)+Math.cos(this.deg2rad(e))*Math.cos(this.deg2rad(i))*Math.sin(l/2)*Math.sin(l/2);return 6371*(2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u)))}deg2rad(e){return e*(Math.PI/180)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var ji=class n{constructor(e,t,i,r){this.http=e;this.authService=t;this.geocodingService=i;this.geolocationService=r}baseUrl="http://localhost:5241/api/Specialist";getSpecialists(e,t){let i=this.authService.getToken(),r=new j({Authorization:`Bearer ${i}`}),o=new Qe().set("page",e.page.toString()).set("pageSize",e.pageSize.toString());return e.search&&(o=o.set("search",e.search)),t&&(t.minRating!==void 0&&t.minRating!==null&&(o=o.set("filters.minRating",t.minRating.toString())),t.experienceRange&&(o=o.set("filters.experienceRange",t.experienceRange)),t.sortByRating&&(o=o.set("filters.sortByRating",t.sortByRating)),t.categoryIds&&t.categoryIds.length>0&&t.categoryIds.forEach((s,l)=>{o=o.append(`filters.categoryIds[${l}]`,s)})),this.http.get(`${this.baseUrl}/GetPage`,{headers:r,params:o})}getSpecialistsLegacy(e,t,i){return this.getSpecialists({page:t,pageSize:i,search:e||void 0})}getSpecialistsCombined(e){return this.getSpecialists({page:e.page,pageSize:e.pageSize,search:e.search},e.filters)}searchSpecialistsByCategory(e,t=1,i=10){return this.getSpecialists({page:t,pageSize:i},{categoryIds:e})}searchSpecialistsByRating(e,t=1,i=10){return this.getSpecialists({page:t,pageSize:i},{minRating:e})}searchSpecialistsByExperienceRange(e,t=1,i=10){return this.getSpecialists({page:t,pageSize:i},{experienceRange:e})}getTopRatedSpecialists(e=1,t=10){return this.getSpecialists({page:e,pageSize:t},{sortByRating:"desc",minRating:4.5})}searchSpecialistsAdvanced(e,t,i,r,o){let s={};return t&&t.length>0&&(s.categoryIds=t),i&&(s.minRating=i),r&&(s.experienceRange=r),o&&(s.sortByRating=o),this.getSpecialists(e,s)}getHighRatedSpecialists(e=1,t=10){return this.getSpecialists({page:e,pageSize:t},{minRating:4,sortByRating:"desc"})}getExperiencedSpecialists(e=1,t=10){return this.getSpecialists({page:e,pageSize:t},{experienceRange:"7-10",sortByRating:"desc"})}getSpecialistsByCategories(e,t=1,i=10){return this.getSpecialists({page:t,pageSize:i},{categoryIds:e,sortByRating:"desc"})}searchAndFilter(e,t,i=1,r=10){return this.getSpecialists({page:i,pageSize:r,search:e},t)}getSpecialist(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{headers:i})}addSpecialist(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.post(`${this.baseUrl}/Add`,e,{headers:i})}updateSpecialist(e,t){let i=this.authService.getToken(),r=new j({Authorization:`Bearer ${i}`});return this.http.patch(`${this.baseUrl}/Update/${e}`,t,{headers:r})}deleteSpecialist(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.delete(`${this.baseUrl}/Delete/${e}`,{headers:i})}static \u0275fac=function(t){return new(t||n)(T(Se),T(Y),T(zo),T(Uo))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var jo=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Request";getRequest(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{headers:i})}addRequest(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return console.log("Headers:",i),this.http.post(`${this.baseUrl}/Add`,e,{headers:i})}acceptRequest(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Accept/${e}`,{},{headers:i})}rejectRequest(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Reject/${e}`,{},{headers:i})}cancelRequest(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Cancel/${e}`,{},{headers:i})}static \u0275fac=function(t){return new(t||n)(T(Se),T(Y))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var ut=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/User";getUser(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{headers:i})}getUserProfile(){let e=this.authService.getToken(),t=new j({Authorization:`Bearer ${e}`});return this.http.get(`${this.baseUrl}/GetProfile`,{headers:t})}getUserDetails(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetDetails/${e}`,{headers:i})}getUserPaymentDetails(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetPaymentDetails/${e}`,{headers:i})}getUsers(e,t,i){let r=this.authService.getToken(),o=new j({Authorization:`Bearer ${r}`}),s=new Qe().set("search",e??"").set("page",t).set("pageSize",i);return this.http.get(`${this.baseUrl}/GetPage`,{headers:o,params:s})}addUser(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.post(`${this.baseUrl}/Add`,e,{headers:i})}updateUser(e,t){let i=this.authService.getToken(),r=new j({Authorization:`Bearer ${i}`});return this.http.patch(`${this.baseUrl}/Update/${e}`,t,{headers:r})}updateUserProfile(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Update`,e,{headers:i})}deleteUser(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.delete(`${this.baseUrl}/Delete/${e}`,{headers:i})}static \u0275fac=function(t){return new(t||n)(T(Se),T(Y))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var fT=()=>[5,10,20];function gT(n,e){if(n&1){let t=D();c(0,"div",21)(1,"p"),d(2,"Nu am g\u0103sit speciali\u0219ti care s\u0103 corespund\u0103 criteriilor tale de c\u0103utare."),a(),c(3,"button",22),v("click",function(){y(t);let r=m();return b(r.clearAllFilters())}),d(4," \xCEncearc\u0103 s\u0103 \u0219tergi filtrele "),a()()}}function mT(n,e){if(n&1&&(c(0,"div",23)(1,"p"),d(2),a()()),n&2){let t=m();p(2),R(t.error)}}function hT(n,e){n&1&&P(0,"div",26)}function vT(n,e){if(n&1){let t=D();je(0),c(1,"app-specialist-card",24),v("specialistId",function(r){let o=y(t).$implicit;return b(o.id=r)})("requestFormSubmit",function(r){y(t);let o=m();return b(o.addRequest(r))})("showDetails",function(r){y(t);let o=m();return b(o.showSpecialistDetails(r))}),a(),_(2,hT,1,0,"div",25),Be()}if(n&2){let t=e.$implicit,i=e.index,r=m();p(),f("specialist",t),p(),f("ngIf",i<r.users.length-1)}}function _T(n,e){if(n&1&&(c(0,"div",52)(1,"span",53),d(2,"\u2699"),a(),c(3,"span"),d(4),a()()),n&2){let t=m(2);p(4),I("",t.selectedSpecialistDetails==null?null:t.selectedSpecialistDetails.yearsExperience," ani experien\u021B\u0103")}}function yT(n,e){if(n&1&&(c(0,"span",56),d(1),a()),n&2){let t=e.$implicit;p(),I(" ",t," ")}}function bT(n,e){if(n&1&&(c(0,"div",54),_(1,yT,2,1,"span",55),a()),n&2){let t=m(2);p(),f("ngForOf",t.selectedSpecialistDetails==null?null:t.selectedSpecialistDetails.categories)}}function CT(n,e){if(n&1&&(c(0,"div",57)(1,"h3",46)(2,"span",53),d(3,"\u2022"),a(),d(4," Informa\u021Bii de contact "),a(),c(5,"div",58)(6,"div",59)(7,"span",60),d(8,"Email:"),a(),c(9,"a",61),d(10),a()(),c(11,"div",59)(12,"span",60),d(13,"Telefon:"),a(),c(14,"a",62),d(15),a()(),c(16,"div",63)(17,"span",60),d(18,"Adres\u0103:"),a(),c(19,"span",64),d(20),a()()()()),n&2){let t=m(2);p(9),f("href","mailto:"+((t.selectedSpecialistDetails==null?null:t.selectedSpecialistDetails.email)||""),ye),p(),I(" ",t.selectedSpecialistDetails==null?null:t.selectedSpecialistDetails.email," "),p(4),f("href","tel:"+((t.selectedSpecialistDetails==null?null:t.selectedSpecialistDetails.phoneNumber)||""),ye),p(),I(" ",t.formatPhoneNumber((t.selectedSpecialistDetails==null?null:t.selectedSpecialistDetails.phoneNumber)||"")," "),p(5),R(t.selectedSpecialistDetails==null?null:t.selectedSpecialistDetails.address)}}function xT(n,e){if(n&1&&(c(0,"div",57)(1,"h3",46)(2,"span",53),d(3,"\u2022"),a(),d(4," Despre specialist "),a(),c(5,"div",65)(6,"p"),d(7),a()()()),n&2){let t=m(2);p(7),R(t.selectedSpecialistDetails==null?null:t.selectedSpecialistDetails.description)}}function wT(n,e){if(n&1&&(c(0,"div",68),P(1,"img",69),c(2,"div",70)(3,"span",71),d(4,"Vezi imagine"),a()()()),n&2){let t=e.$implicit;p(),f("src",t,ye)}}function MT(n,e){if(n&1&&(c(0,"div",57)(1,"h3",46)(2,"span",53),d(3,"\u{1F5BC}\uFE0F"),a(),d(4," Portofoliu "),a(),c(5,"div",66),_(6,wT,5,1,"div",67),a()()),n&2){let t=m(2);p(6),f("ngForOf",t.selectedSpecialistDetails==null?null:t.selectedSpecialistDetails.portfolio)}}function ST(n,e){n&1&&(c(0,"div",72)(1,"div",73),d(2,"\u2022"),a(),c(3,"p"),d(4,"Acest specialist nu are \xEEnc\u0103 recenzii."),a(),c(5,"small"),d(6,"Fii primul care las\u0103 o recenzie!"),a()())}function DT(n,e){if(n&1&&(c(0,"div",74)(1,"div",75)(2,"div",76),P(3,"img",77),c(4,"div",78)(5,"span",79),d(6),a(),c(7,"span",80),d(8),a()()(),c(9,"div",81)(10,"div",82),P(11,"img",83),c(12,"span",38),d(13),a()()()(),c(14,"div",84)(15,"p"),d(16),a()()()),n&2){let t=e.$implicit,i=m(2);p(3),f("src",t.senderUserProfilePictureUrl||"assets/avatar.svg",ye),p(3),R(t.senderUserFullName),p(2),R(i.getTimeSince(t.createdAt)),p(5),R(t.rating),p(3),R(t.content)}}function ET(n,e){if(n&1){let t=D();c(0,"div",27),v("click",function(){y(t);let r=m();return b(r.closeSpecialistDetails())}),c(1,"div",28),v("click",function(r){return y(t),b(r.stopPropagation())}),c(2,"div",29)(3,"button",30),v("click",function(){y(t);let r=m();return b(r.closeSpecialistDetails())}),d(4,"\xD7"),a(),c(5,"div",31)(6,"div",32)(7,"div",33)(8,"div",34),P(9,"img",35),a(),c(10,"div",36),P(11,"img",37),c(12,"span",38),d(13),a()()(),c(14,"div",39)(15,"h1",40),d(16),a(),_(17,_T,5,1,"div",41)(18,bT,2,1,"div",42),a()()(),c(19,"div",43),_(20,CT,21,5,"div",44)(21,xT,8,1,"div",44)(22,MT,7,1,"div",44),c(23,"div",45)(24,"h3",46),P(25,"img",47),d(26," Recenzii "),c(27,"span",48),d(28),a()(),c(29,"div",49),_(30,ST,7,0,"div",50)(31,DT,17,5,"div",51),a()()()()()()}if(n&2){let t,i=m();p(9),f("src",(i.selectedSpecialistDetails==null?null:i.selectedSpecialistDetails.profilePictureUrl)||"assets/avatar.svg",ye),p(4),R((i.selectedSpecialistDetails==null?null:i.selectedSpecialistDetails.rating)||0),p(3),R(i.selectedSpecialistDetails==null?null:i.selectedSpecialistDetails.fullName),p(),f("ngIf",i.selectedSpecialistDetails==null?null:i.selectedSpecialistDetails.yearsExperience),p(),f("ngIf",((t=i.selectedSpecialistDetails==null||i.selectedSpecialistDetails.categories==null?null:i.selectedSpecialistDetails.categories.length)!==null&&t!==void 0?t:0)>0),p(2),f("ngIf",i.selectedSpecialistDetails==null?null:i.selectedSpecialistDetails.email),p(),f("ngIf",i.selectedSpecialistDetails==null?null:i.selectedSpecialistDetails.description),p(),f("ngIf",i.selectedSpecialistDetails==null||i.selectedSpecialistDetails.portfolio==null?null:i.selectedSpecialistDetails.portfolio.length),p(6),I("(",(i.selectedSpecialistDetails==null||i.selectedSpecialistDetails.reviews==null?null:i.selectedSpecialistDetails.reviews.length)||0,")"),p(2),f("ngIf",!(!(i.selectedSpecialistDetails==null||i.selectedSpecialistDetails.reviews==null)&&i.selectedSpecialistDetails.reviews.length)),p(),f("ngForOf",i.selectedSpecialistDetails==null?null:i.selectedSpecialistDetails.reviews)}}var Id=class n{constructor(e,t,i,r){this.homeService=e;this.userRequestService=t;this.authService=i;this.userService=r}searchTerm="";currentPage=1;pageSize=10;totalItems=0;entityDetails={};isUserDetailsVisible=!1;users=[];error=null;isSpecialistDetailsVisible=!1;selectedSpecialistDetails=null;searchParams={page:1,pageSize:10};filterParams={};isRequestFormVisible=!1;requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""};dummySpecialists=[{id:"spec-001",fullName:"Andrei Popescu",email:"andrei.popescu@example.com",phoneNumber:"0721123456",address:"Strada Mihai Eminescu 45, Bucure\u0219ti",yearsExperience:5,description:"Traduc\u0103tor medical cu experien\u021B\u0103 \xEEn terminologie clinic\u0103 \u0219i farmaceutic\u0103.",createdAt:new Date("2022-03-10T10:00:00Z"),updatedAt:new Date,rating:5,categories:[{id:"cat-001",name:"Traduceri medicale"},{id:"cat-002",name:"Farmacie"}]},{id:"spec-002",fullName:"Ioana Marinescu",email:"ioana.marinescu@example.com",phoneNumber:"0733456789",address:"Bd. Revolu\u021Biei 17, Cluj-Napoca",yearsExperience:8,description:"Specialist \xEEn psihologie cu experien\u021B\u0103 \xEEn redactarea \u0219i corectarea articolelor \u0219tiin\u021Bifice.",createdAt:new Date("2020-11-20T08:30:00Z"),updatedAt:new Date,rating:4},{id:"spec-003",fullName:"Victor Ionescu",email:"victor.ionescu@example.com",phoneNumber:"0744123123",address:"Str. Libert\u0103\u021Bii 88, Ia\u0219i",yearsExperience:3,description:"T\xE2n\u0103r specialist \xEEn tehnologia informa\u021Biei, ofer servicii de consultan\u021B\u0103 \u0219i mentenan\u021B\u0103 software.",createdAt:new Date("2023-01-15T14:45:00Z"),updatedAt:new Date,rating:4.5}];dummyUserDetails={fullName:"Maria Popescu",profilePictureUrl:"assets/avatar.svg",rating:4,reviews:[{id:"1",content:"Serviciu excelent! Maria a venit punctual \u0219i a rezolvat problema cu instala\u021Bia sanitar\u0103 foarte profesionist. Recomand cu \xEEncredere!",rating:5,senderUserFullName:"Ion Vasile",senderUserProfilePictureUrl:"assets/avatar.svg",createdAt:new Date("2024-06-01T10:00:00"),updatedAt:new Date("2024-06-01T10:00:00")},{id:"2",content:"Foarte punctual \u0219i profesionist. A explicat tot ce a f\u0103cut \u0219i a l\u0103sat totul foarte curat.",rating:4,senderUserFullName:"Andreea Dumitru",senderUserProfilePictureUrl:"",createdAt:new Date("2024-05-22T14:00:00"),updatedAt:new Date("2024-05-22T14:00:00")},{id:"3",content:"Foarte mul\u021Bumit de serviciile oferite. Pre\u021Buri corecte \u0219i munc\u0103 de calitate.",rating:5,senderUserFullName:"Mihai Georgescu",senderUserProfilePictureUrl:"assets/avatar.svg",createdAt:new Date("2024-05-15T16:30:00"),updatedAt:new Date("2024-05-15T16:30:00")}],email:"maria.popescu@example.com",phoneNumber:"0722123456",address:"Str. Libert\u0103\u021Bii, nr. 15, Sector 2, Bucure\u0219ti",yearsExperience:5,description:"Instalator autorizat cu experien\u021B\u0103 \xEEn proiecte reziden\u021Biale \u0219i comerciale. Specializat\u0103 \xEEn instala\u021Bii sanitare moderne \u0219i repara\u021Bii de urgen\u021B\u0103.",portfolio:["Portofoliu1.jpg","Portofoliu2.jpg"],categories:["Instala\u021Bii sanitare","Repara\u021Bii","Urgen\u021Be"]};ngOnInit(){this.getPage()}getPage(){this.searchParams.page=this.currentPage,this.searchParams.pageSize=this.pageSize,console.log("Searching with params:",this.searchParams,"Filters:",this.filterParams),this.homeService.getSpecialists(this.searchParams,this.filterParams).subscribe({next:e=>{this.users=e.response?.data??[],this.totalItems=e.response?.totalCount??0,this.error=null},error:e=>{this.error=e.error?.errorMessage?.message||"A ap\u0103rut o eroare.",console.error("Error loading specialists:",e)}})}showSpecialistDetails(e){console.log("Loading specialist details for:",e),this.userService.getUserDetails(e).subscribe({next:t=>{this.selectedSpecialistDetails=t.response??null,this.isSpecialistDetailsVisible=!0},error:t=>{console.error("Error loading specialist details:",t),alert("Nu s-au putut \xEEnc\u0103rca detaliile specialistului.")}})}closeSpecialistDetails(){this.isSpecialistDetailsVisible=!1,this.selectedSpecialistDetails=null}addRequest(e){let t=e;console.log("Request to submit:",t),this.userRequestService.addRequest(t).subscribe({next:i=>{alert("Cererea a fost trimis\u0103 cu succes!"),this.closeRequestForm()},error:i=>{console.error("Eroare la trimiterea cererii:",i),alert("Nu s-a putut trimite cererea.")}})}onSearch(e){this.searchTerm=e,this.searchParams.search=e||void 0,this.currentPage=1,this.getPage()}onFiltersChange(e){console.log("Filters changed:",e),this.filterParams=S({},e),this.currentPage=1,this.getPage()}onPageChange(e){this.currentPage=e,this.getPage()}onPageSizeChange(e){this.pageSize=e,this.currentPage=1,this.getPage()}clearAllFilters(){this.filterParams={},this.searchParams.search=void 0,this.searchTerm="",this.currentPage=1,this.getPage()}getTopRatedSpecialists(){this.filterParams=G(S({},this.filterParams),{sortByRating:"desc",minRating:4.5}),this.currentPage=1,this.getPage()}getExperiencedSpecialists(){this.filterParams=G(S({},this.filterParams),{experienceRange:"7-10"}),this.currentPage=1,this.getPage()}getHighRatedSpecialists(){this.filterParams=G(S({},this.filterParams),{minRating:4.5,sortByRating:"desc"}),this.currentPage=1,this.getPage()}getCategoryNames(e){return e.map(t=>t.name)}closeUserDetails(){this.isUserDetailsVisible=!1,this.entityDetails={}}closeRequestForm(){this.requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""},this.isRequestFormVisible=!1}formatPhoneNumber(e){let t=e.replace(/\D/g,"");return t.length===10&&t.startsWith("07")?`${t.slice(0,4)} ${t.slice(4,7)} ${t.slice(7)}`:e}getTimeSince(e){let i=new Date().getTime()-e.getTime(),r=Math.floor(i/(1e3*60*60*24));return r===0?"Ast\u0103zi":r===1?"Ieri":r<7?`Acum ${r} zile`:r<30?`Acum ${Math.floor(r/7)} s\u0103pt\u0103m\xE2ni`:`Acum ${Math.floor(r/30)} luni`}SpecialistCardComponent=xa;static \u0275fac=function(t){return new(t||n)(w(ji),w(jo),w(Y),w(ut))};static \u0275cmp=F({type:n,selectors:[["app-home"]],decls:40,vars:11,consts:[[1,"top-action-button"],["routerLink","/contact-us","routerLinkActive","active",1,"contact-button"],[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"search-filter-section"],[1,"search-row"],[1,"search-input-wrapper"],[3,"searchChanged","placeholder"],[1,"filter-wrapper"],[3,"filtersChange","initialFilters"],[1,"quick-actions"],[1,"quick-action-btn",3,"click"],[1,"quick-action-btn","clear-btn",3,"click"],["class","no-results",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"user-list"],[4,"ngFor","ngForOf"],[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],["class","overlay-wrapper",3,"click",4,"ngIf"],[1,"no-results"],[1,"clear-filters-btn",3,"click"],[1,"error-message"],[3,"specialistId","requestFormSubmit","showDetails","specialist"],["class","separator",4,"ngIf"],[1,"separator"],[1,"overlay-wrapper",3,"click"],[1,"modal-content",3,"click"],[1,"specialist-card"],["aria-label","\xCEnchide",1,"close-btn",3,"click"],[1,"specialist-header"],[1,"avatar-section"],[1,"avatar-wrapper"],[1,"avatar"],["alt","Poza de profil",3,"src"],[1,"rating-badge"],["src","assets/star-rating.svg","alt","User star"],[1,"rating-value"],[1,"basic-info"],[1,"name"],["class","experience-badge",4,"ngIf"],["class","categories",4,"ngIf"],[1,"specialist-body"],["class","info-section",4,"ngIf"],[1,"info-section","reviews-section"],[1,"section-title"],["src","assets/star-rating.svg","alt","Star",1,"icon",2,"width","1.4rem","height","1.4rem"],[1,"review-count"],[1,"reviews-container"],["class","no-reviews",4,"ngIf"],["class","review-card",4,"ngFor","ngForOf"],[1,"experience-badge"],[1,"icon"],[1,"categories"],["class","category-chip",4,"ngFor","ngForOf"],[1,"category-chip"],[1,"info-section"],[1,"contact-grid"],[1,"contact-item"],[1,"contact-label"],[1,"contact-value","email",3,"href"],[1,"contact-value","phone",3,"href"],[1,"contact-item","full-width"],[1,"contact-value","address"],[1,"description-content"],[1,"portfolio-grid"],["class","portfolio-item",4,"ngFor","ngForOf"],[1,"portfolio-item"],["alt","Imagine portofoliu",1,"portfolio-image",3,"src"],[1,"portfolio-overlay"],[1,"view-text"],[1,"no-reviews"],[1,"no-reviews-icon"],[1,"review-card"],[1,"review-header"],[1,"reviewer-info"],["alt","Poza reviewer",1,"reviewer-avatar",3,"src"],[1,"reviewer-details"],[1,"reviewer-name"],[1,"review-date"],[1,"review-rating"],[1,"rating-display"],["src","assets/star-rating.svg","alt","Star",1,"star-icon"],[1,"review-content"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"a",1),d(2,"Contacteaz\u0103-ne!"),a()(),c(3,"div",2)(4,"div",3)(5,"h1",4),d(6,"Ai o \u021Beav\u0103 spart\u0103?"),a(),c(7,"h1",4),d(8,"\u021Ai s-a stricat chiuveta?"),a(),c(9,"h1"),d(10,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),c(11,"strong",5),d(12,"ExpertEase"),a(),d(13,"!"),a()(),c(14,"div",6)(15,"div",7)(16,"div",8)(17,"app-search-input",9),v("searchChanged",function(o){return i.onSearch(o)}),a()(),c(18,"div",10)(19,"app-search-filters",11),v("filtersChange",function(o){return i.onFiltersChange(o)}),a()()()(),c(20,"div",12)(21,"button",13),v("click",function(){return i.getTopRatedSpecialists()}),d(22," Top Rating "),a(),c(23,"button",13),v("click",function(){return i.getExperiencedSpecialists()}),d(24," Experien\u021B\u0103 7+ ani "),a(),c(25,"button",13),v("click",function(){return i.getHighRatedSpecialists()}),d(26," Rating 4.5+ "),a(),c(27,"button",14),v("click",function(){return i.clearAllFilters()}),d(28," \u0218terge toate filtrele "),a()(),c(29,"p"),d(30,"Peste "),c(31,"strong"),d(32,"100 de speciali\u0219ti"),a(),d(33," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),a(),_(34,gT,5,0,"div",15)(35,mT,3,1,"div",16),a(),c(36,"div",17),_(37,vT,3,2,"ng-container",18),a(),c(38,"app-pagination",19),v("pageChange",function(o){return i.onPageChange(o)})("pageSizeChange",function(o){return i.onPageSizeChange(o)}),a(),_(39,ET,32,11,"div",20)),t&2&&(p(17),f("placeholder","Caut\u0103 specialist..."),p(2),f("initialFilters",i.filterParams),p(15),f("ngIf",i.totalItems===0&&!i.error),p(),f("ngIf",i.error),p(2),f("ngForOf",i.users),p(),f("currentPage",i.currentPage)("pageSize",i.pageSize)("pageSizeOptions",Ut(10,fT))("totalItems",i.totalItems),p(),f("ngIf",i.isSpecialistDetailsVisible))},dependencies:[xa,Ce,ce,q,zi,ge,pn,Bn,Ct,ua,Pd],styles:[".top-action-button[_ngcontent-%COMP%]{position:absolute;top:100px;right:32px;z-index:10}.contact-button[_ngcontent-%COMP%]{text-decoration:none;font-family:Roboto Mono,monospace;font-weight:700;border:1px solid transparent;transition:all .2s ease;color:#000}.contact-button[_ngcontent-%COMP%]:hover{text-decoration:underline}.user-list[_ngcontent-%COMP%]   app-specialist-card[_ngcontent-%COMP%]{border-bottom:1px solid #b7a4dd;padding-bottom:1rem;margin-bottom:1rem}.user-list[_ngcontent-%COMP%]   app-specialist-card[_ngcontent-%COMP%]:last-child{border-bottom:none}.separator[_ngcontent-%COMP%]{height:3px;background-color:#b7a4dd;width:100%}.home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:2rem}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.close-button[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1.2rem;font-size:1.5rem;background:none;border:none;color:#333;font-weight:700;cursor:pointer;transition:transform .2s}.close-button[_ngcontent-%COMP%]:hover{transform:scale(1.2);color:#d11a2a}.search-filter-section[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:20px 0}.search-row[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;justify-content:center;flex-wrap:wrap}.search-input-wrapper[_ngcontent-%COMP%]{flex:1;min-width:300px;max-width:500px}.search-input-wrapper[_ngcontent-%COMP%]     app-search-input{width:100%}.search-input-wrapper[_ngcontent-%COMP%]     app-search-input .search-container{position:relative;width:100%}.search-input-wrapper[_ngcontent-%COMP%]     app-search-input .search-box{width:100%;border:2px solid #b7a4dd;border-radius:3px;font-size:1rem;font-family:Roboto Mono,monospace;background-color:#f6efff;transition:all .3s ease;box-sizing:border-box}.search-input-wrapper[_ngcontent-%COMP%]     app-search-input .search-box:focus{outline:none;border-color:#9a83db;background-color:#fff;box-shadow:0 4px 12px #9a83db33}.search-input-wrapper[_ngcontent-%COMP%]     app-search-input .search-box::placeholder{color:#999;font-style:italic}.search-input-wrapper[_ngcontent-%COMP%]     app-search-input .search-icon{position:absolute;left:18px;top:50%;transform:translateY(-50%);width:20px;height:20px;color:#9a83db;pointer-events:none;z-index:2}.search-input-wrapper[_ngcontent-%COMP%]     app-search-input .search-button{position:absolute;right:8px;top:50%;transform:translateY(-50%);background-color:#9a83db;border:none;border-radius:3px;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:#fff}.search-input-wrapper[_ngcontent-%COMP%]     app-search-input .search-button:hover{background-color:#8670d1;transform:translateY(-50%) scale(1.1)}.search-input-wrapper[_ngcontent-%COMP%]     app-search-input .search-button:active{transform:translateY(-50%) scale(.95)}.filter-wrapper[_ngcontent-%COMP%]{flex-shrink:0}.quick-actions[_ngcontent-%COMP%]{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin:20px 0}.quick-action-btn[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;border:2px solid #9a83db;padding:8px 16px;border-radius:3px;cursor:pointer;font-family:Roboto Mono,monospace;font-weight:700;font-size:.85rem;transition:all .2s}.quick-action-btn[_ngcontent-%COMP%]:hover{background-color:#9a83db;color:#fff;transform:translateY(-2px)}.quick-action-btn.clear-btn[_ngcontent-%COMP%]{background-color:#f8d7da;border-color:#dc3545;color:#721c24}.quick-action-btn.clear-btn[_ngcontent-%COMP%]:hover{background-color:#dc3545;color:#fff}.results-summary[_ngcontent-%COMP%]{margin:15px 0;padding:10px 15px;background-color:#e6dfff;border-radius:6px;text-align:center}.results-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:700;color:#3c1a7d}.no-results[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;background-color:#f8f9fa;border-radius:8px;margin:20px 0}.no-results[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px;color:#666;font-size:1.1rem}.clear-filters-btn[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;padding:12px 24px;border-radius:6px;cursor:pointer;font-family:Roboto Mono,monospace;font-weight:700;transition:background-color .2s}.clear-filters-btn[_ngcontent-%COMP%]:hover{background-color:#c82333}.error-message[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;padding:15px;border-radius:6px;border:1px solid #f5c6cb;margin:20px 0;text-align:center}.error-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:700}@media (max-width: 768px){.home-wrapper[_ngcontent-%COMP%]{padding:16px}.search-row[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.search-input-wrapper[_ngcontent-%COMP%]{min-width:auto;max-width:none}.search-input-wrapper[_ngcontent-%COMP%]     app-search-input .search-input{padding:10px 16px 10px 45px;font-size:.9rem}.search-input-wrapper[_ngcontent-%COMP%]     app-search-input .search-icon{left:15px;width:18px;height:18px}.search-input-wrapper[_ngcontent-%COMP%]     app-search-input .search-button{width:28px;height:28px;right:6px}.filter-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center}.quick-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.quick-action-btn[_ngcontent-%COMP%]{min-width:200px;text-align:center}.top-action-button[_ngcontent-%COMP%]{position:relative;top:auto;right:auto;text-align:center;margin-bottom:20px}}@media (max-width: 480px){.search-filter-section[_ngcontent-%COMP%]{margin:16px 0}.search-row[_ngcontent-%COMP%]{gap:12px}.search-input-wrapper[_ngcontent-%COMP%]     app-search-input .search-input{padding:8px 14px 8px 40px;font-size:.85rem}.search-input-wrapper[_ngcontent-%COMP%]     app-search-input .search-icon{left:12px;width:16px;height:16px}.search-input-wrapper[_ngcontent-%COMP%]     app-search-input .search-button{width:24px;height:24px;right:4px}.quick-actions[_ngcontent-%COMP%]{margin:16px 0;gap:8px}.quick-action-btn[_ngcontent-%COMP%]{font-size:.8rem;padding:6px 12px}}.overlay-wrapper[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0009;display:flex;justify-content:center;align-items:center;z-index:1000;padding:2rem;box-sizing:border-box}.modal-content[_ngcontent-%COMP%]{width:100%;max-width:900px;max-height:90vh;overflow-y:auto;border-radius:12px;box-shadow:0 10px 30px #0000004d}.specialist-card[_ngcontent-%COMP%]{background:#cfbdfe;border:2px solid #000;border-radius:12px;font-family:Roboto Mono,monospace;position:relative;overflow:hidden;box-shadow:0 8px 25px #00000026}.close-btn[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;background:#ffffffe6;border:none;font-size:24px;font-weight:700;cursor:pointer;color:#333;padding:8px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .3s ease;z-index:10}.close-btn[_ngcontent-%COMP%]:hover{background:#fff;transform:scale(1.1);box-shadow:0 2px 8px #0003}.specialist-header[_ngcontent-%COMP%]{background:#cfbdfe;padding:2rem;border-bottom:2px solid #000}.avatar-section[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:flex-start}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;flex-shrink:0;width:150px;height:150px}.avatar[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;overflow:hidden;border:4px solid #000;box-shadow:0 4px 15px #0003}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.rating-badge[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;display:inline-flex;align-items:center;gap:.4em;background:#fff;padding:.4em .8em;border-radius:1em;font-size:1.2em;box-shadow:0 2px 10px #00000026;border:2px solid #000}.rating-badge[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.2em;height:1.2em}.rating-badge[_ngcontent-%COMP%]   .rating-value[_ngcontent-%COMP%]{font-weight:700;color:#333}.basic-info[_ngcontent-%COMP%]{flex:1;color:#333}.name[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:0 0 1rem;color:#333}.experience-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;background:#0000001a;padding:8px 16px;border-radius:20px;font-weight:500;margin-bottom:1rem;color:#333;border:1px solid rgba(0,0,0,.2)}.experience-badge[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem}.categories[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.category-chip[_ngcontent-%COMP%]{background:#333;color:#fff;padding:6px 12px;border-radius:15px;font-size:.85rem;font-weight:500}.specialist-body[_ngcontent-%COMP%]{padding:2rem;background:#fff}.info-section[_ngcontent-%COMP%]{margin-bottom:2.5rem}.info-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:1.3rem;font-weight:700;margin-bottom:1rem;color:#333;padding-bottom:8px;border-bottom:2px solid #c9b7ff}.section-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.4rem}.contact-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.contact-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.contact-item.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.contact-label[_ngcontent-%COMP%]{font-weight:700;color:#666;font-size:.9rem}.contact-value[_ngcontent-%COMP%]{font-size:1rem;color:#333;text-decoration:none;transition:color .3s ease}.contact-value.email[_ngcontent-%COMP%]:hover, .contact-value.phone[_ngcontent-%COMP%]:hover{color:#9a79ff;text-decoration:underline}.contact-value.address[_ngcontent-%COMP%]{line-height:1.4}.description-content[_ngcontent-%COMP%]{background:#9a79ff1a;padding:1.5rem;border-radius:8px;border-left:4px solid #9a79ff}.description-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.6;color:#333}.portfolio-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.portfolio-item[_ngcontent-%COMP%]{position:relative;aspect-ratio:4/3;border-radius:8px;overflow:hidden;box-shadow:0 4px 12px #0000001a;transition:transform .3s ease}.portfolio-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 20px #0003}.portfolio-item[_ngcontent-%COMP%]:hover   .portfolio-overlay[_ngcontent-%COMP%]{opacity:1}.portfolio-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.portfolio-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#9a79ffcc;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease}.portfolio-overlay[_ngcontent-%COMP%]   .view-text[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:1rem}.review-count[_ngcontent-%COMP%]{font-size:1rem;color:#666;font-weight:400}.reviews-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.no-reviews[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:#9a79ff1a;border-radius:8px;color:#666}.no-reviews[_ngcontent-%COMP%]   .no-reviews-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.no-reviews[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .5rem;font-weight:500}.no-reviews[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-style:italic}.review-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;border:1px solid #e0e0e0;box-shadow:0 2px 8px #00000014;transition:all .3s ease}.review-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 15px #0000001f;transform:translateY(-2px)}.review-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem}.reviewer-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.reviewer-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover;border:2px solid #e0e0e0}.reviewer-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.reviewer-name[_ngcontent-%COMP%]{font-weight:700;color:#333}.review-date[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.review-rating[_ngcontent-%COMP%]{flex-shrink:0}.review-rating[_ngcontent-%COMP%]   .rating-display[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.3em;background:#fff;padding:.3em .6em;border-radius:.8em;font-size:.9em;box-shadow:0 1px 4px #0000001a;border:1px solid #e0e0e0}.review-rating[_ngcontent-%COMP%]   .rating-display[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{width:1em;height:1em}.review-rating[_ngcontent-%COMP%]   .rating-display[_ngcontent-%COMP%]   .rating-value[_ngcontent-%COMP%]{font-weight:700;color:#333}.review-content[_ngcontent-%COMP%]{line-height:1.6;color:#555}.review-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}@media (max-width: 768px){.overlay-wrapper[_ngcontent-%COMP%]{padding:1rem}.specialist-header[_ngcontent-%COMP%]{padding:1.5rem}.avatar-section[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;gap:1rem}.avatar-wrapper[_ngcontent-%COMP%], .avatar[_ngcontent-%COMP%]{width:120px;height:120px}.specialist-body[_ngcontent-%COMP%]{padding:1.5rem}.contact-grid[_ngcontent-%COMP%], .portfolio-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.review-header[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;align-items:flex-start}.name[_ngcontent-%COMP%]{font-size:1.5rem}}",".search-box[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;align-items:center;gap:20px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 50px 15px 20px;border:none;background:transparent;outline:none;font-family:Roboto Mono,monospace;font-size:12px}.search-icon-button[_ngcontent-%COMP%]{background:none;border:none;padding:0 16px;font-size:1.2rem;color:#444;cursor:pointer;display:flex;align-items:center;justify-content:center}.search-icon-button[_ngcontent-%COMP%]:hover{color:#000}.search-icon-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}"]})};var Od=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["app-about"]],decls:142,vars:0,consts:[[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"about-info"],[1,"role-sections"],[1,"client-section"],[1,"specialist-section"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"h1",2),d(3,"Ai o \u021Beav\u0103 spart\u0103?"),a(),c(4,"h1",2),d(5,"\u021Ai s-a stricat chiuveta?"),a(),c(6,"h1"),d(7,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),c(8,"strong",3),d(9,"ExpertEase"),a(),d(10,"!"),a()(),c(11,"p"),d(12,"Peste "),c(13,"strong"),d(14,"100 de speciali\u0219ti"),a(),d(15," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),a()(),c(16,"div",4)(17,"section")(18,"h2"),d(19,"Cine suntem noi?"),a(),c(20,"p"),d(21,"Compania "),c(22,"strong"),d(23,"ExpertEase"),a(),d(24," se ocup\u0103 cu problemele tale \xEEn materie de repara\u021Bii sau instala\u021Bii."),a()(),c(25,"section")(26,"h2"),d(27,"Cum facem asta?"),a(),c(28,"p"),d(29,"\xCE\u021Bi punem la dispozi\u021Bie "),c(30,"strong"),d(31,"peste 100 de speciali\u0219ti"),a(),d(32," din domeniu, cu varii nivele de experien\u021B\u0103, care sunt preocupa\u021Bi \xEEn a \xEE\u021Bi rezolva problema."),a()(),c(33,"section")(34,"h2"),d(35,"Cum func\u021Bioneaz\u0103 platforma?"),a(),c(36,"p"),d(37,"Platforma noastr\u0103 este simplu de utilizat. Po\u021Bi c\u0103uta speciali\u0219ti dup\u0103 domeniu, po\u021Bi vedea recenziile altor clien\u021Bi \u0219i po\u021Bi contacta direct specialistul pentru a discuta detaliile repara\u021Biei sau instala\u021Biei."),a()(),c(38,"section")(39,"h2"),d(40,"De ce s\u0103 ne alegi?"),a(),c(41,"p"),d(42,"ExpertEase \xEE\u021Bi ofer\u0103 acces rapid \u0219i u\u0219or la o re\u021Bea extins\u0103 de speciali\u0219ti, asigur\xE2ndu-te c\u0103 vei g\u0103si pe cineva potrivit pentru nevoile tale. \xCEn plus, platforma noastr\u0103 este gratuit\u0103 pentru utilizatori!"),a()(),c(43,"div",5)(44,"section",6)(45,"h2"),d(46,"Ce poate face un client?"),a(),c(47,"p"),d(48,"Pe platforma ExpertEase, clien\u021Bii pot:"),a(),c(49,"ol")(50,"li")(51,"strong"),d(52,"Crea un cont"),a(),P(53,"br"),d(54," \xCE\u021Bi faci un cont rapid \u0219i ai acces la panoul t\u0103u personal."),a(),c(55,"li")(56,"strong"),d(57,"C\u0103uta speciali\u0219ti"),a(),P(58,"br"),d(59," Po\u021Bi filtra speciali\u0219tii dup\u0103: "),c(60,"ul")(61,"li"),d(62,"Categorie (ex. Psihologie, Drept, IT)"),a(),c(63,"li"),d(64,"Ani de experien\u021B\u0103"),a(),c(65,"li"),d(66,"Adres\u0103 (cu op\u021Biune de c\u0103utare pe hart\u0103)"),a()()(),c(67,"li")(68,"strong"),d(69,"Trimite o cerere"),a(),P(70,"br"),d(71," Dup\u0103 ce g\u0103se\u0219ti un specialist potrivit, po\u021Bi trimite o cerere \xEEn care descrii problema sau serviciul dorit \u0219i o dat\u0103 preferat\u0103."),a(),c(72,"li")(73,"strong"),d(74,"Comunic\u0103 prin mesaje"),a(),P(75,"br"),d(76," Vei putea: "),c(77,"ul")(78,"li"),d(79,"Primi r\u0103spunsuri de la specialist"),a(),c(80,"li"),d(81,"Vizualiza propunerea de serviciu \u0219i pre\u021Bul"),a(),c(82,"li"),d(83,"Accepta sau refuza oferta"),a()()(),c(84,"li")(85,"strong"),d(86,"Las\u0103 o recenzie"),a(),P(87,"br"),d(88," Dup\u0103 \xEEncheierea colabor\u0103rii, po\u021Bi scrie o recenzie care ajut\u0103 al\u021Bi utilizatori \u0219i sus\u021Bine calitatea pe platform\u0103."),a(),c(89,"li")(90,"strong"),d(91,"Pl\u0103te\u0219te \xEEn siguran\u021B\u0103"),a(),P(92,"br"),d(93," Pl\u0103\u021Bile se realizeaz\u0103 prin Stripe, \xEEntr-un mod securizat \u0219i transparent. Vei \u0219ti exact c\xE2t pl\u0103te\u0219ti \xEEnainte de confirmare."),a()()(),c(94,"section",7)(95,"h2"),d(96,"Ce poate face un specialist?"),a(),c(97,"p"),d(98,"Speciali\u0219tii au acces la instrumente prin care \xEE\u0219i pot gestiona cererile \u0219i construi o reputa\u021Bie solid\u0103:"),a(),c(99,"ol")(100,"li")(101,"strong"),d(102,"\xCEnregistrare \u0219i verificare profil"),a(),P(103,"br"),d(104," \xCE\u021Bi creezi un cont profesional, alegi domeniul de expertiz\u0103 \u0219i adaugi informa\u021Bii relevante."),a(),c(105,"li")(106,"strong"),d(107,"Prime\u0219ti cereri de la clien\u021Bi"),a(),P(108,"br"),d(109," Vei fi notificat atunci c\xE2nd un client te contacteaz\u0103. Po\u021Bi: "),c(110,"ul")(111,"li"),d(112,"Analiza cererea"),a(),c(113,"li"),d(114,"Accepta, refuza sau propune o ofert\u0103 alternativ\u0103"),a()()(),c(115,"li")(116,"strong"),d(117,"Trimite un r\u0103spuns detaliat"),a(),P(118,"br"),d(119," Po\u021Bi r\u0103spunde cu: "),c(120,"ul")(121,"li"),d(122,"Detalii despre serviciu"),a(),c(123,"li"),d(124,"Dat\u0103 propus\u0103"),a(),c(125,"li"),d(126,"Pre\u021B"),a()()(),c(127,"li")(128,"strong"),d(129,"Gestioneaz\u0103 conversa\u021Biile"),a(),P(130,"br"),d(131," Ai acces la un sistem de mesagerie clar \u0219i sigur, unde po\u021Bi urm\u0103ri fiecare cerere \xEEn parte."),a(),c(132,"li")(133,"strong"),d(134,"Prime\u0219te pl\u0103\u021Bi direct"),a(),P(135,"br"),d(136," Prin conectarea contului t\u0103u Stripe Express, po\u021Bi primi banii direct \xEEn contul bancar."),a(),c(137,"li")(138,"strong"),d(139,"Prime\u0219te recenzii"),a(),P(140,"br"),d(141," Dup\u0103 fiecare colaborare, clien\u021Bii pot l\u0103sa o recenzie care te va ajuta s\u0103 c\xE2\u0219tigi \xEEncrederea altor utilizatori."),a()()()()())},styles:[".home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px 16px;font-family:Roboto Mono,monospace}@media (max-width: 768px){.home-wrapper[_ngcontent-%COMP%]{padding:20px 12px}}@media (max-width: 480px){.home-wrapper[_ngcontent-%COMP%]{padding:16px 8px}}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;max-width:100%}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center;font-size:clamp(1.5rem,4vw,2.5rem);line-height:1.2;word-wrap:break-word;hyphens:auto}@media (max-width: 768px){.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.3rem 0;font-size:clamp(1.2rem,5vw,2rem)}}@media (max-width: 480px){.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.2rem 0;font-size:clamp(1rem,6vw,1.5rem)}}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}@media (max-width: 480px){.brand-highlight[_ngcontent-%COMP%]{letter-spacing:.2px}}.about-info[_ngcontent-%COMP%]{max-width:1600px;margin:10px auto;padding:0 24px;font-family:Roboto Mono,monospace;font-size:16px;line-height:1.6}@media (max-width: 1200px){.about-info[_ngcontent-%COMP%]{max-width:100%;padding:0 20px}}@media (max-width: 768px){.about-info[_ngcontent-%COMP%]{padding:0 16px;font-size:14px}}@media (max-width: 480px){.about-info[_ngcontent-%COMP%]{padding:0 12px;font-size:13px;line-height:1.5}}.about-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px;color:#3c1a7d;font-size:clamp(1.2rem,3vw,1.5rem)}@media (max-width: 768px){.about-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px}}@media (max-width: 480px){.about-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:8px}}.about-info[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{border:2px solid #3c1a7d;border-radius:8px;padding:24px;margin-bottom:32px;background-color:#fff}@media (max-width: 768px){.about-info[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:20px;margin-bottom:24px;border-radius:6px}}@media (max-width: 480px){.about-info[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:16px;margin-bottom:20px;border-width:1px}}.role-sections[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:32px;margin-top:32px}@media (max-width: 1200px){.role-sections[_ngcontent-%COMP%]{gap:24px}}@media (max-width: 900px){.role-sections[_ngcontent-%COMP%]{flex-direction:column;gap:20px;margin-top:24px}}@media (max-width: 480px){.role-sections[_ngcontent-%COMP%]{gap:16px;margin-top:20px}}.role-sections[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{flex:1 1 45%;border:2px solid #3c1a7d;border-radius:8px;padding:24px;margin-bottom:32px;background-color:#fff;font-family:Roboto Mono,monospace;font-size:16px;line-height:25.6px}@media (max-width: 1200px){.role-sections[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{flex:1 1 100%;max-width:none}}@media (max-width: 900px){.role-sections[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{flex:1 1 100%;padding:20px;margin-bottom:24px;font-size:14px;line-height:22.4px}}@media (max-width: 480px){.role-sections[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:16px;margin-bottom:20px;font-size:13px;line-height:20.8px;border-width:1px;border-radius:6px}}.role-sections[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#3c1a7d;font-weight:700;margin-bottom:16px;font-size:clamp(1.1rem,2.5vw,1.3rem)}@media (max-width: 768px){.role-sections[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px}}@media (max-width: 480px){.role-sections[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px}}.role-sections[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:16px}@media (max-width: 768px){.role-sections[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px}}@media (max-width: 480px){.role-sections[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}}.role-sections[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], .role-sections[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:24px;margin-bottom:24px}@media (max-width: 768px){.role-sections[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], .role-sections[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px;margin-bottom:20px}}@media (max-width: 480px){.role-sections[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], .role-sections[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:16px;margin-bottom:16px}}.role-sections[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:12px;line-height:25.6px}@media (max-width: 768px){.role-sections[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;line-height:22.4px}}@media (max-width: 480px){.role-sections[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;line-height:20.8px}}.role-sections[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:8px;padding-left:20px}@media (max-width: 768px){.role-sections[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:6px;padding-left:16px}}@media (max-width: 480px){.role-sections[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:4px;padding-left:12px}}"]})};var Gm={firstName:"Prenume",lastName:"Nume",fullName:"Nume complet",email:"Adres\u0103 e-mail",password:"Parol\u0103",role:"Rol",phoneNumber:"Num\u0103r de telefon",address:"Adres\u0103",yearsExperience:"Ani experien\u021B\u0103",description:"Descriere",id:"ID",account:"Cont",transaction:"Tranzac\u021Bie",createdAt:"Creat la",updatedAt:"Actualizat la",categories:"Categorii",name:"Denumire",specialistsCount:"Num\u0103r speciali\u0219ti",specialistIds:"Speciali\u0219tii cu aceast\u0103 categorie"};function kt(n,e={},t=Gm){return Object.keys(n).map(i=>{let r=e[i]||{},o=r.type||(r.options?"select":"text"),s=t[i]||PT(i);return S({key:i,label:s,type:o,placeholder:r.placeholder||`Introdu ${s.toLowerCase()}`,required:r.required??!0,class:r.class||"half-width"},r)})}function PT(n){return n.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}function Bo(n){if(!n)return{};let e={},t=Object.keys(n);if("id"in n){let i=Gm.id||"id";e[i]=n.id}for(let i of t){if(["id","firstName","lastName"].includes(i))continue;let r=n[i];if(r==null||typeof r=="string"&&r.trim()==="")continue;let o=Gm[i]||i,s=r;typeof r=="string"&&IT(r)||r instanceof Date?s=ZC(r):i.toLowerCase().includes("password")&&(s="********"),e[o]=s}return e}function IT(n){return/^\d{4}-\d{2}-\d{2}T/.test(n)}function ZC(n){let e=new Date(n),t=String(e.getDate()).padStart(2,"0"),i=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return`${t}.${i}.${r}`}var OT=n=>({"placeholder-selected":n});function TT(n,e){if(n&1&&(c(0,"div",15),d(1),Z(2,"lowercase"),a()),n&2){let t=m(2).$implicit;p(),I(" C\xE2mpul ",Me(2,1,t.label)," este obligatoriu. ")}}function kT(n,e){if(n&1){let t=D();c(0,"div")(1,"div",12)(2,"input",13,1),U("ngModelChange",function(r){y(t);let o=m().$implicit,s=m();return B(s.formData[o.key],r)||(s.formData[o.key]=r),b(r)}),v("input",function(){y(t);let r=m().$implicit,o=m();return b(r.key==="phoneNumber"&&o.liveFormatPhoneNumber(r.key))}),a()(),_(4,TT,3,3,"div",14),a()}if(n&2){let t=K(3),i=m().$implicit,r=m();p(2),f("id",i.key)("name",i.key),z("ngModel",r.formData[i.key]),f("placeholder",i.placeholder)("required",!!i.required),p(2),f("ngIf",i.required&&t.invalid&&(t.dirty||t.touched||r.formSubmitted))}}function RT(n,e){if(n&1&&(c(0,"div",15),d(1),Z(2,"lowercase"),a()),n&2){let t=m(2).$implicit;p(),I(" C\xE2mpul ",Me(2,1,t.label)," este obligatoriu. ")}}function AT(n,e){if(n&1){let t=D();c(0,"div")(1,"div",12)(2,"input",16,1),U("ngModelChange",function(r){y(t);let o=m().$implicit,s=m();return B(s.formData[o.key],r)||(s.formData[o.key]=r),b(r)}),a()(),_(4,RT,3,3,"div",14),a()}if(n&2){let t=K(3),i=m().$implicit,r=m();p(2),f("id",i.key)("name",i.key),z("ngModel",r.formData[i.key]),f("placeholder",i.placeholder)("required",!!i.required),p(2),f("ngIf",i.required&&t.invalid&&(t.dirty||t.touched||r.formSubmitted))}}function NT(n,e){if(n&1&&(c(0,"div",15),d(1),Z(2,"lowercase"),a()),n&2){let t=m(2).$implicit;p(),I(" C\xE2mpul ",Me(2,1,t.label)," este obligatoriu. ")}}function FT(n,e){if(n&1){let t=D();c(0,"div")(1,"div",12)(2,"input",17,1),U("ngModelChange",function(r){y(t);let o=m().$implicit,s=m();return B(s.formData[o.key],r)||(s.formData[o.key]=r),b(r)}),a()(),_(4,NT,3,3,"div",14),a()}if(n&2){let t=K(3),i=m().$implicit,r=m();p(2),f("id",i.key)("name",i.key),z("ngModel",r.formData[i.key]),f("placeholder",i.placeholder)("required",!!i.required),p(2),f("ngIf",i.required&&t.invalid&&(t.dirty||t.touched||r.formSubmitted))}}function LT(n,e){if(n&1&&(c(0,"div",15),d(1),Z(2,"lowercase"),a()),n&2){let t=m(2).$implicit;p(),I(" C\xE2mpul ",Me(2,1,t.label)," este obligatoriu. ")}}function VT(n,e){if(n&1){let t=D();c(0,"div")(1,"div",12)(2,"input",18,1),U("ngModelChange",function(r){y(t);let o=m().$implicit,s=m();return B(s.formData[o.key],r)||(s.formData[o.key]=r),b(r)}),a()(),_(4,LT,3,3,"div",14),a()}if(n&2){let t=K(3),i=m().$implicit,r=m();p(2),f("id",i.key)("name",i.key),z("ngModel",r.formData[i.key]),f("placeholder",i.placeholder)("required",!!i.required),p(2),f("ngIf",i.required&&t.invalid&&(t.dirty||t.touched||r.formSubmitted))}}function zT(n,e){if(n&1&&(c(0,"option",23),d(1),a()),n&2){let t=e.$implicit;f("value",t),p(),R(t)}}function UT(n,e){if(n&1&&(c(0,"div",15),d(1),Z(2,"lowercase"),a()),n&2){let t=m(2).$implicit;p(),I(" C\xE2mpul ",Me(2,1,t.label)," este obligatoriu. ")}}function jT(n,e){if(n&1){let t=D();c(0,"div")(1,"div",19)(2,"select",20,1),U("ngModelChange",function(r){y(t);let o=m().$implicit,s=m();return B(s.formData[o.key],r)||(s.formData[o.key]=r),b(r)}),c(4,"option",21),d(5),a(),_(6,zT,2,2,"option",22),a()(),_(7,UT,3,3,"div",14),a()}if(n&2){let t=K(3),i=m().$implicit,r=m();p(2),f("id",i.key)("name",i.key),z("ngModel",r.formData[i.key]),f("required",!!i.required)("ngClass",ui(8,OT,r.formData[i.key]==="")),p(3),R(i.placeholder||"Selecteaz\u0103 o op\u021Biune"),p(),f("ngForOf",i.options),p(),f("ngIf",i.required&&t.invalid&&(t.dirty||t.touched||r.formSubmitted))}}function BT(n,e){if(n&1&&(c(0,"div",15),d(1),Z(2,"lowercase"),a()),n&2){let t=m(2).$implicit;p(),I(" C\xE2mpul ",Me(2,1,t.label)," este obligatoriu. ")}}function $T(n,e){if(n&1){let t=D();c(0,"div")(1,"div",12)(2,"textarea",24,1),U("ngModelChange",function(r){y(t);let o=m().$implicit,s=m();return B(s.formData[o.key],r)||(s.formData[o.key]=r),b(r)}),d(4,"          "),a()(),_(5,BT,3,3,"div",14),a()}if(n&2){let t=K(3),i=m().$implicit,r=m();p(2),f("id",i.key)("name",i.key),z("ngModel",r.formData[i.key]),f("placeholder",i.placeholder)("required",!!i.required),p(3),f("ngIf",i.required&&t.invalid&&(t.dirty||t.touched||r.formSubmitted))}}function HT(n,e){if(n&1&&(c(0,"div",15),d(1),Z(2,"lowercase"),a()),n&2){let t=m(2).$implicit;p(),I(" C\xE2mpul ",Me(2,1,t.label)," este obligatoriu. ")}}function qT(n,e){if(n&1){let t=D();c(0,"div")(1,"div",12)(2,"input",25,1),U("ngModelChange",function(r){y(t);let o=m().$implicit,s=m();return B(s.formData[o.key],r)||(s.formData[o.key]=r),b(r)}),a()(),_(4,HT,3,3,"div",14),a()}if(n&2){let t=K(3),i=m().$implicit,r=m();p(2),f("type",i.type)("id",i.key)("name",i.key),z("ngModel",r.formData[i.key]),f("placeholder",i.placeholder)("required",!!i.required),p(2),f("ngIf",i.required&&t.invalid&&(t.dirty||t.touched||r.formSubmitted))}}function WT(n,e){if(n&1&&(c(0,"div",6)(1,"label",7),d(2),a(),c(3,"div",8),je(4,9),_(5,kT,5,6,"div",10)(6,AT,5,6,"div",10)(7,FT,5,6,"div",10)(8,VT,5,6,"div",10)(9,jT,8,10,"div",10)(10,$T,6,6,"div",10)(11,qT,5,7,"div",11),Be(),a()()),n&2){let t=e.$implicit;f("ngClass",t.class),p(),f("for",t.key),p(),R(t.label),p(2),f("ngSwitch",t.type),p(),f("ngSwitchCase","text"),p(),f("ngSwitchCase","email"),p(),f("ngSwitchCase","password"),p(),f("ngSwitchCase","number"),p(),f("ngSwitchCase","select"),p(),f("ngSwitchCase","textarea")}}var Gt=class n{fields=[];initialData={};submitText="Submit";formSubmit=new V;formData={};formSubmitted=!1;ngOnChanges(e){e.initialData&&e.initialData.currentValue&&(this.formData=S({},e.initialData.currentValue),this.fields.forEach(t=>{t.key in this.formData||(this.formData[t.key]="")}))}onSubmit(e){this.formSubmitted=!0,console.log(this.formSubmitted),!e.invalid&&this.formSubmit.emit(this.formData)}liveFormatPhoneNumber(e){let t=this.formData[e]||"",i=t.startsWith("+"),r=t.replace(/\D/g,""),o=r;r.length===11&&r.startsWith("40")?o=r.replace(/(\d{2})(\d{3})(\d{3})(\d{3})/,"$1 $2 $3 $4"):r.length===10&&r.startsWith("0")?o=r.replace(/(\d{3})(\d{3})(\d{4})/,"$1 $2 $3"):r.length===9&&(o=r.replace(/(\d{3})(\d{3})(\d{3})/,"$1 $2 $3")),this.formData[e]=i?`+${o}`:o}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["app-dynamic-form"]],inputs:{fields:"fields",initialData:"initialData",submitText:"submitText"},outputs:{formSubmit:"formSubmit"},features:[Je],decls:6,vars:2,consts:[["formRef","ngForm"],["ctrl","ngModel"],[1,"form-layout",3,"ngSubmit"],["class","form-group",3,"ngClass",4,"ngFor","ngForOf"],[1,"form-group","full-width"],["type","submit",1,"send-button"],[1,"form-group",3,"ngClass"],[3,"for"],[1,"field-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"input-box"],["type","text",3,"ngModelChange","input","id","name","ngModel","placeholder","required"],["class","error",4,"ngIf"],[1,"error"],["type","email",3,"ngModelChange","id","name","ngModel","placeholder","required"],["type","password",3,"ngModelChange","id","name","ngModel","placeholder","required"],["type","number",3,"ngModelChange","id","name","ngModel","placeholder","required"],[1,"select-box"],[3,"ngModelChange","id","name","ngModel","required","ngClass"],["value","","disabled","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["rows","4",3,"ngModelChange","id","name","ngModel","placeholder","required"],[3,"ngModelChange","type","id","name","ngModel","placeholder","required"]],template:function(t,i){if(t&1){let r=D();c(0,"form",2,0),v("ngSubmit",function(){y(r);let s=K(1);return b(i.onSubmit(s))}),_(2,WT,12,10,"div",3),c(3,"div",4)(4,"button",5),d(5),a()()()}t&2&&(p(2),f("ngForOf",i.fields),p(3),I(" ",i.submitText," "))},dependencies:[Ce,Ae,ce,q,wn,gi,Ns,Wg,ge,wt,Fo,Lo,ze,vi,Vi,Te,xt,Mt,Ne,Tt],styles:[".grid-form[_ngcontent-%COMP%]{gap:24px 20px;padding:24px 32px;max-width:650px;margin:0 auto;font-family:Roboto Mono,monospace;border:2px solid #c9b7ff;border-radius:6px;box-shadow:0 4px 12px #0000001a}.form-layout[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px 20px;padding:12px 16px;max-width:650px;margin:0 auto}.form-group[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;flex:1;display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{flex:1 1 100%}.form-group.half-width[_ngcontent-%COMP%]{flex:1 1 48%}label[_ngcontent-%COMP%]{margin-bottom:8px}.input-box[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;transition:border-color .3s}.input-box[_ngcontent-%COMP%]:focus-within{border-color:#9a79ff}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;width:100%;font-family:Roboto Mono,monospace;font-size:16px;outline:none}.input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-family:inherit;font-size:1rem;border:none;border-radius:6px;box-sizing:border-box;resize:vertical;background:#e6dfff}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;font-size:16px;outline:none;appearance:auto;font-family:inherit;width:100%}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#a388ff;box-shadow:0 0 3px #a388ff}.placeholder-selected[_ngcontent-%COMP%]{color:#7d7d7f!important}.send-button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:300px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}.send-button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.field-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.error[_ngcontent-%COMP%]{color:#d8000c;font-size:.85rem;margin-top:4px;padding-left:2px}"]})};var $o={production:!0,googleMapsApiKey:"AIzaSyBXerFhvItMF0h6co9iMDsMuyM_1JvlPH8",googleClientId:"760852864614-0l1qdais39snht0oo3511r0tpbjdj09f.apps.googleusercontent.com",facebookAppId:"734399149543740"};function GT(n,e){n&1&&(c(0,"div",25),d(1," Trebuie s\u0103 accep\u021Bi termenii \u0219i condi\u021Biile pentru a continua. "),a())}function ZT(n,e){n&1&&(lo(),c(0,"svg",26),P(1,"path",27)(2,"path",28)(3,"path",29)(4,"path",30),a())}function YT(n,e){n&1&&P(0,"div",31)}function QT(n,e){n&1&&(c(0,"span"),d(1,"\xCEnregistreaz\u0103-te cu Google"),a())}function KT(n,e){n&1&&(c(0,"span"),d(1,"Se \xEEncarc\u0103..."),a())}function JT(n,e){n&1&&(lo(),c(0,"svg",26),P(1,"path",32),a())}function XT(n,e){n&1&&P(0,"div",31)}function ek(n,e){n&1&&(c(0,"span"),d(1,"\xCEnregistreaz\u0103-te cu Facebook"),a())}function tk(n,e){n&1&&(c(0,"span"),d(1,"Se \xEEncarc\u0103..."),a())}function nk(n,e){n&1&&(c(0,"div",33),d(1," Accepta\u021Bi termenii \u0219i condi\u021Biile pentru a v\u0103 \xEEnregistra cu Google sau Facebook. "),a())}function ik(n,e){if(n&1){let t=D();c(0,"div",38)(1,"button",39),v("click",function(){y(t);let r=m(2);return b(r.retryGoogleSignUp())}),d(2," \xCEncearc\u0103 din nou cu Google "),a()()}}function rk(n,e){if(n&1){let t=D();c(0,"div",38)(1,"button",39),v("click",function(){y(t);let r=m(2);return b(r.retryFacebookSignUp())}),d(2," \xCEncearc\u0103 din nou cu Facebook "),a()()}}function ok(n,e){n&1&&(c(0,"li"),d(1,"Asigura\u021Bi-v\u0103 c\u0103 sunte\u021Bi conectat la Google \xEEn browser"),a())}function sk(n,e){n&1&&(c(0,"li"),d(1,"Verifica\u021Bi dac\u0103 sunte\u021Bi conectat la Facebook"),a())}function ak(n,e){n&1&&(c(0,"li"),d(1,"Verifica\u021Bi dac\u0103 a\u021Bi acordat permisiunea pentru email"),a())}function ck(n,e){n&1&&(c(0,"li"),d(1,"\xCEncerca\u021Bi s\u0103 v\u0103 autentifica\u021Bi \xEEn loc s\u0103 v\u0103 \xEEnregistra\u021Bi"),a())}function lk(n,e){if(n&1&&(c(0,"div",40)(1,"details")(2,"summary"),d(3,"Sfaturi pentru rezolvarea problemei"),a(),c(4,"ul"),_(5,ok,2,0,"li",19)(6,sk,2,0,"li",19)(7,ak,2,0,"li",19)(8,ck,2,0,"li",19),c(9,"li"),d(10,"\xCEncerca\u021Bi s\u0103 re\xEEnc\u0103rca\u021Bi pagina"),a(),c(11,"li"),d(12,"Verifica\u021Bi conexiunea la internet"),a(),c(13,"li"),d(14,"\xCEncerca\u021Bi cu un alt browser"),a()()()()),n&2){let t=m(2);p(5),f("ngIf",t.errorMessage.includes("Google")),p(),f("ngIf",t.errorMessage.includes("Facebook")),p(),f("ngIf",t.errorMessage.includes("email")),p(),f("ngIf",t.errorMessage.includes("exist\u0103"))}}function dk(n,e){if(n&1&&(c(0,"div",34)(1,"div",35)(2,"strong"),d(3,"Eroare:"),a(),d(4),a(),_(5,ik,3,0,"div",36)(6,rk,3,0,"div",36)(7,lk,15,4,"div",37),a()),n&2){let t=m();p(4),I(" ",t.errorMessage," "),p(),f("ngIf",t.errorMessage.includes("Google")),p(),f("ngIf",t.errorMessage.includes("Facebook")),p(),f("ngIf",t.errorMessage)}}var Td=class n{constructor(e,t,i,r){this.authService=e;this.router=t;this.route=i;this.ngZone=r;let o={firstName:"",lastName:"",email:"",password:""};this.formFields=kt(o,{email:{type:"email"},password:{type:"password"}}),console.log("Registration form fields:",this.formFields)}formFields=[];errorMessage=null;acceptedPolicies=!1;showPolicyError=!1;isGoogleLoading=!1;isFacebookLoading=!1;GOOGLE_CLIENT_ID=$o.googleClientId||"760852864614-0l1qdais39snht0oo3511r0tpbjdj09f.apps.googleusercontent.com";FACEBOOK_APP_ID=$o.facebookAppId||"734399149543740";ngOnInit(){this.checkForOAuthError(),this.loadFacebookSDK(),console.log("Register component initialized"),console.log("Google Client ID:",this.GOOGLE_CLIENT_ID),console.log("Current origin:",window.location.origin)}checkForOAuthError(){this.route.queryParams.subscribe(e=>{e.error&&(this.errorMessage=e.error,this.router.navigate([],{relativeTo:this.route,queryParams:{},replaceUrl:!0}))})}registerUser(e){if(!this.acceptedPolicies){this.showPolicyError=!0;return}this.showPolicyError=!1;let t=e;this.authService.registerUser(t).subscribe({next:()=>{let i={email:t.email,password:t.password};this.authService.loginUser(i).subscribe({next:()=>{this.router.navigate(["/home"])},error:r=>{console.error("Auto-login after registration failed:",r),this.errorMessage="\xCEnregistrare reu\u0219it\u0103, dar autentificarea automat\u0103 a e\u0219uat. V\u0103 rug\u0103m s\u0103 v\u0103 autentifica\u021Bi manual."}})},error:i=>{console.error("Registration failed:",i),this.errorMessage=i.error?.errorMessage?.message||"Eroare la \xEEnregistrare."}})}signUpWithGoogle(){if(console.log("Starting Google OAuth registration redirect flow"),!this.acceptedPolicies){this.showPolicyError=!0,this.errorMessage="Trebuie s\u0103 accepta\u021Bi termenii \u0219i condi\u021Biile pentru a continua.";return}if(this.showPolicyError=!1,!this.isGoogleLoading){this.isGoogleLoading=!0,this.errorMessage=null;try{let e=window.location.origin+"/auth/google/callback",t="email profile",i="code",r=this.generateRandomState();console.log("=== OAUTH REGISTRATION REDIRECT DEBUG ==="),console.log("Client ID:",this.GOOGLE_CLIENT_ID),console.log("Redirect URI:",e),console.log("State:",r),console.log("Policies accepted:",this.acceptedPolicies),console.log("========================================"),sessionStorage.setItem("google_oauth_state",r),sessionStorage.setItem("google_oauth_redirect","/home"),sessionStorage.setItem("google_oauth_type","register"),sessionStorage.setItem("google_oauth_source","register");let s=`https://accounts.google.com/oauth/authorize?${new URLSearchParams({client_id:this.GOOGLE_CLIENT_ID,redirect_uri:e,scope:t,response_type:i,state:r,access_type:"offline",prompt:"select_account",include_granted_scopes:"true"}).toString()}`;console.log("Redirecting to Google OAuth URL:",s),window.location.href=s}catch(e){this.isGoogleLoading=!1,console.error("Error starting Google OAuth registration:",e),this.errorMessage="Eroare la ini\u021Bializarea \xEEnregistr\u0103rii Google."}}}openGooglePopup(e){console.log("Opening Google registration popup...");let t=window.open(e,"google-signup","width=500,height=600,scrollbars=yes,resizable=yes,toolbar=no,menubar=no,location=no,directories=no,status=no");if(!t){console.log("Popup blocked, trying redirect method"),this.fallbackToRedirect(e);return}let i=setInterval(()=>{try{t.closed&&(clearInterval(i),this.handlePopupClosed())}catch{}},1e3);setTimeout(()=>{t.closed||(t.close(),clearInterval(i),this.ngZone.run(()=>{this.isGoogleLoading=!1,this.errorMessage="Timp expirat pentru \xEEnregistrarea Google."}))},3e5)}handlePopupClosed(){this.ngZone.run(()=>{console.log("Google registration popup closed, checking for auth code...");let e=localStorage.getItem("google_auth_code"),t=localStorage.getItem("google_auth_state"),i=localStorage.getItem("google_auth_error"),r=sessionStorage.getItem("google_oauth_state");if(i){localStorage.removeItem("google_auth_error"),this.isGoogleLoading=!1,this.errorMessage=i;return}e&&t===r?(console.log("Auth code received, exchanging for token..."),localStorage.removeItem("google_auth_code"),localStorage.removeItem("google_auth_state"),sessionStorage.removeItem("google_oauth_state"),this.exchangeGoogleCode(e)):(this.isGoogleLoading=!1,e?this.errorMessage="Eroare de securitate \xEEn \xEEnregistrarea Google.":this.errorMessage="\xCEnregistrarea Google a fost anulat\u0103.")})}fallbackToRedirect(e){console.log("Using redirect method for Google OAuth registration"),window.location.href=e}exchangeGoogleCode(e){console.log("Exchanging Google code for user registration");let t={code:e,provider:"google",redirectUri:window.location.origin+"/auth/google/callback"};this.authService.exchangeOAuthCode(t).subscribe({next:i=>{console.log("Google OAuth registration exchange successful:",i),this.isGoogleLoading=!1,this.router.navigate(["/home"])},error:i=>{console.error("Google OAuth registration exchange failed:",i),this.isGoogleLoading=!1;let r="Eroare la procesarea \xEEnregistr\u0103rii Google.";if(i.status===400&&i.error?.errorMessage?.message){let o=i.error.errorMessage.message;o.includes("already exists")?r="Un cont cu acest email exist\u0103 deja. \xCEncerca\u021Bi s\u0103 v\u0103 autentifica\u021Bi \xEEn loc s\u0103 v\u0103 \xEEnregistra\u021Bi.":r=o}this.errorMessage=r}})}loadFacebookSDK(){if(typeof window>"u")return;if(window.FB){console.log("Facebook SDK already available");return}console.log("Loading Facebook SDK..."),window.fbAsyncInit=()=>{window.FB.init({appId:this.FACEBOOK_APP_ID,cookie:!0,xfbml:!0,version:"v18.0"}),console.log("Facebook SDK initialized successfully")};let e=document.createElement("script");e.async=!0,e.defer=!0,e.crossOrigin="anonymous",e.src="https://connect.facebook.net/en_US/sdk.js",e.onerror=t=>{console.error("Failed to load Facebook SDK:",t)},document.head.appendChild(e)}signUpWithFacebook(){if(!this.acceptedPolicies){this.showPolicyError=!0,this.errorMessage="Trebuie s\u0103 accepta\u021Bi termenii \u0219i condi\u021Biile pentru a continua.";return}if(this.showPolicyError=!1,!window.FB){this.errorMessage="Facebook SDK nu este disponibil. Re\xEEnc\u0103rca\u021Bi pagina.";return}this.isFacebookLoading||(this.isFacebookLoading=!0,this.errorMessage=null,window.FB.getLoginStatus(e=>{this.ngZone.run(()=>{console.log("Facebook status:",e),e.status==="connected"?this.handleFacebookResponse(e.authResponse.accessToken):window.FB.login(t=>{this.ngZone.run(()=>{this.isFacebookLoading=!1,console.log("Facebook login response:",t),t.authResponse?this.handleFacebookResponse(t.authResponse.accessToken):(console.error("Facebook login failed or cancelled:",t),this.errorMessage="\xCEnregistrarea Facebook a fost anulat\u0103 sau a e\u0219uat.")})},{scope:"email,public_profile",return_scopes:!0,auth_type:"rerequest"})})}))}handleFacebookResponse(e){if(console.log("Facebook token received for registration"),!e){this.isFacebookLoading=!1,this.errorMessage="Nu s-a primit token-ul de la Facebook.";return}let t={token:e,provider:"facebook"};this.authService.socialLogin(t).subscribe({next:i=>{console.log("Facebook social registration successful:",i),this.isFacebookLoading=!1,this.router.navigate(["/home"])},error:i=>{console.error("Facebook social registration failed:",i),this.isFacebookLoading=!1;let r="Eroare la \xEEnregistrarea cu Facebook.";if(i.status===400&&i.error?.errorMessage?.message){let o=i.error.errorMessage.message;o.includes("already exists")?r="Un cont cu acest email exist\u0103 deja. \xCEncerca\u021Bi s\u0103 v\u0103 autentifica\u021Bi \xEEn loc s\u0103 v\u0103 \xEEnregistra\u021Bi.":r=o}this.errorMessage=r}})}generateRandomState(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}retryGoogleSignUp(){this.isGoogleLoading=!1,this.errorMessage=null,setTimeout(()=>{this.signUpWithGoogle()},100)}retryFacebookSignUp(){this.isFacebookLoading=!1,this.errorMessage=null,window.FB?window.FB.logout(()=>{setTimeout(()=>{this.signUpWithFacebook()},100)}):setTimeout(()=>{this.signUpWithFacebook()},100)}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(w(Y),w(xe),w(ht),w(we))};static \u0275cmp=F({type:n,selectors:[["app-register"]],decls:39,vars:20,consts:[[1,"register-form"],[1,"form-wrapper"],[1,"form-box"],[3,"formSubmit","fields","submitText"],[1,"policy-acceptance"],[1,"checkbox-container"],["type","checkbox","required","",1,"policy-checkbox",3,"ngModelChange","ngModel"],[1,"checkmark"],[1,"policy-text"],["routerLink","/terms","routerLinkActive","active","target","_blank",1,"policy-link"],["routerLink","/privacy","routerLinkActive","active","target","_blank",1,"policy-link"],["class","error",4,"ngIf"],[1,"social-login-section"],[1,"divider"],[1,"divider-text"],[1,"social-buttons"],["type","button",1,"social-button","google-button",3,"click","disabled"],["class","social-icon","viewBox","0 0 24 24",4,"ngIf"],["class","loading-spinner",4,"ngIf"],[4,"ngIf"],["type","button",1,"social-button","facebook-button",3,"click","disabled"],["class","social-policy-note",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"auth-switch"],[1,"auth-button",3,"click"],[1,"error"],["viewBox","0 0 24 24",1,"social-icon"],["fill","#4285F4","d","M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"],["fill","#34A853","d","M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"],["fill","#FBBC05","d","M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"],["fill","#EA4335","d","M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"],[1,"loading-spinner"],["fill","#1877F2","d","M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"],[1,"social-policy-note"],[1,"error-message"],[1,"error-content"],["class","error-actions",4,"ngIf"],["class","error-tips",4,"ngIf"],[1,"error-actions"],[1,"retry-button",3,"click"],[1,"error-tips"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"h2"),d(2,"\xCEnregistrare"),a(),c(3,"div",1)(4,"div",2)(5,"app-dynamic-form",3),v("formSubmit",function(o){return i.registerUser(o)}),a(),c(6,"div",4)(7,"label",5)(8,"input",6),U("ngModelChange",function(o){return B(i.acceptedPolicies,o)||(i.acceptedPolicies=o),o}),a(),P(9,"span",7),c(10,"span",8),d(11," Sunt de acord cu "),c(12,"a",9),d(13,"Termenii \u0219i condi\u021Biile"),a(),d(14," \u0219i "),c(15,"a",10),d(16,"Politica de confiden\u021Bialitate"),a()()(),_(17,GT,2,0,"div",11),a(),c(18,"div",12)(19,"div",13)(20,"span",14),d(21,"sau"),a()(),c(22,"div",15)(23,"button",16),v("click",function(){return i.signUpWithGoogle()}),_(24,ZT,5,0,"svg",17)(25,YT,1,0,"div",18)(26,QT,2,0,"span",19)(27,KT,2,0,"span",19),a(),c(28,"button",20),v("click",function(){return i.signUpWithFacebook()}),_(29,JT,2,0,"svg",17)(30,XT,1,0,"div",18)(31,ek,2,0,"span",19)(32,tk,2,0,"span",19),a()(),_(33,nk,2,0,"div",21),a()()(),_(34,dk,8,4,"div",22),c(35,"p",23),d(36," Deja ai un cont? "),c(37,"button",24),v("click",function(){return i.goToLogin()}),d(38,"Autentific\u0103-te"),a()()()),t&2&&(p(5),f("fields",i.formFields)("submitText","Trimite"),p(3),z("ngModel",i.acceptedPolicies),p(9),f("ngIf",i.showPolicyError),p(6),fe("loading",i.isGoogleLoading),f("disabled",i.isGoogleLoading||!i.acceptedPolicies),p(),f("ngIf",!i.isGoogleLoading),p(),f("ngIf",i.isGoogleLoading),p(),f("ngIf",!i.isGoogleLoading),p(),f("ngIf",i.isGoogleLoading),p(),fe("loading",i.isFacebookLoading),f("disabled",i.isFacebookLoading||!i.acceptedPolicies),p(),f("ngIf",!i.isFacebookLoading),p(),f("ngIf",i.isFacebookLoading),p(),f("ngIf",!i.isFacebookLoading),p(),f("ngIf",i.isFacebookLoading),p(),f("ngIf",!i.acceptedPolicies),p(),f("ngIf",i.errorMessage))},dependencies:[Ce,q,ge,Er,Te,Bm,Ne,Gt,Ct,ua],styles:['p[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:16px}h2[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:30px}.auth-button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;cursor:pointer;transition:color .3s ease}.auth-button[_ngcontent-%COMP%]:hover{color:#6a5799}.policy-acceptance[_ngcontent-%COMP%]{margin:20px 0;padding:16px;background-color:#f8f9fa;border:1px solid #e9ecef;border-radius:6px}.checkbox-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;cursor:pointer;font-family:Roboto Mono,monospace;font-size:14px;line-height:1.5}.checkbox-container[_ngcontent-%COMP%]   .policy-checkbox[_ngcontent-%COMP%]{margin:2px 0 0;width:18px;height:18px;flex-shrink:0;cursor:pointer}.checkbox-container[_ngcontent-%COMP%]   .policy-text[_ngcontent-%COMP%]{flex:1;color:#333}.checkbox-container[_ngcontent-%COMP%]   .policy-link[_ngcontent-%COMP%]{color:#3c1a7d;text-decoration:underline;font-weight:600;transition:color .3s ease}.checkbox-container[_ngcontent-%COMP%]   .policy-link[_ngcontent-%COMP%]:hover{color:#6a5799}.social-login-section[_ngcontent-%COMP%]{max-width:650px;margin:20px auto;padding:0 16px}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;margin:24px 0}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:#ccc}.divider[_ngcontent-%COMP%]:before{margin-right:16px}.divider[_ngcontent-%COMP%]:after{margin-left:16px}.divider-text[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-size:14px;color:#666;font-weight:500}.social-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;max-width:400px;margin:0 auto}.social-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;padding:12px 16px;border:2px solid #ddd;border-radius:8px;background-color:#fff;font-family:Roboto Mono,monospace;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;min-height:48px;position:relative}.social-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;background-color:#f5f5f5}.social-button[_ngcontent-%COMP%]:disabled:hover{transform:none;box-shadow:none}.social-button[_ngcontent-%COMP%]:not(:disabled):hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.social-button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.social-button.loading[_ngcontent-%COMP%]{pointer-events:none}.google-button[_ngcontent-%COMP%]{border-color:#dadce0;color:#3c4043}.google-button[_ngcontent-%COMP%]:not(:disabled):hover{border-color:#9aa0a6;background-color:#f8f9fa}.facebook-button[_ngcontent-%COMP%]{border-color:#1877f2;color:#1877f2}.facebook-button[_ngcontent-%COMP%]:not(:disabled):hover{background-color:#1877f2;color:#fff}.facebook-button[_ngcontent-%COMP%]:not(:disabled):hover   .social-icon[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.social-icon[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0}.loading-spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #f3f3f3;border-top:2px solid #3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.social-policy-note[_ngcontent-%COMP%]{text-align:center;font-size:12px;color:#666;margin-top:12px;font-family:Roboto Mono,monospace;font-style:italic;padding:8px;background-color:#f0f0f0;border-radius:4px}.error-message[_ngcontent-%COMP%]{background-color:#fee;border:1px solid #fcc;color:#c33;padding:16px;border-radius:8px;margin:16px auto;max-width:650px;font-family:Roboto Mono,monospace;font-size:14px}.error-content[_ngcontent-%COMP%]{margin-bottom:12px;line-height:1.4}.error-actions[_ngcontent-%COMP%]{margin:12px 0;text-align:center}.retry-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:8px 16px;border-radius:4px;font-family:Roboto Mono,monospace;font-size:12px;cursor:pointer;transition:background-color .3s ease}.retry-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.retry-button[_ngcontent-%COMP%]:active{transform:translateY(1px)}.error-tips[_ngcontent-%COMP%]{margin-top:12px;border-top:1px solid #fcc;padding-top:12px}.error-tips[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]{cursor:pointer}.error-tips[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]{font-weight:700;margin-bottom:8px;outline:none}.error-tips[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   summary[_ngcontent-%COMP%]:hover{color:#a00}.error-tips[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:20px}.error-tips[_ngcontent-%COMP%]   details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:4px 0;font-size:13px;line-height:1.3}.error[_ngcontent-%COMP%]{color:#d8000c;font-size:.85rem;margin-top:4px;padding-left:2px;font-family:Roboto Mono,monospace}@media (max-width: 768px){.social-login-section[_ngcontent-%COMP%]{padding:0 12px}.social-buttons[_ngcontent-%COMP%]{max-width:100%}.social-button[_ngcontent-%COMP%]{font-size:13px;padding:10px 12px}.divider-text[_ngcontent-%COMP%]{font-size:13px}.policy-acceptance[_ngcontent-%COMP%]{margin:16px 0;padding:12px}.checkbox-container[_ngcontent-%COMP%]{font-size:13px}.error-message[_ngcontent-%COMP%]{margin:12px;padding:12px}.retry-button[_ngcontent-%COMP%]{font-size:11px;padding:6px 12px}}@media (max-width: 480px){.social-button[_ngcontent-%COMP%]{font-size:12px;padding:8px 10px;min-height:44px}.social-icon[_ngcontent-%COMP%], .loading-spinner[_ngcontent-%COMP%]{width:18px;height:18px}.checkbox-container[_ngcontent-%COMP%]{font-size:12px}.policy-acceptance[_ngcontent-%COMP%]{padding:10px}.error-message[_ngcontent-%COMP%]{font-size:13px}.retry-button[_ngcontent-%COMP%]{font-size:10px;padding:5px 10px}}']})};function uk(n,e){if(n&1&&(c(0,"div",19),d(1),a()),n&2){let t=m();p(),I(" ",t.errorMessage," ")}}var kd=class n{constructor(e,t,i,r){this.authService=e;this.router=t;this.route=i;this.ngZone=r;let o={email:"",password:""};this.formFields=kt(o,{email:{type:"email"},password:{type:"password"}})}formFields=[];errorMessage=null;isGoogleLoading=!1;isFacebookLoading=!1;GOOGLE_CLIENT_ID=$o.googleClientId||"760852864614-0l1qdais39snht0oo3511r0tpbjdj09f.apps.googleusercontent.com";FACEBOOK_APP_ID=$o.facebookAppId||"734399149543740";ngOnInit(){this.checkForOAuthError(),this.loadFacebookSDK(),console.log("Login component initialized"),console.log("Google Client ID:",this.GOOGLE_CLIENT_ID),console.log("Current origin:",window.location.origin)}checkForOAuthError(){this.route.queryParams.subscribe(e=>{e.error&&(this.errorMessage=e.error,this.router.navigate([],{relativeTo:this.route,queryParams:{},replaceUrl:!0}))})}loginUser(e){let t=e;this.authService.loginUser(t).subscribe({next:i=>{console.log("Login successful:",i),this.router.navigate(["/home"])},error:i=>{console.error("Login failed:",i),this.errorMessage=i.error?.errorMessage?.message||"Eroare necunoscut\u0103."}})}signInWithGoogle(){if(console.log("Starting Google OAuth redirect flow"),!this.isGoogleLoading){this.isGoogleLoading=!0,this.errorMessage=null;try{let e=window.location.origin+"/auth/google/callback",t="email profile",i="code",r=this.generateRandomState();console.log("=== OAUTH REDIRECT DEBUG ==="),console.log("Client ID:",this.GOOGLE_CLIENT_ID),console.log("Redirect URI:",e),console.log("State:",r),console.log("============================"),sessionStorage.setItem("google_oauth_state",r),sessionStorage.setItem("google_oauth_redirect","/home"),sessionStorage.setItem("google_oauth_type","login"),sessionStorage.setItem("google_oauth_source","login");let s=`https://accounts.google.com/oauth/authorize?${new URLSearchParams({client_id:this.GOOGLE_CLIENT_ID,redirect_uri:e,scope:t,response_type:i,state:r,access_type:"offline",prompt:"select_account",include_granted_scopes:"true"}).toString()}`;console.log("Redirecting to Google OAuth URL:",s),window.location.href=s}catch(e){this.isGoogleLoading=!1,console.error("Error starting Google OAuth:",e),this.errorMessage="Eroare la ini\u021Bializarea autentific\u0103rii Google."}}}openGooglePopup(e){console.log("Opening Google popup...");let t=window.open(e,"google-signin","width=500,height=600,scrollbars=yes,resizable=yes,toolbar=no,menubar=no,location=no,directories=no,status=no");if(!t){console.log("Popup blocked, trying redirect method"),this.fallbackToRedirect(e);return}let i=setInterval(()=>{try{t.closed&&(clearInterval(i),this.handlePopupClosed())}catch{}},1e3);setTimeout(()=>{t.closed||(t.close(),clearInterval(i),this.ngZone.run(()=>{this.isGoogleLoading=!1,this.errorMessage="Timp expirat pentru autentificarea Google."}))},3e5)}handlePopupClosed(){this.ngZone.run(()=>{console.log("Google popup closed, checking for auth code...");let e=localStorage.getItem("google_auth_code"),t=localStorage.getItem("google_auth_state"),i=localStorage.getItem("google_auth_error"),r=sessionStorage.getItem("google_oauth_state");if(i){localStorage.removeItem("google_auth_error"),this.isGoogleLoading=!1,this.errorMessage=i;return}e&&t===r?(console.log("Auth code received, exchanging for token..."),localStorage.removeItem("google_auth_code"),localStorage.removeItem("google_auth_state"),sessionStorage.removeItem("google_oauth_state"),this.exchangeGoogleCode(e)):(this.isGoogleLoading=!1,e?this.errorMessage="Eroare de securitate \xEEn autentificarea Google.":this.errorMessage="Autentificarea Google a fost anulat\u0103.")})}fallbackToRedirect(e){console.log("Using redirect method for Google OAuth"),window.location.href=e}exchangeGoogleCode(e){console.log("Exchanging Google code for user info");let t={code:e,provider:"google",redirectUri:window.location.origin+"/auth/google/callback"};this.authService.exchangeOAuthCode(t).subscribe({next:i=>{console.log("Google OAuth exchange successful:",i),this.isGoogleLoading=!1,this.router.navigate(["/home"])},error:i=>{console.error("Google OAuth exchange failed:",i),this.isGoogleLoading=!1,this.errorMessage=i.error?.errorMessage?.message||"Eroare la procesarea autentific\u0103rii Google."}})}loadFacebookSDK(){if(typeof window>"u")return;if(window.FB){console.log("Facebook SDK already available");return}console.log("Loading Facebook SDK..."),window.fbAsyncInit=()=>{window.FB.init({appId:this.FACEBOOK_APP_ID,cookie:!0,xfbml:!0,version:"v18.0"}),console.log("Facebook SDK initialized successfully")};let e=document.createElement("script");e.async=!0,e.defer=!0,e.crossOrigin="anonymous",e.src="https://connect.facebook.net/en_US/sdk.js",e.onerror=t=>{console.error("Failed to load Facebook SDK:",t)},document.head.appendChild(e)}signInWithFacebook(){if(!window.FB){this.errorMessage="Facebook SDK nu este disponibil. Re\xEEnc\u0103rca\u021Bi pagina.";return}this.isFacebookLoading||(this.isFacebookLoading=!0,this.errorMessage=null,window.FB.getLoginStatus(e=>{this.ngZone.run(()=>{console.log("Facebook status:",e),e.status==="connected"?this.handleFacebookResponse(e.authResponse.accessToken):window.FB.login(t=>{this.ngZone.run(()=>{this.isFacebookLoading=!1,console.log("Facebook login response:",t),t.authResponse?this.handleFacebookResponse(t.authResponse.accessToken):(console.error("Facebook login failed or cancelled:",t),this.errorMessage="Autentificarea Facebook a fost anulat\u0103 sau a e\u0219uat.")})},{scope:"email,public_profile",return_scopes:!0,auth_type:"rerequest"})})}))}handleFacebookResponse(e){if(console.log("Facebook token received"),!e){this.isFacebookLoading=!1,this.errorMessage="Nu s-a primit token-ul de la Facebook.";return}let t={token:e,provider:"facebook"};this.authService.socialLogin(t).subscribe({next:i=>{console.log("Facebook social login successful:",i),this.isFacebookLoading=!1,this.router.navigate(["/home"])},error:i=>{console.error("Facebook social login failed:",i),this.isFacebookLoading=!1,this.errorMessage=i.error?.errorMessage?.message||"Eroare la autentificarea cu Facebook."}})}generateRandomState(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}retryGoogleSignIn(){this.isGoogleLoading=!1,this.errorMessage=null,setTimeout(()=>{this.signInWithGoogle()},100)}retryFacebookSignIn(){this.isFacebookLoading=!1,this.errorMessage=null,window.FB?window.FB.logout(()=>{setTimeout(()=>{this.signInWithFacebook()},100)}):setTimeout(()=>{this.signInWithFacebook()},100)}goToRegister(){this.router.navigate(["/register"])}static \u0275fac=function(t){return new(t||n)(w(Y),w(xe),w(ht),w(we))};static \u0275cmp=F({type:n,selectors:[["app-login"]],decls:27,vars:3,consts:[[1,"register-form"],[1,"form-wrapper"],[1,"form-box"],[3,"formSubmit","fields","submitText"],[1,"social-login-section"],[1,"divider"],[1,"divider-text"],[1,"social-buttons"],["type","button",1,"social-button","google-button",3,"click"],["viewBox","0 0 24 24",1,"social-icon"],["fill","#4285F4","d","M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"],["fill","#34A853","d","M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"],["fill","#FBBC05","d","M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"],["fill","#EA4335","d","M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"],["type","button",1,"social-button","facebook-button",3,"click"],["fill","#1877F2","d","M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"],["class","error-message",4,"ngIf"],[1,"auth-switch"],[1,"auth-button",3,"click"],[1,"error-message"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"h2"),d(2,"Autentificare"),a(),c(3,"div",1)(4,"div",2)(5,"app-dynamic-form",3),v("formSubmit",function(o){return i.loginUser(o)}),a(),c(6,"div",4)(7,"div",5)(8,"span",6),d(9,"sau"),a()(),c(10,"div",7)(11,"button",8),v("click",function(){return i.signInWithGoogle()}),lo(),c(12,"svg",9),P(13,"path",10)(14,"path",11)(15,"path",12)(16,"path",13),a(),d(17," Autentific\u0103-te cu Google "),a(),eg(),c(18,"button",14),v("click",function(){return i.signInWithFacebook()}),lo(),c(19,"svg",9),P(20,"path",15),a(),d(21," Autentific\u0103-te cu Facebook "),a()()()()(),_(22,uk,2,1,"div",16),eg(),c(23,"p",17),d(24," Nu ai cont? "),c(25,"button",18),v("click",function(){return i.goToRegister()}),d(26,"\xCEnregistreaz\u0103-te"),a()()()),t&2&&(p(5),f("fields",i.formFields)("submitText","Trimite"),p(17),f("ngIf",i.errorMessage))},dependencies:[Ce,q,ge,Gt],styles:['p[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:16px}h2[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:30px}.auth-button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700}.auth-button[_ngcontent-%COMP%]:hover{color:#6a5799}.social-login-section[_ngcontent-%COMP%]{max-width:650px;margin:20px auto;padding:0 16px}.divider[_ngcontent-%COMP%]{display:flex;align-items:center;margin:24px 0}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";flex:1;height:1px;background:#ccc}.divider[_ngcontent-%COMP%]:before{margin-right:16px}.divider[_ngcontent-%COMP%]:after{margin-left:16px}.divider-text[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-size:14px;color:#666;font-weight:500}.social-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;max-width:400px;margin:0 auto}.social-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:12px;padding:12px 16px;border:2px solid #ddd;border-radius:8px;background-color:#fff;font-family:Roboto Mono,monospace;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;min-height:48px}.social-button[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.social-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.google-button[_ngcontent-%COMP%]{border-color:#dadce0;color:#3c4043}.google-button[_ngcontent-%COMP%]:hover{border-color:#9aa0a6;background-color:#f8f9fa}.facebook-button[_ngcontent-%COMP%]{border-color:#1877f2;color:#1877f2}.facebook-button[_ngcontent-%COMP%]:hover{background-color:#1877f2;color:#fff}.facebook-button[_ngcontent-%COMP%]:hover   .social-icon[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{fill:#fff}.social-icon[_ngcontent-%COMP%]{width:20px;height:20px;flex-shrink:0}.error-message[_ngcontent-%COMP%]{background-color:#fee;border:1px solid #fcc;color:#c33;padding:12px;border-radius:4px;margin:16px auto;max-width:650px;font-family:Roboto Mono,monospace;font-size:14px;text-align:center}@media (max-width: 768px){.social-login-section[_ngcontent-%COMP%]{padding:0 12px}.social-buttons[_ngcontent-%COMP%]{max-width:100%}.social-button[_ngcontent-%COMP%]{font-size:13px;padding:10px 12px}.divider-text[_ngcontent-%COMP%]{font-size:13px}}@media (max-width: 480px){.social-button[_ngcontent-%COMP%]{font-size:12px;padding:8px 10px;min-height:44px}.social-icon[_ngcontent-%COMP%]{width:18px;height:18px}}']})};var Rd=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["app-admin"]],decls:15,vars:0,consts:[[1,"grid-form"],[1,"button-group"],["routerLink","/admin/users","routerLinkActive","active",1,"admin-button"],["routerLink","/admin/specialists","routerLinkActive","active",1,"admin-button"],["routerLink","/admin/categories","routerLinkActive","active",1,"admin-button"],[1,"admin-button"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"button",2),d(3,"Utilizatori"),a(),c(4,"button",3),d(5,"Speciali\u0219ti"),a(),c(6,"button",4),d(7,"Categorii"),a(),c(8,"button",5),d(9,"Servicii"),a(),c(10,"button",5),d(11,"Tranzac\u021Bii"),a(),c(12,"button",5),d(13,"Recenzii"),a()()(),P(14,"router-outlet"))},dependencies:[Mr,Ct],styles:["[_nghost-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;padding:20px;box-sizing:border-box}.grid-form[_ngcontent-%COMP%]{width:800px;height:500px;max-width:100%;display:flex;flex-direction:column;padding:40px 60px;border:3px solid black;border-radius:4px;box-shadow:0 4px 12px #0000001a;background-color:#cfbdfe;box-sizing:border-box}.button-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:32px;width:100%;justify-items:center;margin-top:24px}.admin-button[_ngcontent-%COMP%]{width:100%;height:5vw;background-color:#e6dfff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;border:3px solid #4b358e;border-radius:5px;cursor:pointer;box-shadow:0 2px 6px #0000001a;transition:background-color .3s ease,text-decoration .2s ease;display:flex;align-items:center;justify-content:center;text-align:center}.admin-button[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 900px){.grid-form[_ngcontent-%COMP%]{width:90%;padding:30px 40px}}@media (max-width: 600px){.grid-form[_ngcontent-%COMP%]{padding:20px 30px;height:auto}.button-group[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:20px}.admin-button[_ngcontent-%COMP%]{height:60px}}"]})};var Zm=(r=>(r.Confirmed="Confirmed",r.Completed="Completed",r.Cancelled="Cancelled",r.Reviewed="Reviewed",r))(Zm||{});var Ho=(i=>(i.Admin="Admin",i.Specialist="Specialist",i.Client="Client",i))(Ho||{});function pk(n,e){if(n&1&&(c(0,"th"),d(1),a()),n&2){let t=e.$implicit,i=m();fe("hidden-mobile",i.shouldHideColumn(t)),p(),I(" ",t.header," ")}}function fk(n,e){if(n&1&&(je(0),c(1,"span",14),d(2),a(),Be()),n&2){let t=m(2).$implicit,i=m().$implicit,r=m();p(),f("title",t.compute(i)),p(),R(r.truncateText(t.compute(i),r.getMaxLength()))}}function gk(n,e){if(n&1&&(c(0,"span",14),d(1),a()),n&2){let t=m(2).$implicit,i=m().$implicit,r=m();f("title",i[t.key]),p(),R(r.truncateText(i[t.key],r.getMaxLength()))}}function mk(n,e){if(n&1&&(je(0),_(1,fk,3,2,"ng-container",13)(2,gk,2,2,"ng-template",null,1,pi),Be()),n&2){let t=K(3),i=m().$implicit;p(),f("ngIf",i.compute)("ngIfElse",t)}}function hk(n,e){if(n&1){let t=D();c(0,"button",17),v("click",function(){let r=y(t).$implicit,o=m(3).$implicit;return b(r.callback(o))}),c(1,"span",18),d(2),a(),c(3,"span",19),d(4),a()()}if(n&2){let t=e.$implicit,i=m(4);f("ngClass",t.class),p(2),R(t.label),p(2),R(i.getShortActionLabel(t.label))}}function vk(n,e){if(n&1&&(c(0,"div",15),_(1,hk,5,3,"button",16),a()),n&2){let t=m().$implicit;p(),f("ngForOf",t.actions)}}function _k(n,e){if(n&1&&(c(0,"td"),_(1,mk,4,2,"ng-container",13)(2,vk,2,1,"ng-template",null,0,pi),a()),n&2){let t=e.$implicit,i=K(3),r=m(2);fe("hidden-mobile",r.shouldHideColumn(t)),p(),f("ngIf",!r.isActionColumn(t))("ngIfElse",i)}}function yk(n,e){if(n&1&&(c(0,"tr"),_(1,_k,4,4,"td",8),a()),n&2){let t=m();p(),f("ngForOf",t.columns)}}function bk(n,e){if(n&1&&(je(0),d(1),Be()),n&2){let t,i=m().$implicit,r=m();p(),I(" ",(t=r.getPrimaryColumn())==null||t.compute==null?null:t.compute(i)," ")}}function Ck(n,e){if(n&1&&d(0),n&2){let t,i=m().$implicit,r=m();I(" ",i[((t=r.getPrimaryColumn())==null?null:t.key)||""]," ")}}function xk(n,e){if(n&1){let t=D();c(0,"button",28),v("click",function(){let r=y(t).$implicit,o=m(2).$implicit;return b(r.callback(o))}),d(1),a()}if(n&2){let t=e.$implicit;f("ngClass",t.class),p(),I(" ",t.label," ")}}function wk(n,e){if(n&1&&(c(0,"div",26),_(1,xk,2,2,"button",27),a()),n&2){let t=m(2);p(),f("ngForOf",t.getActionColumn().actions)}}function Mk(n,e){if(n&1&&(je(0),d(1),Be()),n&2){let t=m().$implicit,i=m().$implicit;p(),I(" ",t.compute(i)," ")}}function Sk(n,e){if(n&1&&d(0),n&2){let t=m().$implicit,i=m().$implicit;I(" ",i[t.key]," ")}}function Dk(n,e){if(n&1&&(c(0,"div",29)(1,"span",30),d(2),a(),c(3,"span",31),_(4,Mk,2,1,"ng-container",13)(5,Sk,1,1,"ng-template",null,3,pi),a()()),n&2){let t=e.$implicit,i=e.index,r=K(6);fe("primary",i===0),p(2),I("",t.header,":"),p(2),f("ngIf",t.compute)("ngIfElse",r)}}function Ek(n,e){if(n&1&&(c(0,"div",20)(1,"div",21)(2,"h3",22),_(3,bk,2,1,"ng-container",13)(4,Ck,1,1,"ng-template",null,2,pi),a(),_(6,wk,2,1,"div",23),a(),c(7,"div",24),_(8,Dk,7,5,"div",25),a()()),n&2){let t,i=K(5),r=m();p(3),f("ngIf",(t=r.getPrimaryColumn())==null?null:t.compute)("ngIfElse",i),p(3),f("ngIf",r.getActionColumn()),p(2),f("ngForOf",r.getNonActionColumns())}}function Pk(n,e){n&1&&(c(0,"div",32)(1,"div",33),d(2,"\u{1F4CB}"),a(),c(3,"h3"),d(4,"Nu exist\u0103 date"),a(),c(5,"p"),d(6,"Nu au fost g\u0103site \xEEnregistr\u0103ri pentru afi\u0219are."),a()())}var $i=class n{columns=[];data=[];getPrimaryColumn(){return this.columns.find(e=>e.type!=="action")}getActionColumn(){return this.columns.find(e=>e.type==="action")}getNonActionColumns(){return this.columns.filter(e=>e.type!=="action")}isActionColumn(e){return e.type==="action"}getDisplayValue(e,t){return e.compute?e.compute(t):t[e.key]||""}truncateText(e,t=50){return e?e.length>t?e.substring(0,t)+"...":e:""}getMaxLength(){if(typeof window>"u")return 50;let e=window.innerWidth;return e<=480?15:e<=768?25:e<=1024?35:50}isMobile(){return typeof window>"u"?!1:window.innerWidth<=768}shouldHideColumn(e){if(typeof window>"u")return!1;let t=window.innerWidth,i=this.columns.indexOf(e);return this.isActionColumn(e)?!1:t<=480?i>=2&&!this.isActionColumn(e):t<=600?i>=3&&!this.isActionColumn(e):t<=768?i>=4&&!this.isActionColumn(e):t<=900?this.getColumnPriority(e)>=3:!1}getColumnPriority(e){return this.isActionColumn(e)?0:e.key?.toLowerCase().includes("name")||e.key?.toLowerCase().includes("id")||e.key?.toLowerCase().includes("title")?1:e.key?.toLowerCase().includes("status")||e.key?.toLowerCase().includes("date")||e.key?.toLowerCase().includes("email")?2:3}getShortActionLabel(e){return{Detalii:"Det",Modific\u0103:"Mod",\u0218terge:"\u0218t",View:"V",Edit:"E",Delete:"D",Details:"Det"}[e]||e.substring(0,3)}getSortedColumnsByPriority(){return[...this.columns].sort((e,t)=>this.getColumnPriority(e)-this.getColumnPriority(t))}isColumnHidden(e){if(typeof window>"u")return!1;let t=window.innerWidth;return t<=480?e>=3:t<=600?e>=4:t<=768?e>=5:t<=900?e>=6:!1}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["app-dynamic-table"]],inputs:{columns:"columns",data:"data"},decls:12,vars:4,consts:[["actionCell",""],["directValue",""],["primaryDirectValue",""],["cardDirectValue",""],[1,"table-wrapper"],[1,"desktop-table"],[1,"table-scroll"],[1,"admin-table"],[3,"hidden-mobile",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[1,"mobile-cards"],["class","card",4,"ngFor","ngForOf"],["class","empty-state",4,"ngIf"],[4,"ngIf","ngIfElse"],[3,"title"],[1,"action-buttons"],["class","action-btn",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"action-btn",3,"click","ngClass"],[1,"action-label-full"],[1,"action-label-short"],[1,"card"],[1,"card-header"],[1,"card-title"],["class","card-actions",4,"ngIf"],[1,"card-body"],["class","field",3,"primary",4,"ngFor","ngForOf"],[1,"card-actions"],["class","action-btn mobile",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"action-btn","mobile",3,"click","ngClass"],[1,"field"],[1,"field-label"],[1,"field-value"],[1,"empty-state"],[1,"empty-icon"]],template:function(t,i){t&1&&(c(0,"div",4)(1,"div",5)(2,"div",6)(3,"table",7)(4,"thead")(5,"tr"),_(6,pk,2,3,"th",8),a()(),c(7,"tbody"),_(8,yk,2,1,"tr",9),a()()()(),c(9,"div",10),_(10,Ek,9,4,"div",11),a(),_(11,Pk,7,0,"div",12),a()),t&2&&(p(6),f("ngForOf",i.columns),p(2),f("ngForOf",i.data),p(2),f("ngForOf",i.data),p(),f("ngIf",i.data.length===0))},dependencies:[Ce,Ae,ce,q,ge],styles:[".table-wrapper[_ngcontent-%COMP%]{width:100%;font-family:Roboto Mono,monospace}.desktop-table[_ngcontent-%COMP%]{display:block;background-color:#f8f4ff;border-radius:8px;box-shadow:0 4px 12px #0000001a;border:2px solid #4b358e}@media (max-width: 768px){.desktop-table[_ngcontent-%COMP%]{border-radius:6px;box-shadow:0 2px 8px #0000001a}}.table-scroll[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.admin-table[_ngcontent-%COMP%]{width:100%;min-width:100%;border-collapse:collapse;background-color:#f8f4ff;margin:0}@media (max-width: 768px){.admin-table[_ngcontent-%COMP%]{min-width:600px}}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;vertical-align:middle;word-wrap:break-word}@media (max-width: 1024px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 6px;font-size:13px}}@media (max-width: 768px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 4px;font-size:12px;max-width:120px}}@media (max-width: 480px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px 3px;font-size:11px;max-width:100px}}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700;position:sticky;top:0;z-index:10;white-space:nowrap}@media (max-width: 768px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:11px}}@media (max-width: 480px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+4):not(.action-column), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+4):not(.action-column){display:none}}@media (max-width: 600px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+5):not(.action-column), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+5):not(.action-column){display:none}}@media (max-width: 900px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+6):not(.action-column), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+6):not(.action-column){display:none}}@media (max-width: 768px){.hidden-mobile[_ngcontent-%COMP%]{display:none!important}}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:4px;flex-wrap:nowrap;justify-content:flex-start}@media (max-width: 768px){.action-buttons[_ngcontent-%COMP%]{gap:2px;flex-direction:column}}.action-btn[_ngcontent-%COMP%]{padding:4px 8px;border:1px solid transparent;border-radius:3px;cursor:pointer;font-weight:700;font-size:11px;font-family:Roboto Mono,monospace;transition:all .3s ease;text-decoration:none;display:inline-block;white-space:nowrap;min-width:auto}@media (max-width: 768px){.action-btn[_ngcontent-%COMP%]{padding:3px 6px;font-size:10px;margin-bottom:2px}}@media (max-width: 480px){.action-btn[_ngcontent-%COMP%]{padding:2px 4px;font-size:9px}}.action-btn.view[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0;border-color:#1565c0}.action-btn.view[_ngcontent-%COMP%]:hover{background-color:#1565c0;color:#fff}.action-btn.edit[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#2e7d32;border-color:#2e7d32}.action-btn.edit[_ngcontent-%COMP%]:hover{background-color:#2e7d32;color:#fff}.action-btn.delete[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border-color:#c62828}.action-btn.delete[_ngcontent-%COMP%]:hover{background-color:#c62828;color:#fff}.action-label-short[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.action-label-short[_ngcontent-%COMP%]{display:inline}}.action-label-full[_ngcontent-%COMP%]{display:inline}@media (max-width: 768px){.action-label-full[_ngcontent-%COMP%]{display:none}}.mobile-cards[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.mobile-cards[_ngcontent-%COMP%]{display:block;padding:16px}}.card[_ngcontent-%COMP%]{background-color:#f8f4ff;border:2px solid #cfbdfe;border-radius:8px;margin-bottom:16px;box-shadow:0 2px 8px #0000001a;transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-2px)}.card[_ngcontent-%COMP%]:last-child{margin-bottom:0}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:16px;background-color:#cfbdfe;border-bottom:1px solid #ddd;border-radius:6px 6px 0 0;gap:12px}.card-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:700;color:#333;flex:1;word-break:break-word}@media (max-width: 480px){.card-title[_ngcontent-%COMP%]{font-size:14px}}.card-actions[_ngcontent-%COMP%]{display:flex;gap:6px;flex-wrap:wrap;flex-shrink:0}.card-body[_ngcontent-%COMP%]{padding:16px}.field[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px;gap:12px}.field[_ngcontent-%COMP%]:last-child{margin-bottom:0}.field.primary[_ngcontent-%COMP%]{display:none}.field-label[_ngcontent-%COMP%]{font-weight:700;color:#666;font-size:13px;flex-shrink:0;min-width:80px}@media (max-width: 480px){.field-label[_ngcontent-%COMP%]{font-size:12px;min-width:70px}}.field-value[_ngcontent-%COMP%]{color:#333;font-size:13px;text-align:right;word-break:break-word;flex:1}@media (max-width: 480px){.field-value[_ngcontent-%COMP%]{font-size:12px}}.add-btn[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;border:2px solid #9a83db;padding:12px 24px;font-family:Roboto Mono,monospace;font-weight:700;font-size:.9rem;cursor:pointer;transition:all .3s ease;margin-bottom:20px;text-decoration:none;display:inline-block;border-radius:0}.add-btn[_ngcontent-%COMP%]:hover{background-color:#9a83db;color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #9a83db4d}.add-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 6px #9a83db33}.add-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #9a83db4d}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px 24px;background-color:#f8f4ff;border:2px dashed #cfbdfe;border-radius:8px;color:#666}@media (max-width: 768px){.empty-state[_ngcontent-%COMP%]{margin:16px;padding:32px 16px}}.empty-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px;opacity:.7}@media (max-width: 768px){.empty-icon[_ngcontent-%COMP%]{font-size:36px;margin-bottom:12px}}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;color:#333}@media (max-width: 768px){.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}@media (max-width: 768px){.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}}@media (max-width: 1200px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+6), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+6){display:none}}@media (max-width: 1024px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+5), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+5){display:none}}@media (max-width: 900px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+4), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+4){display:none}}@media (min-width: 769px) and (max-width: 1024px){.desktop-table[_ngcontent-%COMP%]{margin:0 16px}.admin-table[_ngcontent-%COMP%]{min-width:500px}}@media print{.table-wrapper[_ngcontent-%COMP%]{overflow:visible!important}.desktop-table[_ngcontent-%COMP%]{display:block!important;overflow:visible!important}.mobile-cards[_ngcontent-%COMP%]{display:none!important}.admin-table[_ngcontent-%COMP%]{min-width:auto!important;width:100%!important}.action-btn[_ngcontent-%COMP%]{display:none!important}}"]})};function Ik(n,e){if(n&1&&(je(0),c(1,"p")(2,"strong"),d(3),a(),d(4),a(),Be()),n&2){let t=m().$implicit,i=m();p(3),I("",i.formatKey(t),":"),p(),I(" ",i.formatValue(i.entity[t])," ")}}function Ok(n,e){if(n&1&&(je(0),_(1,Ik,5,2,"ng-container",5),Be()),n&2){let t=e.$implicit;p(),f("ngIf",t!=="ID")}}var Hi=class n{entity={};title="";close=new V;onClose(){this.close.emit()}objectKeys=Object.keys;formatKey(e){return e.includes(" ")||e.includes("-")?e:e.replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase())}formatValue(e){return typeof e=="boolean"?e?"Da":"Nu":e instanceof Date?e.toLocaleDateString():typeof e=="string"&&e.toLowerCase().includes("password")?"********":e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["app-admin-details"]],inputs:{entity:"entity",title:"title"},outputs:{close:"close"},decls:10,vars:3,consts:[[1,"admin-wrapper"],[1,"page-title"],[1,"card"],[1,"divider"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"h2",1),d(2),a(),c(3,"div",2)(4,"p")(5,"strong"),d(6,"ID:"),a(),d(7),a(),P(8,"hr",3),_(9,Ok,2,1,"ng-container",4),a()()),t&2&&(p(2),R(i.title),p(5),I(" ",i.entity.ID,""),p(2),f("ngForOf",i.objectKeys(i.entity)))},dependencies:[Ce,ce,q],styles:[".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var Tk=()=>[5,10,20];function kk(n,e){if(n&1){let t=D();c(0,"div",9)(1,"div",10)(2,"div",11)(3,"button",12),v("click",function(){y(t);let r=m();return b(r.closeAddUserForm())}),d(4,"\xD7"),a()(),c(5,"app-dynamic-form",13),v("formSubmit",function(r){y(t);let o=m();return b(o.addEntity(r))}),a()()()}if(n&2){let t=m();p(5),f("fields",t.addEntityFormFields)("submitText","Trimite")}}function Rk(n,e){if(n&1){let t=D();c(0,"div",9)(1,"div",10)(2,"button",12),v("click",function(){y(t);let r=m();return b(r.closeUpdateUserForm())}),d(3,"\xD7"),a(),c(4,"app-dynamic-form",14),v("formSubmit",function(r){y(t);let o=m();return b(o.updateEntity(r))}),a()()()}if(n&2){let t=m();p(4),f("fields",t.updateEntityFormFields)("initialData",t.formData)("submitText","Actualizeaz\u0103")}}function Ak(n,e){if(n&1){let t=D();c(0,"app-admin-details",18),v("close",function(){y(t);let r=m(2);return b(r.closeUserDetails())}),a()}if(n&2){let t=m(2);f("entity",t.entityDetails)("title","Detalii utilizator")}}function Nk(n,e){if(n&1){let t=D();c(0,"div",15)(1,"div",16)(2,"button",12),v("click",function(){y(t);let r=m();return b(r.closeUserDetails())}),d(3,"\xD7"),a(),_(4,Ak,1,2,"app-admin-details",17),a()()}if(n&2){let t=m();p(4),f("ngIf",t.isUserDetailsVisible)}}var Ad=class n{constructor(e){this.adminService=e}dummy_users=[{id:"m3n4o5p6",fullName:"Ana Georgescu",email:"ana.georgescu@example.com",role:"Admin",createdAt:new Date("2024-09-01T11:30:00Z"),updatedAt:new Date("2025-01-12T13:00:00Z"),rating:4.5},{id:"q7r8s9t0",fullName:"Radu Enache",email:"radu.enache@example.com",role:"Client",createdAt:new Date("2024-08-20T15:45:00Z"),updatedAt:new Date("2025-01-08T11:15:00Z"),rating:4}];searchTerm="";users=[];selectedUser=null;entityDetails={};entityDetailsId;pageSize=10;currentPage=1;totalItems=0;isAddUserFormVisible=!1;isUpdateUserFormVisible=!1;isUserDetailsVisible=!1;selectedUserId=null;placeholder="Caut\u0103 un utilizator...";columns=[{key:"id",header:"ID"},{key:"fullName",header:"Nume"},{key:"email",header:"Email"},{key:"role",header:"Rol"},{key:"actions",header:"Ac\u021Biuni",type:"action",actions:[{label:"Detalii",class:"view",callback:e=>this.getEntity(e.id)},{label:"Modific\u0103",class:"edit",callback:e=>this.editUser(e)},{label:"\u0218terge",class:"delete",callback:e=>this.deleteEntity(e)}]}];defaultUser={fullName:"",email:"",password:"",role:"Client"};formData={};error=null;addEntityFormFields=kt(this.defaultUser,{email:{type:"email"},password:{type:"password"},role:{type:"select",options:Object.values(Ho)}});updateEntityFormFields=kt({fullName:this.selectedUser?.fullName||"",role:this.selectedUser?.role||""},{role:{type:"select",options:Object.values(Ho)}});ngOnInit(){let e={fullName:"",email:"",password:"",role:"Client"};this.formData=S({},e),this.getPage()}onSearch(e){this.searchTerm=e,this.currentPage=1,this.getPage()}getEntity(e){console.log(e),this.adminService.getUser(e).subscribe({next:t=>{this.entityDetailsId=t.response?.id,this.entityDetails=Bo(t.response??{}),this.isUserDetailsVisible=!0},error:t=>{console.error("Eroare la preluarea utilizatorului:",t),alert("Nu s-au putut \xEEnc\u0103rca detaliile utilizatorului.")}})}getPage(){this.adminService.getUsers(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:e=>{console.log(e.response),this.users=e.response?.data??[],this.totalItems=e.response?.totalCount??0},error:e=>{this.error=e.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addEntity(e){let t=e;this.adminService.addUser(t).subscribe({next:()=>{this.closeAddUserForm(),this.getPage()},error:i=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",i)}})}editUser(e){this.selectedUserId=e.id,this.formData={fullName:e.fullName,role:e.role},this.isUpdateUserFormVisible=!0}updateEntity(e){if(!this.selectedUserId){console.error("Niciun utilizator nu a fost selectat pentru actualizare."),alert("Eroare: Nu a fost selectat niciun utilizator pentru actualizare.");return}let t=e.fullName??[e.firstName,e.lastName].filter(Boolean).join(" ").trim(),i={id:this.selectedUserId,fullName:t,role:e.role};this.adminService.updateUser(this.selectedUserId,i).subscribe({next:()=>{this.closeUpdateUserForm(),this.getPage()},error:r=>{console.error("Eroare la actualizare:",r)}})}showUserDetails(e){this.isUserDetailsVisible=!0}closeUserDetails(){this.isUserDetailsVisible=!1,this.selectedUser=null}closeUpdateUserForm(){this.selectedUserId=null,this.resetForm(),this.isUpdateUserFormVisible=!1}openAddUserForm(){this.selectedUserId=null,this.resetForm(),this.isAddUserFormVisible=!0}viewUser(e){this.isUserDetailsVisible=!0}deleteEntity(e){confirm(`Sigur dori\u021Bi s\u0103 \u0219terge\u021Bi utilizatorul ${e.fullName}?`)&&this.adminService.deleteUser(e.id).subscribe({next:()=>{this.getPage()},error:t=>{console.error("Eroare la \u0219tergerea utilizatorului:",t)}})}closeAddUserForm(){this.isAddUserFormVisible=!1,this.resetForm()}resetForm(){this.formData={firstName:"",lastName:"",email:"",password:"",role:"Client"}}onPageChange(e){this.currentPage=e,this.getPage()}onPageSizeChange(e){this.pageSize=e,this.currentPage=1,this.getPage()}static \u0275fac=function(t){return new(t||n)(w(ut))};static \u0275cmp=F({type:n,selectors:[["app-admin-users"]],decls:13,vars:11,consts:[[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[1,"admin-wrapper"],[1,"admin-table-container"],[1,"search-box-wrapper"],[3,"searchChanged","placeholder"],[1,"add-btn",3,"click"],[3,"columns","data"],["class","modal-overlay",4,"ngIf"],["class","admin-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal"],[1,"close-button-wrapper"],[1,"close-button",3,"click"],[3,"formSubmit","fields","submitText"],[3,"formSubmit","fields","initialData","submitText"],[1,"admin-overlay"],[1,"admin-modal"],[3,"entity","title","close",4,"ngIf"],[3,"close","entity","title"]],template:function(t,i){t&1&&(c(0,"app-pagination",0),v("pageChange",function(o){return i.onPageChange(o)})("pageSizeChange",function(o){return i.onPageSizeChange(o)}),a(),c(1,"div",1)(2,"div",2)(3,"h2"),d(4,"Administreaz\u0103 to\u021Bi utilizatorii"),a(),c(5,"div",3)(6,"app-search-input",4),v("searchChanged",function(o){return i.onSearch(o)}),a()(),c(7,"button",5),v("click",function(){return i.openAddUserForm()}),d(8,"Adaug\u0103 utilizator"),a(),P(9,"app-dynamic-table",6),a()(),_(10,kk,6,2,"div",7)(11,Rk,5,3,"div",7)(12,Nk,5,1,"div",8)),t&2&&(f("currentPage",i.currentPage)("pageSize",i.pageSize)("pageSizeOptions",Ut(10,Tk))("totalItems",i.totalItems),p(6),f("placeholder",i.placeholder),p(3),f("columns",i.columns)("data",i.users),p(),f("ngIf",i.isAddUserFormVisible),p(),f("ngIf",i.isUpdateUserFormVisible),p(),f("ngIf",i.isUserDetailsVisible))},dependencies:[Ce,q,ge,Gt,$i,Hi,pn,Bn],styles:[".table-wrapper[_ngcontent-%COMP%]{width:100%;font-family:Roboto Mono,monospace}.desktop-table[_ngcontent-%COMP%]{display:block;background-color:#f8f4ff;border-radius:8px;box-shadow:0 4px 12px #0000001a;border:2px solid #4b358e}@media (max-width: 768px){.desktop-table[_ngcontent-%COMP%]{border-radius:6px;box-shadow:0 2px 8px #0000001a}}.table-scroll[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.admin-table[_ngcontent-%COMP%]{width:100%;min-width:100%;border-collapse:collapse;background-color:#f8f4ff;margin:0}@media (max-width: 768px){.admin-table[_ngcontent-%COMP%]{min-width:600px}}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;vertical-align:middle;word-wrap:break-word}@media (max-width: 1024px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 6px;font-size:13px}}@media (max-width: 768px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 4px;font-size:12px;max-width:120px}}@media (max-width: 480px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px 3px;font-size:11px;max-width:100px}}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700;position:sticky;top:0;z-index:10;white-space:nowrap}@media (max-width: 768px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:11px}}@media (max-width: 480px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+4):not(.action-column), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+4):not(.action-column){display:none}}@media (max-width: 600px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+5):not(.action-column), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+5):not(.action-column){display:none}}@media (max-width: 900px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+6):not(.action-column), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+6):not(.action-column){display:none}}@media (max-width: 768px){.hidden-mobile[_ngcontent-%COMP%]{display:none!important}}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:4px;flex-wrap:nowrap;justify-content:flex-start}@media (max-width: 768px){.action-buttons[_ngcontent-%COMP%]{gap:2px;flex-direction:column}}.action-btn[_ngcontent-%COMP%]{padding:4px 8px;border:1px solid transparent;border-radius:3px;cursor:pointer;font-weight:700;font-size:11px;font-family:Roboto Mono,monospace;transition:all .3s ease;text-decoration:none;display:inline-block;white-space:nowrap;min-width:auto}@media (max-width: 768px){.action-btn[_ngcontent-%COMP%]{padding:3px 6px;font-size:10px;margin-bottom:2px}}@media (max-width: 480px){.action-btn[_ngcontent-%COMP%]{padding:2px 4px;font-size:9px}}.action-btn.view[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0;border-color:#1565c0}.action-btn.view[_ngcontent-%COMP%]:hover{background-color:#1565c0;color:#fff}.action-btn.edit[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#2e7d32;border-color:#2e7d32}.action-btn.edit[_ngcontent-%COMP%]:hover{background-color:#2e7d32;color:#fff}.action-btn.delete[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border-color:#c62828}.action-btn.delete[_ngcontent-%COMP%]:hover{background-color:#c62828;color:#fff}.action-label-short[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.action-label-short[_ngcontent-%COMP%]{display:inline}}.action-label-full[_ngcontent-%COMP%]{display:inline}@media (max-width: 768px){.action-label-full[_ngcontent-%COMP%]{display:none}}.mobile-cards[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.mobile-cards[_ngcontent-%COMP%]{display:block;padding:16px}}.card[_ngcontent-%COMP%]{background-color:#f8f4ff;border:2px solid #cfbdfe;border-radius:8px;margin-bottom:16px;box-shadow:0 2px 8px #0000001a;transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-2px)}.card[_ngcontent-%COMP%]:last-child{margin-bottom:0}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:16px;background-color:#cfbdfe;border-bottom:1px solid #ddd;border-radius:6px 6px 0 0;gap:12px}.card-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:700;color:#333;flex:1;word-break:break-word}@media (max-width: 480px){.card-title[_ngcontent-%COMP%]{font-size:14px}}.card-actions[_ngcontent-%COMP%]{display:flex;gap:6px;flex-wrap:wrap;flex-shrink:0}.card-body[_ngcontent-%COMP%]{padding:16px}.field[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px;gap:12px}.field[_ngcontent-%COMP%]:last-child{margin-bottom:0}.field.primary[_ngcontent-%COMP%]{display:none}.field-label[_ngcontent-%COMP%]{font-weight:700;color:#666;font-size:13px;flex-shrink:0;min-width:80px}@media (max-width: 480px){.field-label[_ngcontent-%COMP%]{font-size:12px;min-width:70px}}.field-value[_ngcontent-%COMP%]{color:#333;font-size:13px;text-align:right;word-break:break-word;flex:1}@media (max-width: 480px){.field-value[_ngcontent-%COMP%]{font-size:12px}}.add-btn[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;border:2px solid #9a83db;padding:12px 24px;font-family:Roboto Mono,monospace;font-weight:700;font-size:.9rem;cursor:pointer;transition:all .3s ease;margin-bottom:20px;text-decoration:none;display:inline-block;border-radius:0}.add-btn[_ngcontent-%COMP%]:hover{background-color:#9a83db;color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #9a83db4d}.add-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 6px #9a83db33}.add-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #9a83db4d}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px 24px;background-color:#f8f4ff;border:2px dashed #cfbdfe;border-radius:8px;color:#666}@media (max-width: 768px){.empty-state[_ngcontent-%COMP%]{margin:16px;padding:32px 16px}}.empty-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px;opacity:.7}@media (max-width: 768px){.empty-icon[_ngcontent-%COMP%]{font-size:36px;margin-bottom:12px}}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;color:#333}@media (max-width: 768px){.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}@media (max-width: 768px){.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}}@media (max-width: 1200px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+6), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+6){display:none}}@media (max-width: 1024px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+5), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+5){display:none}}@media (max-width: 900px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+4), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+4){display:none}}@media (min-width: 769px) and (max-width: 1024px){.desktop-table[_ngcontent-%COMP%]{margin:0 16px}.admin-table[_ngcontent-%COMP%]{min-width:500px}}@media print{.table-wrapper[_ngcontent-%COMP%]{overflow:visible!important}.desktop-table[_ngcontent-%COMP%]{display:block!important;overflow:visible!important}.mobile-cards[_ngcontent-%COMP%]{display:none!important}.admin-table[_ngcontent-%COMP%]{min-width:auto!important;width:100%!important}.action-btn[_ngcontent-%COMP%]{display:none!important}}",".grid-form[_ngcontent-%COMP%]{gap:24px 20px;padding:24px 32px;max-width:650px;margin:0 auto;font-family:Roboto Mono,monospace;border:2px solid #c9b7ff;border-radius:6px;box-shadow:0 4px 12px #0000001a}.form-layout[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px 20px;padding:12px 16px;max-width:650px;margin:0 auto}.form-group[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;flex:1;display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{flex:1 1 100%}.form-group.half-width[_ngcontent-%COMP%]{flex:1 1 48%}label[_ngcontent-%COMP%]{margin-bottom:8px}.input-box[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;transition:border-color .3s}.input-box[_ngcontent-%COMP%]:focus-within{border-color:#9a79ff}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;width:100%;font-family:Roboto Mono,monospace;font-size:16px;outline:none}.input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-family:inherit;font-size:1rem;border:none;border-radius:6px;box-sizing:border-box;resize:vertical;background:#e6dfff}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;font-size:16px;outline:none;appearance:auto;font-family:inherit;width:100%}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#a388ff;box-shadow:0 0 3px #a388ff}.placeholder-selected[_ngcontent-%COMP%]{color:#7d7d7f!important}.send-button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:300px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}.send-button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.field-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.error[_ngcontent-%COMP%]{color:#d8000c;font-size:.85rem;margin-top:4px;padding-left:2px}",".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var Fk=["class","users"],Lk=()=>[5,10,20];function Vk(n,e){if(n&1){let t=D();c(0,"div",9)(1,"div",10)(2,"div",11)(3,"button",12),v("click",function(){y(t);let r=m();return b(r.closeAddUserForm())}),d(4,"\xD7"),a()(),c(5,"app-dynamic-form",13),v("formSubmit",function(r){y(t);let o=m();return b(o.addEntity(r))}),a()()()}if(n&2){let t=m();p(5),f("fields",t.addEntityFormFields)("submitText","Adaug\u0103")}}function zk(n,e){if(n&1){let t=D();c(0,"div",9)(1,"div",10)(2,"button",12),v("click",function(){y(t);let r=m();return b(r.closeUpdateUserForm())}),d(3,"\xD7"),a(),c(4,"app-dynamic-form",14),v("formSubmit",function(r){y(t);let o=m();return b(o.updateEntity(r))}),a()()()}if(n&2){let t=m();p(4),f("fields",t.updateEntityFormFields)("initialData",t.formData)("submitText","Actualizeaz\u0103")}}function Uk(n,e){if(n&1){let t=D();c(0,"app-admin-details",17),v("close",function(){y(t);let r=m(2);return b(r.closeUserDetails())}),a()}if(n&2){let t=m(2);f("entity",t.entityDetails)("title","Detalii specialist")}}function jk(n,e){if(n&1){let t=D();c(0,"div",15)(1,"div",10)(2,"button",12),v("click",function(){y(t);let r=m();return b(r.closeUserDetails())}),d(3,"\xD7"),a(),_(4,Uk,1,2,"app-admin-details",16),a()()}if(n&2){let t=m();p(4),f("ngIf",t.isUserDetailsVisible)}}var Nd=class n{constructor(e){this.adminService=e;let t={fullName:"",email:"",password:"",phoneNumber:"",address:"",yearsExperience:0,description:""};this.formData=S({},t),this.getPage()}searchTerm="";users=[];selectedUser=null;entityDetails={};entityDetailsId;pageSize=10;currentPage=1;totalItems=0;isAddUserFormVisible=!1;isUpdateUserFormVisible=!1;isUserDetailsVisible=!1;selectedUserId=null;placeholder="Caut\u0103 un specialist...";columns=[{key:"id",header:"ID"},{key:"fullName",header:"Nume"},{key:"email",header:"Email"},{key:"phoneNumber",header:"Num\u0103r de telefon"},{key:"address",header:"Adres\u0103"},{key:"actions",header:"Ac\u021Biuni",type:"action",actions:[{label:"Detalii",class:"view",callback:e=>this.getEntity(e.id)},{label:"Modific\u0103",class:"edit",callback:e=>this.editUser(e)},{label:"\u0218terge",class:"delete",callback:e=>this.deleteUser(e)}]}];defaultUser={fullName:"",email:"",password:"",phoneNumber:"",address:"",yearsExperience:0,description:""};formData={};error=null;addEntityFormFields=kt(this.defaultUser,{email:{type:"email"},password:{type:"password"},yearsExperience:{type:"number",placeholder:"Ex: 5"},description:{type:"textarea",placeholder:"Descrie serviciile oferite",class:"full-width"}});updateEntityFormFields=kt({fullName:this.selectedUser?.fullName||"",phoneNumber:this.selectedUser?.phoneNumber||"",address:this.selectedUser?.address||"",yearsExperience:this.selectedUser?.yearsExperience||"",description:this.selectedUser?.description||""});onSearch(e){this.searchTerm=e,this.currentPage=1,this.getPage()}getEntity(e){this.adminService.getSpecialist(e).subscribe({next:t=>{this.entityDetailsId=t.response?.id,console.log(t.response),this.entityDetails=Bo(t.response??{}),this.isUserDetailsVisible=!0},error:t=>{console.error("Eroare la preluarea utilizatorului:",t),alert("Nu s-au putut \xEEnc\u0103rca detaliile utilizatorului.")}})}getPage(){this.adminService.getSpecialistsLegacy(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:e=>{this.users=e.response?.data??[],this.totalItems=e.response?.totalCount??0},error:e=>{this.error=e.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addEntity(e){let t=e;this.adminService.addSpecialist(t).subscribe({next:()=>{this.closeAddUserForm(),this.getPage()},error:i=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",i)}})}editUser(e){this.selectedUserId=e.id,this.formData={fullName:e.fullName,phoneNumber:e.phoneNumber,address:e.address,yearsExperience:e.yearsExperience,description:e.description},this.isUpdateUserFormVisible=!0}updateEntity(e){if(console.log("Form data submitted:",e),!this.selectedUserId){console.error("Niciun utilizator nu a fost selectat pentru actualizare."),alert("Eroare: Nu a fost selectat niciun utilizator pentru actualizare.");return}let t={id:this.selectedUserId,fullName:e.fullName,phoneNumber:e.phoneNumber,address:e.address,yearsExperience:e.yearsExperience,description:e.description};console.log("Update payload:",t),this.adminService.updateSpecialist(this.selectedUserId,t).subscribe({next:()=>{console.log(),this.closeUpdateUserForm(),this.getPage()},error:i=>{console.error("Eroare la actualizare:",i)}})}closeUserDetails(){this.isUserDetailsVisible=!1,this.entityDetails={}}closeUpdateUserForm(){this.selectedUserId=null,this.resetForm(),this.isUpdateUserFormVisible=!1}openAddUserForm(){this.selectedUserId=null,this.resetForm(),this.isAddUserFormVisible=!0}viewUser(e){this.isUserDetailsVisible=!0}deleteUser(e){confirm(`Sigur dori\u021Bi s\u0103 \u0219terge\u021Bi utilizatorul ${e.fullName}?`)&&this.adminService.deleteSpecialist(e.id).subscribe({next:()=>{this.getPage()},error:t=>{console.error("Eroare la \u0219tergerea utilizatorului:",t)}})}closeAddUserForm(){this.isAddUserFormVisible=!1,this.resetForm()}resetForm(){this.formData={firstName:"",lastName:"",email:"",password:"",role:"Client"}}getTotalPages(){return Math.ceil(this.totalItems/this.pageSize)}onPageSizeChange(e){this.pageSize=e,this.currentPage=1,this.getPage()}onPageChange(e){this.currentPage=e,this.getPage()}static \u0275fac=function(t){return new(t||n)(w(ji))};static \u0275cmp=F({type:n,selectors:[["app-admin",8,"users"]],attrs:Fk,decls:13,vars:11,consts:[[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[1,"admin-wrapper"],[1,"admin-table-container"],[1,"search-box-wrapper"],[3,"searchChanged","placeholder"],[1,"add-btn",3,"click"],[3,"columns","data"],["class","modal-overlay",4,"ngIf"],["class","admin-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal"],[1,"close-button-wrapper"],[1,"close-button",3,"click"],[3,"formSubmit","fields","submitText"],[3,"formSubmit","fields","initialData","submitText"],[1,"admin-overlay"],[3,"entity","title","close",4,"ngIf"],[3,"close","entity","title"]],template:function(t,i){t&1&&(c(0,"app-pagination",0),v("pageChange",function(o){return i.onPageChange(o)})("pageSizeChange",function(o){return i.onPageSizeChange(o)}),a(),c(1,"div",1)(2,"div",2)(3,"h2"),d(4,"Administreaz\u0103 to\u021Bi speciali\u0219tii"),a(),c(5,"div",3)(6,"app-search-input",4),v("searchChanged",function(o){return i.onSearch(o)}),a()(),c(7,"button",5),v("click",function(){return i.openAddUserForm()}),d(8,"Adaug\u0103 specialist"),a(),P(9,"app-dynamic-table",6),a()(),_(10,Vk,6,2,"div",7)(11,zk,5,3,"div",7)(12,jk,5,1,"div",8)),t&2&&(f("currentPage",i.currentPage)("pageSize",i.pageSize)("pageSizeOptions",Ut(10,Lk))("totalItems",i.totalItems),p(6),f("placeholder",i.placeholder),p(3),f("columns",i.columns)("data",i.users),p(),f("ngIf",i.isAddUserFormVisible),p(),f("ngIf",i.isUpdateUserFormVisible),p(),f("ngIf",i.isUserDetailsVisible))},dependencies:[ge,Hi,Gt,$i,q,pn,Bn],styles:[".table-wrapper[_ngcontent-%COMP%]{width:100%;font-family:Roboto Mono,monospace}.desktop-table[_ngcontent-%COMP%]{display:block;background-color:#f8f4ff;border-radius:8px;box-shadow:0 4px 12px #0000001a;border:2px solid #4b358e}@media (max-width: 768px){.desktop-table[_ngcontent-%COMP%]{border-radius:6px;box-shadow:0 2px 8px #0000001a}}.table-scroll[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.admin-table[_ngcontent-%COMP%]{width:100%;min-width:100%;border-collapse:collapse;background-color:#f8f4ff;margin:0}@media (max-width: 768px){.admin-table[_ngcontent-%COMP%]{min-width:600px}}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;vertical-align:middle;word-wrap:break-word}@media (max-width: 1024px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 6px;font-size:13px}}@media (max-width: 768px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 4px;font-size:12px;max-width:120px}}@media (max-width: 480px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px 3px;font-size:11px;max-width:100px}}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700;position:sticky;top:0;z-index:10;white-space:nowrap}@media (max-width: 768px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:11px}}@media (max-width: 480px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+4):not(.action-column), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+4):not(.action-column){display:none}}@media (max-width: 600px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+5):not(.action-column), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+5):not(.action-column){display:none}}@media (max-width: 900px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+6):not(.action-column), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+6):not(.action-column){display:none}}@media (max-width: 768px){.hidden-mobile[_ngcontent-%COMP%]{display:none!important}}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:4px;flex-wrap:nowrap;justify-content:flex-start}@media (max-width: 768px){.action-buttons[_ngcontent-%COMP%]{gap:2px;flex-direction:column}}.action-btn[_ngcontent-%COMP%]{padding:4px 8px;border:1px solid transparent;border-radius:3px;cursor:pointer;font-weight:700;font-size:11px;font-family:Roboto Mono,monospace;transition:all .3s ease;text-decoration:none;display:inline-block;white-space:nowrap;min-width:auto}@media (max-width: 768px){.action-btn[_ngcontent-%COMP%]{padding:3px 6px;font-size:10px;margin-bottom:2px}}@media (max-width: 480px){.action-btn[_ngcontent-%COMP%]{padding:2px 4px;font-size:9px}}.action-btn.view[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0;border-color:#1565c0}.action-btn.view[_ngcontent-%COMP%]:hover{background-color:#1565c0;color:#fff}.action-btn.edit[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#2e7d32;border-color:#2e7d32}.action-btn.edit[_ngcontent-%COMP%]:hover{background-color:#2e7d32;color:#fff}.action-btn.delete[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border-color:#c62828}.action-btn.delete[_ngcontent-%COMP%]:hover{background-color:#c62828;color:#fff}.action-label-short[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.action-label-short[_ngcontent-%COMP%]{display:inline}}.action-label-full[_ngcontent-%COMP%]{display:inline}@media (max-width: 768px){.action-label-full[_ngcontent-%COMP%]{display:none}}.mobile-cards[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.mobile-cards[_ngcontent-%COMP%]{display:block;padding:16px}}.card[_ngcontent-%COMP%]{background-color:#f8f4ff;border:2px solid #cfbdfe;border-radius:8px;margin-bottom:16px;box-shadow:0 2px 8px #0000001a;transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-2px)}.card[_ngcontent-%COMP%]:last-child{margin-bottom:0}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:16px;background-color:#cfbdfe;border-bottom:1px solid #ddd;border-radius:6px 6px 0 0;gap:12px}.card-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:700;color:#333;flex:1;word-break:break-word}@media (max-width: 480px){.card-title[_ngcontent-%COMP%]{font-size:14px}}.card-actions[_ngcontent-%COMP%]{display:flex;gap:6px;flex-wrap:wrap;flex-shrink:0}.card-body[_ngcontent-%COMP%]{padding:16px}.field[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px;gap:12px}.field[_ngcontent-%COMP%]:last-child{margin-bottom:0}.field.primary[_ngcontent-%COMP%]{display:none}.field-label[_ngcontent-%COMP%]{font-weight:700;color:#666;font-size:13px;flex-shrink:0;min-width:80px}@media (max-width: 480px){.field-label[_ngcontent-%COMP%]{font-size:12px;min-width:70px}}.field-value[_ngcontent-%COMP%]{color:#333;font-size:13px;text-align:right;word-break:break-word;flex:1}@media (max-width: 480px){.field-value[_ngcontent-%COMP%]{font-size:12px}}.add-btn[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;border:2px solid #9a83db;padding:12px 24px;font-family:Roboto Mono,monospace;font-weight:700;font-size:.9rem;cursor:pointer;transition:all .3s ease;margin-bottom:20px;text-decoration:none;display:inline-block;border-radius:0}.add-btn[_ngcontent-%COMP%]:hover{background-color:#9a83db;color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #9a83db4d}.add-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 6px #9a83db33}.add-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #9a83db4d}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px 24px;background-color:#f8f4ff;border:2px dashed #cfbdfe;border-radius:8px;color:#666}@media (max-width: 768px){.empty-state[_ngcontent-%COMP%]{margin:16px;padding:32px 16px}}.empty-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px;opacity:.7}@media (max-width: 768px){.empty-icon[_ngcontent-%COMP%]{font-size:36px;margin-bottom:12px}}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;color:#333}@media (max-width: 768px){.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}@media (max-width: 768px){.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}}@media (max-width: 1200px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+6), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+6){display:none}}@media (max-width: 1024px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+5), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+5){display:none}}@media (max-width: 900px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+4), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+4){display:none}}@media (min-width: 769px) and (max-width: 1024px){.desktop-table[_ngcontent-%COMP%]{margin:0 16px}.admin-table[_ngcontent-%COMP%]{min-width:500px}}@media print{.table-wrapper[_ngcontent-%COMP%]{overflow:visible!important}.desktop-table[_ngcontent-%COMP%]{display:block!important;overflow:visible!important}.mobile-cards[_ngcontent-%COMP%]{display:none!important}.admin-table[_ngcontent-%COMP%]{min-width:auto!important;width:100%!important}.action-btn[_ngcontent-%COMP%]{display:none!important}}",".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var Tr=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(e,t){let i=e.data.roles,r=this.authService.getUserRole();return i.includes(r??"")?!0:(this.router.navigate(["/unauthorized"]),!1)}static \u0275fac=function(t){return new(t||n)(T(Y),T(xe))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var Fd=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["app-unauthorized"]],decls:6,vars:0,consts:[["routerLink","/home"]],template:function(t,i){t&1&&(c(0,"h2"),d(1,"Acces restric\u021Bionat"),a(),c(2,"p"),d(3,"Nu ai permisiunea necesar\u0103 pentru a accesa aceast\u0103 pagin\u0103."),a(),c(4,"a",0),d(5,"\xCEnapoi la pagina principal\u0103"),a())},encapsulation:2})};var en=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.getToken()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(t){return new(t||n)(T(Y),T(xe))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function Bk(n,e){if(n&1&&P(0,"img",2),n&2){let t=m();f("src",t.icon,ye)}}var Ld=class n{label;icon;onClick=new V;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["app-icon-button"]],inputs:{label:"label",icon:"icon"},outputs:{onClick:"onClick"},decls:4,vars:2,consts:[[1,"icon-button",3,"click"],["alt","icon","class","button-icon",3,"src",4,"ngIf"],["alt","icon",1,"button-icon",3,"src"]],template:function(t,i){t&1&&(c(0,"button",0),v("click",function(){return i.onClick.emit()}),_(1,Bk,1,1,"img",1),c(2,"span"),d(3),a()()),t&2&&(p(),f("ngIf",i.icon),p(2),R(i.label))},dependencies:[Ce,q],styles:[".icon-button[_ngcontent-%COMP%]{width:260px;height:55px;display:flex;align-items:center;gap:12px;padding:12px 24px;font-size:16px;font-weight:500;border:3px solid #4f378a;background-color:#f3e6ff;border-radius:10px;cursor:pointer;transition:background .2s ease;font-family:Roboto Mono,monospace}.icon-button[_ngcontent-%COMP%]:hover{background-color:#a197be}.icon-button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}"]})};function $k(n,e){if(n&1){let t=D();c(0,"span",8),v("click",function(){let r=y(t).$implicit,o=m();return b(o.toggle(r.id))}),d(1),a()}if(n&2){let t=e.$implicit,i=m();fe("disabled",i.selectedCategoryIds.includes(t.id)),p(),I(" ",t.name," ")}}function Hk(n,e){if(n&1){let t=D();c(0,"span",11),d(1),c(2,"button",12),v("click",function(){let r=y(t).$implicit,o=m(2);return b(o.remove(r))}),d(3,"\xD7"),a()()}if(n&2){let t=e.$implicit,i=m(2);p(),I(" ",i.getCategoryName(t)," ")}}function qk(n,e){if(n&1&&(je(0),c(1,"div",9),_(2,Hk,4,1,"span",10),a(),Be()),n&2){let t=m();p(2),f("ngForOf",t.selectedCategoryIds)}}var qo=class n{constructor(e){this.categoryService=e}category=null;allCategories=[];searchTerm="";dummyCategories=[{id:"cat-001",name:"Traduceri medicale",description:"Traducerea documentelor medicale de specialitate."},{id:"cat-002",name:"Logopedie",description:"Servicii de diagnostic \u0219i terapie pentru tulbur\u0103ri de vorbire."},{id:"cat-003",name:"Psihoterapie",description:"Sesiuni individuale sau de grup pentru s\u0103n\u0103tatea mintal\u0103."},{id:"cat-004",name:"Nutri\u021Bie clinic\u0103",description:"Planuri alimentare personalizate pentru afec\u021Biuni cronice."},{id:"cat-005",name:"Fizioterapie",description:"Reabilitare fizic\u0103 post-traumatic\u0103 sau post-operatorie."}];placeholder="Caut\u0103 o categorie...";selectedCategoryIds=[];categoryChange=new V;ngOnInit(){this.getCategories()}getCategories(){this.categoryService.getAllCategories().subscribe({next:e=>{let t=this.removeDiacritics(this.searchTerm);this.allCategories=e.response.filter(i=>this.removeDiacritics(i.name).includes(t))},error:e=>{console.error("Eroare la ob\u021Binerea categoriilor:",e.errorMessage)}})}toggle(e){this.selectedCategoryIds.includes(e)||(this.selectedCategoryIds.push(e),this.categoryChange.emit(this.selectedCategoryIds))}remove(e){this.selectedCategoryIds=this.selectedCategoryIds.filter(t=>t!==e),this.categoryChange.emit(this.selectedCategoryIds)}getCategoryName(e){return this.allCategories?.find(t=>t.id===e)?.name||"Categorie necunoscut\u0103"}onSearch(e){this.searchTerm=e,this.getCategories()}removeDiacritics(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}static \u0275fac=function(t){return new(t||n)(w(Ui))};static \u0275cmp=F({type:n,selectors:[["app-category-selector"]],inputs:{selectedCategoryIds:"selectedCategoryIds"},outputs:{categoryChange:"categoryChange"},decls:11,vars:3,consts:[[1,"tag-selector"],[1,"section-title"],[1,"category-box"],[1,"search-category-wrapper"],[3,"searchChanged","placeholder"],[1,"category-options"],["class","tag option",3,"disabled","click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"tag","option",3,"click"],[1,"category-box","category-options"],["class","tag selected",4,"ngFor","ngForOf"],[1,"tag","selected"],["type","button",3,"click"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"h3",1),d(2,"Alege din lista de categorii:"),a(),c(3,"div",2)(4,"div",3)(5,"app-search-input",4),v("searchChanged",function(o){return i.onSearch(o)}),a()(),c(6,"div",5),_(7,$k,2,3,"span",6),a()(),c(8,"h3",1),d(9,"Categoriile selectate:"),a(),_(10,qk,3,1,"ng-container",7),a()),t&2&&(p(5),f("placeholder",i.placeholder),p(2),f("ngForOf",i.allCategories),p(3),f("ngIf",i.selectedCategoryIds.length>0))},dependencies:[ge,ce,q,pn],styles:[".tag-selector[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.category-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:1.5rem;padding:1rem;background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:8px;box-shadow:0 0 4px #0000001a;flex-wrap:wrap}.category-options[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;align-items:flex-start}.tag.option[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem;font-family:Roboto Mono,monospace}.tag.option[_ngcontent-%COMP%]:hover{background-color:#333}.tag.option.disabled[_ngcontent-%COMP%]{background-color:#a1a1a1;cursor:not-allowed;opacity:.6}.tag.selected[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem;font-family:Roboto Mono,monospace}button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff}.section-title[_ngcontent-%COMP%]{margin-bottom:8px;font-family:Roboto Mono,monospace}.search-category-wrapper[_ngcontent-%COMP%]{background-color:#f6efff;border-radius:5px;width:300px;margin:auto;border:2px solid #c9b7ff}"]})};var qi=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/SpecialistProfile";becomeSpecialist(e,t){let i=this.authService.getToken(),r=new j({Authorization:`Bearer ${i}`}),o=new FormData;return o.append("UserId",e.userId),o.append("PhoneNumber",e.phoneNumber),o.append("Address",e.address),o.append("YearsExperience",e.yearsExperience.toString()),o.append("Description",e.description),e.categories&&e.categories.length>0&&e.categories.forEach((s,l)=>{o.append(`Categories[${l}]`,s)}),t&&t.length>0&&t.forEach(s=>{o.append("PortfolioPhotos",s,s.name)}),this.http.put(`${this.baseUrl}/BecomeSpecialist`,e,{headers:r}).pipe(Ue(s=>{s.response?.token&&localStorage.setItem("access_token",s.response.token)}))}getSpecialistProfile(){let e=this.authService.getToken(),t=new j({Authorization:`Bearer ${e}`});return this.http.get(`${this.baseUrl}/Get`,{headers:t})}updateSpecialistProfile(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Update`,e,{headers:i})}static \u0275fac=function(t){return new(t||n)(T(Se),T(Y))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var Wk=(n,e)=>({"existing-image":n,"new-image":e});function Gk(n,e){n&1&&(c(0,"div",33),d(1," Num\u0103rul de telefon este obligatoriu "),a())}function Zk(n,e){n&1&&(c(0,"div",33),d(1," Adresa este obligatorie "),a())}function Yk(n,e){n&1&&(c(0,"div",33),d(1," Experien\u021Ba este obligatorie "),a())}function Qk(n,e){n&1&&(c(0,"div",33),d(1," Descrierea este obligatorie "),a())}function Kk(n,e){n&1&&(c(0,"span",42),d(1,"Nou"),a())}function Jk(n,e){n&1&&(c(0,"span",43),d(1,"Existent"),a())}function Xk(n,e){if(n&1){let t=D();c(0,"div",36),P(1,"img",37),c(2,"div",38),_(3,Kk,2,0,"span",39)(4,Jk,2,0,"span",40),c(5,"button",41),v("click",function(){let r=y(t).index,o=m(3);return b(o.removeImage(r))}),d(6,"\xD7"),a()()()}if(n&2){let t=e.$implicit;f("ngClass",jt(4,Wk,t.isExisting,t.isNew)),p(),f("src",t.url,ye),p(2),f("ngIf",t.isNew),p(),f("ngIf",t.isExisting)}}function eR(n,e){if(n&1&&(c(0,"div",34),_(1,Xk,7,7,"div",35),a()),n&2){let t=m(2);p(),f("ngForOf",t.portfolioImages)}}function tR(n,e){n&1&&(c(0,"div",44)(1,"p"),d(2,"Nu ai \xEEnc\u0103 imagini \xEEn portofoliu"),a()())}function nR(n,e){if(n&1&&(c(0,"div",47)(1,"span",48),d(2,"\u{1F5D1}\uFE0F"),a(),c(3,"span")(4,"strong"),d(5),a(),d(6," imagine(i) vor fi \u0219terse"),a()()),n&2){let t=m(3);p(5),R(t.photosToRemove.length)}}function iR(n,e){if(n&1&&(c(0,"div",47)(1,"span",48),d(2,"\u{1F4E4}"),a(),c(3,"span")(4,"strong"),d(5),a(),d(6," imagine(i) noi vor fi \xEEnc\u0103rcate"),a()()),n&2){let t=m(3);p(5),R(t.newPortfolioFiles.length)}}function rR(n,e){if(n&1&&(c(0,"div",45),_(1,nR,7,1,"div",46)(2,iR,7,1,"div",46),a()),n&2){let t=m(2);p(),f("ngIf",t.photosToRemove.length>0),p(),f("ngIf",t.newPortfolioFiles.length>0)}}function oR(n,e){n&1&&(c(0,"span"),d(1,"Se salveaz\u0103..."),a())}function sR(n,e){n&1&&(c(0,"span"),d(1,"Salveaz\u0103 modific\u0103rile"),a())}function aR(n,e){if(n&1){let t=D();c(0,"div",6)(1,"div",7)(2,"div",8)(3,"h2"),d(4,"Editeaz\u0103 informa\u021Biile de specialist"),a(),c(5,"button",9),v("click",function(){y(t);let r=m();return b(r.onClose())}),d(6,"\xD7"),a()(),c(7,"form",10,0),v("ngSubmit",function(){y(t);let r=m();return b(r.onSubmit())}),c(9,"div",11)(10,"h3"),d(11,"Informa\u021Bii de contact"),a(),c(12,"div",12)(13,"label",13),d(14,"Num\u0103r de telefon"),a(),c(15,"input",14,1),U("ngModelChange",function(r){y(t);let o=m();return B(o.specialistInfo.phoneNumber,r)||(o.specialistInfo.phoneNumber=r),b(r)}),a(),_(17,Gk,2,0,"div",15),a(),c(18,"div",12)(19,"label",16),d(20,"Adresa"),a(),c(21,"input",17,2),U("ngModelChange",function(r){y(t);let o=m();return B(o.specialistInfo.address,r)||(o.specialistInfo.address=r),b(r)}),a(),_(23,Zk,2,0,"div",15),a()(),c(24,"div",11)(25,"h3"),d(26,"Categorii de servicii"),a(),c(27,"app-category-selector",18),v("categoryChange",function(r){y(t);let o=m();return b(o.updateCategories(r))}),a()(),c(28,"div",12)(29,"label",19),d(30,"Ani de experien\u021B\u0103"),a(),c(31,"input",20,3),U("ngModelChange",function(r){y(t);let o=m();return B(o.specialistInfo.yearsExperience,r)||(o.specialistInfo.yearsExperience=r),b(r)}),a(),_(33,Yk,2,0,"div",15),a(),c(34,"div",12)(35,"label",21),d(36,"Descrierea serviciilor"),a(),c(37,"textarea",22,4),U("ngModelChange",function(r){y(t);let o=m();return B(o.specialistInfo.description,r)||(o.specialistInfo.description=r),b(r)}),a(),_(39,Qk,2,0,"div",15),a(),c(40,"div",11)(41,"h3"),d(42,"Portofoliu imagini"),a(),c(43,"div",23),_(44,eR,2,1,"div",24)(45,tR,3,0,"div",25),c(46,"label",26),d(47," \u{1F4F8} Adaug\u0103 imagini noi "),c(48,"input",27),v("change",function(r){y(t);let o=m();return b(o.onPortfolioImagesSelected(r))}),a()(),_(49,rR,3,2,"div",28),a()(),c(50,"div",29)(51,"button",30),v("click",function(){y(t);let r=m();return b(r.onClose())}),d(52,"Anuleaz\u0103"),a(),c(53,"button",31),_(54,oR,2,0,"span",32)(55,sR,2,0,"span",32),a()()()()()}if(n&2){let t=K(8),i=K(16),r=K(22),o=K(32),s=K(38),l=m();p(15),z("ngModel",l.specialistInfo.phoneNumber),p(2),f("ngIf",i.invalid&&i.touched),p(4),z("ngModel",l.specialistInfo.address),p(2),f("ngIf",r.invalid&&r.touched),p(4),f("selectedCategoryIds",l.specialistInfo.categories),p(4),z("ngModel",l.specialistInfo.yearsExperience),p(2),f("ngIf",o.invalid&&o.touched),p(4),z("ngModel",l.specialistInfo.description),p(2),f("ngIf",s.invalid&&s.touched),p(5),f("ngIf",l.portfolioImages.length>0),p(),f("ngIf",l.portfolioImages.length===0),p(4),f("ngIf",l.photosToRemove.length>0||l.newPortfolioFiles.length>0),p(4),f("disabled",t.invalid||l.isLoading),p(),f("ngIf",l.isLoading),p(),f("ngIf",!l.isLoading)}}var Vd=class n{constructor(e){this.specialistService=e}isVisible=!1;user=null;userRole=null;close=new V;specialistUpdated=new V;specialistInfo={phoneNumber:"",address:"",categories:[],yearsExperience:0,description:""};existingPortfolioImages=[];newPortfolioFiles=[];photosToRemove=[];isLoading=!1;ngOnInit(){this.user&&this.loadSpecialistData()}ngOnChanges(){this.user&&this.isVisible&&this.loadSpecialistData()}loadSpecialistData(){this.user&&(this.specialistInfo={phoneNumber:this.user.phoneNumber||"",address:this.user.address||"",categories:this.user.categories||[],yearsExperience:this.user.yearsExperience||0,description:this.user.description||""},this.existingPortfolioImages=[],this.photosToRemove=[],this.newPortfolioFiles=[],this.user.portfolio&&this.user.portfolio.length>0&&(this.existingPortfolioImages=this.user.portfolio.map((e,t)=>({id:`existing_${t}`,url:e,isExisting:!0}))))}get portfolioImages(){let e=this.existingPortfolioImages.filter(i=>!this.photosToRemove.includes(i.id)),t=this.newPortfolioFiles.map((i,r)=>({id:`new_${r}`,url:URL.createObjectURL(i),file:i,isNew:!0}));return[...e,...t]}updateCategories(e){this.specialistInfo.categories=e}onPortfolioImagesSelected(e){let t=e.target;if(t.files){for(let i=0;i<t.files.length;i++){let r=t.files[i];this.newPortfolioFiles.push(r)}t.value=""}}removeImage(e){let i=this.portfolioImages[e];if(i.isNew){let r=this.newPortfolioFiles.findIndex((o,s)=>`new_${s}`===i.id);r>-1&&(URL.revokeObjectURL(i.url),this.newPortfolioFiles.splice(r,1))}else i.isExisting&&i.id&&this.photosToRemove.push(i.id)}onClose(){this.close.emit(),this.resetForm()}resetForm(){this.newPortfolioFiles.forEach((e,t)=>{let i=URL.createObjectURL(this.newPortfolioFiles[t]);URL.revokeObjectURL(i)}),this.loadSpecialistData()}onSubmit(){return O(this,null,function*(){if(!this.isLoading){this.isLoading=!0;try{let e=new FormData;e.append("UserId",this.user.id),this.specialistInfo.phoneNumber&&e.append("PhoneNumber",this.specialistInfo.phoneNumber),this.specialistInfo.address&&e.append("Address",this.specialistInfo.address),this.specialistInfo.yearsExperience!==void 0&&e.append("YearsExperience",this.specialistInfo.yearsExperience.toString()),this.specialistInfo.description&&e.append("Description",this.specialistInfo.description),this.existingPortfolioImages.filter(i=>!this.photosToRemove.includes(i.id)).map(i=>i.url).forEach((i,r)=>{e.append(`ExistingPortfolioPhotoUrls[${r}]`,i)}),this.photosToRemove.forEach((i,r)=>{e.append(`PhotoIdsToRemove[${r}]`,i)}),this.newPortfolioFiles.forEach(i=>{e.append("NewPortfolioPhotos",i,i.name)}),this.specialistService.updateSpecialistProfile(e).subscribe({next:i=>{console.log("Specialist updated successfully",i),this.handleSuccess()},error:i=>{console.error("Error updating specialist:",i),this.isLoading=!1,alert("Eroare la actualizarea profilului. Te rug\u0103m s\u0103 \xEEncerci din nou.")}})}catch(e){console.error("Error during update:",e),this.isLoading=!1,alert("Eroare nea\u0219teptat\u0103. Te rug\u0103m s\u0103 \xEEncerci din nou.")}}})}handleSuccess(){this.isLoading=!1,this.specialistUpdated.emit(this.user),this.onClose(),alert("Profilul a fost actualizat cu succes!")}getFilePreview(e){return URL.createObjectURL(e)}formatFileSize(e){if(e===0)return"0 Bytes";let t=1024,i=["Bytes","KB","MB","GB"],r=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,r)).toFixed(2))+" "+i[r]}ngOnDestroy(){this.newPortfolioFiles.forEach((e,t)=>{let i=URL.createObjectURL(this.newPortfolioFiles[t]);URL.revokeObjectURL(i)})}static \u0275fac=function(t){return new(t||n)(w(qi))};static \u0275cmp=F({type:n,selectors:[["app-edit-specialist-info"]],inputs:{isVisible:"isVisible",user:"user",userRole:"userRole"},outputs:{close:"close",specialistUpdated:"specialistUpdated"},features:[Je],decls:1,vars:1,consts:[["editForm","ngForm"],["phoneControl","ngModel"],["addressControl","ngModel"],["experienceControl","ngModel"],["descriptionControl","ngModel"],["class","edit-overlay",4,"ngIf"],[1,"edit-overlay"],[1,"edit-modal"],[1,"edit-header"],[1,"close-button",3,"click"],[1,"edit-form",3,"ngSubmit"],[1,"form-section"],[1,"form-group"],["for","phoneNumber"],["id","phoneNumber","type","tel","name","phoneNumber","placeholder","Ex: 0712345678","required","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","address"],["id","address","type","text","name","address","placeholder","Ex: Strada Florilor 12, Bucure\u0219ti","required","",3,"ngModelChange","ngModel"],[3,"categoryChange","selectedCategoryIds"],["for","yearsExperience"],["id","yearsExperience","type","number","name","yearsExperience","min","0","max","50","required","",3,"ngModelChange","ngModel"],["for","description"],["id","description","name","description","rows","4","placeholder","Descrie serviciile pe care le oferi...","required","",3,"ngModelChange","ngModel"],[1,"portfolio-section"],["class","portfolio-images",4,"ngIf"],["class","portfolio-empty",4,"ngIf"],[1,"upload-portfolio-btn"],["type","file","multiple","","accept","image/*","hidden","",3,"change"],["class","changes-summary",4,"ngIf"],[1,"form-actions"],["type","button",1,"cancel-button",3,"click"],["type","submit",1,"save-button",3,"disabled"],[4,"ngIf"],[1,"error-message"],[1,"portfolio-images"],["class","image-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"image-item",3,"ngClass"],["alt","Portfolio image",3,"src"],[1,"image-overlay"],["class","image-status",4,"ngIf"],["class","image-status existing",4,"ngIf"],["type","button","title","\u0218terge imaginea",1,"delete-image-btn",3,"click"],[1,"image-status"],[1,"image-status","existing"],[1,"portfolio-empty"],[1,"changes-summary"],["class","summary-item",4,"ngIf"],[1,"summary-item"],[1,"summary-icon"]],template:function(t,i){t&1&&_(0,aR,56,15,"div",5),t&2&&f("ngIf",i.isVisible)},dependencies:[Ce,Ae,ce,q,ge,wt,ze,vi,Te,xt,Mt,Ir,Pr,Ne,Tt,qo],styles:[".edit-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.edit-modal[_ngcontent-%COMP%]{background:#fff;box-shadow:0 8px 32px #0003;max-width:800px;width:90%;max-height:90vh;overflow-y:auto;font-family:Roboto Mono,monospace;border:2px solid #c9b7ff}.edit-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 32px 16px;border-bottom:2px solid #e0caff;background-color:#f8f5ff}.edit-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;color:#333;font-weight:700}.close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:28px;cursor:pointer;color:#666;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s ease}.close-button[_ngcontent-%COMP%]:hover{color:#333;background-color:#f0f0f0}.edit-form[_ngcontent-%COMP%]{padding:24px 32px 32px}.form-section[_ngcontent-%COMP%]{margin-bottom:32px;padding-bottom:24px;border-bottom:1px solid #eee}.form-section[_ngcontent-%COMP%]:last-of-type{border-bottom:none;margin-bottom:24px}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:18px;color:#333;font-weight:700;border-left:4px solid #d9c8ff;padding-left:12px}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:700;color:#333;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #c9b7ff;border-radius:6px;font-family:Roboto Mono,monospace;font-size:14px;transition:border-color .3s ease;box-sizing:border-box;resize:vertical}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#a087ff;box-shadow:0 0 0 3px #a087ff1a}.form-group[_ngcontent-%COMP%]   input.ng-invalid.ng-touched[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{appearance:textfield}.form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button, .form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:12px;margin-top:4px;font-weight:500}.portfolio-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.portfolio-images[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;min-height:60px;padding:16px;border:2px dashed #c9b7ff;border-radius:8px;background-color:#fafafa}.portfolio-empty[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:120px;padding:16px;border:2px dashed #c9b7ff;border-radius:8px;background-color:#fafafa;color:#666;font-style:italic}.image-item[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #0000001a;border:2px solid #e0e0e0}.image-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.delete-image-btn[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;background-color:#000000b3;color:#fff;border:none;border-radius:50%;font-size:16px;cursor:pointer;width:24px;height:24px;display:flex;align-items:center;justify-content:center;transition:background-color .2s ease;font-weight:700}.delete-image-btn[_ngcontent-%COMP%]:hover{background-color:#dc3545cc}.upload-portfolio-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:8px 16px;background-color:#d9c8ff;color:#000;border:2px solid black;border-radius:5px;font-family:Roboto Mono,monospace;font-size:14px;font-weight:700;cursor:pointer;transition:background-color .3s ease;align-self:flex-start;margin-bottom:40px}.upload-portfolio-btn[_ngcontent-%COMP%]:hover{background-color:#cbb6ff;transform:translateY(-1px)}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:16px;margin-top:32px;padding-top:24px;border-top:2px solid #e0caff}.cancel-button[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#000;font-family:Roboto Mono,monospace;font-size:14px;font-weight:700;border:2px solid black;border-radius:6px;padding:12px 24px;cursor:pointer;transition:all .3s ease}.cancel-button[_ngcontent-%COMP%]:hover{background-color:#e8e8e8;transform:translateY(-1px)}.save-button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:14px;font-weight:700;border:2px solid black;border-radius:6px;padding:12px 24px;cursor:pointer;transition:all .3s ease;min-width:180px}.save-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#cbb6ff;transform:translateY(-1px)}.save-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}@media (max-width: 768px){.edit-modal[_ngcontent-%COMP%]{width:95%;margin:10px}.edit-form[_ngcontent-%COMP%]{padding:16px 20px 24px}.edit-header[_ngcontent-%COMP%]{padding:16px 20px 12px}.portfolio-images[_ngcontent-%COMP%]{justify-content:center}.image-item[_ngcontent-%COMP%]{width:100px;height:100px}.form-actions[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.save-button[_ngcontent-%COMP%], .cancel-button[_ngcontent-%COMP%]{width:100%}}"]})};function cR(n,e){n&1&&(c(0,"div",40),d(1," Prenumele este obligatoriu "),a())}function lR(n,e){n&1&&(c(0,"div",40),d(1," Numele este obligatoriu "),a())}function dR(n,e){n&1&&(c(0,"div",40),d(1," Introduce\u021Bi un num\u0103r de telefon valid "),a())}function uR(n,e){n&1&&(c(0,"div",40),d(1," Parola trebuie s\u0103 aib\u0103 cel pu\u021Bin 6 caractere "),a())}function pR(n,e){n&1&&(c(0,"div",40),d(1," Parolele nu coincid "),a())}function fR(n,e){n&1&&(c(0,"span"),d(1,"Se salveaz\u0103..."),a())}function gR(n,e){n&1&&(c(0,"span"),d(1,"Salveaz\u0103 modific\u0103rile"),a())}function mR(n,e){if(n&1){let t=D();c(0,"div",8)(1,"div",9)(2,"div",10)(3,"h2"),d(4,"Editeaz\u0103 informa\u021Biile personale"),a(),c(5,"button",11),v("click",function(){y(t);let r=m();return b(r.onClose())}),d(6,"\xD7"),a()(),c(7,"form",12,0),v("ngSubmit",function(){y(t);let r=m();return b(r.onSubmit())}),c(9,"div",13)(10,"h3"),d(11,"Informa\u021Bii personale"),a(),c(12,"div",14)(13,"div",15)(14,"label",16),d(15,"Prenume"),a(),c(16,"input",17,1),U("ngModelChange",function(r){y(t);let o=m();return B(o.userInfo.firstName,r)||(o.userInfo.firstName=r),b(r)}),a(),_(18,cR,2,0,"div",18),a(),c(19,"div",15)(20,"label",19),d(21,"Nume"),a(),c(22,"input",20,2),U("ngModelChange",function(r){y(t);let o=m();return B(o.userInfo.lastName,r)||(o.userInfo.lastName=r),b(r)}),a(),_(24,lR,2,0,"div",18),a()(),c(25,"div",15)(26,"label",21),d(27,"Adresa de email"),a(),c(28,"input",22,3),U("ngModelChange",function(r){y(t);let o=m();return B(o.userInfo.email,r)||(o.userInfo.email=r),b(r)}),a(),c(30,"small",23),d(31,"Email-ul nu poate fi modificat din aceast\u0103 sec\u021Biune"),a()()(),c(32,"div",13)(33,"h3"),d(34,"Informa\u021Bii de contact"),a(),c(35,"div",15)(36,"label",24),d(37,"Num\u0103r de telefon"),a(),c(38,"input",25,4),U("ngModelChange",function(r){y(t);let o=m();return B(o.userInfo.phoneNumber,r)||(o.userInfo.phoneNumber=r),b(r)}),a(),_(40,dR,2,0,"div",18),a(),c(41,"div",15)(42,"label",26),d(43,"Adresa"),a(),c(44,"textarea",27,5),U("ngModelChange",function(r){y(t);let o=m();return B(o.userInfo.address,r)||(o.userInfo.address=r),b(r)}),a(),c(46,"small",23),d(47,"Adresa va fi folosit\u0103 pentru serviciile la domiciliu"),a()()(),c(48,"div",28)(49,"h3"),d(50,"Schimb\u0103 parola"),a(),c(51,"small",29),d(52,"Completeaz\u0103 doar dac\u0103 dore\u0219ti s\u0103 \xEE\u021Bi schimbi parola"),a(),c(53,"div",15)(54,"label",30),d(55,"Parola actual\u0103"),a(),c(56,"input",31),U("ngModelChange",function(r){y(t);let o=m();return B(o.passwordData.currentPassword,r)||(o.passwordData.currentPassword=r),b(r)}),a()(),c(57,"div",15)(58,"label",32),d(59,"Parola nou\u0103"),a(),c(60,"input",33,6),U("ngModelChange",function(r){y(t);let o=m();return B(o.passwordData.newPassword,r)||(o.passwordData.newPassword=r),b(r)}),a(),_(62,uR,2,0,"div",18),a(),c(63,"div",15)(64,"label",34),d(65,"Confirm\u0103 parola nou\u0103"),a(),c(66,"input",35),U("ngModelChange",function(r){y(t);let o=m();return B(o.passwordData.confirmPassword,r)||(o.passwordData.confirmPassword=r),b(r)}),a(),_(67,pR,2,0,"div",18),a()(),c(68,"div",36)(69,"button",37),v("click",function(){y(t);let r=m();return b(r.onClose())}),d(70,"Anuleaz\u0103"),a(),c(71,"button",38),_(72,fR,2,0,"span",39)(73,gR,2,0,"span",39),a()()()()()}if(n&2){let t=K(8),i=K(17),r=K(23),o=K(39),s=K(61),l=m();p(16),z("ngModel",l.userInfo.firstName),p(2),f("ngIf",i.invalid&&i.touched),p(4),z("ngModel",l.userInfo.lastName),p(2),f("ngIf",r.invalid&&r.touched),p(4),z("ngModel",l.userInfo.email),p(10),z("ngModel",l.userInfo.phoneNumber),p(2),f("ngIf",o.invalid&&o.touched),p(4),z("ngModel",l.userInfo.address),p(12),z("ngModel",l.passwordData.currentPassword),p(4),z("ngModel",l.passwordData.newPassword),p(2),f("ngIf",s.invalid&&s.touched),p(4),z("ngModel",l.passwordData.confirmPassword),p(),f("ngIf",l.passwordData.newPassword&&l.passwordData.confirmPassword&&l.passwordData.newPassword!==l.passwordData.confirmPassword),p(4),f("disabled",t.invalid||l.isLoading),p(),f("ngIf",l.isLoading),p(),f("ngIf",!l.isLoading)}}var zd=class n{constructor(e,t){this.userService=e;this.authService=t}isVisible=!1;user=null;close=new V;userUpdated=new V;userInfo={firstName:"",lastName:"",email:"",phoneNumber:"",address:""};passwordData={currentPassword:"",newPassword:"",confirmPassword:""};isLoading=!1;ngOnInit(){this.user&&this.loadUserData()}ngOnChanges(){this.user&&this.isVisible&&this.loadUserData()}loadUserData(){if(this.user){let[e="",t=""]=(this.user.fullName||"").split(" ");this.userInfo={firstName:e,lastName:t,email:this.user.email||"",phoneNumber:this.user.phoneNumber||"",address:this.user.address||""}}}onClose(){this.close.emit(),this.resetForm()}resetForm(){this.loadUserData(),this.passwordData={currentPassword:"",newPassword:"",confirmPassword:""}}onSubmit(){return O(this,null,function*(){if(!this.isLoading){this.isLoading=!0;try{let e={id:this.user.id,firstName:this.userInfo.firstName,lastName:this.userInfo.lastName};if(this.passwordData.currentPassword&&this.passwordData.newPassword){if(this.passwordData.newPassword!==this.passwordData.confirmPassword){console.error("Passwords do not match"),this.isLoading=!1;return}e.password=this.passwordData.newPassword}this.userService.updateUserProfile(e).subscribe({next:t=>{console.log("User updated successfully",t),this.handleSuccess(t.response)},error:t=>{console.error("Error updating user:",t),this.isLoading=!1}})}catch(e){console.error("Error during update:",e),this.isLoading=!1}}})}handleSuccess(e){if(this.isLoading=!1,e){e.token&&(this.authService.setToken(e.token),console.log("\u2705 New token stored successfully"));let t=G(S({},this.user),{fullName:`${this.userInfo.firstName} ${this.userInfo.lastName}`.trim(),phoneNumber:this.userInfo.phoneNumber,address:this.userInfo.address});this.userUpdated.emit(t),console.log("\u2705 User profile updated successfully")}this.onClose(),console.log("\u{1F389} Profile update completed")}static \u0275fac=function(t){return new(t||n)(w(ut),w(Y))};static \u0275cmp=F({type:n,selectors:[["app-edit-user-info"]],inputs:{isVisible:"isVisible",user:"user"},outputs:{close:"close",userUpdated:"userUpdated"},features:[Je],decls:1,vars:1,consts:[["editForm","ngForm"],["firstNameControl","ngModel"],["lastNameControl","ngModel"],["emailControl","ngModel"],["phoneControl","ngModel"],["addressControl","ngModel"],["newPasswordControl","ngModel"],["class","edit-overlay",4,"ngIf"],[1,"edit-overlay"],[1,"edit-modal"],[1,"edit-header"],[1,"close-button",3,"click"],[1,"edit-form",3,"ngSubmit"],[1,"form-section"],[1,"form-group-row"],[1,"form-group"],["for","firstName"],["id","firstName","type","text","name","firstName","required","",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["for","lastName"],["id","lastName","type","text","name","lastName","required","",3,"ngModelChange","ngModel"],["for","email"],["id","email","type","email","name","email","required","","email","","readonly","",3,"ngModelChange","ngModel"],[1,"info-text"],["for","phoneNumber"],["id","phoneNumber","type","tel","name","phoneNumber","placeholder","Ex: +40 123 456 789",3,"ngModelChange","ngModel"],["for","address"],["id","address","name","address","placeholder","Ex: Strada Exemplu nr. 123, Bucure\u0219ti","rows","3",3,"ngModelChange","ngModel"],[1,"form-section","password-section"],[1,"section-info"],["for","currentPassword"],["id","currentPassword","type","password","name","currentPassword","autocomplete","current-password",3,"ngModelChange","ngModel"],["for","newPassword"],["id","newPassword","type","password","name","newPassword","minlength","6","autocomplete","new-password",3,"ngModelChange","ngModel"],["for","confirmPassword"],["id","confirmPassword","type","password","name","confirmPassword","autocomplete","new-password",3,"ngModelChange","ngModel"],[1,"form-actions"],["type","button",1,"cancel-button",3,"click"],["type","submit",1,"save-button",3,"disabled"],[4,"ngIf"],[1,"error-message"]],template:function(t,i){t&1&&_(0,mR,74,16,"div",7),t&2&&f("ngIf",i.isVisible)},dependencies:[Ce,q,ge,wt,ze,Te,xt,Mt,Hm,$m,Ne,Tt],styles:[".edit-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.edit-modal[_ngcontent-%COMP%]{background:#fff;box-shadow:0 8px 32px #0003;max-width:700px;width:90%;max-height:90vh;overflow-y:auto;font-family:Roboto Mono,monospace}.edit-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:24px 32px 16px;border-bottom:2px solid #e0caff}.edit-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:24px;color:#333}.close-button[_ngcontent-%COMP%]{background:none;border:none;font-size:28px;cursor:pointer;color:#666;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center}.close-button[_ngcontent-%COMP%]:hover{color:#333}.edit-form[_ngcontent-%COMP%]{padding:24px 32px 32px}.form-section[_ngcontent-%COMP%]{margin-bottom:32px}.form-section[_ngcontent-%COMP%]:not(:last-child){padding-bottom:24px;border-bottom:2px solid #f0f0f0}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:18px;color:#333;font-weight:700}.section-info[_ngcontent-%COMP%]{color:#666;font-size:12px;margin-top:-8px;margin-bottom:20px;font-style:italic}.form-group-row[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap}.form-group[_ngcontent-%COMP%]{margin-bottom:20px;flex:1;min-width:200px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:700;color:#333;font-size:14px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #c9b7ff;border-radius:6px;font-family:Roboto Mono,monospace;font-size:14px;transition:border-color .3s ease;box-sizing:border-box;resize:vertical}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#a087ff}.form-group[_ngcontent-%COMP%]   input.ng-invalid.ng-touched[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.form-group[_ngcontent-%COMP%]   input[readonly][_ngcontent-%COMP%]{background-color:#f8f8f8;color:#666;cursor:not-allowed}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{min-height:80px;line-height:1.5}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:12px;margin-top:4px}.info-text[_ngcontent-%COMP%]{color:#666;font-size:12px;margin-top:4px;font-style:italic}.password-section[_ngcontent-%COMP%]{margin-top:32px;padding-top:24px;border-top:2px solid #e0caff}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:16px;margin-top:32px;padding-top:24px;border-top:1px solid #eee}.cancel-button[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#000;font-family:Roboto Mono,monospace;font-size:14px;font-weight:700;border:2px solid black;border-radius:6px;padding:12px 24px;cursor:pointer;transition:background-color .3s ease}.cancel-button[_ngcontent-%COMP%]:hover{background-color:#e8e8e8}.save-button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:14px;font-weight:700;border:2px solid black;border-radius:6px;padding:12px 24px;cursor:pointer;transition:background-color .3s ease}.save-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#cbb6ff}.save-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 768px){.edit-modal[_ngcontent-%COMP%]{width:95%;margin:10px}.edit-header[_ngcontent-%COMP%], .edit-form[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.form-group-row[_ngcontent-%COMP%]{flex-direction:column}.form-group[_ngcontent-%COMP%]{min-width:auto}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};var $n=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Photo";addProfilePicture(e){new FormData().append("file",e);let i=this.authService.getToken(),r=new j({Authorization:`Bearer ${i}`});return this.http.post(`${this.baseUrl}/AddProfilePicture`,{file:e},{headers:r})}updateProfilePicture(e){let t=new FormData;t.append("file",e);let i=this.authService.getToken(),r=new j({Authorization:`Bearer ${i}`});return this.http.patch(`${this.baseUrl}/UpdateProfilePicture`,t,{headers:r})}addPortfolioPicture(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.post(`${this.baseUrl}/AddPortfolioPicture`,e,{headers:i})}deletePortfolioPicture(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.delete(`${this.baseUrl}/DeletePortfolioPicture/${e}`,{headers:i})}uploadPhotoToConversation(e,t){if(console.log("\u{1F4F8} Before FormData creation:",{file:t,fileName:t?.name,fileSize:t?.size,fileType:t?.type,fileConstructor:t?.constructor?.name,isFileInstance:t instanceof File,isBlob:t instanceof Blob}),!t||!(t instanceof File))throw console.error("\u274C Invalid file object:",t),new Error("Invalid file object");if(t.size===0)throw console.error("\u274C File is empty (0 bytes)"),new Error("File is empty");let i=new FormData;try{i.append("file",t,t.name),console.log("\u2705 File appended to FormData successfully"),console.log("\u{1F4CB} FormData verification:"),console.log("  FormData has entries:",i.has("file")),console.log("  FormData get file:",i.get("file")," and media type");let s=Array.from(i.entries());console.log("  FormData entries count:",s.length),s.forEach(([l,u])=>{console.log(`    ${l}:`,u instanceof File?`File(${u.name}, ${u.size} bytes)`:u)})}catch(s){throw console.error("\u274C Error appending file to FormData:",s),s}let r=this.authService.getToken(),o=new j({Authorization:`Bearer ${r}`});return this.http.post(`${this.baseUrl}/AddConversationPhoto/${e}`,i,{headers:o})}validatePhotoFile(e){if(console.log("\u{1F50D} Validating file:",{name:e?.name,size:e?.size,type:e?.type}),!e)return{isValid:!1,error:"No file selected"};if(e.size===0)return{isValid:!1,error:"File is empty (0 bytes)"};let t=10*1024*1024;return["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type.toLowerCase())?e.size>t?{isValid:!1,error:`File size too large: ${(e.size/1024/1024).toFixed(2)}MB. Maximum size is 10MB.`}:{isValid:!0}:{isValid:!1,error:`Invalid file type: ${e.type}. Please select a JPEG, PNG, GIF, or WebP image.`}}static \u0275fac=function(t){return new(t||n)(T(Se),T(Y))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};function hR(n,e){if(n&1){let t=D();c(0,"app-edit-specialist-info",15),v("close",function(){y(t);let r=m();return b(r.onCloseEditSpecialistModal())})("specialistUpdated",function(r){y(t);let o=m();return b(o.onSpecialistUpdated(r))}),a()}if(n&2){let t=m();f("isVisible",t.showEditSpecialistModal)("user",t.user)("userRole",t.userRole)}}function vR(n,e){if(n&1&&(c(0,"span",26),d(1),a()),n&2){let t=e.$implicit;p(),R(t)}}function _R(n,e){if(n&1){let t=D();c(0,"div",16)(1,"div",17)(2,"h2",18),d(3,"Anun\u021Bul t\u0103u"),a(),c(4,"div",19)(5,"div",20)(6,"div",21)(7,"span",22),d(8,"Categorii:"),a(),_(9,vR,2,1,"span",23),a(),c(10,"div",24)(11,"span",22),d(12,"Ani experien\u021B\u0103:"),a(),d(13),a()(),c(14,"div",25)(15,"span",22),d(16,"Descriere:"),a(),d(17),a()()(),c(18,"app-icon-button",11),v("onClick",function(){y(t);let r=m();return b(r.openEditSpecialistModal())}),a()()}if(n&2){let t=m();p(9),f("ngForOf",t.user==null?null:t.user.categories),p(4),I(" ",t.user==null?null:t.user.yearsExperience," "),p(4),I(" ",t.user==null?null:t.user.description," "),p(),f("label","Editeaz\u0103 anun\u021Bul")("icon","assets/icons/edit.svg")}}function yR(n,e){if(n&1){let t=D();c(0,"div")(1,"app-icon-button",11),v("onClick",function(){y(t);let r=m();return b(r.goToBankAccount())}),a()()}n&2&&(p(),f("label","Contul ExpertEase")("icon","assets/icons/account.svg"))}var jd=class n{constructor(e,t,i,r){this.profileService=e;this.authService=t;this.photoService=i;this.route=r}user;userRole;showEditUserModal=!1;showEditSpecialistModal=!1;ngOnInit(){this.userRole=this.authService.getUserRole(),this.loadUserProfile()}loadUserProfile(){this.profileService.getUserProfile().subscribe({next:e=>{this.user=e.response,console.log(this.user)},error:e=>{console.error(e)}})}onFileSelected(e){let t=e.target.files[0];t&&this.photoService.addProfilePicture(t).subscribe({next:i=>{console.log("Upload success:",i),this.loadUserProfile()},error:i=>{console.error("Upload error:",i)}})}openEditUserModal(){this.showEditUserModal=!0}onCloseEditUserModal(){this.showEditUserModal=!1}onUserUpdated(e){this.user=e,console.log("User profile updated:",e)}openEditSpecialistModal(){this.showEditSpecialistModal=!0}onCloseEditSpecialistModal(){this.showEditSpecialistModal=!1}onSpecialistUpdated(e){this.user=e,console.log("Specialist profile updated:",e),this.loadUserProfile()}goToReviews(){this.route.navigate(["profile/user-reviews"])}goToBankAccount(){this.route.navigate(["profile/stripe-account"])}goToHistory(){}goToSettings(){this.route.navigate(["profile/user-settings"])}logout(){window.confirm("Sigur vrei s\u0103 te deloghezi?")&&(this.authService.logout(),this.route.navigate(["/home"]))}static \u0275fac=function(t){return new(t||n)(w(ut),w(Y),w($n),w(xe))};static \u0275cmp=F({type:n,selectors:[["app-profile"]],decls:36,vars:22,consts:[[3,"close","userUpdated","isVisible","user"],[3,"isVisible","user","userRole","close","specialistUpdated",4,"ngIf"],[1,"account-card"],[1,"account-header"],[1,"avatar-wrapper"],[1,"avatar"],["alt","User avatar",3,"src"],[1,"upload-btn"],["type","file","accept","image/*","hidden","",3,"change"],["src","assets/icons/photo_media.svg","alt","Upload icon"],[1,"account-info"],[3,"onClick","label","icon"],["class","card",4,"ngIf"],[1,"account-actions"],[4,"ngIf"],[3,"close","specialistUpdated","isVisible","user","userRole"],[1,"card"],[1,"info"],[1,"full-name"],[1,"details-block"],[1,"row"],[1,"categories"],[1,"label"],["class","tag",4,"ngFor","ngForOf"],[1,"experience"],[1,"description"],[1,"tag"]],template:function(t,i){if(t&1&&(c(0,"app-edit-user-info",0),v("close",function(){return i.onCloseEditUserModal()})("userUpdated",function(o){return i.onUserUpdated(o)}),a(),_(1,hR,1,3,"app-edit-specialist-info",1),c(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),P(6,"img",6),c(7,"label",7)(8,"input",8),v("change",function(o){return i.onFileSelected(o)}),a(),P(9,"img",9),a()()(),c(10,"div",10)(11,"p")(12,"strong"),d(13,"Nume:"),a(),d(14),a(),c(15,"p")(16,"strong"),d(17,"Adresa mail:"),a(),d(18),a(),c(19,"p")(20,"strong"),d(21,"Parol\u0103:"),a(),d(22," ********"),a(),c(23,"p")(24,"strong"),d(25,"Creat la data de:"),a(),d(26),Z(27,"date"),a()(),c(28,"app-icon-button",11),v("onClick",function(){return i.openEditUserModal()}),a()(),_(29,_R,19,5,"div",12),c(30,"div",13)(31,"app-icon-button",11),v("onClick",function(){return i.goToReviews()}),a(),c(32,"app-icon-button",11),v("onClick",function(){return i.goToHistory()}),a(),_(33,yR,2,2,"div",14),c(34,"app-icon-button",11),v("onClick",function(){return i.goToSettings()}),a(),c(35,"app-icon-button",11),v("onClick",function(){return i.logout()}),a()()()),t&2){let r;f("isVisible",i.showEditUserModal)("user",(r=i.user)!==null&&r!==void 0?r:null),p(),f("ngIf",i.userRole==="Specialist"),p(5),f("src",(i.user==null?null:i.user.profilePictureUrl)||"assets/avatar.svg",ye),p(8),I(" ",i.user==null?null:i.user.fullName," "),p(4),I(" ",i.user==null?null:i.user.email,""),p(8),I(" ",$e(27,19,i.user==null?null:i.user.createdAt,"dd.MM.yyyy"),""),p(2),f("label","Editeaz\u0103 profilul")("icon","assets/icons/edit.svg"),p(),f("ngIf",i.userRole==="Specialist"),p(2),f("label","Recenziile tale")("icon","assets/icons/reviews.svg"),p(),f("label","Istoric servicii")("icon","assets/icons/history.svg"),p(),f("ngIf",i.userRole==="Specialist"),p(),f("label","Set\u0103rile contului")("icon","assets/icons/settings.svg"),p(),f("label","Deconecteaz\u0103-te")("icon","assets/icons/logout.svg")}},dependencies:[ot,Ld,ce,q,Vd,zd],styles:[".account-card[_ngcontent-%COMP%]{background:#e0caff;max-width:1000px;margin:32px auto;box-shadow:0 4px 16px #0000001a;font-family:Roboto Mono,monospace;border:3px solid black}.account-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:32px;gap:32px}.account-info[_ngcontent-%COMP%]{flex:1;margin-left:32px;font-size:16px}.account-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px 78px;padding:32px}.card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#a08ad2;padding:20px 32px;width:100%;gap:20px;justify-content:space-between;box-sizing:border-box;border-top:3px solid black;border-bottom:3px solid black;font-family:Roboto Mono,monospace}.info[_ngcontent-%COMP%]{flex:1}.full-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-top:.25rem;margin-bottom:.5rem}.full-name[_ngcontent-%COMP%]:hover{text-decoration:underline}.details-block[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:12px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.categories[_ngcontent-%COMP%], .experience[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{font-size:.95rem}.label[_ngcontent-%COMP%]{font-weight:700;margin-right:6px}.tag[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:160px;aspect-ratio:1/1}.avatar[_ngcontent-%COMP%]{position:relative;width:160px;height:160px;overflow:hidden}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover;display:block}.rating-badge[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;display:inline-flex;align-items:center;gap:.3em;background:#fff;padding:.2em .5em;border-radius:.6em;font-size:1.2em;box-shadow:0 1px 4px #0000001a}.rating-badge[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1em;height:1em}.upload-btn[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:4px;background:#fff;border-radius:50%;padding:6px;cursor:pointer;font-size:18px}.upload-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0}.upload-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}"]})};var bR=(n,e)=>({"bubble-left":n,"bubble-right":e}),CR=(n,e)=>({left:n,right:e}),Bd=class n{message;currentUserId;get isOwnMessage(){return this.message.senderId===this.currentUserId}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["app-message-bubble"]],inputs:{message:"message",currentUserId:"currentUserId"},decls:6,vars:13,consts:[[1,"bubble",3,"ngClass"],[1,"bubble-content",3,"ngClass"],[1,"timestamp"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1),d(2),c(3,"div",2),d(4),Z(5,"date"),a()()()),t&2&&(f("ngClass",jt(7,bR,!i.isOwnMessage,i.isOwnMessage)),p(),f("ngClass",jt(10,CR,!i.isOwnMessage,i.isOwnMessage)),p(),I(" ",i.message.content," "),p(2),R($e(5,4,i.message.createdAt,"shortTime")))},dependencies:[ot,Ae],styles:[".bubble[_ngcontent-%COMP%]{display:flex;width:100%;margin:8px 0}.bubble-left[_ngcontent-%COMP%]{justify-content:flex-start}.bubble-right[_ngcontent-%COMP%]{justify-content:flex-end}.bubble-content[_ngcontent-%COMP%]{display:inline-block;padding:10px 14px;border-radius:12px;font-size:12px;word-wrap:break-word;min-width:80px;max-width:70%;text-align:left}.bubble-content.left[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #514c70;color:#000;border-top-left-radius:4px}.bubble-content.right[_ngcontent-%COMP%]{background-color:#a79ed7;border:1px solid #514c70;color:#000;border-top-right-radius:4px}.bubble-content[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:10px;opacity:.6;margin-top:4px;text-align:right}"]})};var wR=(n,e)=>({"request-left":n,"request-right":e}),MR=(n,e)=>({"rejected-bg":n,"accepted-bg":e});function SR(n,e){n&1&&(c(0,"p",5),d(1,"\xCEn a\u0219teptare..."),a())}function DR(n,e){if(n&1){let t=D();c(0,"div",6)(1,"button",7),v("click",function(){y(t);let r=m(2);return b(r.acceptRequest())}),d(2," Accept\u0103 "),a(),c(3,"button",8),v("click",function(){y(t);let r=m(2);return b(r.rejectRequest())}),d(4," Respinge "),a()()}}function ER(n,e){if(n&1&&(c(0,"div"),_(1,SR,2,0,"p",4)(2,DR,5,0,"div",3),a()),n&2){let t=m();p(),f("ngIf",t.userRole==="Client"),p(),f("ngIf",t.userRole==="Specialist")}}function PR(n,e){if(n&1){let t=D();c(0,"div",6)(1,"button",9),v("click",function(){y(t);let r=m();return b(r.triggerOffer())}),d(2,"F\u0103 o ofert\u0103"),a()()}}var $d=class n{constructor(e){this.authService=e}request={id:"",senderId:"",requestedStartDate:new Date,description:"",status:"Pending",senderPhoneNumber:"",senderAddress:""};currentUserId;userRole="";requestAccepted=new V;requestRejected=new V;makeOffer=new V;ngOnInit(){this.userRole=this.authService.getUserRole(),console.log(this.request)}acceptRequest(){this.requestAccepted.emit(this.request.id)}rejectRequest(){this.requestRejected.emit(this.request.id)}showOfferButton(){return this.request.status==="Accepted"&&this.userRole==="Specialist"}triggerOffer(){console.log("Fac o oferta pentru cererea:",this.request.id),this.makeOffer.emit(this.request.id)}get isOwnMessage(){return this.request.senderId===this.currentUserId}static \u0275fac=function(t){return new(t||n)(w(Y))};static \u0275cmp=F({type:n,selectors:[["app-request-message"]],inputs:{request:"request",currentUserId:"currentUserId"},outputs:{requestAccepted:"requestAccepted",requestRejected:"requestRejected",makeOffer:"makeOffer"},decls:23,vars:17,consts:[[1,"request",3,"ngClass"],[1,"request-summary",3,"ngClass"],[4,"ngIf"],["class","action-buttons",4,"ngIf"],["class","status-button",4,"ngIf"],[1,"status-button"],[1,"action-buttons"],[1,"accept-btn",3,"click"],[1,"reject-btn",3,"click"],[1,"offer-btn",3,"click"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"h3"),d(3,"Solicitare"),a(),c(4,"p")(5,"strong"),d(6,"Data \u0219i ora:"),a(),d(7),Z(8,"date"),a(),c(9,"p")(10,"strong"),d(11,"Descriere:"),a(),d(12),a(),c(13,"p")(14,"strong"),d(15,"Adres\u0103:"),a(),d(16),a(),c(17,"p")(18,"strong"),d(19,"Telefon:"),a(),d(20),a(),_(21,ER,3,2,"div",2)(22,PR,3,0,"div",3),a()()),t&2&&(f("ngClass",jt(11,wR,!i.isOwnMessage,i.isOwnMessage)),p(),f("ngClass",jt(14,MR,i.request.status==="Rejected",i.request.status==="Accepted"||i.request.status==="Completed")),p(6),I(" ",$e(8,8,i.request.requestedStartDate,"short"),""),p(5),I(" ",i.request.description,""),p(4),I(" ",i.request.senderAddress,""),p(4),I(" ",i.request.senderPhoneNumber,""),p(),f("ngIf",i.request.status==="Pending"),p(),f("ngIf",i.showOfferButton()))},dependencies:[ot,q,Ae],styles:['@charset "UTF-8";.request[_ngcontent-%COMP%]{display:flex;width:100%}.request-left[_ngcontent-%COMP%]{justify-content:flex-start}.request-right[_ngcontent-%COMP%]{justify-content:flex-end}.request-center[_ngcontent-%COMP%]{justify-content:center}.request-summary[_ngcontent-%COMP%]{max-width:300px;margin:8px;padding:12px;border:2px solid black;background-color:#f8faff;font-size:.8rem;line-height:1.4;border-radius:6px;font-family:Roboto Mono,monospace}.request-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}.request-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-size:1rem;text-align:center}.request-status[_ngcontent-%COMP%]{display:inline-block;margin-top:.5rem;padding:.25rem .5rem;font-weight:700;border-radius:4px}.status-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.status-pending[_ngcontent-%COMP%]{background-color:#fff5c4;color:#856404}.status-accepted[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.status-rejected[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.accepted-bg[_ngcontent-%COMP%]{background-color:#d4edda;border:4px solid #155724}.rejected-bg[_ngcontent-%COMP%]{background-color:#f8d7da;border:4px solid #721c24}.action-buttons[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:10px;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out;font-family:Roboto Mono,monospace}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background-color:#9bc2a3;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]:hover{background-color:#be8a90;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .offer-btn[_ngcontent-%COMP%]{background-color:#d4e2ed;color:#001b3f}.action-buttons[_ngcontent-%COMP%]   .offer-btn[_ngcontent-%COMP%]:hover{background-color:#78a2c4;box-shadow:0 2px 6px #0003}']})};var IR=(n,e)=>({"reply-left":n,"reply-right":e}),OR=(n,e)=>({"rejected-bg":n,"accepted-bg":e});function TR(n,e){n&1&&(c(0,"p"),d(1,"\xCEn a\u0219teptare..."),a())}function kR(n,e){if(n&1){let t=D();c(0,"div",5)(1,"button",6),v("click",function(){y(t);let r=m(2);return b(r.acceptReply())}),d(2," Accept\u0103 "),a(),c(3,"button",7),v("click",function(){y(t);let r=m(2);return b(r.rejectReply())}),d(4," Respinge "),a()()}}function RR(n,e){if(n&1&&(c(0,"div"),_(1,TR,2,0,"p",3)(2,kR,5,0,"div",4),a()),n&2){let t=m();p(),f("ngIf",t.userRole==="Specialist"),p(),f("ngIf",t.userRole==="Client")}}var Hd=class n{constructor(e){this.authService=e}reply={id:"",senderId:"",startDate:new Date,endDate:new Date,price:0,status:"Pending",requestId:""};userRole="";requestId="";currentUserId;replyAccepted=new V;replyRejected=new V;ngOnInit(){this.userRole=this.authService.getUserRole(),console.log("Reply info:",this.reply)}acceptReply(){this.replyAccepted.emit({requestId:this.requestId,replyId:this.reply.id})}rejectReply(){this.replyRejected.emit({requestId:this.requestId,replyId:this.reply.id})}get isOwnMessage(){return this.reply.senderId===this.currentUserId}static \u0275fac=function(t){return new(t||n)(w(Y))};static \u0275cmp=F({type:n,selectors:[["app-reply-message"]],inputs:{reply:"reply",requestId:"requestId",currentUserId:"currentUserId"},outputs:{replyAccepted:"replyAccepted",replyRejected:"replyRejected"},decls:22,vars:27,consts:[[1,"reply",3,"ngClass"],[1,"request-summary",3,"ngClass"],[1,"big-price"],[4,"ngIf"],["class","action-buttons",4,"ngIf"],[1,"action-buttons"],[1,"accept-btn",3,"click"],[1,"reject-btn",3,"click"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"h3"),d(3,"Ofert\u0103"),a(),c(4,"p")(5,"strong"),d(6,"Data:"),a(),d(7),Z(8,"date"),a(),c(9,"p")(10,"strong"),d(11,"De la ora:"),a(),d(12),Z(13,"date"),c(14,"strong"),d(15,"P\xE2n\u0103 la ora:"),a(),d(16),Z(17,"date"),a(),c(18,"div",2),d(19),Z(20,"currency"),a(),_(21,RR,3,2,"div",3),a()()),t&2&&(f("ngClass",jt(21,IR,!i.isOwnMessage,i.isOwnMessage)),p(),f("ngClass",jt(24,OR,i.reply.status==="Rejected",i.reply.status==="Accepted")),p(6),I(" ",$e(8,7,i.reply.startDate,"dd MMMM yyyy"),""),p(5),I(" ",$e(13,10,i.reply.startDate,"HH:mm")," \xA0\u2014\xA0 "),p(4),I(" ",$e(17,13,i.reply.endDate,"HH:mm")," "),p(3),I(" ",Oi(20,16,i.reply.price,"RON","symbol","1.2-2")," "),p(2),f("ngIf",i.reply.status==="Pending"))},dependencies:[ot,q,hr,Ae],styles:['@charset "UTF-8";.reply[_ngcontent-%COMP%]{display:flex;width:100%}.reply-left[_ngcontent-%COMP%]{justify-content:flex-start}.reply-right[_ngcontent-%COMP%]{justify-content:flex-end}.reply-center[_ngcontent-%COMP%]{justify-content:center}.request-summary[_ngcontent-%COMP%]{max-width:300px;margin:8px;padding:12px;border:2px solid black;background-color:#f8faff;font-size:.8rem;line-height:1.4;border-radius:6px;font-family:Roboto Mono,monospace}.request-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}.request-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-size:1rem;text-align:center}.request-status[_ngcontent-%COMP%]{display:inline-block;margin-top:.5rem;padding:.25rem .5rem;font-weight:700;border-radius:4px}.status-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.status-pending[_ngcontent-%COMP%]{background-color:#fff5c4;color:#856404}.status-accepted[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.status-rejected[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.accepted-bg[_ngcontent-%COMP%]{background-color:#d4edda;border:4px solid #155724}.rejected-bg[_ngcontent-%COMP%]{background-color:#f8d7da;border:4px solid #721c24}.action-buttons[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:10px;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out;font-family:Roboto Mono,monospace}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background-color:#9bc2a3;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]:hover{background-color:#be8a90;box-shadow:0 2px 6px #0003}.big-price[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a202c;margin-top:.5rem;margin-bottom:.5rem}']})};var AR=(n,e,t)=>({"rejected-bg":n,"accepted-bg":e,"reviewed-bg":t});function NR(n,e){if(n&1&&(c(0,"p",9),d(1),a()),n&2){let t=m();p(),I(" ",t.getPaymentMessage()," ")}}function FR(n,e){if(n&1){let t=D();c(0,"div",10)(1,"button",11),v("click",function(){y(t);let r=m();return b(r.completeTask())}),d(2," Finalizeaz\u0103 "),a(),c(3,"button",12),v("click",function(){y(t);let r=m();return b(r.cancelTask())}),d(4," Anuleaz\u0103 "),a()()}}function LR(n,e){if(n&1){let t=D();c(0,"div",13)(1,"p",14),d(2,"Cum a fost experien\u021Ba ta?"),a(),c(3,"button",15),v("click",function(){y(t);let r=m();return b(r.openReview())}),d(4," Las\u0103 o Recenzie "),a()()}}function VR(n,e){n&1&&(c(0,"div",16)(1,"p",17),d(2,"Procesul de evaluare a fost finalizat"),a(),c(3,"p",18),d(4,"Mul\u021Bumim pentru feedback-ul t\u0103u!"),a()())}var qd=class n{constructor(e){this.authService=e}serviceTask={id:"",replyId:"",userId:"",specialistId:"",specialistFullName:"",startDate:new Date,endDate:new Date,description:"",address:"",price:0,status:"Confirmed",completedAt:new Date,cancelledAt:new Date};userRole="";userId="";replyId="";taskCompleted=new V;taskCancelled=new V;openReviewForm=new V;ngOnInit(){this.userRole=this.authService.getUserRole(),this.userId=this.authService.getUserId(),console.log("User role:",this.userRole),console.log("User ID:",this.userId)}completeTask(){this.taskCompleted.emit({replyId:this.replyId,taskId:this.serviceTask.id})}cancelTask(){this.taskCancelled.emit({replyId:this.replyId,taskId:this.serviceTask.id})}openReview(){console.log("\u{1F4DD} Opening review form for service task:",this.serviceTask.id),this.openReviewForm.emit()}isSpecialist(){return this.userId===this.serviceTask.specialistId}isClient(){return this.userId===this.serviceTask.userId}getStatusMessage(){switch(this.serviceTask.status){case"Confirmed":return this.isClient()?"Asteapt\u0103, specialistul va ajunge imediat!":this.isSpecialist()?"Serviciul este \xEEn desf\u0103\u0219urare":"Serviciul este confirmat";case"Completed":return"Serviciul a fost finalizat cu succes!";case"Cancelled":return"Serviciul a fost anulat";case"Reviewed":return"Serviciul a fost evaluat";default:return"Status necunoscut"}}getPaymentMessage(){return this.serviceTask.status!=="Completed"?"":this.isSpecialist()?"\u{1F4B0} Plata a fost transferat\u0103 \xEEn contul t\u0103u Stripe.":this.isClient()?"\u{1F4B3} Plata a fost procesat\u0103 \u0219i transferat\u0103 specialistului.":""}canShowActions(){return this.serviceTask.status==="Confirmed"&&this.isSpecialist()}canShowReviewButton(){return this.serviceTask.status==="Completed"}JobStatusEnum=Zm;static \u0275fac=function(t){return new(t||n)(w(Y))};static \u0275cmp=F({type:n,selectors:[["app-service-message"]],inputs:{serviceTask:"serviceTask",replyId:"replyId"},outputs:{taskCompleted:"taskCompleted",taskCancelled:"taskCancelled",openReviewForm:"openReviewForm"},decls:36,vars:30,consts:[[1,"request-wrapper"],[1,"request-summary",3,"ngClass"],[1,"big-price"],[1,"status-message"],[1,"status-text"],["class","payment-message",4,"ngIf"],["class","action-buttons",4,"ngIf"],["class","review-section",4,"ngIf"],["class","reviewed-section",4,"ngIf"],[1,"payment-message"],[1,"action-buttons"],[1,"accept-btn",3,"click"],[1,"reject-btn",3,"click"],[1,"review-section"],[1,"review-prompt"],[1,"review-btn",3,"click"],[1,"reviewed-section"],[1,"reviewed-message"],[1,"thank-you"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"h3"),d(3,"Serviciu"),a(),c(4,"p")(5,"strong"),d(6,"Descriere:"),a(),d(7),a(),c(8,"p")(9,"strong"),d(10,"Data:"),a(),d(11),Z(12,"date"),a(),c(13,"p")(14,"strong"),d(15,"De la ora:"),a(),d(16),Z(17,"date"),c(18,"strong"),d(19,"P\xE2n\u0103 la ora:"),a(),d(20),Z(21,"date"),a(),c(22,"p")(23,"strong"),d(24,"Adres\u0103:"),a(),d(25),a(),c(26,"div",2),d(27),Z(28,"currency"),a(),c(29,"div",3)(30,"p",4),d(31),a(),_(32,NR,2,1,"p",5),a(),_(33,FR,5,0,"div",6)(34,LR,5,0,"div",7)(35,VR,5,0,"div",8),a()()),t&2&&(p(),f("ngClass",iy(26,AR,i.serviceTask.status===i.JobStatusEnum.Cancelled,i.serviceTask.status===i.JobStatusEnum.Completed,i.serviceTask.status===i.JobStatusEnum.Reviewed)),p(6),I(" ",i.serviceTask.description,""),p(4),I(" ",$e(12,12,i.serviceTask.startDate,"dd MMMM yyyy"),""),p(5),I(" ",$e(17,15,i.serviceTask.startDate,"HH:mm")," \xA0\u2014\xA0 "),p(4),I(" ",$e(21,18,i.serviceTask.endDate,"HH:mm")," "),p(5),I(" ",i.serviceTask.address,""),p(2),I(" ",Oi(28,21,i.serviceTask.price,"RON","symbol","1.2-2")," "),p(4),R(i.getStatusMessage()),p(),f("ngIf",i.serviceTask.status===i.JobStatusEnum.Completed),p(),f("ngIf",i.canShowActions()),p(),f("ngIf",i.canShowReviewButton()),p(),f("ngIf",i.serviceTask.status===i.JobStatusEnum.Reviewed))},dependencies:[hr,ot,Ae,q],styles:[".request-summary[_ngcontent-%COMP%]{max-width:300px;margin:8px auto;padding:12px;border:2px solid black;background-color:#f8faff;font-size:.8rem;line-height:1.4;border-radius:6px;font-family:Roboto Mono,monospace}.request-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}.request-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-size:1rem;text-align:center}.request-status[_ngcontent-%COMP%]{display:inline-block;margin-top:.5rem;padding:.25rem .5rem;font-weight:700;border-radius:4px}.status-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.accepted-bg[_ngcontent-%COMP%]{background-color:#d4edda;border:4px solid #155724}.rejected-bg[_ngcontent-%COMP%]{background-color:#f8d7da;border:4px solid #721c24}.reviewed-bg[_ngcontent-%COMP%]{background-color:#fff3cd;border:4px solid #ffc107}.action-buttons[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:10px;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:2px solid transparent;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out;font-family:Roboto Mono,monospace}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border-color:#28a745}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background-color:#9bc2a3;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border-color:#dc3545}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]:hover{background-color:#be8a90;box-shadow:0 2px 6px #0003}.big-price[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a202c;margin-top:.5rem;margin-bottom:.5rem;text-align:center}.status-message[_ngcontent-%COMP%]{text-align:center;margin:10px 0}.status-message[_ngcontent-%COMP%]   .status-text[_ngcontent-%COMP%]{font-weight:600;color:#4a5568;margin-bottom:5px}.status-message[_ngcontent-%COMP%]   .payment-message[_ngcontent-%COMP%]{font-size:.75rem;color:#2d3748;font-style:italic;margin-top:5px}.review-section[_ngcontent-%COMP%]{text-align:center;margin-top:15px;padding:10px;background-color:#f7fafc;border-radius:6px;border:1px solid #e2e8f0}.review-section[_ngcontent-%COMP%]   .review-prompt[_ngcontent-%COMP%]{font-weight:600;color:#4a5568;margin-bottom:10px;font-size:.85rem}.review-section[_ngcontent-%COMP%]   .review-btn[_ngcontent-%COMP%]{background-color:gold;color:#2d3748;border:2px solid #f6c90e;padding:8px 16px;border-radius:6px;font-weight:600;cursor:pointer;transition:all .2s ease;font-family:Roboto Mono,monospace;font-size:.8rem}.review-section[_ngcontent-%COMP%]   .review-btn[_ngcontent-%COMP%]:hover{background-color:#f6c90e;transform:translateY(-1px);box-shadow:0 2px 6px #00000026}.review-section[_ngcontent-%COMP%]   .review-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}.reviewed-section[_ngcontent-%COMP%]{text-align:center;margin-top:15px;padding:10px;background-color:#fffbeb;border-radius:6px;border:1px solid #fbbf24}.reviewed-section[_ngcontent-%COMP%]   .reviewed-message[_ngcontent-%COMP%]{font-weight:600;color:#92400e;margin-bottom:5px;font-size:.85rem}.reviewed-section[_ngcontent-%COMP%]   .thank-you[_ngcontent-%COMP%]{font-size:.75rem;color:#a16207;font-style:italic;margin:0}"]})};function zR(n,e){n&1&&(c(0,"div",34),d(1," Data este obligatorie. "),a())}function UR(n,e){n&1&&(c(0,"div",34),d(1," Ora de \xEEnceput este obligatorie. "),a())}function jR(n,e){n&1&&(c(0,"div",34),d(1," Ora de sf\xE2r\u0219it este obligatorie. "),a())}function BR(n,e){n&1&&(c(0,"div",34),d(1," Pre\u021Bul este obligatoriu. "),a())}var Wd=class n{constructor(e){this.router=e}replyForm={day:null,month:null,year:null,startHour:null,startMinute:null,endHour:null,endMinute:null,price:null};formSubmit=new V;close=new V;formSubmitted=!1;submitReply(e){if(this.formSubmitted=!0,e.invalid){Object.keys(e.controls).forEach(o=>{e.controls[o].markAsTouched()});return}let t=this.combineDateTime("start"),i=this.combineDateTime("end"),r={startDate:t,endDate:i,price:this.replyForm.price};this.formSubmit.emit(r)}combineDateTime(e){let t=this.replyForm.day||1,i=(this.replyForm.month||1)-1,r=this.replyForm.year||new Date().getFullYear(),o=e==="start"?this.replyForm.startHour||0:this.replyForm.endHour||0,s=e==="start"?this.replyForm.startMinute||0:this.replyForm.endMinute||0;return new Date(r,i,t,o,s,0,0)}closeForm(){this.close.emit()}static \u0275fac=function(t){return new(t||n)(w(xe))};static \u0275cmp=F({type:n,selectors:[["app-reply-form"]],inputs:{replyForm:"replyForm"},outputs:{formSubmit:"formSubmit",close:"close"},decls:68,vars:13,consts:[["formRef","ngForm"],["dayCtrl","ngModel"],["monthCtrl","ngModel"],["yearCtrl","ngModel"],["startHourCtrl","ngModel"],["startMinuteCtrl","ngModel"],["endHourCtrl","ngModel"],["endMinuteCtrl","ngModel"],["priceCtrl","ngModel"],[1,"request-form-wrapper"],[1,"close-button",3,"click"],[1,"request-form",3,"ngSubmit"],[1,"datetime-row"],[1,"date-fields"],[1,"date-field"],[1,"input-box"],["type","number","name","day","placeholder","ZZ","min","1","max","31","required","",3,"ngModelChange","ngModel"],[1,"date-separator"],["type","number","name","month","placeholder","LL","min","1","max","12","required","",3,"ngModelChange","ngModel"],["type","number","name","year","placeholder","AAAA","min","2024","max","2030","required","",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],[1,"time-row"],[1,"time-fields"],[1,"time-field"],["type","number","name","startHour","placeholder","HH","min","0","max","23","required","",3,"ngModelChange","ngModel"],[1,"time-separator"],["type","number","name","startMinute","placeholder","MM","min","0","max","59","required","",3,"ngModelChange","ngModel"],["type","number","name","endHour","placeholder","HH","min","0","max","23","required","",3,"ngModelChange","ngModel"],["type","number","name","endMinute","placeholder","MM","min","0","max","59","required","",3,"ngModelChange","ngModel"],[1,"input-box","price-input"],["type","number","name","price","placeholder","ex: 150.00","step","0.01","min","0","required","",3,"ngModelChange","ngModel"],[1,"currency"],[1,"center-button"],["type","submit",3,"disabled"],[1,"error"]],template:function(t,i){if(t&1){let r=D();c(0,"div",9)(1,"button",10),v("click",function(){return y(r),b(i.closeForm())}),d(2,"\xD7"),a(),c(3,"h2"),d(4,"Trimite o ofert\u0103"),a(),c(5,"form",11,0),v("ngSubmit",function(){y(r);let s=K(6);return b(i.submitReply(s))}),c(7,"label"),d(8," Data: "),c(9,"div",12)(10,"div",13)(11,"div",14)(12,"div",15)(13,"input",16,1),U("ngModelChange",function(s){return y(r),B(i.replyForm.day,s)||(i.replyForm.day=s),b(s)}),a()()(),c(15,"span",17),d(16,"/"),a(),c(17,"div",14)(18,"div",15)(19,"input",18,2),U("ngModelChange",function(s){return y(r),B(i.replyForm.month,s)||(i.replyForm.month=s),b(s)}),a()()(),c(21,"span",17),d(22,"/"),a(),c(23,"div",14)(24,"div",15)(25,"input",19,3),U("ngModelChange",function(s){return y(r),B(i.replyForm.year,s)||(i.replyForm.year=s),b(s)}),a()()()()(),_(27,zR,2,0,"div",20),a(),c(28,"div",21)(29,"label"),d(30," De la: "),c(31,"div",22)(32,"div",23)(33,"div",15)(34,"input",24,4),U("ngModelChange",function(s){return y(r),B(i.replyForm.startHour,s)||(i.replyForm.startHour=s),b(s)}),a()()(),c(36,"span",25),d(37,":"),a(),c(38,"div",23)(39,"div",15)(40,"input",26,5),U("ngModelChange",function(s){return y(r),B(i.replyForm.startMinute,s)||(i.replyForm.startMinute=s),b(s)}),a()()()(),_(42,UR,2,0,"div",20),a(),c(43,"label"),d(44," P\xE2n\u0103 la: "),c(45,"div",22)(46,"div",23)(47,"div",15)(48,"input",27,6),U("ngModelChange",function(s){return y(r),B(i.replyForm.endHour,s)||(i.replyForm.endHour=s),b(s)}),a()()(),c(50,"span",25),d(51,":"),a(),c(52,"div",23)(53,"div",15)(54,"input",28,7),U("ngModelChange",function(s){return y(r),B(i.replyForm.endMinute,s)||(i.replyForm.endMinute=s),b(s)}),a()()()(),_(56,jR,2,0,"div",20),a()(),c(57,"label"),d(58," Pre\u021B: "),c(59,"div",29)(60,"input",30,8),U("ngModelChange",function(s){return y(r),B(i.replyForm.price,s)||(i.replyForm.price=s),b(s)}),a(),c(62,"span",31),d(63,"RON"),a()(),_(64,BR,2,0,"div",20),a(),c(65,"div",32)(66,"button",33),d(67," Trimite oferta "),a()()()()}if(t&2){let r=K(6),o=K(14),s=K(20),l=K(26),u=K(35),g=K(41),h=K(49),C=K(55),M=K(61);p(13),z("ngModel",i.replyForm.day),p(6),z("ngModel",i.replyForm.month),p(6),z("ngModel",i.replyForm.year),p(2),f("ngIf",(o.invalid||s.invalid||l.invalid)&&(o.dirty||o.touched||s.dirty||s.touched||l.dirty||l.touched||i.formSubmitted)),p(7),z("ngModel",i.replyForm.startHour),p(6),z("ngModel",i.replyForm.startMinute),p(2),f("ngIf",(u.invalid||g.invalid)&&(u.dirty||u.touched||g.dirty||g.touched||i.formSubmitted)),p(6),z("ngModel",i.replyForm.endHour),p(6),z("ngModel",i.replyForm.endMinute),p(2),f("ngIf",(h.invalid||C.invalid)&&(h.dirty||h.touched||C.dirty||C.touched||i.formSubmitted)),p(4),z("ngModel",i.replyForm.price),p(4),f("ngIf",M.invalid&&(M.dirty||M.touched||i.formSubmitted)),p(2),f("disabled",r.invalid&&i.formSubmitted)}},dependencies:[ge,wt,ze,vi,Te,xt,Mt,Ir,Pr,Ne,Tt,q],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000;padding:1rem;box-sizing:border-box}.request-form-wrapper[_ngcontent-%COMP%]{position:relative;max-width:800px;max-height:90vh;background-color:#e8d9ff;border:2px solid #000;padding:2rem;font-family:Roboto Mono,monospace;border-radius:8px;box-shadow:0 4px 12px #00000026;overflow-y:auto;margin:0}.close-button[_ngcontent-%COMP%]{position:absolute;top:10px;right:15px;background:none;border:none;font-size:24px;font-weight:700;cursor:pointer;color:#333;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;z-index:2}.close-button[_ngcontent-%COMP%]:hover{color:#000;background-color:#0000001a;border-radius:50%}.request-form-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:1.25rem;margin-bottom:1.5rem;margin-top:0;padding-left:40px;padding-right:40px;position:relative;width:100%;box-sizing:border-box}.request-form[_ngcontent-%COMP%]{max-height:calc(90vh - 4rem);overflow-y:auto}.request-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;font-size:.95rem;font-weight:500}.datetime-row[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;margin-top:4px}.date-fields[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px}.time-row[_ngcontent-%COMP%]{display:flex;gap:2rem}.time-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;margin-bottom:1rem}.time-fields[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;margin-top:4px}.date-field[_ngcontent-%COMP%]{flex:1}.date-field[_ngcontent-%COMP%]:nth-child(5){flex:1.5}.time-field[_ngcontent-%COMP%]{flex:1}.date-separator[_ngcontent-%COMP%], .time-separator[_ngcontent-%COMP%]{font-weight:700;font-size:18px;color:#666;margin:0 2px}.input-box[_ngcontent-%COMP%]{background-color:#f8f5ff;border:2px solid #c9b7ff;border-radius:6px;padding:8px;box-shadow:0 2px 6px #00000014;transition:border-color .3s ease;margin-top:4px;position:relative}.input-box[_ngcontent-%COMP%]:focus-within{border-color:#9a79ff;box-shadow:0 2px 8px #9a79ff33}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;width:100%;font-family:Roboto Mono,monospace;font-size:14px;outline:none;color:#333}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#888;font-style:italic}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-outer-spin-button, .input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.input-box[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}.date-field[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .time-field[_ngcontent-%COMP%]   .input-box[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{text-align:center;font-weight:500}.price-input[_ngcontent-%COMP%]{display:flex;align-items:center}.price-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;text-align:right;padding-right:8px}.price-input[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{color:#666;font-weight:500;font-size:14px;margin-left:4px}.center-button[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1.5rem}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 24px;border:2px solid #000;border-radius:6px;background-color:#c9b7ff;font-weight:700;cursor:pointer;font-family:Roboto Mono,monospace;font-size:14px;transition:all .3s ease}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#b8a3ff;box-shadow:0 2px 6px #0003;transform:translateY(-1px)}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0);box-shadow:0 1px 3px #0003}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#dcdcdc;color:#888;cursor:not-allowed;border-color:#bbb;transform:none;box-shadow:none}.error[_ngcontent-%COMP%]{color:#d8000c;font-size:.85rem;margin-top:4px;padding-left:2px;font-weight:400}@media (max-width: 768px){.overlay[_ngcontent-%COMP%]{padding:.5rem}.request-form-wrapper[_ngcontent-%COMP%]{max-width:100%;padding:1.5rem;max-height:95vh}.request-form-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem;padding-right:35px}.time-row[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.time-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:.5rem}.datetime-row[_ngcontent-%COMP%]{flex-direction:column;gap:8px;align-items:stretch}}@media (max-height: 600px){.request-form-wrapper[_ngcontent-%COMP%]{max-height:98vh;padding:1rem}.request-form-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem}.center-button[_ngcontent-%COMP%]{margin-top:1rem}}"]})};var KC="basil",$R=function(e){return e===3?"v3":e},JC="https://js.stripe.com",HR="".concat(JC,"/").concat(KC,"/stripe.js"),qR=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,WR=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,YC="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",GR=function(e){return qR.test(e)||WR.test(e)},ZR=function(){for(var e=document.querySelectorAll('script[src^="'.concat(JC,'"]')),t=0;t<e.length;t++){var i=e[t];if(GR(i.src))return i}return null},QC=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",i=document.createElement("script");i.src="".concat(HR).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(i),i},YR=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:t})},wa=null,Gd=null,Zd=null,QR=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},KR=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},JR=function(e){return wa!==null?wa:(wa=new Promise(function(t,i){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe&&e&&console.warn(YC),window.Stripe){t(window.Stripe);return}try{var r=ZR();if(r&&e)console.warn(YC);else if(!r)r=QC(e);else if(r&&Zd!==null&&Gd!==null){var o;r.removeEventListener("load",Zd),r.removeEventListener("error",Gd),(o=r.parentNode)===null||o===void 0||o.removeChild(r),r=QC(e)}Zd=KR(t,i),Gd=QR(i),r.addEventListener("load",Zd),r.addEventListener("error",Gd)}catch(s){i(s);return}}),wa.catch(function(t){return wa=null,Promise.reject(t)}))},XR=function(e,t,i){if(e===null)return null;var r=t[0],o=r.match(/^pk_test/),s=$R(e.version),l=KC;o&&s!==l&&console.warn("Stripe.js@".concat(s," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(l,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var u=e.apply(void 0,t);return YR(u,i),u},Ma,XC=!1,ex=function(){return Ma||(Ma=JR(null).catch(function(e){return Ma=null,Promise.reject(e)}),Ma)};Promise.resolve().then(function(){return ex()}).catch(function(n){XC||console.warn(n)});var tx=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];XC=!0;var r=Date.now();return ex().then(function(o){return XR(o,t,r)})};var Wo=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Payment";createPaymentIntent(e){console.log("Creating payment intent with data:",e);let i={Authorization:`Bearer ${this.authService.getToken()}`};return this.http.post(`${this.baseUrl}/CreatePaymentIntent`,e,{headers:i})}calculateProtectionFee(e){console.log("Calculating protection fee for:",e);let i={Authorization:`Bearer ${this.authService.getToken()}`};return this.http.post(`${this.baseUrl}/CalculateProtectionFee`,e,{headers:i})}confirmPayment(e){let i={Authorization:`Bearer ${this.authService.getToken()}`};return this.http.post(`${this.baseUrl}/ConfirmPayment`,e,{headers:i})}getPaymentHistory(e){let i={Authorization:`Bearer ${this.authService.getToken()}`};return this.http.get(`${this.baseUrl}/GetPaymentHistory`,{params:e,headers:i})}getPaymentDetails(e){let i={Authorization:`Bearer ${this.authService.getToken()}`};return this.http.get(`${this.baseUrl}/GetPaymentDetails/${e}`,{headers:i})}refundPayment(e){let i={Authorization:`Bearer ${this.authService.getToken()}`};return this.http.post(`${this.baseUrl}/RefundPayment`,e,{headers:i})}cancelPayment(e){let i={Authorization:`Bearer ${this.authService.getToken()}`};return this.http.post(`${this.baseUrl}/CancelPayment/${e}`,{},{headers:i})}stripeWebhook(e){return this.http.post(`${this.baseUrl}/StripeWebhook`,e)}getPaymentStatus(e){let i={Authorization:`Bearer ${this.authService.getToken()}`};return this.http.get(`${this.baseUrl}/GetPaymentStatus/${e}`,{headers:i})}static \u0275fac=function(t){return new(t||n)(T(Se),T(Y))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var Go=class n{paymentFlowState=new be({isActive:!1,serviceDetails:null,userDetails:null,specialistDetails:null,replyId:null,conversationId:null});paymentFlow$=this.paymentFlowState.asObservable();paymentCompleted=new be(null);paymentCompleted$=this.paymentCompleted.asObservable();initiatePaymentFlow(e,t,i,r,o){this.paymentFlowState.next({isActive:!0,serviceDetails:t,userDetails:i,specialistDetails:r,replyId:e,conversationId:o})}completePayment(e=null){this.paymentCompleted.next(e),this.cancelPaymentFlow()}cancelPaymentFlow(){this.paymentFlowState.next({isActive:!1,serviceDetails:null,userDetails:null,specialistDetails:null,replyId:null,conversationId:null})}getCurrentState(){return this.paymentFlowState.value}getCurrentReplyId(){return this.paymentFlowState.value.replyId}isPaymentFlowActive(){return this.paymentFlowState.value.isActive}getPaymentAmount(){return this.paymentFlowState.value.serviceDetails?.price||0}static \u0275fac=function(t){return new(t||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var Yd=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/CustomerPaymentMethod";savePaymentMethod(e){let i={Authorization:`Bearer ${this.authService.getToken()}`};return this.http.post(`${this.baseUrl}/Add`,e,{headers:i})}getPaymentMethods(){let t={Authorization:`Bearer ${this.authService.getToken()}`};return this.http.get(`${this.baseUrl}/GetAll`,{headers:t})}deletePaymentMethod(e){let i={Authorization:`Bearer ${this.authService.getToken()}`};return this.http.delete(`${this.baseUrl}/Delete/${e}`,{headers:i})}setAsDefault(e){let i={Authorization:`Bearer ${this.authService.getToken()}`};return this.http.put(`${this.baseUrl}/SetDefault/${e}`,{},{headers:i})}static \u0275fac=function(t){return new(t||n)(T(Se),T(Y))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var Wi=class n{notifications=new be([]);notifications$=this.notifications.asObservable();defaultDuration=5e3;show(e,t="info",i){let r={id:`notification_${Date.now()}_${Math.random()}`,type:t,message:e,timestamp:new Date,duration:i??this.defaultDuration},o=this.notifications.value;return this.notifications.next([...o,r]),r.duration&&r.duration>0&&setTimeout(()=>{this.dismiss(r.id)},r.duration),r.id}dismiss(e){let i=this.notifications.value.filter(r=>r.id!==e);this.notifications.next(i)}clear(){this.notifications.next([])}success(e,t){return this.show(e,"success",t)}info(e,t){return this.show(e,"info",t)}warning(e,t){return this.show(e,"warning",t)}error(e,t){return this.show(e,"error",t)}showNotification(e){this.show(e.message,e.type),console.log(`${e.type.toUpperCase()}: ${e.message}`)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var tA=["cardNumberElement"],nA=["cardExpiryElement"],iA=["cardCvcElement"];function rA(n,e){n&1&&(c(0,"span",65),d(1,"Default"),a())}function oA(n,e){if(n&1){let t=D();c(0,"div",54),v("click",function(){let r=y(t).$implicit,o=m(3);return b(o.selectSavedCard(r))}),c(1,"div",55)(2,"div",56)(3,"span",57),d(4),a()(),c(5,"div",58)(6,"span",59),d(7),a(),c(8,"span",60),d(9),a()(),c(10,"div",61),_(11,rA,2,0,"span",62),a()(),c(12,"div",63)(13,"button",64),v("click",function(r){let o=y(t).$implicit;return m(3).deleteSavedCard(o),b(r.stopPropagation())}),d(14," \u{1F5D1}\uFE0F "),a()()()}if(n&2){let t=e.$implicit,i=m(3);fe("selected",(i.selectedSavedCard==null?null:i.selectedSavedCard.id)===t.id),p(4),R(t.cardBrand),p(3),I("\u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ",t.cardLast4,""),p(2),R(t.cardholderName),p(2),f("ngIf",t.isDefault)}}function sA(n,e){if(n&1){let t=D();c(0,"div",49),_(1,oA,15,6,"div",50),c(2,"div",51),v("click",function(){y(t);let r=m(2);return b(r.useNewCard())}),c(3,"div",52)(4,"span",53),d(5,"+"),a(),c(6,"span"),d(7,"Folose\u0219te un card nou"),a()()()()}if(n&2){let t=m(2);p(),f("ngForOf",t.savedPaymentMethods)}}function aA(n,e){if(n&1){let t=D();c(0,"div",44)(1,"div",45)(2,"button",46),v("click",function(){y(t);let r=m();return b(r.toggleSavedCards())}),c(3,"span"),d(4),a(),c(5,"span",47),d(6),a()()(),_(7,sA,8,1,"div",48),a()}if(n&2){let t=m();p(4),mr("",t.showSavedCards?"Ascunde":"Arat\u0103"," cardurile salvate (",t.savedPaymentMethods.length,")"),p(2),R(t.showSavedCards?"\u25B2":"\u25BC"),p(),f("ngIf",t.showSavedCards)}}function cA(n,e){if(n&1){let t=D();c(0,"div",66)(1,"div",67),P(2,"img",68),c(3,"div",69)(4,"strong"),d(5),a(),c(6,"p"),d(7),a(),c(8,"span",70),d(9,"Card salvat"),a()(),c(10,"div",63)(11,"button",71),v("click",function(){y(t);let r=m();return b(r.useNewCard())}),d(12,"Schimb\u0103"),a()()()()}if(n&2){let t=m();p(5),mr("",t.selectedSavedCard.cardBrand," \u2022\u2022\u2022\u2022 ",t.selectedSavedCard.cardLast4,""),p(2),R(t.selectedSavedCard.cardholderName)}}function lA(n,e){n&1&&(c(0,"span",77),d(1,"\u2713"),a())}function dA(n,e){if(n&1){let t=D();c(0,"div",72),v("click",function(){y(t);let r=m();return b(r.openCardDetailsModal())}),P(1,"img",68),c(2,"div",69)(3,"strong"),d(4,"Card bancar"),a(),c(5,"p"),d(6,"Utilizeaz\u0103 un card de credit sau de debit"),a(),c(7,"div",73),P(8,"img",74)(9,"img",75),a()(),_(10,lA,2,0,"span",76),a()}if(n&2){let t=m();fe("selected",t.paymentMethodSelected),p(10),f("ngIf",t.paymentMethodSelected)}}function uA(n,e){if(n&1){let t=D();c(0,"div",78)(1,"div",55)(2,"span",79),d(3),a(),c(4,"span",80),d(5),a()(),c(6,"button",71),v("click",function(){y(t);let r=m();return b(r.openCardDetailsModal())}),d(7,"Modific\u0103"),a()()}if(n&2){let t=m();p(3),I("**** **** **** ",t.cardLast4,""),p(2),R(t.cardBrand)}}function pA(n,e){n&1&&(c(0,"p",81),d(1," Introdu datele cardului pentru a continua "),a())}function fA(n,e){if(n&1&&(c(0,"span",82),d(1),a()),n&2){let t=m();p(),I(" ",t.protectionFeeDisplayText," ")}}function gA(n,e){n&1&&(c(0,"span",83),d(1," Se calculeaz\u0103... "),a())}function mA(n,e){if(n&1&&(c(0,"span",28),d(1),Z(2,"currency"),a()),n&2){let t=m();p(),I(" ",Oi(2,1,t.protectionFee,"RON","symbol","1.2-2")," ")}}function hA(n,e){n&1&&(c(0,"span",84),d(1," ... "),a())}function vA(n,e){if(n&1&&(c(0,"span",85),d(1),Z(2,"currency"),a()),n&2){let t=m();p(),I(" ",Oi(2,1,t.totalAmount,"RON","symbol","1.2-2")," ")}}function _A(n,e){n&1&&(c(0,"span",84),d(1," Se calculeaz\u0103... "),a())}function yA(n,e){n&1&&(c(0,"div",86)(1,"div",87),d(2,"\u{1F6E1}\uFE0F"),a(),c(3,"div",88)(4,"strong"),d(5,"Garan\u021Bie 100%:"),a(),d(6," Banii t\u0103i sunt proteja\u021Bi p\xE2n\u0103 la finalizarea serviciului. \xCEn caz de probleme, po\u021Bi solicita rambursarea integral\u0103. "),a()())}function bA(n,e){n&1&&(c(0,"span"),d(1," \u{1F512} Pl\u0103te\u0219te \xEEn siguran\u021B\u0103 "),a())}function CA(n,e){n&1&&(c(0,"span"),d(1," Se calculeaz\u0103... "),a())}function xA(n,e){n&1&&(c(0,"span"),d(1," Se proceseaz\u0103... "),a())}function wA(n,e){if(n&1&&(c(0,"div",117),d(1),a()),n&2){let t=m(2);p(),R(t.cardNumberError)}}function MA(n,e){if(n&1&&(c(0,"div",117),d(1),a()),n&2){let t=m(2);p(),R(t.cardholderNameError)}}function SA(n,e){if(n&1&&(c(0,"div",117),d(1),a()),n&2){let t=m(2);p(),R(t.cardExpiryError)}}function DA(n,e){if(n&1&&(c(0,"div",117),d(1),a()),n&2){let t=m(2);p(),R(t.cardCvcError)}}function EA(n,e){if(n&1&&(c(0,"span"),d(1),a()),n&2){let t=m(2);p(),I(" ",t.saveCardForFuture?"Salveaz\u0103 \u0219i continu\u0103":"Continu\u0103"," ")}}function PA(n,e){n&1&&(c(0,"span"),d(1,"Se verific\u0103..."),a())}function IA(n,e){if(n&1){let t=D();c(0,"div",89),v("click",function(r){y(t);let o=m();return b(o.closeCardModal(r))}),c(1,"div",90),v("click",function(r){return y(t),b(r.stopPropagation())}),c(2,"div",91)(3,"h3"),d(4,"Introdu datele cardului"),a(),c(5,"button",92),v("click",function(){y(t);let r=m();return b(r.closeCardModal())}),d(6,"\xD7"),a()(),c(7,"div",93)(8,"div",94)(9,"label",95),d(10,"Num\u0103rul cardului"),a(),c(11,"div",96),P(12,"div",97,0),a(),_(14,wA,2,1,"div",98),a(),c(15,"div",94)(16,"label",99),d(17,"Numele titularului"),a(),c(18,"input",100),U("ngModelChange",function(r){y(t);let o=m();return B(o.cardholderName,r)||(o.cardholderName=r),b(r)}),v("input",function(){y(t);let r=m();return b(r.onCardholderNameChange())}),a(),_(19,MA,2,1,"div",98),a(),c(20,"div",101)(21,"div",102)(22,"label",103),d(23,"Data de expirare"),a(),c(24,"div",96),P(25,"div",104,1),a(),_(27,SA,2,1,"div",98),a(),c(28,"div",102)(29,"label",105),d(30,"Codul cardului"),a(),c(31,"div",96),P(32,"div",106,2),a(),_(34,DA,2,1,"div",98),a()(),c(35,"div",107)(36,"label",108)(37,"input",109),U("ngModelChange",function(r){y(t);let o=m();return B(o.saveCardForFuture,r)||(o.saveCardForFuture=r),b(r)}),a(),c(38,"span",110),d(39," Salveaz\u0103 acest card pentru pl\u0103\u021Bi viitoare "),a()(),c(40,"p",111),d(41," Cardul va fi salvat \xEEn siguran\u021B\u0103 \u0219i criptat pentru a facilita pl\u0103\u021Bile viitoare. "),a()(),c(42,"div",112)(43,"div",113),d(44,"\u{1F512}"),a(),c(45,"p"),d(46,"Datele tale sunt protejate \u0219i criptate \xEEn siguran\u021B\u0103"),a()()(),c(47,"div",114)(48,"button",115),v("click",function(){y(t);let r=m();return b(r.closeCardModal())}),d(49,"Anuleaz\u0103"),a(),c(50,"button",116),v("click",function(){y(t);let r=m();return b(r.saveCardDetails())}),_(51,EA,2,1,"span",42)(52,PA,2,0,"span",42),a()()()()}if(n&2){let t=m();p(14),f("ngIf",t.cardNumberError),p(4),fe("error",t.cardholderNameError),z("ngModel",t.cardholderName),p(),f("ngIf",t.cardholderNameError),p(8),f("ngIf",t.cardExpiryError),p(7),f("ngIf",t.cardCvcError),p(3),z("ngModel",t.saveCardForFuture),p(13),f("disabled",!t.allFieldsComplete||t.isSavingCard),p(),f("ngIf",!t.isSavingCard),p(),f("ngIf",t.isSavingCard)}}var Zo=class n{constructor(e,t,i,r,o,s){this.paymentService=e;this.paymentFlowService=t;this.customerPaymentMethodService=i;this.notificationService=r;this.cdr=o;this.ngZone=s}cardNumberElement;cardExpiryElement;cardCvcElement;stripe=null;elements=null;cardNumber=null;cardExpiry=null;cardCvc=null;elementMountRetries=0;maxMountRetries=5;isElementsDestroyed=!1;isModalOpen=!1;mountingInProgress=!1;storedPaymentMethodData=null;savedPaymentMethods=[];selectedSavedCard=null;showSavedCards=!1;isLoadingSavedCards=!1;showCardModal=!1;paymentMethodSelected=!1;cardDetailsEntered=!1;isSavingCard=!1;saveCardForFuture=!0;cardholderName="";cardLast4="";cardBrand="";cardNumberComplete=!1;cardExpiryComplete=!1;cardCvcComplete=!1;cardholderNameValid=!1;cardNumberError=null;cardExpiryError=null;cardCvcError=null;cardholderNameError=null;showError=!1;serviceDetails;specialistDetails;userDetails;serviceAmount=0;protectionFee=0;totalAmount=0;isProcessing=!1;protectionFeeDetails=null;feeCalculationLoaded=!1;ngOnInit(){return O(this,null,function*(){yield this.initializeStripe(),this.loadPaymentFlowData(),yield this.calculateProtectionFee(),yield this.loadSavedPaymentMethods()})}ngOnDestroy(){this.isModalOpen=!1,this.safeDestroyElements()}initializeStripe(){return O(this,null,function*(){try{if(this.stripe=yield tx("pk_test_51RY4TaRP4R8qcMUlWSJwbW6GBjetIiG7jc4fLrsUcl7xMS8uTMcI2mfDHId8YRAku8lllViJiAY0mVPObrvgLYke00QP5RVa7S"),!this.stripe)throw new Error("Failed to load Stripe");console.log("\u2705 Stripe initialized successfully")}catch(e){console.error("Error initializing Stripe:",e),this.notificationService.showNotification({type:"error",message:"Failed to initialize payment system"})}})}loadPaymentFlowData(){let e=this.paymentFlowService.getCurrentState();this.serviceDetails=e.serviceDetails,this.userDetails=e.userDetails,this.specialistDetails=e.specialistDetails,this.extractServiceAmount()}extractServiceAmount(){if(!this.serviceDetails){this.serviceAmount=0;return}let e=["price","amount","cost","servicePrice","totalPrice"],t=!1;for(let i of e)if(this.serviceDetails[i]!==void 0&&this.serviceDetails[i]!==null){this.serviceAmount=Number(this.serviceDetails[i]),t=!0;break}t||(this.serviceAmount=0),this.serviceAmount<0&&(this.serviceAmount=0)}openCardDetailsModal(){console.log("\u{1F513} Opening card details modal..."),this.showCardModal=!0,this.isModalOpen=!0,this.isElementsDestroyed=!1,this.elementMountRetries=0,this.mountingInProgress=!1,this.cdr.detectChanges(),setTimeout(()=>{this.setupStripeElementsWithRetry()},200)}closeCardModal(e){e&&e.preventDefault(),console.log("\u{1F512} Closing card modal..."),this.isModalOpen=!1,this.showCardModal=!1,this.mountingInProgress=!1,this.clearErrors(),this.cardDetailsEntered||this.safeDestroyElements()}setupStripeElementsWithRetry(){return O(this,null,function*(){if(!(!this.stripe||this.isElementsDestroyed||!this.isModalOpen))try{if(!this.cardNumberElement?.nativeElement||!this.cardExpiryElement?.nativeElement||!this.cardCvcElement?.nativeElement)if(this.elementMountRetries<this.maxMountRetries){this.elementMountRetries++,console.log(`\u{1F504} Retrying element setup (${this.elementMountRetries}/${this.maxMountRetries})...`),setTimeout(()=>this.setupStripeElementsWithRetry(),200);return}else throw new Error("DOM elements not available after retries");yield this.createAndMountElements()}catch(e){console.error("\u274C Error setting up Stripe elements:",e),this.notificationService.showNotification({type:"error",message:"Failed to load payment form. Please try again."})}})}createAndMountElements(){return O(this,null,function*(){if(yield this.safeDestroyElements(!1),!this.isModalOpen)return;this.elements=this.stripe.elements();let e={base:{fontSize:"16px",color:"#424770",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',"::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}};this.cardNumber=this.elements.create("cardNumber",{style:e}),this.cardExpiry=this.elements.create("cardExpiry",{style:e}),this.cardCvc=this.elements.create("cardCvc",{style:e}),this.cardNumber.mount(this.cardNumberElement.nativeElement),this.cardExpiry.mount(this.cardExpiryElement.nativeElement),this.cardCvc.mount(this.cardCvcElement.nativeElement),this.cardNumber.on("change",t=>{this.cardNumberComplete=t.complete,this.cardNumberError=t.error?t.error.message:null,t.brand&&(this.cardBrand=t.brand.toUpperCase())}),this.cardExpiry.on("change",t=>{this.cardExpiryComplete=t.complete,this.cardExpiryError=t.error?t.error.message:null}),this.cardCvc.on("change",t=>{this.cardCvcComplete=t.complete,this.cardCvcError=t.error?t.error.message:null}),this.userDetails?.userFullName&&!this.cardholderName&&(this.cardholderName=this.userDetails.userFullName,this.validateCardholderName()),console.log("\u2705 Stripe elements setup completed")})}safeDestroyElements(e=!0){return O(this,null,function*(){try{this.cardNumber&&(this.cardNumber.destroy(),this.cardNumber=null),this.cardExpiry&&(this.cardExpiry.destroy(),this.cardExpiry=null),this.cardCvc&&(this.cardCvc.destroy(),this.cardCvc=null),e&&(this.isElementsDestroyed=!0)}catch(t){console.error("\u274C Error destroying elements:",t),this.cardNumber=null,this.cardExpiry=null,this.cardCvc=null,e&&(this.isElementsDestroyed=!0)}})}onCardholderNameChange(){this.validateCardholderName()}validateCardholderName(){let e=this.cardholderName.trim();e?e.length<2?(this.cardholderNameError="Numele trebuie s\u0103 aib\u0103 cel pu\u021Bin 2 caractere",this.cardholderNameValid=!1):(this.cardholderNameError=null,this.cardholderNameValid=!0):(this.cardholderNameError="Numele titularului este obligatoriu",this.cardholderNameValid=!1)}validateAllFields(){this.validateCardholderName(),this.cardNumberComplete||(this.cardNumberError="Num\u0103rul cardului este incomplet"),this.cardExpiryComplete||(this.cardExpiryError="Data de expirare este incomplet\u0103"),this.cardCvcComplete||(this.cardCvcError="Codul cardului este incomplet")}clearErrors(){this.cardNumberError=null,this.cardExpiryError=null,this.cardCvcError=null,this.cardholderNameError=null}get allFieldsComplete(){return this.selectedSavedCard?!0:this.cardNumberComplete&&this.cardExpiryComplete&&this.cardCvcComplete&&this.cardholderNameValid}get hasValidServiceAmount(){return this.serviceAmount>0}get isLoadingFeeCalculation(){return!this.feeCalculationLoaded&&this.serviceAmount>0}get protectionFeeDisplayText(){return this.feeCalculationLoaded?this.protectionFee===0?"No protection fee":`${(this.protectionFee/this.serviceAmount*100).toFixed(1)}% protection fee`:"Calculating..."}get protectionFeeExplanation(){return this.protectionFeeDetails?this.protectionFeeDetails.description||"Client protection fee for service quality assurance":"Protection fee helps ensure service quality"}get hasSavedCards(){return this.savedPaymentMethods.length>0}processPayment(){return O(this,null,function*(){if(!this.cardDetailsEntered||!this.serviceDetails||!this.userDetails||!this.feeCalculationLoaded){this.showError=!0,this.notificationService.showNotification({type:"error",message:"Please complete all required fields before proceeding."});return}if(!this.storedPaymentMethodData&&!this.selectedSavedCard){this.notificationService.showNotification({type:"error",message:"No payment method available. Please add a card first."});return}this.isProcessing=!0;try{console.log("\u{1F680} Starting escrow payment process...");let e=yield this.createPaymentIntent();if(!e.response)throw new Error(e.errorMessage?.message||"Failed to create payment intent");let{clientSecret:t,paymentIntentId:i}=e.response;console.log("\u2705 Escrow payment intent created:",i);let r;if(this.selectedSavedCard)r=this.selectedSavedCard.stripePaymentMethodId,console.log("\u{1F4B3} Using saved card:",this.selectedSavedCard.cardLast4);else if(this.storedPaymentMethodData)r=this.storedPaymentMethodData.paymentMethodId,console.log("\u{1F4B3} Using new card:",this.storedPaymentMethodData.cardLast4);else throw new Error("No payment method available");console.log("\u{1F4B3} Confirming payment with payment method ID:",r);let{error:o,paymentIntent:s}=yield this.stripe.confirmCardPayment(t,{payment_method:r});if(o){console.error("\u274C Stripe payment failed:",o),this.notificationService.showNotification({type:"error",message:o.message||"Payment failed. Please try again."});return}if(s?.status==="succeeded")console.log("\u2705 Stripe payment succeeded - money now in escrow"),yield this.confirmPaymentWithBackend(i),console.log("\u2705 Escrow payment process completed successfully"),this.safeDestroyElements();else throw new Error(`Unexpected payment status: ${s?.status}`)}catch(e){console.error("\u274C Payment error:",e);let t="Payment failed. Please try again.";e instanceof Error&&(e.message.includes("network")?t="Network error. Please check your connection and try again.":e.message.includes("declined")&&(t="Payment was declined. Please check your card details.")),this.notificationService.showNotification({type:"error",message:t})}finally{this.isProcessing=!1,this.cdr.detectChanges()}})}createPaymentIntent(){return O(this,null,function*(){let e=this.paymentFlowService.getCurrentState(),t={replyId:e.replyId,serviceAmount:this.serviceAmount,protectionFee:this.protectionFee,totalAmount:this.totalAmount,currency:"ron",description:`Escrow payment: ${this.serviceDetails?.description||"Professional service"}`,metadata:{replyId:e.replyId,conversationId:e.conversationId,userId:this.userDetails?.userId||"",specialistId:this.specialistDetails?.userId||"",paymentType:"escrow"}};return console.log("\u{1F4B3} Creating escrow payment intent:",t),yield ft(this.paymentService.createPaymentIntent(t))})}confirmPaymentWithBackend(e){return O(this,null,function*(){let t=this.paymentFlowService.getCurrentState(),i={paymentIntentId:e,replyId:t.replyId,serviceAmount:this.serviceAmount,protectionFee:this.protectionFee,totalAmount:this.totalAmount,paymentMethod:`${this.cardBrand} \u2022\u2022\u2022\u2022 ${this.cardLast4}`};try{let r=yield ft(this.paymentService.confirmPayment(i));if(r.response!==void 0)this.notificationService.showNotification({type:"success",message:"Payment completed successfully! Money is now securely held in escrow."}),this.paymentFlowService.completePayment(),console.log("\u{1F4B3} Escrow payment flow completed - service task will be created");else throw new Error(r.errorMessage?.message||"Failed to confirm payment")}catch(r){throw console.error("\u274C Backend confirmation failed:",r),r}})}cancelPayment(){console.log("\u{1F6AB} Payment cancelled by user"),this.paymentFlowService.cancelPaymentFlow(),this.notificationService.showNotification({type:"info",message:"Payment cancelled"})}loadSavedPaymentMethods(){return O(this,null,function*(){this.isLoadingSavedCards=!0;try{let e=yield ft(this.customerPaymentMethodService.getPaymentMethods());if(e.response){this.savedPaymentMethods=e.response,console.log("\u2705 Loaded saved payment methods:",this.savedPaymentMethods.length);let t=this.savedPaymentMethods.find(i=>i.isDefault);t&&this.selectSavedCard(t)}}catch(e){console.error("\u274C Error loading saved payment methods:",e)}finally{this.isLoadingSavedCards=!1}})}selectSavedCard(e){this.selectedSavedCard=e,this.cardLast4=e.cardLast4,this.cardBrand=e.cardBrand,this.cardholderName=e.cardholderName,this.cardDetailsEntered=!0,this.paymentMethodSelected=!0,this.showSavedCards=!1,this.showError=!1,this.storedPaymentMethodData={paymentMethodId:e.stripePaymentMethodId,cardLast4:e.cardLast4,cardBrand:e.cardBrand,cardholderName:e.cardholderName},console.log("\u2705 Selected saved card:",e.cardLast4)}toggleSavedCards(){this.showSavedCards=!this.showSavedCards}useNewCard(){this.selectedSavedCard=null,this.storedPaymentMethodData=null,this.cardDetailsEntered=!1,this.paymentMethodSelected=!1,this.showSavedCards=!1,this.openCardDetailsModal()}deleteSavedCard(e){return O(this,null,function*(){try{(yield ft(this.customerPaymentMethodService.deletePaymentMethod(e.stripePaymentMethodId))).response!==void 0&&(this.savedPaymentMethods=this.savedPaymentMethods.filter(i=>i.id!==e.id),this.selectedSavedCard?.id===e.id&&(this.selectedSavedCard=null,this.storedPaymentMethodData=null,this.cardDetailsEntered=!1,this.paymentMethodSelected=!1),this.notificationService.showNotification({type:"success",message:"Payment method deleted successfully"}))}catch(t){console.error("\u274C Error deleting payment method:",t),this.notificationService.showNotification({type:"error",message:"Failed to delete payment method"})}})}saveCardDetails(){return O(this,null,function*(){if(!this.allFieldsComplete){this.validateAllFields();return}if(!this.stripe||!this.cardNumber||this.isElementsDestroyed||!this.isModalOpen){this.notificationService.showNotification({type:"error",message:"Payment form is not ready. Please close and reopen the modal."});return}this.isSavingCard=!0;try{console.log("\u{1F4B3} Creating payment method...");let{error:e,paymentMethod:t}=yield this.stripe.createPaymentMethod({type:"card",card:this.cardNumber,billing_details:{name:this.cardholderName,email:this.userDetails?.email,phone:this.userDetails?.phoneNumber}});if(e){console.error("\u274C Stripe createPaymentMethod error:",e),this.cardNumberError=e.message||"Invalid card details";return}if(t?.card)this.storedPaymentMethodData={paymentMethodId:t.id,cardLast4:t.card.last4||"",cardBrand:t.card.brand?.toUpperCase()||"",cardholderName:this.cardholderName},this.cardLast4=this.storedPaymentMethodData.cardLast4,this.cardBrand=this.storedPaymentMethodData.cardBrand,this.cardDetailsEntered=!0,this.paymentMethodSelected=!0,this.showError=!1,this.saveCardForFuture&&(yield this.saveCardToBackend(t)),console.log("\u2705 Card details saved successfully"),this.closeCardModal();else throw new Error("Failed to create payment method")}catch(e){console.error("\u274C Error validating card:",e),e instanceof Error&&(e.message.includes("Element")||e.message.includes("mounted"))?this.notificationService.showNotification({type:"error",message:"Payment form disconnected. Please close and reopen the modal."}):(this.cardNumberError="Failed to validate card details",this.notificationService.showNotification({type:"error",message:"Failed to validate card. Please check your details and try again."}))}finally{this.isSavingCard=!1}})}saveCardToBackend(e){return O(this,null,function*(){try{let t={paymentMethodId:e.id,cardLast4:e.card.last4,cardBrand:e.card.brand.toUpperCase(),cardholderName:this.cardholderName,isDefault:this.savedPaymentMethods.length===0},i=yield ft(this.customerPaymentMethodService.savePaymentMethod(t));i.response&&(this.savedPaymentMethods.push(i.response),console.log("\u2705 Card saved to backend successfully"),this.notificationService.showNotification({type:"success",message:"Card saved for future payments"}))}catch(t){console.error("\u274C Error saving card to backend:",t),this.notificationService.showNotification({type:"warning",message:"Card validated but not saved for future use"})}})}calculateProtectionFee(){return O(this,null,function*(){if(this.serviceAmount<=0){this.protectionFee=0,this.totalAmount=this.serviceAmount,this.feeCalculationLoaded=!0;return}try{console.log("\u{1F4B0} Calculating protection fee for service amount:",this.serviceAmount);let e={serviceAmount:this.serviceAmount},t=yield ft(this.paymentService.calculateProtectionFee(e));if(t.response)this.protectionFee=t.response.protectionFee,this.totalAmount=t.response.totalAmount,this.protectionFeeDetails=t.response.feeConfiguration,this.feeCalculationLoaded=!0,console.log("\u2705 Protection fee calculated:",{serviceAmount:this.serviceAmount,protectionFee:this.protectionFee,totalAmount:this.totalAmount,justification:t.response.feeJustification});else throw new Error("Failed to calculate protection fee")}catch(e){console.error("\u274C Error calculating protection fee:",e),this.protectionFee=Math.min(Math.max(this.serviceAmount*.1,5),100),this.totalAmount=this.serviceAmount+this.protectionFee,this.feeCalculationLoaded=!0,this.notificationService.showNotification({type:"warning",message:"Using fallback protection fee calculation."})}})}get protectionFeePercentage(){return!this.protectionFeeDetails||this.serviceAmount<=0?0:this.protectionFee/this.serviceAmount*100}static \u0275fac=function(t){return new(t||n)(w(Wo),w(Go),w(Yd),w(Wi),w(cn),w(we))};static \u0275cmp=F({type:n,selectors:[["app-service-payment"]],viewQuery:function(t,i){if(t&1&&(mo(tA,5),mo(nA,5),mo(iA,5)),t&2){let r;li(r=di())&&(i.cardNumberElement=r.first),li(r=di())&&(i.cardExpiryElement=r.first),li(r=di())&&(i.cardCvcElement=r.first)}},decls:141,vars:45,consts:[["cardNumberElement",""],["cardExpiryElement",""],["cardCvcElement",""],[1,"payment-overlay"],[1,"payment-container"],[1,"payment-header"],[1,"close-btn",3,"click","disabled"],[1,"payment-content"],[1,"payment-section"],[1,"details-grid"],[1,"detail-item"],[1,"label"],[1,"value"],[1,"payment-section","escrow-info"],[1,"escrow-explanation"],[1,"escrow-step"],[1,"step-number"],[1,"step-content"],["class","saved-cards-section",4,"ngIf"],[1,"payment-method"],["class","selected-card-display",4,"ngIf"],["class","card-payment-option",3,"selected","click",4,"ngIf"],["class","card-summary",4,"ngIf"],["class","error-message",4,"ngIf"],[1,"payment-section","price-section"],[1,"price-breakdown"],[1,"price-item"],[1,"price-label"],[1,"price-value"],[1,"price-item","protection-fee-item"],["class","protection-fee-badge",4,"ngIf"],["class","loading-badge",4,"ngIf"],["class","price-value",4,"ngIf"],["class","price-value loading",4,"ngIf"],[1,"price-item","protection-info"],[1,"price-divider"],[1,"price-item","total"],["class","price-value total-amount",4,"ngIf"],["class","escrow-guarantee",4,"ngIf"],[1,"payment-actions"],[1,"cancel-btn",3,"click","disabled"],[1,"pay-btn",3,"click","disabled"],[4,"ngIf"],["class","card-modal-overlay",3,"click",4,"ngIf"],[1,"saved-cards-section"],[1,"saved-cards-header"],[1,"toggle-saved-cards-btn",3,"click"],[1,"toggle-icon"],["class","saved-cards-list",4,"ngIf"],[1,"saved-cards-list"],["class","saved-card",3,"selected","click",4,"ngFor","ngForOf"],[1,"new-card-option",3,"click"],[1,"new-card-content"],[1,"plus-icon"],[1,"saved-card",3,"click"],[1,"card-info"],[1,"card-brand-icon"],[1,"brand-text"],[1,"card-details"],[1,"card-number"],[1,"cardholder-name"],[1,"card-badges"],["class","default-badge",4,"ngIf"],[1,"card-actions"],["title","\u0218terge cardul",1,"delete-card-btn",3,"click"],[1,"default-badge"],[1,"selected-card-display"],[1,"card-payment-option","selected"],["src","assets/icons/card.svg","alt","Card bancar",1,"payment-icon"],[1,"payment-text"],[1,"saved-card-label"],[1,"edit-card-btn",3,"click"],[1,"card-payment-option",3,"click"],[1,"card-brands"],["src","assets/icons/visa.png","alt","Visa",1,"brand-icon"],["src","assets/icons/mastercard.png","alt","Mastercard",1,"brand-icon"],["class","selection-indicator",4,"ngIf"],[1,"selection-indicator"],[1,"card-summary"],[1,"card-last4"],[1,"card-brand"],[1,"error-message"],[1,"protection-fee-badge"],[1,"loading-badge"],[1,"price-value","loading"],[1,"price-value","total-amount"],[1,"escrow-guarantee"],[1,"guarantee-icon"],[1,"guarantee-text"],[1,"card-modal-overlay",3,"click"],[1,"card-modal",3,"click"],[1,"card-modal-header"],[1,"modal-close-btn",3,"click"],[1,"card-modal-content"],[1,"form-group"],["id","cardNumber"],[1,"input-container"],["id","card-number-element",1,"stripe-element"],["class","field-error",4,"ngIf"],["for","cardholderName"],["type","text","id","cardholderName","placeholder","Numele de pe card",1,"form-input",3,"ngModelChange","input","ngModel"],[1,"form-row"],[1,"form-group","half"],["id","cardExpiry"],["id","card-expiry-element",1,"stripe-element"],["id","cardCvc"],["id","card-cvc-element",1,"stripe-element"],[1,"form-group","save-card-option"],[1,"checkbox-label"],["type","checkbox",1,"checkbox-input",3,"ngModelChange","ngModel"],[1,"checkbox-text"],[1,"save-card-info"],[1,"security-info"],[1,"security-icon"],[1,"card-modal-actions"],[1,"cancel-btn",3,"click"],[1,"save-btn",3,"click","disabled"],[1,"field-error"]],template:function(t,i){t&1&&(c(0,"div",3)(1,"div",4)(2,"div",5)(3,"h2"),d(4,"Confirm\u0103 \u0219i pl\u0103te\u0219te serviciul"),a(),c(5,"button",6),v("click",function(){return i.cancelPayment()}),d(6,"\xD7"),a()(),c(7,"div",7)(8,"section",8)(9,"h3"),d(10,"Descriere"),a(),c(11,"p"),d(12),a()(),c(13,"section",8)(14,"h3"),d(15,"Detalii specialist"),a(),c(16,"div",9)(17,"div",10)(18,"span",11),d(19,"Nume:"),a(),c(20,"span",12),d(21),a()(),c(22,"div",10)(23,"span",11),d(24,"Adres\u0103 email:"),a(),c(25,"span",12),d(26),a()(),c(27,"div",10)(28,"span",11),d(29,"Num\u0103r de telefon:"),a(),c(30,"span",12),d(31),a()()()(),c(32,"section",8)(33,"h3"),d(34,"Detalii serviciu"),a(),c(35,"div",9)(36,"div",10)(37,"span",11),d(38,"Adresa serviciului:"),a(),c(39,"span",12),d(40),a()(),c(41,"div",10)(42,"span",11),d(43,"Data:"),a(),c(44,"span",12),d(45),Z(46,"date"),a()(),c(47,"div",10)(48,"span",11),d(49,"Ora:"),a(),c(50,"span",12),d(51),Z(52,"date"),Z(53,"date"),a()()()(),c(54,"section",8)(55,"h3"),d(56,"Date de contact ale clientului"),a(),c(57,"div",9)(58,"div",10)(59,"span",11),d(60,"Num\u0103r de telefon:"),a(),c(61,"span",12),d(62),a()(),c(63,"div",10)(64,"span",11),d(65,"Adres\u0103 email:"),a(),c(66,"span",12),d(67),a()()()(),c(68,"section",13)(69,"h3"),d(70,"\u{1F512} Plat\u0103 cu protec\u021Bie escrow"),a(),c(71,"div",14)(72,"div",15)(73,"span",16),d(74,"1"),a(),c(75,"div",17)(76,"strong"),d(77,"Plata ta este protejat\u0103"),a(),c(78,"p"),d(79,"Banii sunt p\u0103stra\u021Bi \xEEn siguran\u021B\u0103 p\xE2n\u0103 la finalizarea serviciului"),a()()(),c(80,"div",15)(81,"span",16),d(82,"2"),a(),c(83,"div",17)(84,"strong"),d(85,"Serviciul este prestat"),a(),c(86,"p"),d(87,"Specialistul va efectua serviciul conform acordului"),a()()(),c(88,"div",15)(89,"span",16),d(90,"3"),a(),c(91,"div",17)(92,"strong"),d(93,"Plata este eliberat\u0103"),a(),c(94,"p"),d(95,"Dup\u0103 confirmarea finaliz\u0103rii, banii sunt transfera\u021Bi specialistului"),a()()()()(),c(96,"section",8)(97,"h3"),d(98,"Metoda de plat\u0103"),a(),_(99,aA,8,4,"div",18),c(100,"div",19),_(101,cA,13,3,"div",20)(102,dA,11,3,"div",21)(103,uA,8,2,"div",22)(104,pA,2,0,"p",23),a()(),c(105,"section",24)(106,"h3"),d(107,"Detalii pre\u021B"),a(),c(108,"div",25)(109,"div",26)(110,"span",27),d(111,"Pre\u021Bul serviciului:"),a(),c(112,"span",28),d(113),Z(114,"currency"),a()(),c(115,"div",29)(116,"span",27),d(117," Tax\u0103 de protec\u021Bie pentru client: "),_(118,fA,2,1,"span",30)(119,gA,2,0,"span",31),a(),_(120,mA,3,6,"span",32)(121,hA,2,0,"span",33),a(),c(122,"div",34)(123,"small"),d(124),a()(),P(125,"hr",35),c(126,"div",36)(127,"span",27)(128,"strong"),d(129,"Total de plat\u0103:"),a()(),_(130,vA,3,6,"span",37)(131,_A,2,0,"span",33),a(),_(132,yA,7,0,"div",38),a()()(),c(133,"div",39)(134,"button",40),v("click",function(){return i.cancelPayment()}),d(135," Anuleaz\u0103 "),a(),c(136,"button",41),v("click",function(){return i.processPayment()}),_(137,bA,2,0,"span",42)(138,CA,2,0,"span",42)(139,xA,2,0,"span",42),a()()()(),_(140,IA,53,11,"div",43)),t&2&&(p(5),f("disabled",i.isProcessing),p(7),R(i.serviceDetails==null?null:i.serviceDetails.description),p(9),R(i.specialistDetails==null?null:i.specialistDetails.userFullName),p(5),R(i.specialistDetails==null?null:i.specialistDetails.email),p(5),R(i.specialistDetails==null?null:i.specialistDetails.phoneNumber),p(9),R(i.serviceDetails==null?null:i.serviceDetails.address),p(5),R($e(46,31,i.serviceDetails==null?null:i.serviceDetails.startDate,"dd MMMM yyyy")),p(6),mr(" ",$e(52,34,i.serviceDetails==null?null:i.serviceDetails.startDate,"HH:mm")," - ",$e(53,37,i.serviceDetails==null?null:i.serviceDetails.endDate,"HH:mm")," "),p(11),R(i.userDetails==null?null:i.userDetails.phoneNumber),p(5),R(i.userDetails==null?null:i.userDetails.email),p(32),f("ngIf",i.hasSavedCards),p(2),f("ngIf",i.selectedSavedCard),p(),f("ngIf",!i.selectedSavedCard),p(),f("ngIf",i.cardDetailsEntered&&!i.selectedSavedCard),p(),f("ngIf",i.showError),p(9),R(Oi(114,40,i.serviceAmount,"RON","symbol","1.2-2")),p(5),f("ngIf",i.feeCalculationLoaded),p(),f("ngIf",i.isLoadingFeeCalculation),p(),f("ngIf",i.feeCalculationLoaded),p(),f("ngIf",i.isLoadingFeeCalculation),p(3),I(" ",i.protectionFeeExplanation," "),p(6),f("ngIf",i.feeCalculationLoaded),p(),f("ngIf",i.isLoadingFeeCalculation),p(),f("ngIf",i.feeCalculationLoaded),p(2),f("disabled",i.isProcessing),p(2),f("disabled",!i.cardDetailsEntered||i.isProcessing||!i.feeCalculationLoaded),p(),f("ngIf",!i.isProcessing&&i.feeCalculationLoaded),p(),f("ngIf",!i.isProcessing&&!i.feeCalculationLoaded),p(),f("ngIf",i.isProcessing),p(),f("ngIf",i.showCardModal))},dependencies:[ot,hr,q,ce,ge,ze,Er,Te,Ne],styles:['@charset "UTF-8";.payment-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.payment-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;max-width:600px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 20px 40px #0000004d}.payment-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #e0e0e0}.payment-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;color:#333;font-size:20px}.close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%}.close-btn[_ngcontent-%COMP%]:hover{background:#f5f5f5}.payment-content[_ngcontent-%COMP%]{padding:24px}.payment-section[_ngcontent-%COMP%]{margin-bottom:24px}.payment-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;color:#333;font-size:16px;font-weight:600}.details-grid[_ngcontent-%COMP%]{display:grid;gap:8px}.detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0}.label[_ngcontent-%COMP%]{color:#666;font-size:14px}.value[_ngcontent-%COMP%]{color:#333;font-weight:500;text-align:right}.card-payment-option[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;border:2px solid #e0e0e0;border-radius:8px;cursor:pointer;transition:border-color .2s;margin-bottom:16px}.card-payment-option.selected[_ngcontent-%COMP%]{border-color:#007bff;background:#f8f9ff}.payment-icon[_ngcontent-%COMP%]{width:32px;height:32px;margin-right:12px}.payment-text[_ngcontent-%COMP%]{flex:1}.payment-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin-bottom:4px}.payment-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}.card-brands[_ngcontent-%COMP%]{display:flex;gap:8px;margin-top:8px}.brand-icon[_ngcontent-%COMP%]{height:20px;width:auto}.selection-indicator[_ngcontent-%COMP%]{color:#007bff;font-weight:700;font-size:18px}.stripe-card-section[_ngcontent-%COMP%]{margin-top:16px}.card-element-container[_ngcontent-%COMP%]{padding:16px;border:2px solid #e0e0e0;border-radius:8px;background:#fff;transition:border-color .2s}.card-element-container[_ngcontent-%COMP%]:focus-within{border-color:#007bff;box-shadow:0 0 0 2px #007bff1a}.card-errors[_ngcontent-%COMP%]{color:#dc3545;font-size:14px;margin-top:8px;padding:8px 12px;background:#f8d7da;border:1px solid #f5c6cb;border-radius:4px}.stripe-loading[_ngcontent-%COMP%]{text-align:center;padding:20px;color:#666}.price-section[_ngcontent-%COMP%]{background:#f8f9fa;padding:16px;border-radius:8px;margin-top:16px;position:relative}.price-breakdown[_ngcontent-%COMP%]{display:grid;gap:8px}.price-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.price-item.protection-info[_ngcontent-%COMP%]{justify-content:flex-end}.price-item.protection-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#666;font-style:italic}.price-divider[_ngcontent-%COMP%]{border:none;border-top:1px solid #dee2e6;margin:12px 0}.price-item.total[_ngcontent-%COMP%]{font-weight:700;font-size:18px;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border:2px solid #007bff;border-radius:8px;padding:16px;margin-top:12px}.total-amount[_ngcontent-%COMP%]{color:#007bff;font-size:20px;font-weight:700}.payment-actions[_ngcontent-%COMP%]{display:flex;gap:12px;padding:20px 24px;border-top:1px solid #e0e0e0;background:#f8f9fa}.cancel-btn[_ngcontent-%COMP%], .pay-btn[_ngcontent-%COMP%]{flex:1;padding:12px 24px;border:none;border-radius:6px;font-size:16px;font-weight:500;cursor:pointer;transition:all .2s}.cancel-btn[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.cancel-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#5a6268}.pay-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#20c997);color:#fff;position:relative;overflow:hidden}.pay-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#218838,#1ea080);transform:translateY(-1px);box-shadow:0 4px 12px #28a7454d}.pay-btn[_ngcontent-%COMP%]:disabled{background:#6c757d;opacity:.7;cursor:not-allowed;transform:none;box-shadow:none}.card-summary[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;background:linear-gradient(135deg,#f8f9ff,#e3f2fd);border:2px solid #007bff;border-radius:8px;margin-top:12px;box-shadow:0 2px 8px #007bff1a}.card-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.card-last4[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-weight:700;color:#333;font-size:16px}.card-brand[_ngcontent-%COMP%]{background:#007bff;color:#fff;padding:4px 8px;border-radius:4px;font-size:12px;text-transform:uppercase;font-weight:700}.edit-card-btn[_ngcontent-%COMP%]{background:none;border:2px solid #007bff;color:#007bff;padding:8px 16px;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s ease}.edit-card-btn[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff;transform:translateY(-1px)}.card-modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#0009;display:flex;justify-content:center;align-items:center;z-index:1100}.card-modal[_ngcontent-%COMP%]{background:#fff;border-radius:12px;width:90%;max-width:500px;max-height:90vh;overflow-y:auto;box-shadow:0 25px 50px #0006}.card-modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid #e0e0e0}.card-modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#333;font-size:18px}.modal-close-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;color:#666;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%}.modal-close-btn[_ngcontent-%COMP%]:hover{background:#f5f5f5}.card-modal-content[_ngcontent-%COMP%]{padding:24px}.card-modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:100%;min-width:0}.card-modal-content[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;max-width:100%;box-sizing:border-box}.card-modal-content[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{width:100%}.card-modal-content[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{min-width:0;flex:1}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}.form-group.half[_ngcontent-%COMP%]{flex:1}.form-row[_ngcontent-%COMP%]{display:flex;gap:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;color:#333;font-weight:500;font-size:14px}.form-input[_ngcontent-%COMP%]{width:100%;padding:12px 16px;border:2px solid #e0e0e0;border-radius:6px;font-size:16px;transition:border-color .2s}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff1a}.form-input.error[_ngcontent-%COMP%]{border-color:#dc3545}.input-container[_ngcontent-%COMP%]{position:relative}.stripe-element[_ngcontent-%COMP%]{padding:12px 16px;border:2px solid #e0e0e0;border-radius:6px;background:#fff;transition:border-color .2s}.stripe-element.StripeElement--focus[_ngcontent-%COMP%]{border-color:#007bff;box-shadow:0 0 0 2px #007bff1a}.stripe-element.StripeElement--invalid[_ngcontent-%COMP%]{border-color:#dc3545}.field-error[_ngcontent-%COMP%]{color:#dc3545;font-size:14px;margin-top:6px;display:flex;align-items:center;gap:4px;background:#f8d7da;border:1px solid #f5c6cb;border-radius:4px;padding:8px 12px}.field-error[_ngcontent-%COMP%]:before{content:"\\26a0";color:#dc3545}.security-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px;background:linear-gradient(135deg,#e8f5e8,#f0f9ff);border:1px solid #28a745;border-radius:8px;margin-top:16px}.security-icon[_ngcontent-%COMP%]{font-size:20px;color:#28a745}.security-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#155724;font-size:14px;font-weight:500}.card-modal-actions[_ngcontent-%COMP%]{display:flex;gap:12px;padding:20px 24px;border-top:1px solid #e0e0e0;background:#f8f9fa}.card-modal-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%], .card-modal-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{flex:1;padding:12px 24px;border:none;border-radius:6px;font-size:16px;font-weight:500;cursor:pointer;transition:all .2s}.card-modal-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{background:#6c757d;color:#fff}.card-modal-actions[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{background:#5a6268}.card-modal-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{background:#007bff;color:#fff}.card-modal-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:#0056b3}.card-modal-actions[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.escrow-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#e8f5e8,#f0f9ff);border:2px solid #28a745;border-radius:12px;padding:20px;margin:20px 0}.escrow-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#28a745;margin-bottom:16px;display:flex;align-items:center;gap:8px}.escrow-explanation[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.escrow-step[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px}.step-number[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:#28a745;color:#fff;border-radius:50%;font-weight:700;font-size:14px;flex-shrink:0}.step-content[_ngcontent-%COMP%]{flex:1}.step-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;color:#333;margin-bottom:4px;font-size:15px}.step-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px;line-height:1.4}.protection-fee-item[_ngcontent-%COMP%]{position:relative}.protection-fee-badge[_ngcontent-%COMP%]{display:inline-block;background:#e3f2fd;color:#1976d2;padding:2px 8px;border-radius:12px;font-size:12px;font-weight:500;margin-left:8px}.loading-badge[_ngcontent-%COMP%]{display:inline-block;background:#f5f5f5;color:#666;padding:2px 8px;border-radius:12px;font-size:12px;font-style:italic;margin-left:8px}.price-value.loading[_ngcontent-%COMP%]{color:#999;font-style:italic}.escrow-guarantee[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;background:#f8f9fa;border:1px solid #dee2e6;border-radius:8px;padding:16px;margin-top:16px}.guarantee-icon[_ngcontent-%COMP%]{font-size:24px;flex-shrink:0}.guarantee-text[_ngcontent-%COMP%]{flex:1;font-size:14px;line-height:1.5}.guarantee-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#28a745;display:block;margin-bottom:4px}.price-section.loading[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:0;background:#fffc;border-radius:8px;pointer-events:none}.protection-info[_ngcontent-%COMP%]{background:#fff3cd;border:1px solid #ffeaa7;border-radius:6px;padding:12px;margin:8px 0}.protection-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#856404;font-size:13px;line-height:1.4;display:block}.saved-cards-section[_ngcontent-%COMP%]{margin-bottom:16px}.saved-cards-header[_ngcontent-%COMP%]{margin-bottom:12px}.toggle-saved-cards-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:12px 16px;background:#f8f9fa;border:2px solid #e0e0e0;border-radius:8px;cursor:pointer;font-size:14px;font-weight:500;color:#333;transition:all .2s ease}.toggle-saved-cards-btn[_ngcontent-%COMP%]:hover{background:#e9ecef;border-color:#007bff}.toggle-icon[_ngcontent-%COMP%]{font-size:12px;color:#666}.saved-cards-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-top:12px;padding:12px;background:#f8f9fa;border-radius:8px;border:1px solid #e0e0e0}.saved-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background:#fff;border:2px solid #e0e0e0;border-radius:8px;cursor:pointer;transition:all .2s ease}.saved-card[_ngcontent-%COMP%]:hover{border-color:#007bff;box-shadow:0 2px 8px #007bff1a}.saved-card.selected[_ngcontent-%COMP%]{border-color:#007bff;background:linear-gradient(135deg,#f8f9ff,#e3f2fd);box-shadow:0 2px 8px #007bff26}.saved-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;flex:1}.card-brand-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:48px;height:32px;background:#007bff;color:#fff;border-radius:6px;font-size:10px;font-weight:700}.brand-text[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.saved-card[_ngcontent-%COMP%]   .card-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.saved-card[_ngcontent-%COMP%]   .card-number[_ngcontent-%COMP%]{font-family:Courier New,monospace;font-weight:600;color:#333;font-size:14px}.saved-card[_ngcontent-%COMP%]   .cardholder-name[_ngcontent-%COMP%]{font-size:12px;color:#666}.card-badges[_ngcontent-%COMP%]{display:flex;gap:4px}.default-badge[_ngcontent-%COMP%]{background:#28a745;color:#fff;padding:2px 6px;border-radius:12px;font-size:10px;font-weight:700;text-transform:uppercase}.saved-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.delete-card-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:4px;border-radius:4px;font-size:16px;opacity:.6;transition:all .2s ease}.delete-card-btn[_ngcontent-%COMP%]:hover{opacity:1;background:#fee;transform:scale(1.1)}.new-card-option[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:16px;background:#fff;border:2px dashed #ccc;border-radius:8px;cursor:pointer;transition:all .2s ease;margin-top:8px}.new-card-option[_ngcontent-%COMP%]:hover{border-color:#007bff;background:#f8f9ff}.new-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;color:#666;font-weight:500}.plus-icon[_ngcontent-%COMP%]{font-size:18px;color:#007bff;font-weight:700}.selected-card-display[_ngcontent-%COMP%]{margin-bottom:16px}.selected-card-display[_ngcontent-%COMP%]   .card-payment-option[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9ff,#e3f2fd);border-color:#007bff}.selected-card-display[_ngcontent-%COMP%]   .payment-text[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#007bff;font-size:16px}.saved-card-label[_ngcontent-%COMP%]{display:inline-block;background:#e3f2fd;color:#1976d2;padding:2px 8px;border-radius:12px;font-size:11px;font-weight:500;margin-top:4px}.save-card-option[_ngcontent-%COMP%]{background:#f8f9fa;border:1px solid #e0e0e0;border-radius:8px;padding:16px;margin-top:16px}.checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;cursor:pointer;margin-bottom:8px}.checkbox-input[_ngcontent-%COMP%]{width:18px;height:18px;margin:0;cursor:pointer;accent-color:#007bff}.checkbox-text[_ngcontent-%COMP%]{font-weight:500;color:#333;line-height:1.4}.save-card-info[_ngcontent-%COMP%]{font-size:13px;color:#666;line-height:1.4;margin:0 0 0 30px}.card-summary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9ff,#e3f2fd);border:2px solid #007bff;border-radius:8px;margin-top:12px;box-shadow:0 2px 8px #007bff1a;position:relative}.card-summary[_ngcontent-%COMP%]:before{content:"Card nou";position:absolute;top:-8px;left:16px;background:#007bff;color:#fff;padding:2px 8px;border-radius:4px;font-size:11px;font-weight:700}.saved-cards-loading[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:20px;color:#666;font-style:italic}.saved-cards-loading[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{margin-right:8px}@keyframes _ngcontent-%COMP%_cardSlideIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.saved-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cardSlideIn .3s ease-out}@keyframes _ngcontent-%COMP%_cardSelected{0%{transform:scale(1)}50%{transform:scale(1.02)}to{transform:scale(1)}}.saved-card.selected[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_cardSelected .4s ease-out}@media (max-width: 768px){.saved-card[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:8px}.saved-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{width:100%}.saved-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{align-self:flex-end}.card-brand-icon[_ngcontent-%COMP%]{width:40px;height:28px;font-size:9px}.saved-card[_ngcontent-%COMP%]   .card-number[_ngcontent-%COMP%]{font-size:13px}.saved-card[_ngcontent-%COMP%]   .cardholder-name[_ngcontent-%COMP%]{font-size:11px}.new-card-content[_ngcontent-%COMP%]{font-size:14px}.checkbox-label[_ngcontent-%COMP%]{gap:8px}.checkbox-input[_ngcontent-%COMP%]{width:16px;height:16px}.save-card-info[_ngcontent-%COMP%]{margin-left:24px;font-size:12px}}.saved-cards-error[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:16px;background:#f8d7da;border:1px solid #f5c6cb;border-radius:8px;color:#721c24;font-size:14px}.saved-cards-error[_ngcontent-%COMP%]:before{content:"\\26a0";margin-right:8px;font-size:16px}.selected-card-display[_ngcontent-%COMP%]   .edit-card-btn[_ngcontent-%COMP%]{background:#fff;border:2px solid #007bff;color:#007bff;padding:6px 12px;border-radius:6px;font-size:12px;font-weight:500;cursor:pointer;transition:all .2s ease}.selected-card-display[_ngcontent-%COMP%]   .edit-card-btn[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff;transform:translateY(-1px)}@keyframes _ngcontent-%COMP%_escrowSuccess{0%{transform:scale(1);box-shadow:0 0 #28a745b3}70%{transform:scale(1.05);box-shadow:0 0 0 10px #28a74500}to{transform:scale(1);box-shadow:0 0 #28a74500}}.escrow-success[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_escrowSuccess .6s ease-out}@media (max-width: 768px){.payment-container[_ngcontent-%COMP%]{width:95%;margin:20px}.payment-actions[_ngcontent-%COMP%]{flex-direction:column}.detail-item[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:4px}.value[_ngcontent-%COMP%]{text-align:left}.escrow-explanation[_ngcontent-%COMP%]{gap:12px}.escrow-step[_ngcontent-%COMP%]{gap:8px}.step-number[_ngcontent-%COMP%]{width:28px;height:28px;font-size:12px}.step-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:14px}.step-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}.escrow-guarantee[_ngcontent-%COMP%]{padding:12px;gap:8px}.guarantee-icon[_ngcontent-%COMP%]{font-size:20px}.guarantee-text[_ngcontent-%COMP%]{font-size:13px}}']})};function OA(n,e){n&1&&(c(0,"span"),d(1,"\u2705"),a())}function TA(n,e){n&1&&(c(0,"span"),d(1,"\u274C"),a())}function kA(n,e){n&1&&(c(0,"span"),d(1,"\u26A0\uFE0F"),a())}function RA(n,e){n&1&&(c(0,"span"),d(1,"\u2139\uFE0F"),a())}function AA(n,e){if(n&1){let t=D();c(0,"div",2)(1,"div",3)(2,"div",4)(3,"span",5),_(4,OA,2,0,"span",6)(5,TA,2,0,"span",6)(6,kA,2,0,"span",6)(7,RA,2,0,"span",7),a()(),c(8,"div",8),d(9),a(),c(10,"div",9),d(11),Z(12,"date"),a()(),c(13,"button",10),v("click",function(){let r=y(t).$implicit,o=m();return b(o.dismiss(r.id))}),d(14," \xD7 "),a()()}if(n&2){let t=e.$implicit;f("ngClass","notification-"+t.type),Cn("data-notification-id",t.id),p(3),f("ngSwitch",t.type),p(),f("ngSwitchCase","success"),p(),f("ngSwitchCase","error"),p(),f("ngSwitchCase","warning"),p(3),I(" ",t.message," "),p(2),I(" ",$e(12,8,t.timestamp,"HH:mm:ss")," ")}}var Qd=class n{constructor(e){this.notificationService=e}notifications=[];destroy$=new _e;ngOnInit(){console.log("First notification:",this.notifications[0].type),this.notificationService.notifications$.pipe(Ye(this.destroy$)).subscribe(e=>{this.notifications=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}dismiss(e){this.notificationService.dismiss(e)}trackByNotification(e,t){return t.id}static \u0275fac=function(t){return new(t||n)(w(Wi))};static \u0275cmp=F({type:n,selectors:[["app-notification-display"]],decls:2,vars:2,consts:[[1,"notification-container"],["class","notification",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"notification",3,"ngClass"],[1,"notification-content"],[1,"notification-icon"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"notification-message"],[1,"notification-timestamp"],["title","Dismiss",1,"notification-close",3,"click"]],template:function(t,i){t&1&&(c(0,"div",0),_(1,AA,15,11,"div",1),a()),t&2&&(p(),f("ngForOf",i.notifications)("ngForTrackBy",i.trackByNotification))},dependencies:[ot,wn,gi,Ns,Ae,ce],styles:[".notification-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:1050;max-width:400px;pointer-events:none}.notification[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;padding:16px;margin-bottom:12px;border-radius:8px;background:#fff;box-shadow:0 4px 12px #00000026;border-left:4px solid #6c757d;animation:_ngcontent-%COMP%_slideInRight .3s ease-out;font-family:Roboto Mono,monospace;pointer-events:auto;min-width:300px}.notification-success[_ngcontent-%COMP%]{border-left-color:#28a745;background:#d4edda;color:#155724}.notification-info[_ngcontent-%COMP%]{border-left-color:#17a2b8;background:#d1ecf1;color:#0c5460}.notification-warning[_ngcontent-%COMP%]{border-left-color:#ffc107;background:#fff3cd;color:#856404}.notification-error[_ngcontent-%COMP%]{border-left-color:#dc3545;background:#f8d7da;color:#721c24}.notification-content[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;flex:1}.notification-icon[_ngcontent-%COMP%]{font-size:18px;flex-shrink:0;margin-top:2px}.notification-message[_ngcontent-%COMP%]{flex:1;font-size:14px;line-height:1.4;word-wrap:break-word}.notification-timestamp[_ngcontent-%COMP%]{font-size:11px;opacity:.7;margin-top:4px;flex-shrink:0}.notification-close[_ngcontent-%COMP%]{background:none;border:none;font-size:20px;cursor:pointer;padding:0;margin-left:12px;opacity:.7;color:inherit;flex-shrink:0;width:20px;height:20px;display:flex;align-items:center;justify-content:center}.notification-close[_ngcontent-%COMP%]:hover{opacity:1;background-color:#0000001a;border-radius:50%}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@media (max-width: 768px){.notification-container[_ngcontent-%COMP%]{top:10px;right:10px;left:10px;max-width:none}.notification[_ngcontent-%COMP%]{min-width:auto;padding:12px;font-size:14px}.notification-message[_ngcontent-%COMP%]{font-size:13px}}"]})};var NA=(n,e)=>({"photo-bubble-left":n,"photo-bubble-right":e}),FA=(n,e)=>({left:n,right:e});function LA(n,e){n&1&&(c(0,"div",7),P(1,"div",8),c(2,"span"),d(3,"Loading photo..."),a()())}function VA(n,e){n&1&&(c(0,"div",9)(1,"span"),d(2,"\u{1F4F7}"),a(),c(3,"span"),d(4,"Failed to load photo"),a()())}var Kd=class n{photoItem;currentUserId;imageLoading=!0;imageError=!1;get isOwnMessage(){return this.photoItem.senderId===this.currentUserId}onImageError(e){this.imageLoading=!1,this.imageError=!0}onImageLoad(){this.imageLoading=!1,this.imageError=!1}openPhotoViewer(){!this.imageError&&this.photoItem.url&&window.open(this.photoItem.url,"_blank")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["app-photo-bubble"]],inputs:{photoItem:"photoItem",currentUserId:"currentUserId"},decls:9,vars:16,consts:[[1,"photo-bubble",3,"ngClass"],[1,"photo-content",3,"ngClass"],[1,"photo-container"],["loading","lazy",1,"photo-image",3,"click","error","load","src","alt"],["class","photo-placeholder",4,"ngIf"],["class","photo-error",4,"ngIf"],[1,"timestamp"],[1,"photo-placeholder"],[1,"loading-spinner"],[1,"photo-error"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),v("click",function(){return i.openPhotoViewer()})("error",function(o){return i.onImageError(o)})("load",function(){return i.onImageLoad()}),a(),_(4,LA,4,0,"div",4)(5,VA,5,0,"div",5),a(),c(6,"div",6),d(7),Z(8,"date"),a()()()),t&2&&(f("ngClass",jt(10,NA,!i.isOwnMessage,i.isOwnMessage)),p(),f("ngClass",jt(13,FA,!i.isOwnMessage,i.isOwnMessage)),p(2),f("src",i.photoItem.url,ye)("alt",i.photoItem.fileName),p(),f("ngIf",i.imageLoading),p(),f("ngIf",i.imageError),p(2),R($e(8,7,i.photoItem.createdAt,"shortTime")))},dependencies:[q,ot,Ae],styles:[".photo-bubble[_ngcontent-%COMP%]{display:flex;width:100%;margin:8px 0}.photo-bubble-left[_ngcontent-%COMP%]{justify-content:flex-start}.photo-bubble-right[_ngcontent-%COMP%]{justify-content:flex-end}.photo-content[_ngcontent-%COMP%]{display:inline-block;border-radius:12px;overflow:hidden;max-width:300px;min-width:200px}.photo-content.left[_ngcontent-%COMP%]{border:2px solid #514c70;border-top-left-radius:4px}.photo-content.right[_ngcontent-%COMP%]{border:2px solid #514c70;border-top-right-radius:4px}.photo-container[_ngcontent-%COMP%]{position:relative;width:100%;max-height:300px;overflow:hidden}.photo-image[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;object-fit:cover;cursor:pointer;transition:opacity .2s ease}.photo-image[_ngcontent-%COMP%]:hover{opacity:.9}.photo-placeholder[_ngcontent-%COMP%], .photo-error[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:150px;background-color:#f5f5f5;color:#666;font-size:14px}.loading-spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #e0caff;border-top:2px solid #6c5ce7;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:8px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.photo-caption[_ngcontent-%COMP%]{padding:8px 12px;background-color:#ffffffe6;font-size:14px;word-wrap:break-word}.timestamp[_ngcontent-%COMP%]{padding:4px 12px 8px;font-size:10px;opacity:.6;text-align:right;background-color:#ffffffe6}.left[_ngcontent-%COMP%]   .photo-caption[_ngcontent-%COMP%], .left[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{background-color:#ffffffe6;color:#000}.right[_ngcontent-%COMP%]   .photo-caption[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{background-color:#a79ed7e6;color:#000}"]})};var zA=()=>[1,2,3,4,5];function UA(n,e){if(n&1){let t=D();je(0),c(1,"img",10),v("click",function(){let r=y(t).index,o=m();return b(o.reviewForm.rating=r+1)}),a(),Be()}if(n&2){let t=e.index,i=m();p(),f("src",t<i.reviewForm.rating?"assets/icons/star-filled.svg":"assets/icons/star.svg",ye)}}var Jd=class n{reviewForm={receiverUserId:"",rating:5,content:""};formSubmit=new V;close=new V;submitReview(){this.formSubmit.emit(this.reviewForm)}closeForm(){this.close.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["app-review-form"]],inputs:{reviewForm:"reviewForm"},outputs:{formSubmit:"formSubmit",close:"close"},decls:18,vars:3,consts:[["form","ngForm"],[1,"request-form-wrapper"],[1,"close-button",3,"click"],[1,"request-form",3,"ngSubmit"],[1,"rating-container"],[1,"star-rating"],[4,"ngFor","ngForOf"],["name","comment","rows","4","required","",3,"ngModelChange","ngModel"],[1,"center-button"],["type","submit"],["alt","Star",1,"star",3,"click","src"]],template:function(t,i){if(t&1){let r=D();c(0,"div",1)(1,"button",2),v("click",function(){return y(r),b(i.closeForm())}),d(2,"\xD7"),a(),c(3,"h2"),d(4,"Trimite o recenzie"),a(),c(5,"form",3,0),v("ngSubmit",function(){return y(r),b(i.submitReview())}),c(7,"div",4)(8,"span"),d(9,"Not\u0103:"),a(),c(10,"div",5),_(11,UA,2,1,"ng-container",6),a()(),c(12,"label"),d(13," Comentariu: "),c(14,"textarea",7),U("ngModelChange",function(s){return y(r),B(i.reviewForm.content,s)||(i.reviewForm.content=s),b(s)}),a()(),c(15,"div",8)(16,"button",9),d(17,"Trimite recenzia"),a()()()()}t&2&&(p(11),f("ngForOf",Ut(2,zA)),p(3),z("ngModel",i.reviewForm.content))},dependencies:[ge,wt,ze,Te,xt,Mt,Ne,Tt,ce],styles:[".request-form-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;max-width:500px;margin:0 auto;background-color:#e8d9ff;border:2px solid #000;padding:32px;font-family:Roboto Mono,monospace;min-height:auto;box-sizing:border-box}.close-button[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;background:none;border:none;font-size:24px;font-weight:700;cursor:pointer;color:#333;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%}.close-button[_ngcontent-%COMP%]:hover{background-color:#0000001a}.request-form-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;font-size:1.25rem;margin-bottom:1.5rem;margin-top:0}.request-form[_ngcontent-%COMP%]{width:100%}.request-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;font-size:.95rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem}.form-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;font-family:Roboto Mono,monospace;font-size:.9rem}.request-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .request-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.75rem;border:1px solid #999;border-radius:4px;font-family:Roboto Mono,monospace;background-color:#fff;font-size:1rem}.request-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.center-button[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1.5rem}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.75rem 2rem;border:2px solid #000;border-radius:6px;background-color:#c9b7ff;font-weight:700;cursor:pointer;font-family:Roboto Mono,monospace;font-size:1rem;transition:background-color .2s ease}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#b8a6ff}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#dcdcdc;color:#888;cursor:not-allowed}.rating-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:1rem}.rating-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}.star-rating[_ngcontent-%COMP%]{display:flex;gap:8px}.star[_ngcontent-%COMP%]{width:28px;height:28px;cursor:pointer;transition:transform .15s ease-in-out}.star[_ngcontent-%COMP%]:hover{transform:scale(1.2)}@media (max-width: 768px){.request-form-wrapper[_ngcontent-%COMP%]{max-width:90vw;padding:24px;margin:0}.request-form-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem}.request-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .request-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.6rem}.star[_ngcontent-%COMP%]{width:24px;height:24px}}"]})};var Xd=class n{constructor(e,t){this.authService=e;this.http=t}baseUrl="http://localhost:5241/api/Conversation";getExchanges(e){let t=new Qe;e&&(t=t.set("page",e.page.toString()),t=t.set("pageSize",e.pageSize.toString()));let i=this.authService.getToken(),r=new j({Authorization:`Bearer ${i}`});return this.http.get(`${this.baseUrl}/GetPage`,{params:t,headers:r})}getExchange(e,t){let i=new Qe;t&&(i=i.set("page",t.page.toString()),i=i.set("pageSize",t.pageSize.toString()));let r=this.authService.getToken(),o=new j({Authorization:`Bearer ${r}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{params:i,headers:o})}static \u0275fac=function(t){return new(t||n)(T(Y),T(Se))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var eu=class n{mockConversations=[{conversationId:"convo1",userId:"user_specialist_456",userFullName:"Ana Popescu",userProfilePictureUrl:"assets/avatar.svg",lastMessage:"Oferta este valabil\u0103 p\xE2n\u0103 m\xE2ine!",lastMessageAt:new Date("2024-01-01T10:45:00Z"),unreadCount:1},{conversationId:"convo2",userId:"user_specialist_789",userFullName:"Ion Vasile",userProfilePictureUrl:"assets/avatar.svg",lastMessage:"Bun\u0103 ziua! Cum merge treaba?",lastMessageAt:new Date("2024-01-01T10:00:00Z"),unreadCount:0}];mockConversationItems=[{id:"msg_001",conversationId:"conv_12345",senderId:"user_client_123",type:"message",createdAt:new Date("2024-01-01T10:00:00Z"),data:{Content:"Bun\u0103 ziua! Cum merge treaba?",SenderId:"user_client_123",CreatedAt:new Date("2024-01-01T10:00:00Z"),IsRead:!0}},{id:"req_001",conversationId:"conv_12345",senderId:"user_client_123",type:"request",createdAt:new Date("2024-01-01T10:15:00Z"),data:{RequestId:"req_001",RequestedStartDate:new Date("2024-01-02T09:00:00Z"),PhoneNumber:"0722123456",Address:"Strada Libert\u0103\u021Bii nr. 25, Bucure\u0219ti",Description:"Instalare aer condi\u021Bionat \xEEn living",Status:"Accepted",SenderId:"user_client_123"}},{id:"reply_001",conversationId:"conv_12345",senderId:"user_specialist_456",type:"reply",createdAt:new Date("2024-01-01T10:30:00Z"),data:{RequestId:"req_001",StartDate:new Date("2024-01-02T09:00:00Z"),EndDate:new Date("2024-01-02T12:00:00Z"),Price:450,Status:"Pending",SenderId:"user_specialist_456"}},{id:"msg_002",conversationId:"conv_12345",senderId:"user_specialist_456",type:"message",createdAt:new Date("2024-01-01T10:45:00Z"),data:{Content:"Oferta este valabil\u0103 p\xE2n\u0103 m\xE2ine!",CreatedAt:new Date("2024-01-01T10:45:00Z"),IsRead:!1}}];getExchanges(e){let t={response:{page:e?.page||1,pageSize:e?.pageSize||20,totalCount:this.mockConversations.length,data:this.mockConversations},errorMessage:void 0};return J(t).pipe(fc(300))}getExchange(e,t){let i={response:{page:t?.page||1,pageSize:t?.pageSize||50,totalCount:this.mockConversationItems.length,data:this.mockConversationItems},errorMessage:void 0};return J(i).pipe(fc(500))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var tn=class extends Error{constructor(e,t){let i=new.target.prototype;super(`${e}: Status code '${t}'`),this.statusCode=t,this.__proto__=i}},Gi=class extends Error{constructor(e="A timeout occurred."){let t=new.target.prototype;super(e),this.__proto__=t}},pt=class extends Error{constructor(e="An abort occurred."){let t=new.target.prototype;super(e),this.__proto__=t}},tu=class extends Error{constructor(e,t){let i=new.target.prototype;super(e),this.transport=t,this.errorType="UnsupportedTransportError",this.__proto__=i}},nu=class extends Error{constructor(e,t){let i=new.target.prototype;super(e),this.transport=t,this.errorType="DisabledTransportError",this.__proto__=i}},iu=class extends Error{constructor(e,t){let i=new.target.prototype;super(e),this.transport=t,this.errorType="FailedToStartTransportError",this.__proto__=i}},Sa=class extends Error{constructor(e){let t=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=t}},ru=class extends Error{constructor(e,t){let i=new.target.prototype;super(e),this.innerErrors=t,this.__proto__=i}};var Yo=class{constructor(e,t,i){this.statusCode=e,this.statusText=t,this.content=i}},Hn=class{get(e,t){return this.send(G(S({},t),{method:"GET",url:e}))}post(e,t){return this.send(G(S({},t),{method:"POST",url:e}))}delete(e,t){return this.send(G(S({},t),{method:"DELETE",url:e}))}getCookieString(e){return""}};var E=function(n){return n[n.Trace=0]="Trace",n[n.Debug=1]="Debug",n[n.Information=2]="Information",n[n.Warning=3]="Warning",n[n.Error=4]="Error",n[n.Critical=5]="Critical",n[n.None=6]="None",n}(E||{});var qn=class{constructor(){}log(e,t){}};qn.instance=new qn;var $A="8.0.7",ke=class{static isRequired(e,t){if(e==null)throw new Error(`The '${t}' argument is required.`)}static isNotEmpty(e,t){if(!e||e.match(/^\s*$/))throw new Error(`The '${t}' argument should not be empty.`)}static isIn(e,t,i){if(!(e in t))throw new Error(`Unknown ${i} value: ${e}.`)}},Fe=class n{static get isBrowser(){return!n.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!n.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!n.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}};function Zi(n,e){let t="";return Sn(n)?(t=`Binary data of length ${n.byteLength}`,e&&(t+=`. Content: '${HA(n)}'`)):typeof n=="string"&&(t=`String data of length ${n.length}`,e&&(t+=`. Content: '${n}'`)),t}function HA(n){let e=new Uint8Array(n),t="";return e.forEach(i=>{let r=i<16?"0":"";t+=`0x${r}${i.toString(16)} `}),t.substr(0,t.length-1)}function Sn(n){return n&&typeof ArrayBuffer<"u"&&(n instanceof ArrayBuffer||n.constructor&&n.constructor.name==="ArrayBuffer")}function su(n,e,t,i,r,o){return O(this,null,function*(){let s={},[l,u]=Wn();s[l]=u,n.log(E.Trace,`(${e} transport) sending data. ${Zi(r,o.logMessageContent)}.`);let g=Sn(r)?"arraybuffer":"text",h=yield t.post(i,{content:r,headers:S(S({},s),o.headers),responseType:g,timeout:o.timeout,withCredentials:o.withCredentials});n.log(E.Trace,`(${e} transport) request complete. Response status: ${h.statusCode}.`)})}function rx(n){return n===void 0?new kr(E.Information):n===null?qn.instance:n.log!==void 0?n:new kr(n)}var ou=class{constructor(e,t){this._subject=e,this._observer=t}dispose(){let e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(t=>{})}},kr=class{constructor(e){this._minLevel=e,this.out=console}log(e,t){if(e>=this._minLevel){let i=`[${new Date().toISOString()}] ${E[e]}: ${t}`;switch(e){case E.Critical:case E.Error:this.out.error(i);break;case E.Warning:this.out.warn(i);break;case E.Information:this.out.info(i);break;default:this.out.log(i);break}}}};function Wn(){let n="X-SignalR-User-Agent";return Fe.isNode&&(n="User-Agent"),[n,qA($A,WA(),ZA(),GA())]}function qA(n,e,t,i){let r="Microsoft SignalR/",o=n.split(".");return r+=`${o[0]}.${o[1]}`,r+=` (${n}; `,e&&e!==""?r+=`${e}; `:r+="Unknown OS; ",r+=`${t}`,i?r+=`; ${i}`:r+="; Unknown Runtime Version",r+=")",r}function WA(){if(Fe.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function GA(){if(Fe.isNode)return process.versions.node}function ZA(){return Fe.isNode?"NodeJS":"Browser"}function au(n){return n.stack?n.stack:n.message?n.message:`${n}`}function ox(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}var cu=class extends Hn{constructor(e){if(super(),this._logger=e,typeof fetch>"u"||Fe.isNode){let t=typeof __webpack_require__=="function"?__non_webpack_require__:Ar;this._jar=new(t("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=t("node-fetch"):this._fetchType=fetch,this._fetchType=t("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(ox());if(typeof AbortController>"u"){let t=typeof __webpack_require__=="function"?__non_webpack_require__:Ar;this._abortControllerType=t("abort-controller")}else this._abortControllerType=AbortController}send(e){return O(this,null,function*(){if(e.abortSignal&&e.abortSignal.aborted)throw new pt;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");let t=new this._abortControllerType,i;e.abortSignal&&(e.abortSignal.onabort=()=>{t.abort(),i=new pt});let r=null;if(e.timeout){let u=e.timeout;r=setTimeout(()=>{t.abort(),this._logger.log(E.Warning,"Timeout from HTTP request."),i=new Gi},u)}e.content===""&&(e.content=void 0),e.content&&(e.headers=e.headers||{},Sn(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=yield this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:e.withCredentials===!0?"include":"same-origin",headers:S({"X-Requested-With":"XMLHttpRequest"},e.headers),method:e.method,mode:"cors",redirect:"follow",signal:t.signal})}catch(u){throw i||(this._logger.log(E.Warning,`Error from HTTP request. ${u}.`),u)}finally{r&&clearTimeout(r),e.abortSignal&&(e.abortSignal.onabort=null)}if(!o.ok){let u=yield sx(o,"text");throw new tn(u||o.statusText,o.status)}let l=yield sx(o,e.responseType);return new Yo(o.status,o.statusText,l)})}getCookieString(e){let t="";return Fe.isNode&&this._jar&&this._jar.getCookies(e,(i,r)=>t=r.join("; ")),t}};function sx(n,e){let t;switch(e){case"arraybuffer":t=n.arrayBuffer();break;case"text":t=n.text();break;case"blob":case"document":case"json":throw new Error(`${e} is not supported.`);default:t=n.text();break}return t}var lu=class extends Hn{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new pt):e.method?e.url?new Promise((t,i)=>{let r=new XMLHttpRequest;r.open(e.method,e.url,!0),r.withCredentials=e.withCredentials===void 0?!0:e.withCredentials,r.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.content===""&&(e.content=void 0),e.content&&(Sn(e.content)?r.setRequestHeader("Content-Type","application/octet-stream"):r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));let o=e.headers;o&&Object.keys(o).forEach(s=>{r.setRequestHeader(s,o[s])}),e.responseType&&(r.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{r.abort(),i(new pt)}),e.timeout&&(r.timeout=e.timeout),r.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),r.status>=200&&r.status<300?t(new Yo(r.status,r.statusText,r.response||r.responseText)):i(new tn(r.response||r.responseText||r.statusText,r.status))},r.onerror=()=>{this._logger.log(E.Warning,`Error from HTTP request. ${r.status}: ${r.statusText}.`),i(new tn(r.statusText,r.status))},r.ontimeout=()=>{this._logger.log(E.Warning,"Timeout from HTTP request."),i(new Gi)},r.send(e.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}};var du=class extends Hn{constructor(e){if(super(),typeof fetch<"u"||Fe.isNode)this._httpClient=new cu(e);else if(typeof XMLHttpRequest<"u")this._httpClient=new lu(e);else throw new Error("No usable HttpClient found.")}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new pt):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}};var nn=class n{static write(e){return`${e}${n.RecordSeparator}`}static parse(e){if(e[e.length-1]!==n.RecordSeparator)throw new Error("Message is incomplete.");let t=e.split(n.RecordSeparator);return t.pop(),t}};nn.RecordSeparatorCode=30;nn.RecordSeparator=String.fromCharCode(nn.RecordSeparatorCode);var uu=class{writeHandshakeRequest(e){return nn.write(JSON.stringify(e))}parseHandshakeResponse(e){let t,i;if(Sn(e)){let l=new Uint8Array(e),u=l.indexOf(nn.RecordSeparatorCode);if(u===-1)throw new Error("Message is incomplete.");let g=u+1;t=String.fromCharCode.apply(null,Array.prototype.slice.call(l.slice(0,g))),i=l.byteLength>g?l.slice(g).buffer:null}else{let l=e,u=l.indexOf(nn.RecordSeparator);if(u===-1)throw new Error("Message is incomplete.");let g=u+1;t=l.substring(0,g),i=l.length>g?l.substring(g):null}let r=nn.parse(t),o=JSON.parse(r[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[i,o]}};var X=function(n){return n[n.Invocation=1]="Invocation",n[n.StreamItem=2]="StreamItem",n[n.Completion=3]="Completion",n[n.StreamInvocation=4]="StreamInvocation",n[n.CancelInvocation=5]="CancelInvocation",n[n.Ping=6]="Ping",n[n.Close=7]="Close",n[n.Ack=8]="Ack",n[n.Sequence=9]="Sequence",n}(X||{});var pu=class{constructor(){this.observers=[]}next(e){for(let t of this.observers)t.next(e)}error(e){for(let t of this.observers)t.error&&t.error(e)}complete(){for(let e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new ou(this,e)}};var fu=class{constructor(e,t,i){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=t,this._bufferSize=i}_send(e){return O(this,null,function*(){let t=this._protocol.writeMessage(e),i=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let r=()=>{},o=()=>{};Sn(t)?this._bufferedByteCount+=t.byteLength:this._bufferedByteCount+=t.length,this._bufferedByteCount>=this._bufferSize&&(i=new Promise((s,l)=>{r=s,o=l})),this._messages.push(new Km(t,this._totalMessageCount,r,o))}try{this._reconnectInProgress||(yield this._connection.send(t))}catch{this._disconnected()}yield i})}_ack(e){let t=-1;for(let i=0;i<this._messages.length;i++){let r=this._messages[i];if(r._id<=e.sequenceId)t=i,Sn(r._message)?this._bufferedByteCount-=r._message.byteLength:this._bufferedByteCount-=r._message.length,r._resolver();else if(this._bufferedByteCount<this._bufferSize)r._resolver();else break}t!==-1&&(this._messages=this._messages.slice(t+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type!==X.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;let t=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,t<=this._latestReceivedSequenceId?(t===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=t,this._ackTimer(),!0)}_resetSequence(e){if(e.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}_resend(){return O(this,null,function*(){let e=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;yield this._connection.send(this._protocol.writeMessage({type:X.Sequence,sequenceId:e}));let t=this._messages;for(let i of t)yield this._connection.send(i._message);this._reconnectInProgress=!1})}_dispose(e){e??(e=new Error("Unable to reconnect to server."));for(let t of this._messages)t._rejector(e)}_isInvocationMessage(e){switch(e.type){case X.Invocation:case X.StreamItem:case X.Completion:case X.StreamInvocation:case X.CancelInvocation:return!0;case X.Close:case X.Sequence:case X.Ping:case X.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(()=>O(this,null,function*(){try{this._reconnectInProgress||(yield this._connection.send(this._protocol.writeMessage({type:X.Ack,sequenceId:this._latestReceivedSequenceId})))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0}),1e3))}},Km=class{constructor(e,t,i,r){this._message=e,this._id=t,this._resolver=i,this._rejector=r}};var YA=30*1e3,QA=15*1e3,KA=1e5,Ee=function(n){return n.Disconnected="Disconnected",n.Connecting="Connecting",n.Connected="Connected",n.Disconnecting="Disconnecting",n.Reconnecting="Reconnecting",n}(Ee||{}),Da=class n{static create(e,t,i,r,o,s,l){return new n(e,t,i,r,o,s,l)}constructor(e,t,i,r,o,s,l){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(E.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},ke.isRequired(e,"connection"),ke.isRequired(t,"logger"),ke.isRequired(i,"protocol"),this.serverTimeoutInMilliseconds=o??YA,this.keepAliveIntervalInMilliseconds=s??QA,this._statefulReconnectBufferSize=l??KA,this._logger=t,this._protocol=i,this.connection=e,this._reconnectPolicy=r,this._handshakeProtocol=new uu,this.connection.onreceive=u=>this._processIncomingData(u),this.connection.onclose=u=>this._connectionClosed(u),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Ee.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:X.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==Ee.Disconnected&&this._connectionState!==Ee.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){return O(this,null,function*(){if(this._connectionState!==Ee.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Ee.Connecting,this._logger.log(E.Debug,"Starting HubConnection.");try{yield this._startInternal(),Fe.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Ee.Connected,this._connectionStarted=!0,this._logger.log(E.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=Ee.Disconnected,this._logger.log(E.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}})}_startInternal(){return O(this,null,function*(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;let e=new Promise((t,i)=>{this._handshakeResolver=t,this._handshakeRejecter=i});yield this.connection.start(this._protocol.transferFormat);try{let t=this._protocol.version;this.connection.features.reconnect||(t=1);let i={protocol:this._protocol.name,version:t};if(this._logger.log(E.Debug,"Sending handshake request."),yield this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(i)),this._logger.log(E.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),yield e,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new fu(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||(yield this._sendMessage(this._cachedPingMessage))}catch(t){throw this._logger.log(E.Debug,`Hub handshake failed with error '${t}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),yield this.connection.stop(t),t}})}stop(){return O(this,null,function*(){let e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),yield this._stopPromise;try{yield e}catch{}})}_stopInternal(e){if(this._connectionState===Ee.Disconnected)return this._logger.log(E.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Ee.Disconnecting)return this._logger.log(E.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;let t=this._connectionState;return this._connectionState=Ee.Disconnecting,this._logger.log(E.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(E.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(t===Ee.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new pt("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}_sendCloseMessage(){return O(this,null,function*(){try{yield this._sendWithProtocol(this._createCloseMessage())}catch{}})}stream(e,...t){let[i,r]=this._replaceStreamingParams(t),o=this._createStreamInvocation(e,t,r),s,l=new pu;return l.cancelCallback=()=>{let u=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],s.then(()=>this._sendWithProtocol(u))},this._callbacks[o.invocationId]=(u,g)=>{if(g){l.error(g);return}else u&&(u.type===X.Completion?u.error?l.error(new Error(u.error)):l.complete():l.next(u.item))},s=this._sendWithProtocol(o).catch(u=>{l.error(u),delete this._callbacks[o.invocationId]}),this._launchStreams(i,s),l}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...t){let[i,r]=this._replaceStreamingParams(t),o=this._sendWithProtocol(this._createInvocation(e,t,!0,r));return this._launchStreams(i,o),o}invoke(e,...t){let[i,r]=this._replaceStreamingParams(t),o=this._createInvocation(e,t,!1,r);return new Promise((l,u)=>{this._callbacks[o.invocationId]=(h,C)=>{if(C){u(C);return}else h&&(h.type===X.Completion?h.error?u(new Error(h.error)):l(h.result):u(new Error(`Unexpected message type: ${h.type}`)))};let g=this._sendWithProtocol(o).catch(h=>{u(h),delete this._callbacks[o.invocationId]});this._launchStreams(i,g)})}on(e,t){!e||!t||(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),this._methods[e].indexOf(t)===-1&&this._methods[e].push(t))}off(e,t){if(!e)return;e=e.toLowerCase();let i=this._methods[e];if(i)if(t){let r=i.indexOf(t);r!==-1&&(i.splice(r,1),i.length===0&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){let t=this._protocol.parseMessages(e,this._logger);for(let i of t)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(i)))switch(i.type){case X.Invocation:this._invokeClientMethod(i).catch(r=>{this._logger.log(E.Error,`Invoke client method threw error: ${au(r)}`)});break;case X.StreamItem:case X.Completion:{let r=this._callbacks[i.invocationId];if(r){i.type===X.Completion&&delete this._callbacks[i.invocationId];try{r(i)}catch(o){this._logger.log(E.Error,`Stream callback threw error: ${au(o)}`)}}break}case X.Ping:break;case X.Close:{this._logger.log(E.Information,"Close message received from server.");let r=i.error?new Error("Server returned an error on close: "+i.error):void 0;i.allowReconnect===!0?this.connection.stop(r):this._stopPromise=this._stopInternal(r);break}case X.Ack:this._messageBuffer&&this._messageBuffer._ack(i);break;case X.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(i);break;default:this._logger.log(E.Warning,`Invalid message type: ${i.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let t,i;try{[i,t]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(r){let o="Error parsing handshake response: "+r;this._logger.log(E.Error,o);let s=new Error(o);throw this._handshakeRejecter(s),s}if(t.error){let r="Server returned handshake error: "+t.error;this._logger.log(E.Error,r);let o=new Error(r);throw this._handshakeRejecter(o),o}else this._logger.log(E.Debug,"Server handshake complete.");return this._handshakeResolver(),i}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let e=this._nextKeepAlive-new Date().getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(()=>O(this,null,function*(){if(this._connectionState===Ee.Connected)try{yield this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}}),e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(e){return O(this,null,function*(){let t=e.target.toLowerCase(),i=this._methods[t];if(!i){this._logger.log(E.Warning,`No client method with the name '${t}' found.`),e.invocationId&&(this._logger.log(E.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),yield this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)));return}let r=i.slice(),o=!!e.invocationId,s,l,u;for(let g of r)try{let h=s;s=yield g.apply(this,e.arguments),o&&s&&h&&(this._logger.log(E.Error,`Multiple results provided for '${t}'. Sending error to server.`),u=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),l=void 0}catch(h){l=h,this._logger.log(E.Error,`A callback for the method '${t}' threw error '${h}'.`)}u?yield this._sendWithProtocol(u):o?(l?u=this._createCompletionMessage(e.invocationId,`${l}`,null):s!==void 0?u=this._createCompletionMessage(e.invocationId,null,s):(this._logger.log(E.Warning,`No result given for '${t}' method and invocation ID '${e.invocationId}'.`),u=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),yield this._sendWithProtocol(u)):s&&this._logger.log(E.Error,`Result given for '${t}' method but server is not expecting a result.`)})}_connectionClosed(e){this._logger.log(E.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new pt("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Ee.Disconnecting?this._completeClose(e):this._connectionState===Ee.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===Ee.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=Ee.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(e??new Error("Connection closed.")),this._messageBuffer=void 0),Fe.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(t=>t.apply(this,[e]))}catch(t){this._logger.log(E.Error,`An onclose callback called with error '${e}' threw error '${t}'.`)}}}_reconnect(e){return O(this,null,function*(){let t=Date.now(),i=0,r=e!==void 0?e:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(i++,0,r);if(o===null){this._logger.log(E.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(e);return}if(this._connectionState=Ee.Reconnecting,e?this._logger.log(E.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(E.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(s=>s.apply(this,[e]))}catch(s){this._logger.log(E.Error,`An onreconnecting callback called with error '${e}' threw error '${s}'.`)}if(this._connectionState!==Ee.Reconnecting){this._logger.log(E.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(E.Information,`Reconnect attempt number ${i} will start in ${o} ms.`),yield new Promise(s=>{this._reconnectDelayHandle=setTimeout(s,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==Ee.Reconnecting){this._logger.log(E.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(yield this._startInternal(),this._connectionState=Ee.Connected,this._logger.log(E.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(s=>s.apply(this,[this.connection.connectionId]))}catch(s){this._logger.log(E.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${s}'.`)}return}catch(s){if(this._logger.log(E.Information,`Reconnect attempt failed because of error '${s}'.`),this._connectionState!==Ee.Reconnecting){this._logger.log(E.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Ee.Disconnecting&&this._completeClose();return}r=s instanceof Error?s:new Error(s.toString()),o=this._getNextRetryDelay(i++,Date.now()-t,r)}}this._logger.log(E.Information,`Reconnect retries have been exhausted after ${Date.now()-t} ms and ${i} failed attempts. Connection disconnecting.`),this._completeClose()})}_getNextRetryDelay(e,t,i){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:e,retryReason:i})}catch(r){return this._logger.log(E.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${t}) threw error '${r}'.`),null}}_cancelCallbacksWithError(e){let t=this._callbacks;this._callbacks={},Object.keys(t).forEach(i=>{let r=t[i];try{r(null,e)}catch(o){this._logger.log(E.Error,`Stream 'error' callback called with '${e}' threw error: ${au(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,t,i,r){if(i)return r.length!==0?{arguments:t,streamIds:r,target:e,type:X.Invocation}:{arguments:t,target:e,type:X.Invocation};{let o=this._invocationId;return this._invocationId++,r.length!==0?{arguments:t,invocationId:o.toString(),streamIds:r,target:e,type:X.Invocation}:{arguments:t,invocationId:o.toString(),target:e,type:X.Invocation}}}_launchStreams(e,t){if(e.length!==0){t||(t=Promise.resolve());for(let i in e)e[i].subscribe({complete:()=>{t=t.then(()=>this._sendWithProtocol(this._createCompletionMessage(i)))},error:r=>{let o;r instanceof Error?o=r.message:r&&r.toString?o=r.toString():o="Unknown error",t=t.then(()=>this._sendWithProtocol(this._createCompletionMessage(i,o)))},next:r=>{t=t.then(()=>this._sendWithProtocol(this._createStreamItemMessage(i,r)))}})}}_replaceStreamingParams(e){let t=[],i=[];for(let r=0;r<e.length;r++){let o=e[r];if(this._isObservable(o)){let s=this._invocationId;this._invocationId++,t[s]=o,i.push(s.toString()),e.splice(r,1)}}return[t,i]}_isObservable(e){return e&&e.subscribe&&typeof e.subscribe=="function"}_createStreamInvocation(e,t,i){let r=this._invocationId;return this._invocationId++,i.length!==0?{arguments:t,invocationId:r.toString(),streamIds:i,target:e,type:X.StreamInvocation}:{arguments:t,invocationId:r.toString(),target:e,type:X.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:X.CancelInvocation}}_createStreamItemMessage(e,t){return{invocationId:e,item:t,type:X.StreamItem}}_createCompletionMessage(e,t,i){return t?{error:t,invocationId:e,type:X.Completion}:{invocationId:e,result:i,type:X.Completion}}_createCloseMessage(){return{type:X.Close}}};var JA=[0,2e3,1e4,3e4,null],Ea=class{constructor(e){this._retryDelays=e!==void 0?[...e,null]:JA}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}};var Rr=(()=>{class n{}return n.Authorization="Authorization",n.Cookie="Cookie",n})();var gu=class extends Hn{constructor(e,t){super(),this._innerClient=e,this._accessTokenFactory=t}send(e){return O(this,null,function*(){let t=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(t=!1,this._accessToken=yield this._accessTokenFactory()),this._setAuthorizationHeader(e);let i=yield this._innerClient.send(e);return t&&i.statusCode===401&&this._accessTokenFactory?(this._accessToken=yield this._accessTokenFactory(),this._setAuthorizationHeader(e),yield this._innerClient.send(e)):i})}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[Rr.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[Rr.Authorization]&&delete e.headers[Rr.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}};var st=function(n){return n[n.None=0]="None",n[n.WebSockets=1]="WebSockets",n[n.ServerSentEvents=2]="ServerSentEvents",n[n.LongPolling=4]="LongPolling",n}(st||{}),nt=function(n){return n[n.Text=1]="Text",n[n.Binary=2]="Binary",n}(nt||{});var mu=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};var Pa=class{get pollAborted(){return this._pollAbort.aborted}constructor(e,t,i){this._httpClient=e,this._logger=t,this._pollAbort=new mu,this._options=i,this._running=!1,this.onreceive=null,this.onclose=null}connect(e,t){return O(this,null,function*(){if(ke.isRequired(e,"url"),ke.isRequired(t,"transferFormat"),ke.isIn(t,nt,"transferFormat"),this._url=e,this._logger.log(E.Trace,"(LongPolling transport) Connecting."),t===nt.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");let[i,r]=Wn(),o=S({[i]:r},this._options.headers),s={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};t===nt.Binary&&(s.responseType="arraybuffer");let l=`${e}&_=${Date.now()}`;this._logger.log(E.Trace,`(LongPolling transport) polling: ${l}.`);let u=yield this._httpClient.get(l,s);u.statusCode!==200?(this._logger.log(E.Error,`(LongPolling transport) Unexpected response code: ${u.statusCode}.`),this._closeError=new tn(u.statusText||"",u.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,s)})}_poll(e,t){return O(this,null,function*(){try{for(;this._running;)try{let i=`${e}&_=${Date.now()}`;this._logger.log(E.Trace,`(LongPolling transport) polling: ${i}.`);let r=yield this._httpClient.get(i,t);r.statusCode===204?(this._logger.log(E.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):r.statusCode!==200?(this._logger.log(E.Error,`(LongPolling transport) Unexpected response code: ${r.statusCode}.`),this._closeError=new tn(r.statusText||"",r.statusCode),this._running=!1):r.content?(this._logger.log(E.Trace,`(LongPolling transport) data received. ${Zi(r.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(r.content)):this._logger.log(E.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(i){this._running?i instanceof Gi?this._logger.log(E.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=i,this._running=!1):this._logger.log(E.Trace,`(LongPolling transport) Poll errored after shutdown: ${i.message}`)}}finally{this._logger.log(E.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}})}send(e){return O(this,null,function*(){return this._running?su(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))})}stop(){return O(this,null,function*(){this._logger.log(E.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{yield this._receiving,this._logger.log(E.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);let e={},[t,i]=Wn();e[t]=i;let r={headers:S(S({},e),this._options.headers),timeout:this._options.timeout,withCredentials:this._options.withCredentials},o;try{yield this._httpClient.delete(this._url,r)}catch(s){o=s}o?o instanceof tn&&(o.statusCode===404?this._logger.log(E.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(E.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(E.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(E.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}})}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(E.Trace,e),this.onclose(this._closeError)}}};var hu=class{constructor(e,t,i,r){this._httpClient=e,this._accessToken=t,this._logger=i,this._options=r,this.onreceive=null,this.onclose=null}connect(e,t){return O(this,null,function*(){return ke.isRequired(e,"url"),ke.isRequired(t,"transferFormat"),ke.isIn(t,nt,"transferFormat"),this._logger.log(E.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((i,r)=>{let o=!1;if(t!==nt.Text){r(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let s;if(Fe.isBrowser||Fe.isWebWorker)s=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{let l=this._httpClient.getCookieString(e),u={};u.Cookie=l;let[g,h]=Wn();u[g]=h,s=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:S(S({},u),this._options.headers)})}try{s.onmessage=l=>{if(this.onreceive)try{this._logger.log(E.Trace,`(SSE transport) data received. ${Zi(l.data,this._options.logMessageContent)}.`),this.onreceive(l.data)}catch(u){this._close(u);return}},s.onerror=l=>{o?this._close():r(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},s.onopen=()=>{this._logger.log(E.Information,`SSE connected to ${this._url}`),this._eventSource=s,o=!0,i()}}catch(l){r(l);return}})})}send(e){return O(this,null,function*(){return this._eventSource?su(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))})}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}};var vu=class{constructor(e,t,i,r,o,s){this._logger=i,this._accessTokenFactory=t,this._logMessageContent=r,this._webSocketConstructor=o,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=s}connect(e,t){return O(this,null,function*(){ke.isRequired(e,"url"),ke.isRequired(t,"transferFormat"),ke.isIn(t,nt,"transferFormat"),this._logger.log(E.Trace,"(WebSockets transport) Connecting.");let i;return this._accessTokenFactory&&(i=yield this._accessTokenFactory()),new Promise((r,o)=>{e=e.replace(/^http/,"ws");let s,l=this._httpClient.getCookieString(e),u=!1;if(Fe.isNode||Fe.isReactNative){let g={},[h,C]=Wn();g[h]=C,i&&(g[Rr.Authorization]=`Bearer ${i}`),l&&(g[Rr.Cookie]=l),s=new this._webSocketConstructor(e,void 0,{headers:S(S({},g),this._headers)})}else i&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(i)}`);s||(s=new this._webSocketConstructor(e)),t===nt.Binary&&(s.binaryType="arraybuffer"),s.onopen=g=>{this._logger.log(E.Information,`WebSocket connected to ${e}.`),this._webSocket=s,u=!0,r()},s.onerror=g=>{let h=null;typeof ErrorEvent<"u"&&g instanceof ErrorEvent?h=g.error:h="There was an error with the transport",this._logger.log(E.Information,`(WebSockets transport) ${h}.`)},s.onmessage=g=>{if(this._logger.log(E.Trace,`(WebSockets transport) data received. ${Zi(g.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(g.data)}catch(h){this._close(h);return}},s.onclose=g=>{if(u)this._close(g);else{let h=null;typeof ErrorEvent<"u"&&g instanceof ErrorEvent?h=g.error:h="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(h))}}})})}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(E.Trace,`(WebSockets transport) sending data. ${Zi(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(E.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(e)&&(e.wasClean===!1||e.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)):e instanceof Error?this.onclose(e):this.onclose())}_isCloseEvent(e){return e&&typeof e.wasClean=="boolean"&&typeof e.code=="number"}};var ax=100,_u=class{constructor(e,t={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,ke.isRequired(e,"url"),this._logger=rx(t.logger),this.baseUrl=this._resolveUrl(e),t=t||{},t.logMessageContent=t.logMessageContent===void 0?!1:t.logMessageContent,typeof t.withCredentials=="boolean"||t.withCredentials===void 0)t.withCredentials=t.withCredentials===void 0?!0:t.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");t.timeout=t.timeout===void 0?100*1e3:t.timeout;let i=null,r=null;if(Fe.isNode&&typeof Ar<"u"){let o=typeof __webpack_require__=="function"?__non_webpack_require__:Ar;i=o("ws"),r=o("eventsource")}!Fe.isNode&&typeof WebSocket<"u"&&!t.WebSocket?t.WebSocket=WebSocket:Fe.isNode&&!t.WebSocket&&i&&(t.WebSocket=i),!Fe.isNode&&typeof EventSource<"u"&&!t.EventSource?t.EventSource=EventSource:Fe.isNode&&!t.EventSource&&typeof r<"u"&&(t.EventSource=r),this._httpClient=new gu(t.httpClient||new du(this._logger),t.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=t,this.onreceive=null,this.onclose=null}start(e){return O(this,null,function*(){if(e=e||nt.Binary,ke.isIn(e,nt,"transferFormat"),this._logger.log(E.Debug,`Starting connection with transfer format '${nt[e]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),yield this._startInternalPromise,this._connectionState==="Disconnecting"){let t="Failed to start the HttpConnection before stop() was called.";return this._logger.log(E.Error,t),yield this._stopPromise,Promise.reject(new pt(t))}else if(this._connectionState!=="Connected"){let t="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(E.Error,t),Promise.reject(new pt(t))}this._connectionStarted=!0})}send(e){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Jm(this.transport)),this._sendQueue.send(e))}stop(e){return O(this,null,function*(){if(this._connectionState==="Disconnected")return this._logger.log(E.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(E.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(t=>{this._stopPromiseResolver=t}),yield this._stopInternal(e),yield this._stopPromise})}_stopInternal(e){return O(this,null,function*(){this._stopError=e;try{yield this._startInternalPromise}catch{}if(this.transport){try{yield this.transport.stop()}catch(t){this._logger.log(E.Error,`HttpConnection.transport.stop() threw error '${t}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(E.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})}_startInternal(e){return O(this,null,function*(){let t=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===st.WebSockets)this.transport=this._constructTransport(st.WebSockets),yield this._startTransport(t,e);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let i=null,r=0;do{if(i=yield this._getNegotiationResponse(t),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new pt("The connection was stopped during negotiation.");if(i.error)throw new Error(i.error);if(i.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(i.url&&(t=i.url),i.accessToken){let o=i.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}r++}while(i.url&&r<ax);if(r===ax&&i.url)throw new Error("Negotiate redirection limit exceeded.");yield this._createTransport(t,this._options.transport,i,e)}this.transport instanceof Pa&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(E.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(i){return this._logger.log(E.Error,"Failed to start the connection: "+i),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(i)}})}_getNegotiationResponse(e){return O(this,null,function*(){let t={},[i,r]=Wn();t[i]=r;let o=this._resolveNegotiateUrl(e);this._logger.log(E.Debug,`Sending negotiation request: ${o}.`);try{let s=yield this._httpClient.post(o,{content:"",headers:S(S({},t),this._options.headers),timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(s.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${s.statusCode}'`));let l=JSON.parse(s.content);return(!l.negotiateVersion||l.negotiateVersion<1)&&(l.connectionToken=l.connectionId),l.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new Sa("Client didn't negotiate Stateful Reconnect but the server did.")):l}catch(s){let l="Failed to complete negotiation with the server: "+s;return s instanceof tn&&s.statusCode===404&&(l=l+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(E.Error,l),Promise.reject(new Sa(l))}})}_createConnectUrl(e,t){return t?e+(e.indexOf("?")===-1?"?":"&")+`id=${t}`:e}_createTransport(e,t,i,r){return O(this,null,function*(){let o=this._createConnectUrl(e,i.connectionToken);if(this._isITransport(t)){this._logger.log(E.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,yield this._startTransport(o,r),this.connectionId=i.connectionId;return}let s=[],l=i.availableTransports||[],u=i;for(let g of l){let h=this._resolveTransportOrError(g,t,r,u?.useStatefulReconnect===!0);if(h instanceof Error)s.push(`${g.transport} failed:`),s.push(h);else if(this._isITransport(h)){if(this.transport=h,!u){try{u=yield this._getNegotiationResponse(e)}catch(C){return Promise.reject(C)}o=this._createConnectUrl(e,u.connectionToken)}try{yield this._startTransport(o,r),this.connectionId=u.connectionId;return}catch(C){if(this._logger.log(E.Error,`Failed to start the transport '${g.transport}': ${C}`),u=void 0,s.push(new iu(`${g.transport} failed: ${C}`,st[g.transport])),this._connectionState!=="Connecting"){let M="Failed to select transport before stop() was called.";return this._logger.log(E.Debug,M),Promise.reject(new pt(M))}}}}return s.length>0?Promise.reject(new ru(`Unable to connect to the server with any of the available transports. ${s.join(" ")}`,s)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))})}_constructTransport(e){switch(e){case st.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new vu(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case st.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new hu(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case st.LongPolling:return new Pa(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,t){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=i=>O(this,null,function*(){let r=!1;if(this.features.reconnect)try{this.features.disconnected(),yield this.transport.connect(e,t),yield this.features.resend()}catch{r=!0}else{this._stopConnection(i);return}r&&this._stopConnection(i)}):this.transport.onclose=i=>this._stopConnection(i),this.transport.connect(e,t)}_resolveTransportOrError(e,t,i,r){let o=st[e.transport];if(o==null)return this._logger.log(E.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(XA(t,o))if(e.transferFormats.map(l=>nt[l]).indexOf(i)>=0){if(o===st.WebSockets&&!this._options.WebSocket||o===st.ServerSentEvents&&!this._options.EventSource)return this._logger.log(E.Debug,`Skipping transport '${st[o]}' because it is not supported in your environment.'`),new tu(`'${st[o]}' is not supported in your environment.`,o);this._logger.log(E.Debug,`Selecting transport '${st[o]}'.`);try{return this.features.reconnect=o===st.WebSockets?r:void 0,this._constructTransport(o)}catch(l){return l}}else return this._logger.log(E.Debug,`Skipping transport '${st[o]}' because it does not support the requested transfer format '${nt[i]}'.`),new Error(`'${st[o]}' does not support ${nt[i]}.`);else return this._logger.log(E.Debug,`Skipping transport '${st[o]}' because it was disabled by the client.`),new nu(`'${st[o]}' is disabled by the client.`,o)}_isITransport(e){return e&&typeof e=="object"&&"connect"in e}_stopConnection(e){if(this._logger.log(E.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(E.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(E.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),e?this._logger.log(E.Error,`Connection disconnected with error '${e}'.`):this._logger.log(E.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(t=>{this._logger.log(E.Error,`TransportSendQueue.stop() threw error '${t}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(t){this._logger.log(E.Error,`HttpConnection.onclose(${e}) threw error '${t}'.`)}}}_resolveUrl(e){if(e.lastIndexOf("https://",0)===0||e.lastIndexOf("http://",0)===0)return e;if(!Fe.isBrowser)throw new Error(`Cannot resolve '${e}'.`);let t=window.document.createElement("a");return t.href=e,this._logger.log(E.Information,`Normalizing '${e}' to '${t.href}'.`),t.href}_resolveNegotiateUrl(e){let t=new URL(e);t.pathname.endsWith("/")?t.pathname+="negotiate":t.pathname+="/negotiate";let i=new URLSearchParams(t.searchParams);return i.has("negotiateVersion")||i.append("negotiateVersion",this._negotiateVersion.toString()),i.has("useStatefulReconnect")?i.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&i.append("useStatefulReconnect","true"),t.search=i.toString(),t.toString()}};function XA(n,e){return!n||(e&n)!==0}var Jm=class n{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new Qo,this._transportResult=new Qo,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new Qo),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}_sendLoop(){return O(this,null,function*(){for(;;){if(yield this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Qo;let e=this._transportResult;this._transportResult=void 0;let t=typeof this._buffer[0]=="string"?this._buffer.join(""):n._concatBuffers(this._buffer);this._buffer.length=0;try{yield this._transport.send(t),e.resolve()}catch(i){e.reject(i)}}})}static _concatBuffers(e){let t=e.map(o=>o.byteLength).reduce((o,s)=>o+s),i=new Uint8Array(t),r=0;for(let o of e)i.set(new Uint8Array(o),r),r+=o.byteLength;return i.buffer}},Qo=class{constructor(){this.promise=new Promise((e,t)=>[this._resolver,this._rejecter]=[e,t])}resolve(){this._resolver()}reject(e){this._rejecter(e)}};var e3="json",yu=class{constructor(){this.name=e3,this.version=2,this.transferFormat=nt.Text}parseMessages(e,t){if(typeof e!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];t===null&&(t=qn.instance);let i=nn.parse(e),r=[];for(let o of i){let s=JSON.parse(o);if(typeof s.type!="number")throw new Error("Invalid payload.");switch(s.type){case X.Invocation:this._isInvocationMessage(s);break;case X.StreamItem:this._isStreamItemMessage(s);break;case X.Completion:this._isCompletionMessage(s);break;case X.Ping:break;case X.Close:break;case X.Ack:this._isAckMessage(s);break;case X.Sequence:this._isSequenceMessage(s);break;default:t.log(E.Information,"Unknown message type '"+s.type+"' ignored.");continue}r.push(s)}return r}writeMessage(e){return nn.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),e.invocationId!==void 0&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),e.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,t){if(typeof e!="string"||e==="")throw new Error(t)}};var t3={trace:E.Trace,debug:E.Debug,info:E.Information,information:E.Information,warn:E.Warning,warning:E.Warning,error:E.Error,critical:E.Critical,none:E.None};function n3(n){let e=t3[n.toLowerCase()];if(typeof e<"u")return e;throw new Error(`Unknown log level: ${n}`)}var Ia=class{configureLogging(e){if(ke.isRequired(e,"logging"),i3(e))this.logger=e;else if(typeof e=="string"){let t=n3(e);this.logger=new kr(t)}else this.logger=new kr(e);return this}withUrl(e,t){return ke.isRequired(e,"url"),ke.isNotEmpty(e,"url"),this.url=e,typeof t=="object"?this.httpConnectionOptions=S(S({},this.httpConnectionOptions),t):this.httpConnectionOptions=G(S({},this.httpConnectionOptions),{transport:t}),this}withHubProtocol(e){return ke.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new Ea(e):this.reconnectPolicy=e:this.reconnectPolicy=new Ea,this}withServerTimeout(e){return ke.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return ke.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=e?.bufferSize,this}build(){let e=this.httpConnectionOptions||{};if(e.logger===void 0&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");let t=new _u(this.url,e);return Da.create(t,this.logger||qn.instance,this.protocol||new yu,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}};function i3(n){return n.log!==void 0}var Ko=class n{hubConnection=null;connectionStateSubject=new be(!1);reconnectAttempts=0;maxReconnectAttempts=5;reconnectInterval=2e3;connectionState$=this.connectionStateSubject.asObservable();constructor(){}connect(e){return O(this,null,function*(){if(!e){console.warn("Cannot connect to SignalR without userId");return}try{this.hubConnection||this.createConnection(),this.hubConnection?.state===Ee.Disconnected&&(yield this.hubConnection.start(),console.log("SignalR connected successfully"),yield this.hubConnection.invoke("Join",e),console.log(`Joined SignalR group for user: ${e}`),this.connectionStateSubject.next(!0),this.reconnectAttempts=0)}catch(t){console.error("Failed to connect to SignalR:",t),this.connectionStateSubject.next(!1),this.scheduleReconnect(e)}})}createConnection(){this.hubConnection=new Ia().withUrl("http://localhost:5241/hubs/conversations",{withCredentials:!0,skipNegotiation:!1}).configureLogging(E.Information).withAutomaticReconnect([0,2e3,1e4,3e4]).build(),this.setupConnectionEventHandlers()}setupConnectionEventHandlers(){this.hubConnection&&(this.hubConnection.onreconnecting(e=>{console.log("SignalR reconnecting...",e),this.connectionStateSubject.next(!1)}),this.hubConnection.onreconnected(e=>{console.log("SignalR reconnected with connection ID:",e),this.connectionStateSubject.next(!0),this.reconnectAttempts=0}),this.hubConnection.onclose(e=>{console.log("SignalR connection closed:",e),this.connectionStateSubject.next(!1)}))}scheduleReconnect(e){if(this.reconnectAttempts>=this.maxReconnectAttempts){console.error("Max reconnection attempts reached. Giving up.");return}this.reconnectAttempts++;let t=this.reconnectInterval*Math.pow(2,this.reconnectAttempts-1);console.log(`Scheduling reconnection attempt ${this.reconnectAttempts} in ${t}ms`),setTimeout(()=>{this.connect(e)},t)}disconnect(){return O(this,null,function*(){if(this.hubConnection)try{yield this.hubConnection.stop(),console.log("SignalR disconnected"),this.connectionStateSubject.next(!1)}catch(e){console.error("Error disconnecting SignalR:",e)}})}on(e,t){this.hubConnection?this.hubConnection.on(e,t):console.warn(`Cannot register listener for ${e}: connection not established`)}off(e){this.hubConnection&&this.hubConnection.off(e)}invoke(e,...t){return O(this,null,function*(){if(this.hubConnection?.state===Ee.Connected)try{return yield this.hubConnection.invoke(e,...t)}catch(i){throw console.error(`Error invoking ${e}:`,i),i}else{let i=`Cannot invoke ${e}: SignalR not connected`;throw console.warn(i),new Error(i)}})}send(e,...t){return O(this,null,function*(){if(this.hubConnection?.state===Ee.Connected)try{yield this.hubConnection.send(e,...t)}catch(i){throw console.error(`Error sending ${e}:`,i),i}else{let i=`Cannot send ${e}: SignalR not connected`;throw console.warn(i),new Error(i)}})}isConnected(){return this.hubConnection?.state===Ee.Connected}getConnectionState(){return this.hubConnection?.state||Ee.Disconnected}getConnectionId(){return this.hubConnection?.connectionId||null}notifyNewMessage(e,t){return O(this,null,function*(){yield this.invoke("NotifyNewMessage",e,t)})}notifyNewRequest(e,t){return O(this,null,function*(){yield this.invoke("NotifyNewRequest",e,t)})}notifyNewReply(e,t){return O(this,null,function*(){yield this.invoke("NotifyNewReply",e,t)})}joinGroup(e){return O(this,null,function*(){yield this.invoke("JoinGroup",e)})}leaveGroup(e){return O(this,null,function*(){yield this.invoke("LeaveGroup",e)})}onNewMessage(e){this.on("ReceiveNewMessage",e)}onMessageRead(e){this.on("ReceiveMessageRead",e)}onNewRequest(e){this.on("ReceiveNewRequest",e)}onRequestStatusChanged(e){this.on("ReceiveNewRequestAccepted",e),this.on("ReceiveNewRequestRejected",e),this.on("ReceiveNewRequestCancelled",e)}onNewReply(e){this.on("ReceiveNewReply",e)}onReplyStatusChanged(e){this.on("ReceiveNewReplyAccepted",e),this.on("ReceiveNewReplyRejected",e),this.on("ReceiveNewReplyCancelled",e)}removeMessageListeners(){this.off("ReceiveNewMessage"),this.off("ReceiveMessageRead")}removeRequestListeners(){this.off("ReceiveNewRequest"),this.off("ReceiveNewRequestAccepted"),this.off("ReceiveNewRequestRejected"),this.off("ReceiveNewRequestCancelled")}removeReplyListeners(){this.off("ReceiveNewReply"),this.off("ReceiveNewReplyAccepted"),this.off("ReceiveNewReplyRejected"),this.off("ReceiveNewReplyCancelled")}onServiceCompleted(e){this.on("ServiceCompleted",e)}onReviewReceived(e){this.on("ReviewReceived",e)}onReviewPrompt(e){this.on("ReviewPrompt",e)}onServiceStatusChanged(e){this.on("ServiceStatusChanged",e)}removeReviewListeners(){this.off("ServiceCompleted"),this.off("ReviewReceived"),this.off("ReviewPrompt"),this.off("ServiceStatusChanged")}removeAllListeners(){this.removeMessageListeners(),this.removeRequestListeners(),this.removeReplyListeners(),this.removeReviewListeners()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var Jo=class n{constructor(e){this.signalRService=e}notificationSubject=new _e;conversationUpdateSubject=new _e;notification$=this.notificationSubject.asObservable();conversationUpdate$=this.conversationUpdateSubject.asObservable();setupListeners(e){this.signalRService.removeAllListeners(),this.signalRService.onNewMessage(t=>{this.handleNewMessageReceived(t,e)}),this.signalRService.onMessageRead(t=>{this.handleMessageRead(t)}),this.signalRService.onNewRequest(t=>{this.handleNewRequestReceived(t)}),this.signalRService.on("ReceiveRequestAccepted",t=>{this.handleRequestAccepted(t)}),this.signalRService.on("ReceiveRequestRejected",t=>{this.handleRequestRejected(t)}),this.signalRService.on("ReceiveRequestCompleted",t=>{this.handleRequestRejected(t)}),this.signalRService.on("ReceiveRequestCancelled",t=>{this.handleRequestCancelled(t)}),this.signalRService.onNewReply(t=>{this.handleNewReplyReceived(t)}),this.signalRService.on("ReceiveReplyAccepted",t=>{this.handleReplyAccepted(t)}),this.signalRService.on("ReceiveReplyRejected",t=>{this.handleReplyRejected(t)}),this.signalRService.on("ReceiveReplyCancelled",t=>{this.handleReplyCancelled(t)}),this.signalRService.onServiceCompleted(t=>{this.handleServiceCompleted(t)}),this.signalRService.onReviewReceived(t=>{this.handleReviewReceived(t)}),this.signalRService.onReviewPrompt(t=>{this.handleReviewPrompt(t)}),this.signalRService.onServiceStatusChanged(t=>{this.handleServiceStatusChanged(t)})}sendMessageNotification(e,t,i,r,o){return O(this,null,function*(){try{let s={MessageId:t,SenderId:o,RecipientId:e,Content:i,SenderName:r,SentAt:new Date,Message:"You have a new message"};yield this.signalRService.notifyNewMessage(e,s)}catch(s){console.error("Failed to send message notification:",s)}})}cleanup(){this.signalRService.removeAllListeners()}handleNewMessageReceived(e,t){let{SenderId:i,Content:r,SenderName:o}=e;if(i!==t){let s=r.length>50?r.substring(0,50)+"...":r;this.notificationSubject.next({type:"info",message:`New message from ${o}: ${s}`})}this.conversationUpdateSubject.next({type:"refresh-both"})}handleMessageRead(e){this.conversationUpdateSubject.next({type:"refresh-current"})}handleNewRequestReceived(e){let{SenderName:t}=e;this.notificationSubject.next({type:"info",message:`New service request from ${t}`}),this.conversationUpdateSubject.next({type:"refresh-both"})}handleRequestAccepted(e){this.notificationSubject.next({type:"success",message:"Your service request has been accepted!"}),this.conversationUpdateSubject.next({type:"refresh-both"})}handleRequestRejected(e){this.notificationSubject.next({type:"info",message:"Your service request has been declined."}),this.conversationUpdateSubject.next({type:"refresh-both"})}handleRequestCancelled(e){this.notificationSubject.next({type:"warning",message:"A service request has been cancelled."}),this.conversationUpdateSubject.next({type:"refresh-both"})}handleNewReplyReceived(e){let{SpecialistName:t,Price:i,StartDate:r}=e,o=new Date(r).toLocaleDateString();this.notificationSubject.next({type:"info",message:`New offer from ${t}: $${i} (${o})`}),this.conversationUpdateSubject.next({type:"refresh-both"})}handleReplyAccepted(e){this.notificationSubject.next({type:"success",message:"Great! Your service offer has been accepted."}),this.notificationSubject.next({type:"info",message:"Payment processing has begun."}),this.conversationUpdateSubject.next({type:"refresh-both"})}handleReplyRejected(e){this.notificationSubject.next({type:"info",message:"Your service offer has been declined."}),this.conversationUpdateSubject.next({type:"refresh-both"})}handleReplyCancelled(e){this.notificationSubject.next({type:"warning",message:"A service offer has been cancelled."}),this.conversationUpdateSubject.next({type:"refresh-both"})}handleServiceCompleted(e){console.log("\u{1F389} Service completed event received:",e);let{ServiceDescription:t,TransferCompleted:i,Message:r}=e;this.notificationSubject.next({type:"success",message:r||`Serviciul "${t}" a fost finalizat cu succes! ${i?"Plata a fost transferat\u0103.":""}`}),this.conversationUpdateSubject.next({type:"service-completed",data:e}),this.conversationUpdateSubject.next({type:"refresh-both"})}handleReviewReceived(e){console.log("\u2B50 Review received event:",e);let{ReviewerName:t,Rating:i,Message:r}=e;this.notificationSubject.next({type:"success",message:r||`Ai primit o nou\u0103 recenzie de ${i} stele de la ${t}!`})}handleReviewPrompt(e){console.log("\u{1F4DD} Review prompt event received:",e);let{ReviewTargetName:t,ReviewTargetRole:i,TaskId:r}=e,o=i==="specialist"?"specialistul":"clientul";this.notificationSubject.next({type:"info",message:`Po\u021Bi l\u0103sa o recenzie pentru ${o} ${t}!`}),this.conversationUpdateSubject.next({type:"review-prompt",data:e})}handleServiceStatusChanged(e){console.log("\u{1F504} Service status changed event:",e);let{NewStatus:t,OldStatus:i,Message:r,HasMoneyTransfer:o}=e,s="info",l=`Status serviciu actualizat: ${t}`;switch(t){case"Completed":s="success",l=o?"Serviciul a fost finalizat \u0219i plata a fost transferat\u0103!":"Serviciul a fost finalizat cu succes!";break;case"Cancelled":s="warning",l="Serviciul a fost anulat.";break;case"Reviewed":s="success",l="Procesul de recenzie a fost finalizat. Mul\u021Bumim!";break;case"Confirmed":s="info",l="Serviciul este acum \xEEn desf\u0103\u0219urare.";break}this.notificationSubject.next({type:s,message:r||l}),this.conversationUpdateSubject.next({type:"refresh-both"})}static \u0275fac=function(t){return new(t||n)(T(Ko))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var Xo=class n{exchangesSubject=new be([]);conversationItemsSubject=new be([]);selectedUserSubject=new be(null);selectedUserInfoSubject=new be(null);loadingSubject=new be(!1);exchanges$=this.exchangesSubject.asObservable();conversationItems$=this.conversationItemsSubject.asObservable();selectedUser$=this.selectedUserSubject.asObservable();selectedUserInfo$=this.selectedUserInfoSubject.asObservable();loading$=this.loadingSubject.asObservable();conversationListMeta={totalCount:0,hasMore:!1};messagesMeta={totalCount:0,hasMore:!1};selectedConversationIdSubject=new be(null);selectedConversationId$=this.selectedConversationIdSubject.asObservable();get exchanges(){return this.exchangesSubject.value}get conversationItems(){return this.conversationItemsSubject.value}get selectedUser(){return this.selectedUserSubject.value}get selectedUserInfo(){return this.selectedUserInfoSubject.value}get isLoading(){return this.loadingSubject.value}get selectedConversationId(){return this.selectedConversationIdSubject.value}setExchanges(e,t=!1){let i=t?[...this.exchanges,...e]:e;this.exchangesSubject.next(i)}setConversationItems(e,t=!1){let i=t?[...e,...this.conversationItems]:[...this.conversationItems,...e];this.conversationItemsSubject.next(i)}addOptimisticMessage(e,t){let i={id:`temp_${Date.now()}`,conversationId:"temp",senderId:t,type:"message",createdAt:new Date,data:{Content:e.trim(),SenderId:t,CreatedAt:new Date,IsRead:!1}},r=this.conversationItems;return this.conversationItemsSubject.next([...r,i]),i}removeOptimisticMessage(e){let t=this.conversationItems.filter(i=>i.id!==e);this.conversationItemsSubject.next(t)}updateMessageReadStatus(e,t){let i=this.conversationItems.map(r=>r.id===e&&r.type==="message"?G(S({},r),{data:G(S({},r.data),{IsRead:!0,ReadAt:t})}):r);this.conversationItemsSubject.next(i)}setSelectedUser(e){this.selectedUserSubject.next(e)}setSelectedConversation(e,t,i){this.selectedConversationIdSubject.next(e),this.selectedUserSubject.next(t),this.selectedUserInfoSubject.next(i)}setSelectedUserInfo(e){this.selectedUserInfoSubject.next(e)}setLoading(e){this.loadingSubject.next(e)}clearConversationItems(){this.conversationItemsSubject.next([])}clearAll(){this.exchangesSubject.next([]),this.conversationItemsSubject.next([]),this.selectedConversationIdSubject.next(null),this.selectedUserSubject.next(null),this.selectedUserInfoSubject.next(null),this.loadingSubject.next(!1),this.conversationListMeta={totalCount:0,hasMore:!1},this.messagesMeta={totalCount:0,hasMore:!1}}getTypedConversationItems(){let e=this.conversationItems;return e?e.map(t=>{let i=this.deserializeItem(t),r=i?t.type:"unknown";return{item:t,typed:i,type:r}}):[]}deserializeItem(e){if(!e.data||!e.type)return null;let t=e.data,i={id:e.id,senderId:e.senderId||t.SenderId||t.senderId};try{switch(e.type.toLowerCase()){case"message":return G(S({},i),{content:t.Content||t.content||"",createdAt:this.convertTimestamp(t.CreatedAt||t.createdAt||e.createdAt),isRead:!!(t.IsRead??t.isRead??!1)});case"request":return G(S({},i),{requestedStartDate:this.convertTimestamp(t.RequestedStartDate||t.requestedStartDate),description:t.Description||t.description||"",status:t.Status||t.status||"Pending",senderAddress:t.Address||t.address,senderPhoneNumber:t.PhoneNumber||t.phoneNumber});case"reply":return G(S({},i),{requestId:t.RequestId||t.requestId||"",startDate:this.convertTimestamp(t.StartDate||t.startDate),endDate:this.convertTimestamp(t.EndDate||t.endDate),price:Number(t.Price||t.price||0),status:t.Status||t.status||"Pending",serviceTask:t.ServiceTask||t.serviceTask,specialistId:t.SpecialistId||t.specialistId,acceptedAt:t.AcceptedAt?this.convertTimestamp(t.AcceptedAt):void 0,rejectedAt:t.RejectedAt?this.convertTimestamp(t.RejectedAt):void 0});case"photo":return G(S({},i),{url:t.Url||t.url||t.DownloadUrl||t.downloadUrl||"",fileName:t.FileName||t.fileName||t.Name||t.name||"Unknown",contentType:t.ContentType||t.contentType||t.MimeType||t.mimeType||"image/jpeg",caption:t.Caption||t.caption||"",createdAt:this.convertTimestamp(t.CreatedAt||t.createdAt||e.createdAt),fileSize:Number(t.FileSize||t.fileSize||t.Size||t.size||0)});default:return console.warn(`Unknown conversation item type: ${e.type}`,e),null}}catch(r){return console.error("Error deserializing conversation item:",r,e),null}}convertTimestamp(e){return e instanceof Date?e:e&&typeof e.toDate=="function"?e.toDate():e&&typeof e.seconds=="number"?new Date(e.seconds*1e3):typeof e=="string"?new Date(e):new Date}static \u0275fac=function(t){return new(t||n)};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var bu=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Message";sendMessage(e,t){let i=this.authService.getToken(),r=new j({Authorization:`Bearer ${i}`});return this.http.post(`${this.baseUrl}/Add/${e}`,t,{headers:r})}static \u0275fac=function(t){return new(t||n)(T(Se),T(Y))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var es=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Reply";addReply(e,t){let i=this.authService.getToken(),r=new j({Authorization:`Bearer ${i}`});return this.http.post(`${this.baseUrl}/Add/${e}`,t,{headers:r})}getReply(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{headers:i})}updateReply(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Update/${e.id}`,e,{headers:i})}acceptReply(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return console.log(t),this.http.patch(`${this.baseUrl}/Accept/${e}`,{},{headers:i})}rejectReply(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Reject/${e}`,{},{headers:i})}cancelReply(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Cancel/${e}`,{headers:i})}static \u0275fac=function(t){return new(t||n)(T(Se),T(Y))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var Cu=class n{constructor(e,t,i,r,o){this.messageService=e;this.requestService=t;this.replyService=i;this.signalRHandler=r;this.messagesState=o}refreshTrigger=new _e;refresh$=this.refreshTrigger.asObservable();sendMessage(e,t,i){return O(this,null,function*(){if(!e.trim())return{success:!1,error:"Message content cannot be empty"};let r=this.messagesState.addOptimisticMessage(e.trim(),i.id);try{return(yield this.messageService.sendMessage(t,{content:e.trim()}).toPromise())?.response?.id?(this.triggerRefresh(),{success:!0}):(this.messagesState.removeOptimisticMessage(r.id),{success:!1,error:"Failed to send message"})}catch(o){return console.error("Error sending message:",o),this.messagesState.removeOptimisticMessage(r.id),{success:!1,error:"Failed to send message, but the second one"}}})}acceptRequest(e){return O(this,null,function*(){try{return yield this.requestService.acceptRequest(e).toPromise(),this.triggerRefresh(),{success:!0}}catch(t){return console.error("Error accepting request:",t),{success:!1,error:"Failed to accept request"}}})}rejectRequest(e){return O(this,null,function*(){try{return yield this.requestService.rejectRequest(e).toPromise(),this.triggerRefresh(),{success:!0}}catch(t){return console.error("Error rejecting request:",t),{success:!1,error:"Failed to reject request"}}})}acceptReply(e){return O(this,null,function*(){try{return yield this.replyService.acceptReply(e),this.triggerRefresh(),{success:!0}}catch(t){return console.error("Error accepting reply:",t),{success:!1,error:"Failed to accept reply"}}})}rejectReply(e){return O(this,null,function*(){try{return yield this.replyService.rejectReply(e).toPromise(),this.triggerRefresh(),{success:!0}}catch(t){return console.error("Error rejecting reply:",t),{success:!1,error:"Failed to reject reply"}}})}submitReply(e,t){return O(this,null,function*(){try{return yield this.replyService.addReply(e,t).toPromise(),this.triggerRefresh(),{success:!0}}catch(i){return console.error("Error submitting reply:",i),{success:!1,error:"Failed to submit reply"}}})}triggerRefresh(){console.log("Triggering refresh of conversations and messages"),this.refreshTrigger.next()}static \u0275fac=function(t){return new(t||n)(T(bu),T(jo),T(es),T(Jo),T(Xo))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var xu=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/ServiceTask";addTaskFromPayment(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.post(`${this.baseUrl}/AddTaskToPayment/${e}`,{},{headers:i})}getServiceTask(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{headers:i})}getCurrentServiceTask(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetCurrent/${e}`,{headers:i})}updateServiceTask(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Update/${e.id}`,e,{headers:i})}completeServiceTask(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Complete/${e}`,{},{headers:i})}cancelServiceTask(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Cancel/${e}`,{},{headers:i})}static \u0275fac=function(t){return new(t||n)(T(Se),T(Y))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var ts=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Review";addReview(e,t){let i=this.authService.getToken(),r=new j({Authorization:`Bearer ${i}`});return this.http.post(`${this.baseUrl}/Add/${e}`,t,{headers:r})}getReviews(e,t){let i=this.authService.getToken(),r=new j({Authorization:`Bearer ${i}`}),o=new Qe().set("page",e).set("pageSize",t);return this.http.get(`${this.baseUrl}/GetPage`,{params:o,headers:r})}getReview(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{headers:i})}static \u0275fac=function(t){return new(t||n)(T(Se),T(Y))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var a3=n=>["/specialist",n],c3=n=>({"payment-active":n});function l3(n,e){n&1&&(c(0,"div",12),P(1,"div",13),c(2,"p"),d(3,"Se \xEEncarc\u0103 conversa\u021Biile..."),a()())}function d3(n,e){if(n&1&&(c(0,"div",20),d(1),Z(2,"slice"),a()),n&2){let t=m().$implicit;p(),I(" ",ay(2,1,t.lastMessage,0,30),"... ")}}function u3(n,e){if(n&1&&(c(0,"div",21),d(1),a()),n&2){let t=m().$implicit;p(),I(" ",t.unreadCount," ")}}function p3(n,e){if(n&1){let t=D();c(0,"div",14),Z(1,"async"),v("click",function(){let r=y(t).$implicit,o=m();return b(o.selectConversation(r))}),P(2,"img",15),c(3,"div",16)(4,"span",17),d(5),a(),_(6,d3,3,5,"div",18),a(),_(7,u3,2,1,"div",19),a()}if(n&2){let t=e.$implicit,i=m();fe("active",t.userId===Me(1,7,i.selectedUser$)),p(2),f("src",t.userProfilePictureUrl||"assets/avatar.svg",ye)("alt",t.userFullName),p(3),R(t.userFullName),p(),f("ngIf",t.lastMessage),p(),f("ngIf",t.unreadCount&&t.unreadCount>0)}}function f3(n,e){n&1&&(c(0,"span"),d(1,"\xCEncarc\u0103 mai multe conversa\u021Bii"),a())}function g3(n,e){n&1&&(c(0,"span",25),P(1,"div",26),d(2," Se \xEEncarc\u0103... "),a())}function m3(n,e){if(n&1){let t=D();c(0,"button",22),Z(1,"async"),v("click",function(){y(t);let r=m();return b(r.loadMoreExchanges())}),_(2,f3,2,0,"span",23),Z(3,"async"),_(4,g3,3,0,"span",24),Z(5,"async"),a()}if(n&2){let t=m();f("disabled",Me(1,3,t.loading$)===!0),p(2),f("ngIf",Me(3,5,t.loading$)===!1),p(2),f("ngIf",Me(5,7,t.loading$)===!0)}}function h3(n,e){n&1&&(c(0,"div",49),P(1,"div",50),c(2,"p"),d(3,"Se \xEEncarc\u0103 mesajele..."),a()())}function v3(n,e){n&1&&(c(0,"span"),d(1,"\xCEncarc\u0103 mesaje mai vechi"),a())}function _3(n,e){n&1&&(c(0,"span",25),P(1,"div",26),d(2," Se \xEEncarc\u0103... "),a())}function y3(n,e){if(n&1){let t=D();c(0,"button",51),Z(1,"async"),v("click",function(){y(t);let r=m(2);return b(r.loadMoreMessages())}),_(2,v3,2,0,"span",23),Z(3,"async"),_(4,_3,3,0,"span",24),Z(5,"async"),a()}if(n&2){let t=m(2);f("disabled",Me(1,3,t.loading$)===!0),p(2),f("ngIf",Me(3,5,t.loading$)===!1),p(2),f("ngIf",Me(5,7,t.loading$)===!0)}}function b3(n,e){n&1&&(c(0,"div",52),P(1,"div",13),c(2,"p"),d(3,"Se \xEEncarc\u0103 mesaje mai vechi..."),a()())}function C3(n,e){if(n&1&&P(0,"app-message-bubble",59),n&2){let t=m().$implicit,i=m(2);f("message",i.asTypedMessage(t))("currentUserId",i.userId)}}function x3(n,e){if(n&1&&P(0,"app-photo-bubble",60),n&2){let t=m().$implicit,i=m(2);f("photoItem",i.asTypedPhoto(t))("currentUserId",i.userId)}}function w3(n,e){if(n&1){let t=D();c(0,"app-request-message",61),v("requestAccepted",function(){y(t);let r=m().$implicit,o=m(2);return b(o.acceptRequest(r.item.id))})("requestRejected",function(){y(t);let r=m().$implicit,o=m(2);return b(o.rejectRequest(r.item.id))})("makeOffer",function(){y(t);let r=m().$implicit,o=m(2);return b(o.showReplyForm(r.item.id))}),a()}if(n&2){let t=m().$implicit,i=m(2);f("request",i.asTypedRequest(t))("currentUserId",i.userId)}}function M3(n,e){if(n&1){let t=D();c(0,"app-reply-message",62),v("replyAccepted",function(){y(t);let r=m().$implicit,o=m(2);return b(o.acceptReply(r.item.id))})("replyRejected",function(){y(t);let r=m().$implicit,o=m(2);return b(o.rejectReply(r.item.id))}),a()}if(n&2){let t=m().$implicit,i=m(2);f("reply",i.asTypedReply(t))("currentUserId",i.userId)}}function S3(n,e){if(n&1&&(c(0,"div",63)(1,"p"),d(2),a()()),n&2){let t=m().$implicit;p(2),I("\u26A0\uFE0F Invalid message type (ID: ",t.item.id,")")}}function D3(n,e){if(n&1&&(je(0)(1,53),_(2,C3,1,2,"app-message-bubble",54)(3,x3,1,2,"app-photo-bubble",55)(4,w3,1,2,"app-request-message",56)(5,M3,1,2,"app-reply-message",57)(6,S3,3,1,"div",58),Be()()),n&2){let t=e.$implicit;p(),f("ngSwitch",t.type),p(),f("ngSwitchCase","message"),p(),f("ngSwitchCase","photo"),p(),f("ngSwitchCase","request"),p(),f("ngSwitchCase","reply"),p(),f("ngSwitchCase","unknown")}}function E3(n,e){n&1&&(c(0,"div",64)(1,"div",65)(2,"span",66),d(3,"\u2B50"),a(),c(4,"span"),d(5,"Serviciul este complet - Recenzia a fost trimis\u0103"),a()()())}function P3(n,e){n&1&&(c(0,"div",67)(1,"div",68),d(2,"\u{1F4AC}"),a(),c(3,"p"),d(4,"Nu exist\u0103 mesaje \xEEnc\u0103. \xCEncepe conversa\u021Bia!"),a()())}function I3(n,e){n&1&&(c(0,"div",69)(1,"div",70),P(2,"div",71),c(3,"span"),d(4,"Se trimite mesajul..."),a()()())}function O3(n,e){n&1&&(c(0,"div",72)(1,"div",73),P(2,"span",74),c(3,"span"),d(4,"Reconectare \xEEn curs..."),a()()())}function T3(n,e){n&1&&(c(0,"div",75),P(1,"div",76),a())}function k3(n,e){n&1&&(c(0,"span"),d(1,"\u2192"),a())}function R3(n,e){n&1&&P(0,"div",76)}function A3(n,e){if(n&1){let t=D();c(0,"div",77)(1,"div",78),v("click",function(){y(t);let r=m(2);return b(r.hideReplyForm())}),a(),c(2,"div",79)(3,"app-reply-form",80),v("formSubmit",function(r){y(t);let o=m(2);return b(o.onReplySubmit(r))})("close",function(){y(t);let r=m(2);return b(r.hideReplyForm())}),a()()()}if(n&2){let t=m(2);p(3),f("replyForm",t.replyFormData)}}function N3(n,e){if(n&1&&P(0,"app-service-payment",81),n&2){let t=m(2);f("ngClass",ui(1,c3,t.showPaymentFlow))}}function F3(n,e){if(n&1){let t=D();c(0,"app-service-message",85),v("taskCompleted",function(r){y(t);let o=m(3);return b(o.onServiceTaskCompleted(r))})("taskCancelled",function(r){y(t);let o=m(3);return b(o.onServiceTaskCancelled(r))})("openReviewForm",function(){y(t);let r=m(3);return b(r.openReviewForm())}),a()}if(n&2){let t=m(3);f("serviceTask",t.currentServiceTask)("replyId",t.currentServiceTask.replyId)}}function L3(n,e){if(n&1){let t=D();c(0,"app-review-form",86),v("formSubmit",function(r){y(t);let o=m(3);return b(o.onReviewSubmit(r))})("close",function(){y(t);let r=m(3);return b(r.hideReviewForm())}),a()}if(n&2){let t=m(3);f("reviewForm",t.reviewFormData)}}function V3(n,e){if(n&1){let t=D();c(0,"div",82)(1,"div",78),v("click",function(){y(t);let r=m(2);return b(r.isReviewFormVisible?r.hideReviewForm():r.hideServiceConfirmation())}),a(),_(2,F3,1,2,"app-service-message",83)(3,L3,1,1,"app-review-form",84),a()}if(n&2){let t=m(2);p(2),f("ngIf",!t.isReviewFormVisible),p(),f("ngIf",t.isReviewFormVisible)}}function z3(n,e){if(n&1){let t=D();c(0,"div",27)(1,"div",28)(2,"div"),d(3),a(),c(4,"div")(5,"button"),P(6,"img",29),a()()(),c(7,"div",30),_(8,h3,4,0,"div",31),Z(9,"async"),Z(10,"async"),_(11,y3,6,9,"button",32),Z(12,"async"),_(13,b3,4,0,"div",33),Z(14,"async"),Z(15,"async"),_(16,D3,7,6,"ng-container",34)(17,E3,6,0,"div",35)(18,P3,5,0,"div",36),Z(19,"async"),Z(20,"async"),_(21,I3,5,0,"div",37)(22,O3,5,0,"div",38),Z(23,"async"),a(),c(24,"div",39)(25,"button",40),Z(26,"async"),v("click",function(){y(t);let r=m();return b(r.openMediaPicker())}),P(27,"img",41),_(28,T3,2,0,"div",42),a(),c(29,"input",43),Z(30,"async"),Z(31,"async"),U("ngModelChange",function(r){y(t);let o=m();return B(o.messageContent,r)||(o.messageContent=r),b(r)}),v("keydown.enter",function(){y(t);let r=m();return b(r.sendMessage(r.messageContent))}),a(),c(32,"button",44),Z(33,"async"),Z(34,"async"),v("click",function(){y(t);let r=m();return b(r.sendMessage(r.messageContent))}),_(35,k3,2,0,"span",23)(36,R3,1,0,"div",45),a()(),_(37,A3,4,1,"div",46)(38,N3,1,3,"app-service-payment",47)(39,V3,4,2,"div",48),a()}if(n&2){let t,i,r,o,s=e.ngIf,l=m();fe("overlay-active",l.chatOverlayVisible||l.isReplyFormVisible||l.isSpecialistDetailsVisible),p(3),R(s.fullName),p(3),f("routerLink",ui(51,a3,s.userId)),p(),fe("scroll-frozen",l.chatOverlayVisible||l.isReplyFormVisible||l.isSpecialistDetailsVisible),p(),f("ngIf",Me(9,25,l.loading$)===!0&&!((t=Me(10,27,l.conversationItems$))!=null&&t.length)),p(3),f("ngIf",l.messagesState.messagesMeta.hasMore&&((i=Me(12,29,l.conversationItems$))==null?null:i.length)),p(2),f("ngIf",Me(14,31,l.loading$)===!0&&((r=Me(15,33,l.conversationItems$))==null?null:r.length)&&l.messagesState.messagesMeta.hasMore),p(3),f("ngForOf",l.getTypedConversationItems())("ngForTrackBy",l.trackByConversationItem),p(),f("ngIf",l.hasSubmittedReview&&l.currentServiceTask),p(),f("ngIf",!((o=Me(19,35,l.conversationItems$))!=null&&o.length)&&Me(20,37,l.loading$)===!1),p(3),f("ngIf",l.isSendingMessage),p(),f("ngIf",Me(23,39,l.signalRService.connectionState$)===!1),p(3),f("disabled",Me(26,41,l.loading$)===!0||l.isUploadingPhoto),p(3),f("ngIf",l.isUploadingPhoto),p(),z("ngModel",l.messageContent),f("disabled",Me(30,43,l.loading$)===!0||l.isSendingMessage||l.isReplyFormVisible||l.isSpecialistDetailsVisible||l.isUploadingPhoto||Me(31,45,l.signalRService.connectionState$)===!1),p(3),f("disabled",!l.messageContent.trim()||Me(33,47,l.loading$)===!0||l.isSendingMessage||l.isSpecialistDetailsVisible||l.isUploadingPhoto||Me(34,49,l.signalRService.connectionState$)===!1),p(3),f("ngIf",!l.isSendingMessage),p(),f("ngIf",l.isSendingMessage),p(),f("ngIf",l.isReplyFormVisible),p(),f("ngIf",l.showPaymentFlow),p(),f("ngIf",l.isServiceConfirmationVisible&&l.currentServiceTask&&!l.hasSubmittedReview)}}function U3(n,e){n&1&&(c(0,"div",87)(1,"div",68),d(2,"\u{1F4AC}"),a(),c(3,"p"),d(4,"Selecteaz\u0103 o conversa\u021Bie pentru a \xEEncepe."),a()())}function j3(n,e){if(n&1){let t=D();c(0,"div",88)(1,"div",89)(2,"div",90),d(3,"\u2705"),a(),c(4,"h3"),d(5,"Serviciul este complet!"),a(),c(6,"p"),d(7,"Mul\u021Bumim pentru recenzia ta!"),a(),c(8,"small"),d(9),a(),c(10,"button",91),v("click",function(){y(t);let r=m();return b(r.hasSubmittedReview=!1)}),d(11," \xD7 "),a()()()}if(n&2){let t=m();p(9),R(t.currentServiceTask.description||"Serviciu finalizat")}}function B3(n,e){n&1&&(c(0,"div",92),P(1,"app-notification-display"),a())}var wu=class n{constructor(e,t,i,r,o,s,l,u,g,h,C,M,x,A,H,Q){this.exchangeService=e;this.authService=t;this.userService=i;this.cdr=r;this.mockExchangeService=o;this.paymentFlowService=s;this.signalRService=l;this.signalRHandler=u;this.messagesState=g;this.conversationActions=h;this.notificationService=C;this.taskService=M;this.photoService=x;this.replyService=A;this.paymentService=H;this.reviewService=Q}destroy$=new _e;USE_MOCK_DATA=!1;conversationListPagination={page:1,pageSize:20};messagesPagination={page:1,pageSize:50};messageContent="";userId=null;currentUserDetails=null;isSendingMessage=!1;isSpecialistDetailsVisible=!1;selectedSpecialistId="";isReplyFormVisible=!1;isReviewFormVisible=!1;hasSubmittedReview=!1;currentRequestId=null;chatOverlayVisible=!1;replyFormData={day:null,month:null,year:null,startHour:null,startMinute:null,endHour:null,endMinute:null,price:null};reviewFormData={receiverUserId:"",rating:5,content:""};isServiceConfirmationVisible=!1;currentPaymentDetails;currentServiceTask;showPaymentFlow=!1;isUploadingPhoto=!1;selectedPhotoFile=null;photoCaption="";exchanges$;conversationItems$;selectedUser$;selectedUserInfo$;loading$;trackByConversation=(e,t)=>t.userId;trackByConversationItem=(e,t)=>t.item.id;ngOnInit(){return O(this,null,function*(){this.exchanges$=this.messagesState.exchanges$,this.conversationItems$=this.messagesState.conversationItems$,this.selectedUser$=this.messagesState.selectedUser$,this.selectedUserInfo$=this.messagesState.selectedUserInfo$,this.loading$=this.messagesState.loading$,this.userId=this.authService.getUserId(),yield this.initializeServices(),this.loadExchanges(),this.loadCurrentUserDetails(),setTimeout(()=>{this.loadServiceTaskForCurrentConversation()},2e3)})}ngOnDestroy(){this.signalRHandler.cleanup(),this.signalRService.disconnect(),this.messagesState.clearAll(),this.destroy$.next(),this.destroy$.complete()}getTypedConversationItems(){return this.messagesState.getTypedConversationItems()}asTypedMessage(e){return e.typed}asTypedRequest(e){return e.typed}asTypedPhoto(e){return e.typed}asTypedReply(e){return e.typed}refreshServiceTask(){return O(this,null,function*(){console.log("\u{1F504} Manually refreshing service task..."),yield this.loadCurrentServiceTaskFast()})}initializeServices(){return O(this,null,function*(){try{yield this.signalRService.connect(this.userId||void 0),this.signalRHandler.setupListeners(this.userId||""),this.signalRHandler.notification$.pipe(Ye(this.destroy$)).subscribe(e=>this.notificationService.showNotification(e)),this.signalRHandler.conversationUpdate$.pipe(Ye(this.destroy$)).subscribe(e=>this.handleConversationUpdate(e)),this.paymentFlowService.paymentFlow$.pipe(Ye(this.destroy$)).subscribe(e=>{console.log("\u{1F4B3} Payment flow state changed:",e),this.showPaymentFlow=e.isActive,this.cdr.detectChanges()}),this.conversationActions.refresh$.pipe(Ye(this.destroy$)).subscribe(()=>{this.refreshCurrentConversation(),this.loadExchanges(!1)}),this.subscribeToPaymentCompletion()}catch(e){console.error("Failed to initialize services:",e)}})}handleConversationUpdate(e){switch(e.type){case"refresh-current":this.refreshCurrentConversation();break;case"refresh-list":this.loadExchanges(!1);break;case"refresh-both":this.refreshCurrentConversation(),this.loadExchanges(!1);break;case"service-completed":this.handleServiceCompletedEvent(e.data);break;case"review-prompt":console.log("\u{1F4DD} Review prompt event received:",e.data),this.handleReviewPromptEvent(e.data);break}}handleServiceCompletedEvent(e){console.log("\u{1F389} Service completed event received:",e),setTimeout(()=>{this.loadCurrentServiceTaskFast()},500),this.notificationService.showNotification({type:"success",message:"Serviciul a fost finalizat cu succes! Po\u021Bi l\u0103sa o recenzie."})}handleReviewPromptEvent(e){console.log("\u{1F4DD} Review prompt event received:",e),this.currentServiceTask?.id===e.TaskId&&(this.notificationService.showNotification({type:"info",message:"Po\u021Bi l\u0103sa o recenzie pentru serviciul finalizat!"}),setTimeout(()=>{this.openReviewForm()},2e3))}openReviewForm(){return O(this,null,function*(){if(console.log("\u{1F4DD} Opening review form in service task place..."),console.log("\u{1F50D} Current service task state:",this.currentServiceTask),this.hasSubmittedReview){this.notificationService.showNotification({type:"info",message:"Ai trimis deja o recenzie pentru acest serviciu."});return}if(!this.currentServiceTask){console.log("\u{1F4CB} No service task loaded, attempting to load it...");try{if(yield this.loadCurrentServiceTaskFast(),yield new Promise(t=>setTimeout(t,500)),!this.currentServiceTask){console.error("\u274C Still no service task after loading attempt"),this.notificationService.showNotification({type:"error",message:"Nu s-a g\u0103sit serviciul pentru care s\u0103 la\u0219i recenzia. Asigur\u0103-te c\u0103 serviciul este finalizat."});return}}catch(t){console.error("\u274C Error loading service task for review:",t),this.notificationService.showNotification({type:"error",message:"Eroare la \xEEnc\u0103rcarea informa\u021Biilor despre serviciu."});return}}if(this.currentServiceTask.status!=="Completed"){this.notificationService.showNotification({type:"warning",message:"Recenziile pot fi f\u0103cute doar pentru serviciile finalizate."});return}let e=this.determineReviewReceiver();if(!e){console.error("\u274C Could not determine review receiver"),this.notificationService.showNotification({type:"error",message:"Nu s-a putut determina cui s\u0103 \xEEi dai recenzia."});return}console.log("\u{1F464} Review will be sent to:",e),this.reviewFormData={receiverUserId:e,rating:5,content:""},this.isReviewFormVisible=!0,this.cdr.detectChanges(),console.log("\u2705 Review form opened in service task place")})}hideReviewForm(){console.log("\u{1F504} Hiding review form, returning to service task"),this.isReviewFormVisible=!1,this.reviewFormData={receiverUserId:"",rating:5,content:""},this.cdr.detectChanges()}determineReviewReceiver(){if(!this.currentServiceTask||!this.userId)return console.error("\u274C Missing service task or user ID for review receiver determination"),null;let e=this.currentServiceTask;return this.userId===e.userId?(console.log("\u{1F464} Current user is CLIENT \u2192 will review SPECIALIST"),e.specialistId):this.userId===e.specialistId?(console.log("\u{1F464} Current user is SPECIALIST \u2192 will review CLIENT"),e.userId):(console.error("\u274C Current user is neither client nor specialist in this service task"),null)}subscribeToPaymentCompletion(){this.paymentFlowService.paymentCompleted$.pipe(Ye(this.destroy$)).subscribe(e=>{e&&this.handlePaymentCompletion(e)})}loadCurrentUserDetails(){this.userService.getUserProfile().subscribe({next:e=>{this.currentUserDetails=e.response||null},error:e=>{console.error("Error loading user details:",e)}})}loadExchanges(e=!1){e||(this.conversationListPagination.page=1,this.messagesState.setExchanges([],!1)),this.messagesState.setLoading(!0),(this.USE_MOCK_DATA?this.mockExchangeService:this.exchangeService).getExchanges(this.conversationListPagination).pipe(Ye(this.destroy$)).subscribe({next:i=>{if(i.response){let r=i.response;this.messagesState.setExchanges(r.data||[],e),this.messagesState.conversationListMeta={totalCount:r.totalCount,hasMore:this.messagesState.exchanges.length<r.totalCount},!e&&Array.isArray(r.data)&&r.data.length>0&&this.selectConversation(r.data[0])}this.messagesState.setLoading(!1),this.cdr.detectChanges()},error:i=>{console.error("Error loading conversations:",i),this.messagesState.setLoading(!1),this.cdr.detectChanges()}})}selectConversation(e){this.currentServiceTask=null,this.isServiceConfirmationVisible=!1,this.chatOverlayVisible=!1,this.hasSubmittedReview=!1,this.messagesState.setSelectedUserInfo({userId:e.userId,fullName:e.userFullName,profilePictureUrl:e.userProfilePictureUrl}),this.loadConversationMessages(e.userId),setTimeout(()=>{this.loadCurrentServiceTaskFast()},1e3)}loadConversationMessages(e,t=!1){t||(this.messagesPagination.page=1,this.messagesState.clearConversationItems());let i=this.USE_MOCK_DATA?this.mockExchangeService:this.exchangeService;this.messagesState.setSelectedUser(e),this.messagesState.setLoading(!0),i.getExchange(e,this.messagesPagination).pipe(Ye(this.destroy$)).subscribe({next:r=>{if(r.response){let o=r.response;this.messagesState.setConversationItems(o.data||[],t),this.messagesState.messagesMeta={totalCount:o.totalCount,hasMore:this.messagesState.conversationItems.length<o.totalCount}}this.messagesState.setLoading(!1),this.cdr.detectChanges()},error:r=>{console.error("Error loading conversation messages:",r),this.messagesState.setLoading(!1),this.cdr.detectChanges()}})}loadMoreExchanges(){this.messagesState.conversationListMeta.hasMore&&!this.messagesState.isLoading&&(this.conversationListPagination.page++,this.loadExchanges(!0))}loadMoreMessages(){let e=this.messagesState.selectedUser;e&&this.messagesState.messagesMeta.hasMore&&!this.messagesState.isLoading&&(this.messagesPagination.page++,this.loadConversationMessages(e,!0))}refreshCurrentConversation(){let e=this.messagesState.selectedUser;e&&this.loadConversationMessages(e,!1)}sendMessage(e){return O(this,null,function*(){let t=this.messagesState.selectedUser;if(!e.trim()||!t||this.isSendingMessage||!this.currentUserDetails)return;this.isSendingMessage=!0,this.cdr.detectChanges();let i=yield this.conversationActions.sendMessage(e.trim(),t,this.currentUserDetails);console.log(i),this.isSendingMessage=!1,i.success?(this.messageContent="",this.refreshCurrentConversation()):(this.messageContent=e.trim(),this.notificationService.showNotification({type:"error",message:i.error||"Failed to send message"})),this.cdr.detectChanges()})}acceptRequest(e){return O(this,null,function*(){let t=yield this.conversationActions.acceptRequest(e);t.success||this.notificationService.showNotification({type:"error",message:t.error||"Failed to accept request"})})}rejectRequest(e){return O(this,null,function*(){let t=yield this.conversationActions.rejectRequest(e);t.success||this.notificationService.showNotification({type:"error",message:t.error||"Failed to reject request"})})}acceptReply(e){return O(this,null,function*(){console.log("\u{1F680} Initiating payment flow for reply:",e);let t=yield this.conversationActions.acceptReply(e);if(!t.success){this.notificationService.showNotification({type:"error",message:t.error||"Failed to initiate payment for reply"});return}this.notificationService.showNotification({type:"info",message:"Payment required to confirm service booking. Please complete payment."}),this.triggerPaymentFlowForReply(e)})}rejectReply(e){return O(this,null,function*(){let t=yield this.conversationActions.rejectReply(e);t.success||this.notificationService.showNotification({type:"error",message:t.error||"Failed to reject reply"})})}showReplyForm(e){this.currentRequestId=e,this.isReplyFormVisible=!0,this.chatOverlayVisible=!0,this.replyFormData={day:null,month:null,year:null,startHour:null,startMinute:null,endHour:null,endMinute:null,price:null},this.cdr.detectChanges()}hideReplyForm(){this.isReplyFormVisible=!1,this.chatOverlayVisible=!1,this.currentRequestId=null,this.cdr.detectChanges()}onReplySubmit(e){return O(this,null,function*(){if(!this.currentRequestId){console.error("No current request ID for reply");return}let t=yield this.conversationActions.submitReply(this.currentRequestId,e);t.success?this.hideReplyForm():this.notificationService.showNotification({type:"error",message:t.error||"Failed to submit reply"})})}waitForConversationSelection(){return O(this,null,function*(){return new Promise(e=>{let t=()=>{let i=this.messagesState.selectedUser;console.log("\u23F3 Checking for selected user:",i),i?(console.log("\u2705 User selected:",i),e()):(console.log("\u23F3 Still waiting for user selection..."),setTimeout(t,500))};t()})})}loadServiceTaskForCurrentConversation(){return O(this,null,function*(){try{console.log("\u{1F504} Loading service task for current conversation..."),yield this.waitForConversationSelection(),yield this.loadCurrentServiceTaskFast()}catch(e){console.error("\u274C Error loading service task for conversation:",e)}})}loadCurrentServiceTaskFast(){return O(this,null,function*(){try{let e=this.messagesState.selectedUser;if(!e){console.log("\u274C No selected user to get service task for");return}console.log("\u26A1 Loading current service task for user:",e),this.hasSubmittedReview=!1;let t=yield ft(this.taskService.getCurrentServiceTask(e));t?.response?(this.currentServiceTask=t.response,console.log("\u2705 Service task loaded instantly:",this.currentServiceTask),(this.currentServiceTask.hasUserReview||this.currentServiceTask.status==="ReviewCompleted")&&(console.log("\u{1F4DD} Review already exists for this service task"),this.hasSubmittedReview=!0),this.shouldShowServiceTask()?(this.showServiceConfirmation(),this.notificationService.showNotification({type:"success",message:"Service task loaded!"})):console.log("\u{1F6AB} Service task exists but should not be shown to user")):(console.log("\u2139\uFE0F No current service task found for this conversation"),this.currentServiceTask=null,this.isServiceConfirmationVisible=!1,this.chatOverlayVisible=!1,this.hasSubmittedReview=!1,t?.errorMessage&&(console.log("\u2139\uFE0F Details:",t.errorMessage.message),t.errorMessage.code!=="EntityNotFound"&&this.notificationService.showNotification({type:"warning",message:"Could not load service task details."})))}catch(e){console.error("\u274C Error loading current service task:",e),this.notificationService.showNotification({type:"error",message:"Failed to check for service tasks."})}})}shouldShowServiceTask(){return!this.currentServiceTask||!this.userId?!1:this.hasSubmittedReview?(console.log("\u{1F4DD} Review already submitted, hiding service task"),!1):this.currentServiceTask.status==="ReviewCompleted"||this.currentServiceTask.hasUserReview===!0?(console.log("\u{1F4DD} Review already exists for this task, hiding service task"),!1):this.currentServiceTask.status!=="Completed"?(console.log("\u{1F6A7} Service task not completed yet, hiding service task overlay"),!1):this.userId===this.currentServiceTask.userId||this.userId===this.currentServiceTask.specialistId}showServiceConfirmation(){if(!this.currentServiceTask){console.warn("\u26A0\uFE0F Attempting to show service confirmation without service task");return}if(!this.shouldShowServiceTask()){console.warn("\u26A0\uFE0F Current user should not see this service task");return}console.log("\u{1F389} Showing service confirmation with task details"),console.log("\u{1F464} Current user role in service:",{userId:this.userId,isClient:this.userId===this.currentServiceTask.userId,isSpecialist:this.userId===this.currentServiceTask.specialistId}),this.isServiceConfirmationVisible=!0,this.chatOverlayVisible=!0}hideServiceConfirmation(){console.log("\u{1F504} Hiding service confirmation"),this.isReviewFormVisible||(this.isServiceConfirmationVisible=!1,this.chatOverlayVisible=!1),this.cdr.detectChanges()}onServiceTaskCompleted(e){return O(this,null,function*(){if(console.log("\u{1F389} Service task completed locally:",e),!this.currentServiceTask){console.error("\u274C No current service task to complete");return}try{if(this.notificationService.showNotification({type:"info",message:"Se finalizeaz\u0103 serviciul \u0219i se proceseaz\u0103 transferul de bani..."}),console.log("\u{1F4DE} Calling backend to complete service task:",e.taskId),yield ft(this.taskService.completeServiceTask(e.taskId)))console.log("\u2705 Service task completed successfully on backend"),this.currentServiceTask.status="Completed",this.currentServiceTask.completedAt=new Date,this.notificationService.showNotification({type:"success",message:"Serviciul a fost finalizat cu succes! Plata este \xEEn curs de transfer."});else throw new Error("Failed to complete service task")}catch(t){console.error("\u274C Error completing service task:",t),this.notificationService.showNotification({type:"error",message:"A ap\u0103rut o eroare la finalizarea serviciului. Te rug\u0103m s\u0103 \xEEncerci din nou."})}this.cdr.detectChanges()})}onServiceTaskCancelled(e){console.log("\u274C Service task cancelled:",e),this.currentServiceTask&&(this.currentServiceTask.status="Cancelled",this.currentServiceTask.cancelledAt=new Date,this.notificationService.showNotification({type:"warning",message:"Serviciul a fost anulat. Se proceseaz\u0103 rambursarea..."})),this.cdr.detectChanges()}onReviewSubmit(e){return O(this,null,function*(){if(console.log("\u{1F4DD} Submitting review with data:",e),!this.currentServiceTask){console.error("\u274C No service task available for review submission"),this.notificationService.showNotification({type:"error",message:"Nu s-a g\u0103sit serviciul pentru care s\u0103 la\u0219i recenzia."});return}if(!e.receiverUserId||!e.rating||e.rating<1||e.rating>5){this.notificationService.showNotification({type:"error",message:"Date de recenzie invalide. Te rug\u0103m s\u0103 completezi toate c\xE2mpurile."});return}try{if(console.log("\u{1F4E4} Sending review to backend..."),yield ft(this.reviewService.addReview(this.currentServiceTask.id,{receiverUserId:e.receiverUserId,rating:e.rating,content:e.content})))console.log("\u2705 Review submitted successfully"),this.hasSubmittedReview=!0,this.isReviewFormVisible=!1,this.isServiceConfirmationVisible=!1,this.chatOverlayVisible=!1,this.notificationService.showNotification({type:"success",message:"Recenzia a fost trimis\u0103 cu succes! Mul\u021Bumim pentru feedback."}),this.currentServiceTask&&(this.currentServiceTask.status="ReviewCompleted",this.currentServiceTask.hasUserReview=!0),this.reviewFormData={receiverUserId:"",rating:5,content:""};else throw new Error("Failed to submit review - no response")}catch(t){console.error("\u274C Error submitting review:",t),this.notificationService.showNotification({type:"error",message:"A ap\u0103rut o eroare la trimiterea recenziei. Te rug\u0103m s\u0103 \xEEncerci din nou."})}this.cdr.detectChanges()})}triggerPaymentFlowForReply(e){return O(this,null,function*(){try{let t=yield ft(this.replyService.getReply(e));if(!t||!t.response){console.error("Reply not found"),this.triggerTestPaymentFlow(e);return}let i=t.response,r={replyId:i.replyId,startDate:i.startDate,endDate:i.endDate,description:i.description,address:i.address,price:i.price},o=yield ft(this.userService.getUserPaymentDetails(i.clientId));if(!o||!o.response){console.error("Client details not found"),this.triggerTestPaymentFlow(e);return}let s=yield ft(this.userService.getUserPaymentDetails(i.specialistId));if(!s||!s.response){console.error("Specialist details not found"),this.triggerTestPaymentFlow(e);return}this.showPaymentFlow=!0,this.chatOverlayVisible=!0,this.paymentFlowService.initiatePaymentFlow(e,r,o.response,s.response,this.messagesState.selectedUser||""),console.log("\u2705 Payment flow successfully triggered")}catch(t){console.error("\u274C Error during payment flow setup:",t),this.triggerTestPaymentFlow(e)}})}triggerTestPaymentFlow(e){console.log("\u{1F9EA} Using test payment flow data");let t={replyId:e,startDate:new Date,endDate:new Date(Date.now()+2*60*60*1e3),description:"Test service booking",address:"Test service address",price:150},i={userId:this.userId||"test-user",userFullName:this.currentUserDetails?.fullName||"Test User",email:this.currentUserDetails?.email||"test@example.com",phoneNumber:"1234567890"},r={userId:this.messagesState.selectedUser||"test-specialist",userFullName:this.messagesState.selectedUserInfo?.fullName||"Test Specialist",email:"specialist@example.com",phoneNumber:"0987654321"};this.showPaymentFlow=!0,this.chatOverlayVisible=!0,this.paymentFlowService.initiatePaymentFlow(e,t,i,r,"test-conversation"),console.log("\u{1F680} Test payment flow triggered for reply:",e)}handlePaymentCompletion(e){return O(this,null,function*(){console.log("\u{1F4B3} Payment completed in messages component:",e),this.showPaymentFlow=!1,this.chatOverlayVisible=!1,this.currentPaymentDetails=e,this.notificationService.showNotification({type:"success",message:"Payment completed successfully! Getting service details..."}),setTimeout(()=>O(this,null,function*(){console.log("\u{1F504} Getting service task from payment..."),yield this.getServiceTaskFromPayment(e.id),setTimeout(()=>{this.loadCurrentServiceTaskFast()},1e3),this.refreshCurrentConversation(),this.loadExchanges(!1)}),2e3)})}getServiceTaskFromPayment(e){return O(this,null,function*(){try{console.log("\u{1F4CB} Step 1: Getting payment status for payment:",e);let t=yield ft(this.paymentService.getPaymentStatus(e));if(console.log("Service task id:",t?.response?.serviceTaskId),!t?.response){console.error("\u274C Payment status not found"),this.handleServiceTaskRetrievalFailure("Payment status not found");return}let i=t.response;if(console.log("\u{1F4B3} Payment status retrieved:",{paymentId:i.paymentId,status:i.status,serviceTaskId:i.serviceTaskId,isEscrowed:i.isEscrowed}),!i.serviceTaskId){console.warn("\u26A0\uFE0F Payment does not have a service task ID yet"),setTimeout(()=>{console.log("\u{1F504} Retrying service task retrieval..."),this.getServiceTaskFromPayment(e)},3e3);return}console.log("\u{1F3AF} Step 2: Getting service task with ID:",i.serviceTaskId);let r=yield ft(this.taskService.getServiceTask(i.serviceTaskId));r?.response?(this.currentServiceTask=r.response,console.log("\u2705 Service task retrieved successfully:",{taskId:this.currentServiceTask.id,userId:this.currentServiceTask.userId,specialistId:this.currentServiceTask.specialistId,status:this.currentServiceTask.status,startDate:this.currentServiceTask.startDate,endDate:this.currentServiceTask.endDate,price:this.currentServiceTask.price}),this.showServiceConfirmation(),this.notificationService.showNotification({type:"success",message:"Service confirmed successfully! Check your service details."})):(console.error("\u274C Service task not found:",r?.errorMessage),this.handleServiceTaskRetrievalFailure("Service task not found"))}catch(t){console.error("\u274C Error fetching service task:",t),this.handleServiceTaskRetrievalFailure("Error retrieving service task")}})}handleServiceTaskRetrievalFailure(e){console.log("\u{1F4A1} Handling service task retrieval failure:",e),this.notificationService.showNotification({type:"warning",message:"Payment completed but service details are still being processed. They will appear shortly."}),setTimeout(()=>{console.log("\u{1F504} Trying fast service task loading as fallback..."),this.loadCurrentServiceTaskFast()},2e3)}openMediaPicker(){let e=document.createElement("input");e.type="file",e.accept="image/jpeg,image/jpg,image/png,image/gif,image/webp",e.style.display="none",e.onchange=t=>{let i=t.target.files?.[0];i&&this.handlePhotoSelection(i)},document.body.appendChild(e),e.click(),document.body.removeChild(e)}handlePhotoSelection(e){console.log("File: ",e);let t=this.photoService.validatePhotoFile(e);if(console.log(t),!t.isValid){this.notificationService.showNotification({type:"error",message:t.error||"Invalid file selected"});return}this.selectedPhotoFile=e,this.uploadSelectedPhoto()}uploadSelectedPhoto(){return O(this,null,function*(){if(!(!this.selectedPhotoFile||!this.messagesState.selectedUser)){this.isUploadingPhoto=!0,this.cdr.detectChanges(),console.log(this.selectedPhotoFile);try{let e=yield this.photoService.uploadPhotoToConversation(this.messagesState.selectedUser,this.selectedPhotoFile).toPromise();if(e?.response)this.notificationService.showNotification({type:"success",message:"Photo uploaded successfully!"}),this.refreshCurrentConversation(),this.loadExchanges(!1);else throw new Error(e?.errorMessage?.message||"Failed to upload photo")}catch(e){console.error("Error uploading photo:",e),this.notificationService.showNotification({type:"error",message:"Failed to upload photo. Please try again."})}finally{this.isUploadingPhoto=!1,this.selectedPhotoFile=null,this.photoCaption="",this.cdr.detectChanges()}}})}getRequestItemById(e){return this.messagesState.getTypedConversationItems().find(i=>i.item.id===e&&i.type==="request")}getReplyItemById(e){return this.messagesState.getTypedConversationItems().find(i=>i.item.id===e&&i.type==="reply")}showSpecialistDetails(e){console.log("\u{1F4CB} Opening specialist details for:",e),this.selectedSpecialistId=e,this.isSpecialistDetailsVisible=!0,this.chatOverlayVisible=!0,this.cdr.detectChanges()}closeSpecialistDetails(){console.log("\u{1F504} Closing specialist details overlay"),this.isSpecialistDetailsVisible=!1,this.chatOverlayVisible=!1,this.selectedSpecialistId="",this.cdr.detectChanges()}static \u0275fac=function(t){return new(t||n)(w(Xd),w(Y),w(ut),w(cn),w(eu),w(Go),w(Ko),w(Jo),w(Xo),w(Cu),w(Wi),w(xu),w($n),w(es),w(Wo),w(ts))};static \u0275cmp=F({type:n,selectors:[["app-messages"]],decls:17,vars:14,consts:[["noSelection",""],[1,"chat-wrapper"],[1,"chat-container"],[1,"sidebar"],[1,"sidebar-header"],["class","loading-indicator",4,"ngIf"],[1,"conversation-list"],["class","conversation",3,"active","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","load-more-btn",3,"disabled","click",4,"ngIf"],["class","chat-area",3,"overlay-active",4,"ngIf","ngIfElse"],["class","review-completion-indicator",4,"ngIf"],["class","notification-container",4,"ngIf"],[1,"loading-indicator"],[1,"loading-spinner"],[1,"conversation",3,"click"],[3,"src","alt"],[1,"conversation-info"],[1,"conversation-name"],["class","conversation-preview",4,"ngIf"],["class","unread-badge",4,"ngIf"],[1,"conversation-preview"],[1,"unread-badge"],[1,"load-more-btn",3,"click","disabled"],[4,"ngIf"],["class","loading-text",4,"ngIf"],[1,"loading-text"],[1,"inline-spinner"],[1,"chat-area"],[1,"chat-header"],["src","assets/icons/info.svg","alt","specialist_info",3,"routerLink"],[1,"chat-messages"],["class","initial-messages-loading",4,"ngIf"],["class","load-more-btn top",3,"disabled","click",4,"ngIf"],["class","loading-more-messages",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","service-review-status",4,"ngIf"],["class","empty-messages",4,"ngIf"],["class","sending-message-indicator",4,"ngIf"],["class","connection-status offline",4,"ngIf"],[1,"chat-input"],["title","Adaug\u0103 o poz\u0103",3,"click","disabled"],["src","assets/icons/photo_media.svg","alt","photo_media"],["class","upload-indicator",4,"ngIf"],["type","text","placeholder","Scrie un mesaj aici",3,"ngModelChange","keydown.enter","ngModel","disabled"],["title","Trimite mesaj",1,"send-btn",3,"click","disabled"],["class","inline-spinner small",4,"ngIf"],["class","reply-form-overlay",4,"ngIf"],[3,"ngClass",4,"ngIf"],["class","service-message-overlay",4,"ngIf"],[1,"initial-messages-loading"],[1,"loading-spinner","large"],[1,"load-more-btn","top",3,"click","disabled"],[1,"loading-more-messages"],[3,"ngSwitch"],[3,"message","currentUserId",4,"ngSwitchCase"],[3,"photoItem","currentUserId",4,"ngSwitchCase"],[3,"request","currentUserId","requestAccepted","requestRejected","makeOffer",4,"ngSwitchCase"],[3,"reply","currentUserId","replyAccepted","replyRejected",4,"ngSwitchCase"],["class","error-message",4,"ngSwitchCase"],[3,"message","currentUserId"],[3,"photoItem","currentUserId"],[3,"requestAccepted","requestRejected","makeOffer","request","currentUserId"],[3,"replyAccepted","replyRejected","reply","currentUserId"],[1,"error-message"],[1,"service-review-status"],[1,"review-badge"],[1,"review-icon"],[1,"empty-messages"],[1,"empty-state-icon"],[1,"sending-message-indicator"],[1,"message-sending"],[1,"loading-dots"],[1,"connection-status","offline"],[1,"status-indicator"],[1,"status-dot","offline"],[1,"upload-indicator"],[1,"inline-spinner","small"],[1,"reply-form-overlay"],[1,"overlay-background",3,"click"],[1,"reply-form-container"],[3,"formSubmit","close","replyForm"],[3,"ngClass"],[1,"service-message-overlay"],[3,"serviceTask","replyId","taskCompleted","taskCancelled","openReviewForm",4,"ngIf"],[3,"reviewForm","formSubmit","close",4,"ngIf"],[3,"taskCompleted","taskCancelled","openReviewForm","serviceTask","replyId"],[3,"formSubmit","close","reviewForm"],[1,"chat-area","empty"],[1,"review-completion-indicator"],[1,"completion-message"],[1,"success-icon"],[1,"close-indicator-btn",3,"click"],[1,"notification-container"]],template:function(t,i){if(t&1&&(c(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),d(4,"Convorbiri"),a(),_(5,l3,4,0,"div",5),Z(6,"async"),c(7,"div",6),_(8,p3,8,9,"div",7),Z(9,"async"),_(10,m3,6,9,"button",8),a()(),_(11,z3,40,53,"div",9),Z(12,"async"),_(13,U3,5,0,"ng-template",null,0,pi),a()(),_(15,j3,12,1,"div",10)(16,B3,2,0,"div",11)),t&2){let r=K(14);p(5),f("ngIf",Me(6,8,i.loading$)===!0),p(3),f("ngForOf",Me(9,10,i.exchanges$))("ngForTrackBy",i.trackByConversation),p(2),f("ngIf",i.messagesState.conversationListMeta.hasMore),p(),f("ngIf",Me(12,12,i.selectedUserInfo$))("ngIfElse",r),p(4),f("ngIf",i.hasSubmittedReview&&i.currentServiceTask),p(),f("ngIf",!1)}},dependencies:[ge,ze,Te,Ne,qg,q,Bd,gi,$d,Hd,wn,qd,Wd,ce,Ct,Gg,Zo,Ae,Qd,Kd,Jd],styles:['@charset "UTF-8";*[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Roboto Mono,monospace}[_nghost-%COMP%]{display:block;background-color:#f4f4f4;padding:2rem;position:relative}.chat-wrapper[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:auto;border:3px solid black;background-color:#e8d9ff}.chat-container[_ngcontent-%COMP%]{display:flex;height:600px}.sidebar[_ngcontent-%COMP%]{width:25%;border-right:3px solid black;display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{border-bottom:3px solid black;padding:12px}.conversation[_ngcontent-%COMP%]{padding:1rem;border-bottom:2px solid black;background-color:#c9b7ff;display:flex;align-items:center;gap:1rem;cursor:pointer}.conversation[_ngcontent-%COMP%]:hover{background-color:#b8a6ff}.conversation.active[_ngcontent-%COMP%]{background-color:#a695ff}.conversation[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}.chat-area[_ngcontent-%COMP%]{position:relative;width:75%;display:flex;flex-direction:column}.chat-header[_ngcontent-%COMP%]{border-bottom:3px solid black;padding:16px;background-color:#c9b7ff;display:flex;justify-content:space-between;align-items:center}.chat-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:none;border:none;cursor:pointer}.chat-messages[_ngcontent-%COMP%]{flex-grow:1;padding:1rem;overflow-y:auto;position:relative}.chat-messages[_ngcontent-%COMP%]   app-message-bubble[_ngcontent-%COMP%], .chat-messages[_ngcontent-%COMP%]   app-request-message[_ngcontent-%COMP%], .chat-messages[_ngcontent-%COMP%]   app-reply-message[_ngcontent-%COMP%]{display:block;width:100%}.chat-messages[_ngcontent-%COMP%]   ng-container[_ngcontent-%COMP%]{display:contents}.chat-input[_ngcontent-%COMP%]{border-top:2px solid black;display:flex;align-items:center;padding:.5rem;gap:.5rem}.chat-input[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex:1;padding:.5rem;border-radius:6px;border:none;font-family:Roboto Mono,monospace}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:none;border:none;cursor:pointer}.chat-input[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]{background-color:#7e6cbe;padding:.5rem 1rem;border-radius:6px}.contact-link[_ngcontent-%COMP%]{position:absolute;top:10px;right:20px;font-size:.9rem}.message-left[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin:10px}.message-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin:10px}.action-buttons[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:10px;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out;font-family:Roboto Mono,monospace}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background-color:#9bc2a3;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]:hover{background-color:#be8a90;box-shadow:0 2px 6px #0003}.conversation-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;z-index:10;display:flex;align-items:center;justify-content:center;padding:1rem;box-shadow:0 0 12px #0003}.no-conversations[_ngcontent-%COMP%]{padding:1rem;color:#888;font-style:italic}.chat-area.empty[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#888;font-style:italic}.chat-area.overlay-active[_ngcontent-%COMP%]{position:relative}.chat-messages.scroll-frozen[_ngcontent-%COMP%]{overflow:hidden!important;pointer-events:none}.service-message-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:100;display:flex;align-items:center;justify-content:center;padding:1rem;box-sizing:border-box}.service-message-overlay[_ngcontent-%COMP%]   app-service-message[_ngcontent-%COMP%], .service-message-overlay[_ngcontent-%COMP%]   app-review-form[_ngcontent-%COMP%]{position:relative;z-index:101;display:flex;align-items:center;justify-content:center;max-width:95vw;max-height:90vh;width:auto;height:auto}.overlay-background[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000000b3;cursor:pointer;z-index:100}.service-message-container[_ngcontent-%COMP%]{display:none!important}.service-message-overlay[_ngcontent-%COMP%]   app-review-form[_ngcontent-%COMP%]{position:relative!important;inset:auto!important;transform:none!important;margin:0!important}.service-message-overlay[_ngcontent-%COMP%]   app-review-form[_ngcontent-%COMP%]   .request-form-wrapper[_ngcontent-%COMP%]{margin:0 auto!important;display:block;position:relative}.service-message-overlay[_ngcontent-%COMP%]   app-service-message[_ngcontent-%COMP%]{display:block;width:auto;height:auto;position:relative}.service-message-overlay[_ngcontent-%COMP%]   app-service-message[_ngcontent-%COMP%]{display:block;width:auto;height:auto}.service-message-overlay[_ngcontent-%COMP%]   app-review-form[_ngcontent-%COMP%]{display:block;width:auto;height:auto;position:relative!important;top:auto!important;left:auto!important;transform:none!important}.overlay-background[_ngcontent-%COMP%]{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;background:#000000b3;cursor:pointer}.service-message-container[_ngcontent-%COMP%]{position:relative;background:#fff;border:3px solid #28a745;border-radius:16px;max-width:500px;width:100%;max-height:80vh;overflow-y:auto;box-shadow:0 8px 32px #0000004d;font-family:Roboto Mono,monospace;animation:_ngcontent-%COMP%_overlayFadeIn .3s ease-out}.overlay-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1.5rem 2rem 1rem;border-bottom:2px solid #e0caff;background:linear-gradient(135deg,#d4edda,#c3e6cb);border-radius:13px 13px 0 0}.overlay-footer[_ngcontent-%COMP%]{padding:1.5rem 2rem;text-align:center;border-top:1px solid #e0e0e0;background-color:#f9f9f9;border-radius:0 0 13px 13px}@keyframes _ngcontent-%COMP%_successPulse{0%{transform:scale(.3);opacity:0}50%{transform:scale(1.1)}to{transform:scale(1);opacity:1}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_loading-dots{0%,80%,to{opacity:.3;transform:scale(.8)}40%{opacity:1;transform:scale(1)}}@media (max-width: 768px){.service-message-overlay[_ngcontent-%COMP%]{padding:.5rem}.service-message-container[_ngcontent-%COMP%]{max-height:90vh}.overlay-header[_ngcontent-%COMP%]{padding:1rem 1.5rem .5rem;flex-direction:column;gap:.5rem;text-align:center}.overlay-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.1rem}.overlay-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem}.close-overlay-btn.secondary[_ngcontent-%COMP%]{padding:.6rem 1.2rem;font-size:.9rem}.loading-indicator[_ngcontent-%COMP%], .initial-messages-loading[_ngcontent-%COMP%]{padding:1rem}.loading-indicator[_ngcontent-%COMP%]   .loading-spinner.large[_ngcontent-%COMP%], .initial-messages-loading[_ngcontent-%COMP%]   .loading-spinner.large[_ngcontent-%COMP%]{width:30px;height:30px}.loading-more-messages[_ngcontent-%COMP%]{padding:.75rem;font-size:.85rem}}.loading-spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid #e0caff;border-top:2px solid #6c5ce7;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-spinner.large[_ngcontent-%COMP%]{width:40px;height:40px;border-width:3px}.loading-spinner.small[_ngcontent-%COMP%]{width:16px;height:16px;border-width:2px}.inline-spinner[_ngcontent-%COMP%]{display:inline-block;width:12px;height:12px;border:1.5px solid transparent;border-top:1.5px solid currentColor;border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite;margin-right:5px}.inline-spinner.small[_ngcontent-%COMP%]{width:10px;height:10px;border-width:1px}.loading-dots[_ngcontent-%COMP%]{display:inline-block;position:relative;width:20px;height:4px}.loading-dots[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;width:4px;height:4px;border-radius:50%;background:#6c5ce7;animation:_ngcontent-%COMP%_loading-dots 1.4s ease-in-out infinite both}.loading-dots[_ngcontent-%COMP%]:after{content:"";position:absolute;left:8px;top:0;width:4px;height:4px;border-radius:50%;background:#6c5ce7;animation:_ngcontent-%COMP%_loading-dots 1.4s ease-in-out .2s infinite both}.loading-indicator[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;color:#666;font-style:italic}.loading-indicator[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:0}.initial-messages-loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:200px;color:#666;font-style:italic}.initial-messages-loading[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;margin-bottom:0}.loading-more-messages[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:1rem;color:#666;font-style:italic;border-bottom:1px solid #e0caff;margin-bottom:1rem}.loading-more-messages[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{margin-right:.5rem}.loading-more-messages[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.sending-message-indicator[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:.5rem 1rem}.sending-message-indicator[_ngcontent-%COMP%]   .message-sending[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem 1rem;background-color:#f0f0f0;border-radius:18px;font-size:.85rem;color:#666;font-style:italic}.sending-message-indicator[_ngcontent-%COMP%]   .message-sending[_ngcontent-%COMP%]   .loading-dots[_ngcontent-%COMP%]{margin-right:.5rem}.loading-text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.load-more-btn[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:.75rem 1rem;margin:.5rem;background-color:#e0caff;border:2px solid #6c5ce7;border-radius:6px;cursor:pointer;font-family:Roboto Mono,monospace;font-size:.9rem;transition:all .2s ease}.load-more-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#d4bfff;transform:translateY(-1px)}.load-more-btn[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none}.load-more-btn.top[_ngcontent-%COMP%]{margin-bottom:1rem}.empty-messages[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:200px;color:#888;font-style:italic}.empty-messages[_ngcontent-%COMP%]   .empty-state-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem;opacity:.5}.chat-area.empty[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;color:#888;font-style:italic}.chat-area.empty[_ngcontent-%COMP%]   .empty-state-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;opacity:.3}.chat-input[_ngcontent-%COMP%]   input[disabled][_ngcontent-%COMP%]{background-color:#f5f5f5;color:#999;cursor:not-allowed}.chat-input[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.chat-input[_ngcontent-%COMP%]   .send-btn[disabled][_ngcontent-%COMP%]{background-color:#d4bfff}.reply-form-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:100;display:flex;align-items:center;justify-content:center;box-sizing:border-box}.reply-form-container[_ngcontent-%COMP%]{position:relative}.overlay-background[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000000b3;cursor:pointer}.connection-status[_ngcontent-%COMP%]{position:sticky;top:0;z-index:15;padding:8px 16px;background:#fff3cd;border-bottom:2px solid #ffeaa7;text-align:center;font-size:14px;color:#856404}.connection-status.online[_ngcontent-%COMP%]{background:#d4edda;border-color:#c3e6cb;color:#155724}.status-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;font-family:Roboto Mono,monospace}.status-dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;background:#28a745}.status-dot.offline[_ngcontent-%COMP%]{background:#ffc107;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(1.1)}to{opacity:1;transform:scale(1)}}.notification-container[_ngcontent-%COMP%]{position:fixed;top:20px;right:20px;z-index:1050;max-width:400px;pointer-events:none}.notification[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;margin-bottom:8px;border-radius:8px;background:#fff;box-shadow:0 4px 12px #0000001a;border:2px solid #6c757d;animation:_ngcontent-%COMP%_slideInRight .3s ease-out;font-family:Roboto Mono,monospace;pointer-events:auto}.notification.success[_ngcontent-%COMP%]{border-color:#28a745;background:#d4edda;color:#155724}.notification.info[_ngcontent-%COMP%]{border-color:#17a2b8;background:#d1ecf1;color:#0c5460}.notification.warning[_ngcontent-%COMP%]{border-color:#ffc107;background:#fff3cd;color:#856404}.notification.error[_ngcontent-%COMP%]{border-color:#dc3545;background:#f8d7da;color:#721c24}.notification[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;font-size:18px;cursor:pointer;padding:0;margin-left:12px;opacity:.7;font-family:Roboto Mono,monospace}.notification[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:1}.review-completion-indicator[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;z-index:1000;animation:_ngcontent-%COMP%_slideInUp .5s ease-out}@media (max-width: 768px){.review-completion-indicator[_ngcontent-%COMP%]{bottom:10px;right:10px;left:10px}}.completion-message[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d4edda,#c3e6cb);border:3px solid #28a745;border-radius:12px;padding:1.5rem;text-align:center;box-shadow:0 4px 20px #28a7454d;font-family:Roboto Mono,monospace;max-width:300px}.completion-message[_ngcontent-%COMP%]   .success-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.5rem;animation:_ngcontent-%COMP%_bounce 1s ease-out}.completion-message[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#155724;margin:.5rem 0;font-size:1.2rem;font-weight:600}.completion-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#155724;margin:.5rem 0;font-size:1rem}.completion-message[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6c757d;font-size:.85rem;font-style:italic;display:block;margin-top:.5rem}@keyframes _ngcontent-%COMP%_slideInUp{0%{transform:translateY(100%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes _ngcontent-%COMP%_bounce{0%,20%,53%,80%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1);transform:scale(1)}40%,43%{animation-timing-function:cubic-bezier(.755,.05,.855,.06);transform:scale(1.1)}70%{animation-timing-function:cubic-bezier(.755,.05,.855,.06);transform:scale(1.05)}90%{transform:scale(1.02)}}@keyframes _ngcontent-%COMP%_slideInRight{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_overlayFadeIn{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.reply-form-overlay[_ngcontent-%COMP%], .service-message-overlay[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInBackdrop .2s ease-out}.reply-form-overlay[_ngcontent-%COMP%]   .reply-form-container[_ngcontent-%COMP%], .reply-form-overlay[_ngcontent-%COMP%]   .service-message-container[_ngcontent-%COMP%], .service-message-overlay[_ngcontent-%COMP%]   .reply-form-container[_ngcontent-%COMP%], .service-message-overlay[_ngcontent-%COMP%]   .service-message-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_overlayFadeIn .3s ease-out}.reply-form-overlay.review-complete[_ngcontent-%COMP%], .service-message-overlay.review-complete[_ngcontent-%COMP%]{display:none!important}@keyframes _ngcontent-%COMP%_fadeInBackdrop{0%{background:#0000}to{background:#000000b3}}.sending-message-indicator[_ngcontent-%COMP%]   .message-sending[_ngcontent-%COMP%]   .loading-dots[_ngcontent-%COMP%]{background:linear-gradient(90deg,#6c5ce7 0%,transparent 50%,#6c5ce7 100%);background-size:200% 100%;animation:_ngcontent-%COMP%_loadingDots 1.5s infinite;width:20px;height:4px;border-radius:2px}.sending-message-indicator[_ngcontent-%COMP%]   .message-sending[_ngcontent-%COMP%]   .loading-dots[_ngcontent-%COMP%]:before, .sending-message-indicator[_ngcontent-%COMP%]   .message-sending[_ngcontent-%COMP%]   .loading-dots[_ngcontent-%COMP%]:after{display:none}@keyframes _ngcontent-%COMP%_loadingDots{0%{background-position:200% 0}to{background-position:-200% 0}}.conversation-list[_ngcontent-%COMP%]{overflow-y:auto;flex:1}.conversation-info[_ngcontent-%COMP%]{flex:1;min-width:0}.conversation-info[_ngcontent-%COMP%]   .conversation-name[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:4px}.conversation-info[_ngcontent-%COMP%]   .conversation-preview[_ngcontent-%COMP%]{font-size:.85rem;color:#666;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.unread-badge[_ngcontent-%COMP%]{background:#dc3545;color:#fff;border-radius:50%;padding:2px 6px;font-size:.75rem;font-weight:700;min-width:18px;height:18px;display:flex;align-items:center;justify-content:center;flex-shrink:0}@media (max-width: 768px){.chat-container[_ngcontent-%COMP%]{height:500px}.sidebar[_ngcontent-%COMP%]{width:35%}.chat-area[_ngcontent-%COMP%]{width:65%}.conversation[_ngcontent-%COMP%]{padding:.75rem}.conversation[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:32px;height:32px}.conversation-info[_ngcontent-%COMP%]   .conversation-name[_ngcontent-%COMP%]{font-size:.9rem}.conversation-info[_ngcontent-%COMP%]   .conversation-preview[_ngcontent-%COMP%]{font-size:.8rem}.notification-container[_ngcontent-%COMP%]{top:10px;right:10px;left:10px;max-width:none}.notification[_ngcontent-%COMP%]{padding:10px 12px;font-size:.9rem}}@media (max-width: 480px){[_nghost-%COMP%]{padding:1rem}.chat-container[_ngcontent-%COMP%]{height:450px}.sidebar[_ngcontent-%COMP%]{width:40%}.chat-area[_ngcontent-%COMP%]{width:60%}.sidebar-header[_ngcontent-%COMP%]{padding:8px;font-size:.9rem}.chat-header[_ngcontent-%COMP%]{padding:12px;font-size:.9rem}}.specialist-details-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:200;display:flex;align-items:center;justify-content:center;padding:1rem;box-sizing:border-box}.specialist-details-container[_ngcontent-%COMP%]{position:relative;width:100%;max-width:900px;max-height:90vh;overflow:hidden;border-radius:12px;box-shadow:0 10px 30px #0000004d}.specialist-details-container[_ngcontent-%COMP%]   app-specialist-details[_ngcontent-%COMP%]{display:block;width:100%;height:100%}@media (max-width: 768px){.specialist-details-overlay[_ngcontent-%COMP%]{padding:.5rem}.specialist-details-container[_ngcontent-%COMP%]{max-height:95vh}}']})};function $3(n,e){if(n&1){let t=D();c(0,"div",7),P(1,"img",8),c(2,"button",9),v("click",function(){let r=y(t).index,o=m(2);return b(o.remove(r))}),d(3,"\xD7"),a()()}if(n&2){let t=e.$implicit;p(),f("src",t,ye)}}function H3(n,e){if(n&1&&(c(0,"div",5),_(1,$3,4,1,"div",6),a()),n&2){let t=m();p(),f("ngForOf",t.imagePreviews)}}function q3(n,e){n&1&&(c(0,"div",10)(1,"p"),d(2,"Nu ai ad\u0103ugat nicio imagine \xEEn portofoliu"),a()())}var Mu=class n{constructor(e,t){this.photoService=e;this.sanitizer=t}uploadedFiles=[];portfolioChange=new V;imagePreviews=[];onFileSelected(e){let t=e.target;if(t.files){for(let i=0;i<t.files.length;i++){let r=t.files[i];this.uploadedFiles.push(r);let o=URL.createObjectURL(r);this.imagePreviews.push(o)}this.portfolioChange.emit([...this.uploadedFiles]),t.value=""}}remove(e){this.imagePreviews[e]&&URL.revokeObjectURL(this.imagePreviews[e]),this.uploadedFiles.splice(e,1),this.imagePreviews.splice(e,1),this.portfolioChange.emit([...this.uploadedFiles])}getFileSize(e){let t=e.size;if(t===0)return"0 Bytes";let i=1024,r=["Bytes","KB","MB","GB"],o=Math.floor(Math.log(t)/Math.log(i));return parseFloat((t/Math.pow(i,o)).toFixed(2))+" "+r[o]}ngOnDestroy(){this.imagePreviews.forEach(e=>{e.startsWith("blob:")&&URL.revokeObjectURL(e)})}clearAll(){this.imagePreviews.forEach(e=>{e.startsWith("blob:")&&URL.revokeObjectURL(e)}),this.uploadedFiles=[],this.imagePreviews=[],this.portfolioChange.emit([])}static \u0275fac=function(t){return new(t||n)(w($n),w(sm))};static \u0275cmp=F({type:n,selectors:[["app-portfolio-upload"]],inputs:{uploadedFiles:"uploadedFiles"},outputs:{portfolioChange:"portfolioChange"},decls:6,vars:2,consts:[[1,"portfolio-section"],["class","portfolio-images",4,"ngIf"],["class","portfolio-empty",4,"ngIf"],[1,"upload-portfolio-btn"],["type","file","multiple","","accept","image/*","hidden","",3,"change"],[1,"portfolio-images"],["class","image-item",4,"ngFor","ngForOf"],[1,"image-item"],["alt","Portfolio image",3,"src"],["type","button",1,"delete-image-btn",3,"click"],[1,"portfolio-empty"]],template:function(t,i){t&1&&(c(0,"div",0),_(1,H3,2,1,"div",1)(2,q3,3,0,"div",2),c(3,"label",3),d(4," \u{1F4F8} Adaug\u0103 imagini "),c(5,"input",4),v("change",function(o){return i.onFileSelected(o)}),a()()()),t&2&&(p(),f("ngIf",i.imagePreviews.length>0),p(),f("ngIf",i.uploadedFiles.length===0))},dependencies:[ce,q],styles:[".portfolio-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;max-width:100%}.portfolio-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;justify-content:center;align-items:flex-start;width:100%;margin-bottom:24px;padding:0}.portfolio-preview[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.image-container[_ngcontent-%COMP%]{position:relative;width:150px;height:150px;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #0000001a}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.delete-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;background-color:#000000b3;color:#fff;border:none;border-radius:50%;font-size:14px;cursor:pointer;width:24px;height:24px;display:flex;align-items:center;justify-content:center;transition:background-color .2s ease}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#000000e6}.custom-upload-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:12px 24px;background-color:#d9c8ff;color:#000;border:2px solid black;border-radius:5px;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;cursor:pointer;transition:background-color .3s ease;margin:0 auto;min-width:200px}.custom-upload-btn[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}.section-title[_ngcontent-%COMP%]{margin-bottom:16px;font-family:Roboto Mono,monospace;text-align:center;font-size:18px}.error-text[_ngcontent-%COMP%]{color:red;font-size:14px;text-align:center;margin-top:8px}.portfolio-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.portfolio-images[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;min-height:60px;padding:16px;border:2px dashed #c9b7ff;border-radius:8px;background-color:#fafafa}.portfolio-empty[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:120px;padding:16px;border:2px dashed #c9b7ff;border-radius:8px;background-color:#fafafa;color:#666;font-style:italic}.image-item[_ngcontent-%COMP%]{position:relative;width:120px;height:120px;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #0000001a;border:2px solid #e0e0e0}.image-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;display:block}.delete-image-btn[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;background-color:#000000b3;color:#fff;border:none;border-radius:50%;font-size:16px;cursor:pointer;width:24px;height:24px;display:flex;align-items:center;justify-content:center;transition:background-color .2s ease;font-weight:700}.delete-image-btn[_ngcontent-%COMP%]:hover{background-color:#dc3545cc}.upload-portfolio-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;padding:8px 16px;background-color:#d9c8ff;color:#000;border:2px solid black;border-radius:5px;font-family:Roboto Mono,monospace;font-size:14px;font-weight:700;cursor:pointer;transition:background-color .3s ease;align-self:flex-start;margin-bottom:40px}.upload-portfolio-btn[_ngcontent-%COMP%]:hover{background-color:#cbb6ff;transform:translateY(-1px)}"]})};function W3(n,e){if(n&1&&(c(0,"strong"),d(1),a()),n&2){let t=m();p(),R(t.title)}}function G3(n,e){if(n&1){let t=D();c(0,"div",4)(1,"button",5),v("click",function(){y(t);let r=m();return b(r.onConfirm())}),d(2),a(),c(3,"button",6),v("click",function(){y(t);let r=m();return b(r.onCancel())}),d(4),a()()}if(n&2){let t=m();p(2),R(t.confirmText),p(2),R(t.cancelText)}}function Z3(n,e){if(n&1){let t=D();c(0,"button",7),v("click",function(){y(t);let r=m();return b(r.onClose())}),d(1,"\xD7"),a()}}var Su=class n{type="info";title="";message="";showActions=!1;confirmText="Da";cancelText="Nu";close=new V;confirm=new V;cancel=new V;onClose(){this.close.emit()}onConfirm(){this.confirm.emit()}onCancel(){this.cancel.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["app-alert"]],inputs:{type:"type",title:"title",message:"message",showActions:"showActions",confirmText:"confirmText",cancelText:"cancelText"},outputs:{close:"close",confirm:"confirm",cancel:"cancel"},decls:6,vars:5,consts:[[1,"alert",3,"ngClass"],[4,"ngIf"],["class","alert-actions",4,"ngIf"],["class","close-btn",3,"click",4,"ngIf"],[1,"alert-actions"],[1,"alert-btn","confirm-btn",3,"click"],[1,"alert-btn","cancel-btn",3,"click"],[1,"close-btn",3,"click"]],template:function(t,i){t&1&&(c(0,"div",0),_(1,W3,2,1,"strong",1),c(2,"p"),d(3),a(),_(4,G3,5,2,"div",2)(5,Z3,2,0,"button",3),a()),t&2&&(f("ngClass",i.type),p(),f("ngIf",i.title),p(2),R(i.message),p(),f("ngIf",i.showActions),p(),f("ngIf",!i.showActions))},dependencies:[Ae,q],styles:[".alert[_ngcontent-%COMP%]{position:relative;padding:1rem;border-radius:8px;margin:1rem 0;font-size:.95rem}.alert.info[_ngcontent-%COMP%]{background-color:#e0f0ff;color:#00599f}.alert.success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.alert.warning[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404}.alert.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.alert[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:1rem;background:none;border:none;font-size:1.2rem;cursor:pointer}.alert[_ngcontent-%COMP%]   .alert-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:12px;margin-top:16px}.alert[_ngcontent-%COMP%]   .alert-btn[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-size:14px;font-weight:700;border:2px solid;border-radius:5px;padding:8px 16px;cursor:pointer;transition:background-color .3s ease}.alert[_ngcontent-%COMP%]   .confirm-btn[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border-color:#721c24}.alert[_ngcontent-%COMP%]   .confirm-btn[_ngcontent-%COMP%]:hover{background-color:#f1aeb5}.alert[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#000;border-color:#000}.alert[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]:hover{background-color:#e8e8e8}"]})};var ns=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/stripe/account";generateOnboardingLink(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.post(`${this.baseUrl}/onboarding-link/${e}`,{},{headers:i})}generateDashboardLink(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.post(`${this.baseUrl}/dashboard-link/${e}`,{headers:i})}getAccountStatus(e){let t=this.authService.getToken(),i=new j({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/status/${e}`,{headers:i})}static \u0275fac=function(t){return new(t||n)(T(Se),T(Y))};static \u0275prov=k({token:n,factory:n.\u0275fac,providedIn:"root"})};var Y3=()=>[];function Q3(n,e){if(n&1){let t=D();c(0,"div",7)(1,"app-alert",8),v("confirm",function(){y(t);let r=m();return b(r.handleAlertConfirm())})("cancel",function(){y(t);let r=m();return b(r.handleAlertCancel())}),a()()}if(n&2){let t=m();p(),f("message",t.getAlertMessage())("showActions",!0)}}function K3(n,e){if(n&1){let t=D();c(0,"button",9),v("click",function(){y(t);let r=m();return b(r.showBackConfirmation())}),d(1," \u2190 "),a()}}function J3(n,e){if(n&1){let t=D();c(0,"div")(1,"h3"),d(2,"Pas 1: Profilul de specialist"),a(),c(3,"p",10),d(4," Spune-ne pu\u021Bin despre tine \u0219i despre serviciile tale! "),a(),c(5,"app-dynamic-form",11),v("formSubmit",function(r){y(t);let o=m();return b(o.handleStep1(r))}),a()()}if(n&2){let t=m();p(5),f("fields",t.step1FormFields)("submitText","Treci la pasul urm\u0103tor")}}function X3(n,e){if(n&1){let t=D();c(0,"div",12)(1,"div",13)(2,"h3"),d(3,"Pas 2: Alegerea categoriilor"),a(),c(4,"p",10),d(5," Selecteaz\u0103 categoriile de servicii pe care le oferi! "),a()(),c(6,"app-category-selector",14),v("categoryChange",function(r){y(t);let o=m();return b(o.updateCategories(r))}),a(),c(7,"div",15)(8,"div",16)(9,"button",17),v("click",function(){y(t);let r=m();return b(r.handleStep2())}),d(10," Continu\u0103 "),a(),c(11,"button",18),v("click",function(){y(t);let r=m();return b(r.skipCategories())}),d(12," Sari peste "),a()()()()}if(n&2){let t=m();p(6),f("selectedCategoryIds",t.specialistData.categories||Ut(1,Y3))}}function eN(n,e){if(n&1){let t=D();c(0,"div",12)(1,"div",13)(2,"h3"),d(3,"Pas 3: Crearea portofoliului"),a(),c(4,"p",10),d(5," Adaug\u0103 imagini cu lucr\u0103rile tale pentru a-\u021Bi prezenta serviciile! "),a()(),c(6,"div",15)(7,"app-portfolio-upload",19),v("portfolioChange",function(r){y(t);let o=m();return b(o.updatePortfolio(r))}),a()(),c(8,"div",15)(9,"div",16)(10,"button",17),v("click",function(){y(t);let r=m();return b(r.handleStep3())}),d(11," Continu\u0103 "),a(),c(12,"button",18),v("click",function(){y(t);let r=m();return b(r.skipPortfolio())}),d(13," Sari peste "),a()()()()}if(n&2){let t=m();p(7),f("uploadedFiles",t.portfolioImages)}}function tN(n,e){if(n&1&&(c(0,"div",31)(1,"span",32),d(2,"\u26A0\uFE0F"),a(),d(3),a()),n&2){let t=m(2);p(3),I(" ",t.stripeActivationError," ")}}function nN(n,e){n&1&&(c(0,"span"),d(1,"\u{1F680} Activeaz\u0103 contul pentru pl\u0103\u021Bi"),a())}function iN(n,e){n&1&&(c(0,"span"),d(1,"Se proceseaz\u0103..."),a())}function rN(n,e){if(n&1){let t=D();c(0,"div",12)(1,"div",20)(2,"div",21)(3,"h3"),d(4,"Pas 4: Activeaz\u0103 contul pentru pl\u0103\u021Bi"),a(),c(5,"p",22),d(6," Pentru a putea primi pl\u0103\u021Bi de la clien\u021Bi, trebuie s\u0103 \xEE\u021Bi configurezi contul Stripe. Acest proces dureaz\u0103 doar c\xE2teva minute \u0219i este complet securizat. "),a()(),c(7,"div",23)(8,"div",24)(9,"span",25),d(10,"\u{1F4B3}"),a(),c(11,"span"),d(12,"Prime\u0219te pl\u0103\u021Bi direct \xEEn contul t\u0103u"),a()(),c(13,"div",24)(14,"span",25),d(15,"\u{1F512}"),a(),c(16,"span"),d(17,"Securitate bancar\u0103 de nivel \xEEnalt"),a()(),c(18,"div",24)(19,"span",25),d(20,"\u{1F4CA}"),a(),c(21,"span"),d(22,"Rapoarte detaliate despre c\xE2\u0219tiguri"),a()()(),_(23,tN,4,1,"div",26),c(24,"div",16)(25,"button",27),v("click",function(){y(t);let r=m();return b(r.activateStripeAccount())}),_(26,nN,2,0,"span",28)(27,iN,2,0,"span",28),a(),c(28,"button",29),v("click",function(){y(t);let r=m();return b(r.skipStripeActivation())}),d(29," Sari peste "),a()(),c(30,"div",30)(31,"p")(32,"strong"),d(33,"Not\u0103:"),a(),d(34,' Dac\u0103 nu activezi contul acum, po\u021Bi face acest lucru oric\xE2nd din sec\u021Biunea "Profil" \u2192 "Contul ExpertEase".'),a()()()()}if(n&2){let t=m();p(23),f("ngIf",t.stripeActivationError),p(2),f("disabled",t.isActivatingStripe),p(),f("ngIf",!t.isActivatingStripe),p(),f("ngIf",t.isActivatingStripe),p(),f("disabled",t.isActivatingStripe)}}var Du=class n{constructor(e,t,i,r){this.authService=e;this.specialistProfileService=t;this.stripeAccountService=i;this.router=r}step=1;portfolioImages=[];imagePreviews=[];stripeAccountId="";isActivatingStripe=!1;stripeActivationError="";showStep2BackAlert=!1;showStep3BackAlert=!1;showStep4BackAlert=!1;specialistData={yearsExperience:0,phoneNumber:"",address:"",description:"",categories:[]};formData={};step1FormFields=kt({yearsExperience:0,phoneNumber:"",address:"",description:""},{address:{type:"text",class:"full-width"},yearsExperience:{type:"number",placeholder:"Ex: 5"},description:{type:"textarea",placeholder:"Descrie serviciile oferite",class:"full-width"}});isAddUserFormVisible=!1;ngOnInit(){let e={phoneNumber:"",address:"",yearsExperience:0,description:""};this.formData=S({},e)}handleStep1(e){this.specialistData=S(S({},this.specialistData),e),this.step=2}updateCategories(e){this.specialistData.categories=e}handleStep2(){this.step=3}skipCategories(){this.specialistData.categories=[],this.step=3}updatePortfolio(e){this.portfolioImages=e,this.imagePreviews.forEach(t=>URL.revokeObjectURL(t)),this.imagePreviews=e.map(t=>URL.createObjectURL(t))}handleStep3(){this.step=4}skipPortfolio(){this.portfolioImages=[],this.imagePreviews.forEach(e=>URL.revokeObjectURL(e)),this.imagePreviews=[],this.step=4}activateStripeAccount(){return O(this,null,function*(){this.isActivatingStripe=!0,this.stripeActivationError="";try{let e=this.authService.getUserId();if(!e)throw new Error("User ID not found");let t=yield this.createSpecialistProfileWithFormData(e);if(!t?.response)throw new Error(t?.errorMessage?.message||"Eroare la crearea profilului");if(this.stripeAccountId=t.response?.stripeAccountId||"",console.log("Retrieved stripeAccountId:",this.stripeAccountId),!this.stripeAccountId)throw new Error("Stripe account ID not found in response");this.stripeAccountService.generateOnboardingLink(this.stripeAccountId).subscribe({next:i=>{if(console.log("Onboarding link response:",i),i?.response&&i.response?.url)console.log("Redirecting to Stripe onboarding:",i.response.url),window.location.href=i.response.url;else throw new Error(i?.errorMessage?.message||"Eroare la generarea link-ului de activare")},error:i=>{console.error("Error generating onboarding link:",i),this.stripeActivationError=i.message||i.error?.message||"Eroare la generarea link-ului de activare",this.isActivatingStripe=!1}})}catch(e){console.error("Error in activateStripeAccount:",e),this.stripeActivationError=e.message||"Eroare la activarea contului Stripe",this.isActivatingStripe=!1}})}createSpecialistProfileWithFormData(e){return new Promise((t,i)=>{this.specialistProfileService.becomeSpecialist({userId:e,phoneNumber:this.specialistData.phoneNumber,address:this.specialistData.address,yearsExperience:this.specialistData.yearsExperience,description:this.specialistData.description,categories:this.specialistData.categories},this.portfolioImages).subscribe({next:r=>{console.log("Specialist profile created:",r),t(r)},error:r=>{console.error("Error creating specialist profile:",r),i(r)}})})}skipStripeActivation(){this.createSpecialistProfileOnly()}createSpecialistProfileOnly(){let e=this.authService.getUserId();if(!e){console.error("User ID not found");return}this.specialistProfileService.becomeSpecialist({userId:e,phoneNumber:this.specialistData.phoneNumber,address:this.specialistData.address,yearsExperience:this.specialistData.yearsExperience,description:this.specialistData.description,categories:this.specialistData.categories},this.portfolioImages).subscribe({next:t=>{console.log("Specialist profile created successfully:",t),this.closeAddUserForm(),this.router.navigate(["/home"])},error:t=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",t),this.stripeActivationError=t.message||t.error?.message||"Eroare la crearea profilului"}})}showBackConfirmation(){this.step===2?this.showStep2BackAlert=!0:this.step===3?this.showStep3BackAlert=!0:this.step===4&&(this.showStep4BackAlert=!0)}getAlertMessage(){return this.showStep2BackAlert?"Sigur vrei s\u0103 te \xEEntorci la pasul anterior? Categoriile selectate vor fi pierdute.":this.showStep3BackAlert?"Sigur vrei s\u0103 te \xEEntorci la pasul anterior? Toate imaginile ad\u0103ugate vor fi pierdute.":this.showStep4BackAlert?"Sigur vrei s\u0103 te \xEEntorci la pasul anterior?":""}handleAlertConfirm(){this.showStep2BackAlert?this.goBackToStep1():this.showStep3BackAlert?this.goBackToStep2():this.showStep4BackAlert&&this.goBackToStep3()}handleAlertCancel(){this.showStep2BackAlert=!1,this.showStep3BackAlert=!1,this.showStep4BackAlert=!1}goBackToStep1(){this.specialistData.categories=[],this.showStep2BackAlert=!1,this.step=1}goBackToStep2(){this.portfolioImages=[],this.imagePreviews.forEach(e=>URL.revokeObjectURL(e)),this.imagePreviews=[],this.showStep3BackAlert=!1,this.step=2}goBackToStep3(){this.showStep4BackAlert=!1,this.step=3}closeAddUserForm(){this.isAddUserFormVisible=!1}ngOnDestroy(){this.imagePreviews.forEach(e=>URL.revokeObjectURL(e))}static \u0275fac=function(t){return new(t||n)(w(Y),w(qi),w(ns),w(xe))};static \u0275cmp=F({type:n,selectors:[["app-become-specialist"]],decls:11,vars:7,consts:[["class","modal-overlay",4,"ngIf"],[1,"form-wrapper"],[1,"form-box"],["class","close-button","title","\xCEnapoi",3,"click",4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],["class","form-layout",4,"ngSwitchCase"],[1,"modal-overlay"],["type","warning","title","Confirmare","confirmText","Da, m\u0103 \xEEntorc","cancelText","Anuleaz\u0103",3,"confirm","cancel","message","showActions"],["title","\xCEnapoi",1,"close-button",3,"click"],[1,"step-description"],[3,"formSubmit","fields","submitText"],[1,"form-layout"],[1,"step-header"],[3,"categoryChange","selectedCategoryIds"],[1,"form-group","full-width"],[1,"button-wrapper"],["title","Treci la pasul urm\u0103tor",1,"send-button",3,"click"],["title","Sari peste aceast\u0103 etap\u0103",1,"skip-button",3,"click"],[3,"portfolioChange","uploadedFiles"],[1,"stripe-activation-section"],[1,"activation-header"],[1,"activation-description"],[1,"activation-features"],[1,"feature-item"],[1,"feature-icon"],["class","error-message",4,"ngIf"],["title","Activeaz\u0103 contul Stripe",1,"send-button","primary",3,"click","disabled"],[4,"ngIf"],["title","Sari peste aceast\u0103 etap\u0103",1,"skip-button",3,"click","disabled"],[1,"activation-note"],[1,"error-message"],[1,"error-icon"]],template:function(t,i){t&1&&(c(0,"h2"),d(1,"Devino specialist!"),a(),_(2,Q3,2,2,"div",0),c(3,"div",1)(4,"div",2),_(5,K3,2,0,"button",3),je(6,4),_(7,J3,6,2,"div",5)(8,X3,13,2,"div",6)(9,eN,14,1,"div",6)(10,rN,35,5,"div",6),Be(),a()()),t&2&&(p(2),f("ngIf",i.showStep2BackAlert||i.showStep3BackAlert||i.showStep4BackAlert),p(3),f("ngIf",i.step>1),p(),f("ngSwitch",i.step),p(),f("ngSwitchCase",1),p(),f("ngSwitchCase",2),p(),f("ngSwitchCase",3),p(),f("ngSwitchCase",4))},dependencies:[Gt,wn,gi,qo,Mu,Su,q],styles:["h2[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:30px}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;gap:16px}.send-button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:300px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}.send-button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}.send-button[_ngcontent-%COMP%]:disabled{background-color:#f0f0f0;color:#999;cursor:not-allowed;border-color:#ccc}.skip-button[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#666;font-family:Roboto Mono,monospace;font-size:14px;font-weight:400;border:1px solid #ddd;border-radius:5px;padding:0;width:250px;height:36px;cursor:pointer;transition:all .3s ease}.skip-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#e8e8e8;border-color:#bbb}.skip-button[_ngcontent-%COMP%]:disabled{background-color:#fafafa;color:#ccc;cursor:not-allowed}.form-layout[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px 20px;padding:24px 32px;max-width:650px;margin:0 auto}.form-group[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;flex:1;display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{flex:1 1 100%}.back-button[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:120px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}.back-button[_ngcontent-%COMP%]:hover{background-color:#e8e8e8}.stripe-activation-section[_ngcontent-%COMP%]{width:100%;text-align:center}.activation-header[_ngcontent-%COMP%]{margin-bottom:32px}.activation-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-size:24px;color:#333;margin-bottom:16px}.activation-header[_ngcontent-%COMP%]   .activation-description[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-size:16px;color:#666;line-height:1.5;max-width:500px;margin:0 auto}.activation-features[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-bottom:32px;max-width:400px;margin-left:auto;margin-right:auto}.activation-features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-family:Roboto Mono,monospace;font-size:14px;color:#555;text-align:left}.activation-features[_ngcontent-%COMP%]   .feature-item[_ngcontent-%COMP%]   .feature-icon[_ngcontent-%COMP%]{font-size:20px;width:24px;text-align:center}.error-message[_ngcontent-%COMP%]{background-color:#ffeaea;border:1px solid #ffcdd2;border-radius:5px;padding:12px 16px;margin-bottom:24px;color:#d32f2f;font-family:Roboto Mono,monospace;font-size:14px;display:flex;align-items:center;gap:8px}.error-message[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{font-size:16px}.activation-note[_ngcontent-%COMP%]{margin-top:24px;padding:16px;background-color:#f8f9fa;border-radius:5px;border-left:4px solid #d9c8ff}.activation-note[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;font-size:13px;color:#666;margin:0;line-height:1.4}"]})};function oN(n,e){n&1&&vl(0)}function sN(n,e){if(n&1){let t=D();c(0,"div",3),v("click",function(){y(t);let r=m();return b(r.onCloseDetails())}),c(1,"div",4),v("click",function(r){return y(t),b(r.stopPropagation())}),c(2,"div",5)(3,"button",6),v("click",function(){y(t);let r=m();return b(r.onCloseDetails())}),d(4,"\xD7"),a(),_(5,oN,1,0,"ng-container",7),a()()()}if(n&2){m();let t=K(3);p(5),f("ngTemplateOutlet",t)}}function aN(n,e){n&1&&vl(0)}function cN(n,e){if(n&1){let t=D();c(0,"div",8)(1,"div",5)(2,"button",9),v("click",function(){y(t);let r=m();return b(r.onCloseDetails())}),c(3,"span",10),d(4,"\u2190"),a(),c(5,"span"),d(6,"\xCEnapoi la speciali\u0219ti"),a()(),_(7,aN,1,0,"ng-container",7),a()()}if(n&2){m();let t=K(3);p(7),f("ngTemplateOutlet",t)}}function lN(n,e){if(n&1&&(c(0,"div",32)(1,"span",33),d(2,"\u2699"),a(),c(3,"span"),d(4),a()()),n&2){let t=m(2);p(4),I("",t.userDetails==null?null:t.userDetails.yearsExperience," ani experien\u021B\u0103")}}function dN(n,e){if(n&1&&(c(0,"span",36),d(1),a()),n&2){let t=e.$implicit;p(),I(" ",t," ")}}function uN(n,e){if(n&1&&(c(0,"div",34),_(1,dN,2,1,"span",35),a()),n&2){let t=m(2);p(),f("ngForOf",t.userDetails==null?null:t.userDetails.categories)}}function pN(n,e){if(n&1&&(c(0,"div",37)(1,"h3",26)(2,"span",33),d(3,"\u2022"),a(),d(4," Informa\u021Bii de contact "),a(),c(5,"div",38)(6,"div",39)(7,"span",40),d(8,"Email:"),a(),c(9,"a",41),d(10),a()(),c(11,"div",39)(12,"span",40),d(13,"Telefon:"),a(),c(14,"a",42),d(15),a()(),c(16,"div",43)(17,"span",40),d(18,"Adres\u0103:"),a(),c(19,"span",44),d(20),a()()()()),n&2){let t=m(2);p(9),f("href","mailto:"+((t.userDetails==null?null:t.userDetails.email)||""),ye),p(),I(" ",t.userDetails==null?null:t.userDetails.email," "),p(4),f("href","tel:"+((t.userDetails==null?null:t.userDetails.phoneNumber)||""),ye),p(),I(" ",t.formatPhoneNumber((t.userDetails==null?null:t.userDetails.phoneNumber)||"")," "),p(5),R(t.userDetails==null?null:t.userDetails.address)}}function fN(n,e){if(n&1&&(c(0,"div",37)(1,"h3",26)(2,"span",33),d(3,"\u2022"),a(),d(4," Despre specialist "),a(),c(5,"div",45)(6,"p"),d(7),a()()()),n&2){let t=m(2);p(7),R(t.userDetails==null?null:t.userDetails.description)}}function gN(n,e){if(n&1&&(c(0,"div",48),P(1,"img",49),c(2,"div",50)(3,"span",51),d(4,"Vezi imagine"),a()()()),n&2){let t=e.$implicit;p(),f("src",t,ye)}}function mN(n,e){if(n&1&&(c(0,"div",37)(1,"h3",26)(2,"span",33),d(3,"\u{1F5BC}\uFE0F"),a(),d(4," Portofoliu "),a(),c(5,"div",46),_(6,gN,5,1,"div",47),a()()),n&2){let t=m(2);p(6),f("ngForOf",t.userDetails==null?null:t.userDetails.portfolio)}}function hN(n,e){n&1&&(c(0,"div",52)(1,"div",53),d(2,"\u2022"),a(),c(3,"p"),d(4,"Acest specialist nu are \xEEnc\u0103 recenzii."),a(),c(5,"small"),d(6,"Fii primul care las\u0103 o recenzie!"),a()())}function vN(n,e){if(n&1&&(c(0,"div",54)(1,"div",55)(2,"div",56),P(3,"img",57),c(4,"div",58)(5,"span",59),d(6),a(),c(7,"span",60),d(8),a()()(),c(9,"div",61)(10,"div",62),P(11,"img",63),c(12,"span",18),d(13),a()()()(),c(14,"div",64)(15,"p"),d(16),a()()()),n&2){let t=e.$implicit,i=m(2);p(3),f("src",t.senderUserProfilePictureUrl||"assets/avatar.svg",ye),p(3),R(t.senderUserFullName),p(2),R(i.getTimeSince(t.createdAt)),p(5),R(t.rating),p(3),R(t.content)}}function _N(n,e){if(n&1&&(c(0,"div",11)(1,"div",12)(2,"div",13)(3,"div",14),P(4,"img",15),a(),c(5,"div",16),P(6,"img",17),c(7,"span",18),d(8),a()()(),c(9,"div",19)(10,"h1",20),d(11),a(),_(12,lN,5,1,"div",21)(13,uN,2,1,"div",22),a()()(),c(14,"div",23),_(15,pN,21,5,"div",24)(16,fN,8,1,"div",24)(17,mN,7,1,"div",24),c(18,"div",25)(19,"h3",26),P(20,"img",27),d(21," Recenzii "),c(22,"span",28),d(23),a()(),c(24,"div",29),_(25,hN,7,0,"div",30)(26,vN,17,5,"div",31),a()()()),n&2){let t,i=m();p(4),f("src",(i.userDetails==null?null:i.userDetails.profilePictureUrl)||"assets/avatar.svg",ye),p(4),R((i.userDetails==null?null:i.userDetails.rating)||0),p(3),R(i.userDetails==null?null:i.userDetails.fullName),p(),f("ngIf",i.userDetails==null?null:i.userDetails.yearsExperience),p(),f("ngIf",((t=i.userDetails==null||i.userDetails.categories==null?null:i.userDetails.categories.length)!==null&&t!==void 0?t:0)>0),p(2),f("ngIf",i.userDetails==null?null:i.userDetails.email),p(),f("ngIf",i.userDetails==null?null:i.userDetails.description),p(),f("ngIf",i.userDetails==null||i.userDetails.portfolio==null?null:i.userDetails.portfolio.length),p(6),I("(",(i.userDetails==null||i.userDetails.reviews==null?null:i.userDetails.reviews.length)||0,")"),p(2),f("ngIf",!(!(i.userDetails==null||i.userDetails.reviews==null)&&i.userDetails.reviews.length)),p(),f("ngForOf",i.userDetails==null?null:i.userDetails.reviews)}}var Oa=class n{constructor(e,t,i){this.activatedRoute=e;this.userService=t;this.router=i}userDetails=null;userDetailsId="";showOverlay=!1;dummyUserDetails={fullName:"Maria Popescu",profilePictureUrl:"assets/avatar.svg",rating:4,reviews:[{id:"1",content:"Serviciu excelent! Maria a venit punctual \u0219i a rezolvat problema cu instala\u021Bia sanitar\u0103 foarte profesionist. Recomand cu \xEEncredere!",rating:5,senderUserFullName:"Ion Vasile",senderUserProfilePictureUrl:"assets/avatar.svg",createdAt:new Date("2024-06-01T10:00:00"),updatedAt:new Date("2024-06-01T10:00:00")},{id:"2",content:"Foarte punctual \u0219i profesionist. A explicat tot ce a f\u0103cut \u0219i a l\u0103sat totul foarte curat.",rating:4,senderUserFullName:"Andreea Dumitru",senderUserProfilePictureUrl:"",createdAt:new Date("2024-05-22T14:00:00"),updatedAt:new Date("2024-05-22T14:00:00")},{id:"3",content:"Foarte mul\u021Bumit de serviciile oferite. Pre\u021Buri corecte \u0219i munc\u0103 de calitate.",rating:5,senderUserFullName:"Mihai Georgescu",senderUserProfilePictureUrl:"assets/avatar.svg",createdAt:new Date("2024-05-15T16:30:00"),updatedAt:new Date("2024-05-15T16:30:00")}],email:"maria.popescu@example.com",phoneNumber:"0722123456",address:"Str. Libert\u0103\u021Bii, nr. 15, Sector 2, Bucure\u0219ti",yearsExperience:5,description:"Instalator autorizat cu experien\u021B\u0103 \xEEn proiecte reziden\u021Biale \u0219i comerciale. Specializat\u0103 \xEEn instala\u021Bii sanitare moderne \u0219i repara\u021Bii de urgen\u021B\u0103.",portfolio:["Portofoliu1.jpg","Portofoliu2.jpg"],categories:["Instala\u021Bii sanitare","Repara\u021Bii","Urgen\u021Be"]};ngOnInit(){this.userDetailsId=this.activatedRoute.snapshot.paramMap.get("id"),this.showOverlay=this.router.url.includes("overlay")||this.activatedRoute.snapshot.queryParams.overlay==="true",this.userService.getUserDetails(this.userDetailsId).subscribe({next:e=>{this.userDetails=e.response??null},error:e=>{console.error("Eroare la preluarea utilizatorului:",e),alert("Nu s-au putut \xEEnc\u0103rca detaliile utilizatorului.")}})}onCloseDetails(){this.showOverlay?window.history.back():this.router.navigate(["/specialists"])}getStarArray(e){return Array.from({length:5},(t,i)=>i<e)}formatPhoneNumber(e){let t=e.replace(/\D/g,"");return t.length===10&&t.startsWith("07")?`${t.slice(0,4)} ${t.slice(4,7)} ${t.slice(7)}`:e}getTimeSince(e){let i=new Date().getTime()-e.getTime(),r=Math.floor(i/(1e3*60*60*24));return r===0?"Ast\u0103zi":r===1?"Ieri":r<7?`Acum ${r} zile`:r<30?`Acum ${Math.floor(r/7)} s\u0103pt\u0103m\xE2ni`:`Acum ${Math.floor(r/30)} luni`}static \u0275fac=function(t){return new(t||n)(w(ht),w(ut),w(xe))};static \u0275cmp=F({type:n,selectors:[["app-specialist-details"]],decls:4,vars:2,consts:[["specialistContent",""],["class","overlay-wrapper",3,"click",4,"ngIf"],["class","standalone-view",4,"ngIf"],[1,"overlay-wrapper",3,"click"],[1,"modal-content",3,"click"],[1,"specialist-card"],["aria-label","\xCEnchide",1,"close-btn",3,"click"],[4,"ngTemplateOutlet"],[1,"standalone-view"],["aria-label","\xCEnapoi",1,"back-btn",3,"click"],[1,"back-arrow"],[1,"specialist-header"],[1,"avatar-section"],[1,"avatar-wrapper"],[1,"avatar"],["alt","Poza de profil",3,"src"],[1,"rating-badge"],["src","assets/star-rating.svg","alt","User star"],[1,"rating-value"],[1,"basic-info"],[1,"name"],["class","experience-badge",4,"ngIf"],["class","categories",4,"ngIf"],[1,"specialist-body"],["class","info-section",4,"ngIf"],[1,"info-section","reviews-section"],[1,"section-title"],["src","assets/star-rating.svg","alt","Star",1,"icon",2,"width","1.4rem","height","1.4rem"],[1,"review-count"],[1,"reviews-container"],["class","no-reviews",4,"ngIf"],["class","review-card",4,"ngFor","ngForOf"],[1,"experience-badge"],[1,"icon"],[1,"categories"],["class","category-chip",4,"ngFor","ngForOf"],[1,"category-chip"],[1,"info-section"],[1,"contact-grid"],[1,"contact-item"],[1,"contact-label"],[1,"contact-value","email",3,"href"],[1,"contact-value","phone",3,"href"],[1,"contact-item","full-width"],[1,"contact-value","address"],[1,"description-content"],[1,"portfolio-grid"],["class","portfolio-item",4,"ngFor","ngForOf"],[1,"portfolio-item"],["alt","Imagine portofoliu",1,"portfolio-image",3,"src"],[1,"portfolio-overlay"],[1,"view-text"],[1,"no-reviews"],[1,"no-reviews-icon"],[1,"review-card"],[1,"review-header"],[1,"reviewer-info"],["alt","Poza reviewer",1,"reviewer-avatar",3,"src"],[1,"reviewer-details"],[1,"reviewer-name"],[1,"review-date"],[1,"review-rating"],[1,"rating-display"],["src","assets/star-rating.svg","alt","Star",1,"star-icon"],[1,"review-content"]],template:function(t,i){t&1&&_(0,sN,6,1,"div",1)(1,cN,8,1,"div",2)(2,_N,27,11,"ng-template",null,0,pi),t&2&&(f("ngIf",i.showOverlay),p(),f("ngIf",!i.showOverlay))},dependencies:[q,ce,Hg],styles:[".overlay-wrapper[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0009;display:flex;justify-content:center;align-items:center;z-index:1000;padding:2rem;box-sizing:border-box}.modal-content[_ngcontent-%COMP%]{width:100%;max-width:900px;max-height:90vh;overflow-y:auto;border-radius:12px;box-shadow:0 10px 30px #0000004d}.standalone-view[_ngcontent-%COMP%]{min-height:100vh;background:#f8f8f8;padding:2rem}.specialist-card[_ngcontent-%COMP%]{background:#cfbdfe;border:2px solid #000;border-radius:12px;font-family:Roboto Mono,monospace;position:relative;overflow:hidden;box-shadow:0 8px 25px #00000026}.close-btn[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px;background:#ffffffe6;border:none;font-size:24px;font-weight:700;cursor:pointer;color:#333;padding:8px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .3s ease;z-index:10}.close-btn[_ngcontent-%COMP%]:hover{background:#fff;transform:scale(1.1);box-shadow:0 2px 8px #0003}.back-btn[_ngcontent-%COMP%]{background:#ffffffe6;border:2px solid #9a79ff;border-radius:8px;padding:12px 16px;cursor:pointer;color:#333;font-family:Roboto Mono,monospace;font-weight:500;display:flex;align-items:center;gap:8px;margin-bottom:1.5rem;transition:all .3s ease}.back-btn[_ngcontent-%COMP%]   .back-arrow[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.back-btn[_ngcontent-%COMP%]:hover{background:#9a79ff;color:#fff;transform:translate(-3px)}.specialist-header[_ngcontent-%COMP%]{background:#cfbdfe;padding:2rem;border-bottom:2px solid #000}.avatar-section[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:flex-start}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;flex-shrink:0;width:150px;height:150px}.avatar[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;overflow:hidden;border:4px solid #000;box-shadow:0 4px 15px #0003}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.rating-badge[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;display:inline-flex;align-items:center;gap:.4em;background:#fff;padding:.4em .8em;border-radius:1em;font-size:1.2em;box-shadow:0 2px 10px #00000026;border:2px solid #000}.rating-badge[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1.2em;height:1.2em}.rating-badge[_ngcontent-%COMP%]   .rating-value[_ngcontent-%COMP%]{font-weight:700;color:#333}.basic-info[_ngcontent-%COMP%]{flex:1;color:#333}.name[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin:0 0 1rem;color:#333}.experience-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;background:#0000001a;padding:8px 16px;border-radius:20px;font-weight:500;margin-bottom:1rem;color:#333;border:1px solid rgba(0,0,0,.2)}.experience-badge[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.2rem}.categories[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.category-chip[_ngcontent-%COMP%]{background:#333;color:#fff;padding:6px 12px;border-radius:15px;font-size:.85rem;font-weight:500}.specialist-body[_ngcontent-%COMP%]{padding:2rem;background:#fff}.info-section[_ngcontent-%COMP%]{margin-bottom:2.5rem}.info-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:1.3rem;font-weight:700;margin-bottom:1rem;color:#333;padding-bottom:8px;border-bottom:2px solid #c9b7ff}.section-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:1.4rem}.contact-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.contact-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.contact-item.full-width[_ngcontent-%COMP%]{grid-column:1/-1}.contact-label[_ngcontent-%COMP%]{font-weight:700;color:#666;font-size:.9rem}.contact-value[_ngcontent-%COMP%]{font-size:1rem;color:#333;text-decoration:none;transition:color .3s ease}.contact-value.email[_ngcontent-%COMP%]:hover, .contact-value.phone[_ngcontent-%COMP%]:hover{color:#9a79ff;text-decoration:underline}.contact-value.address[_ngcontent-%COMP%]{line-height:1.4}.description-content[_ngcontent-%COMP%]{background:#9a79ff1a;padding:1.5rem;border-radius:8px;border-left:4px solid #9a79ff}.description-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;line-height:1.6;color:#333}.portfolio-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.portfolio-item[_ngcontent-%COMP%]{position:relative;aspect-ratio:4/3;border-radius:8px;overflow:hidden;box-shadow:0 4px 12px #0000001a;transition:transform .3s ease}.portfolio-item[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 20px #0003}.portfolio-item[_ngcontent-%COMP%]:hover   .portfolio-overlay[_ngcontent-%COMP%]{opacity:1}.portfolio-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.portfolio-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#9a79ffcc;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease}.portfolio-overlay[_ngcontent-%COMP%]   .view-text[_ngcontent-%COMP%]{color:#fff;font-weight:700;font-size:1rem}.review-count[_ngcontent-%COMP%]{font-size:1rem;color:#666;font-weight:400}.reviews-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.no-reviews[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:#9a79ff1a;border-radius:8px;color:#666}.no-reviews[_ngcontent-%COMP%]   .no-reviews-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.no-reviews[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 .5rem;font-weight:500}.no-reviews[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-style:italic}.review-card[_ngcontent-%COMP%]{background:#fff;padding:1.5rem;border-radius:12px;border:1px solid #e0e0e0;box-shadow:0 2px 8px #00000014;transition:all .3s ease}.review-card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 15px #0000001f;transform:translateY(-2px)}.review-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem}.reviewer-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.reviewer-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;object-fit:cover;border:2px solid #e0e0e0}.reviewer-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.reviewer-name[_ngcontent-%COMP%]{font-weight:700;color:#333}.review-date[_ngcontent-%COMP%]{font-size:.85rem;color:#666}.review-content[_ngcontent-%COMP%]{line-height:1.6;color:#555}.review-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.stars[_ngcontent-%COMP%]{display:flex;gap:2px}.star[_ngcontent-%COMP%]{color:#ddd;font-size:1.2rem;transition:color .3s ease}.star.filled[_ngcontent-%COMP%]{color:gold}.star.small[_ngcontent-%COMP%]{font-size:1rem}.rating-value[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#333}@media (max-width: 768px){.overlay-wrapper[_ngcontent-%COMP%], .standalone-view[_ngcontent-%COMP%]{padding:1rem}.specialist-header[_ngcontent-%COMP%]{padding:1.5rem}.avatar-section[_ngcontent-%COMP%]{flex-direction:column;align-items:center;text-align:center;gap:1rem}.avatar-wrapper[_ngcontent-%COMP%], .avatar[_ngcontent-%COMP%]{width:120px;height:120px}.specialist-body[_ngcontent-%COMP%]{padding:1.5rem}.contact-grid[_ngcontent-%COMP%], .portfolio-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.review-header[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem;align-items:flex-start}.name[_ngcontent-%COMP%]{font-size:1.5rem}}.review-rating[_ngcontent-%COMP%]{flex-shrink:0}.review-rating[_ngcontent-%COMP%]   .rating-display[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.3em;background:#fff;padding:.3em .6em;border-radius:.8em;font-size:.9em;box-shadow:0 1px 4px #0000001a;border:1px solid #e0e0e0}.review-rating[_ngcontent-%COMP%]   .rating-display[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{width:1em;height:1em}.review-rating[_ngcontent-%COMP%]   .rating-display[_ngcontent-%COMP%]   .rating-value[_ngcontent-%COMP%]{font-weight:700;color:#333}.section-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{filter:none}"]})};var yN=["class","categories"],bN=()=>[5,10,20];function CN(n,e){if(n&1){let t=D();c(0,"div",9)(1,"div",10)(2,"div",11)(3,"button",12),v("click",function(){y(t);let r=m();return b(r.closeAddEntityForm())}),d(4,"\xD7"),a()(),c(5,"app-dynamic-form",13),v("formSubmit",function(r){y(t);let o=m();return b(o.addEntity(r))}),a()()()}if(n&2){let t=m();p(5),f("fields",t.addEntityFormFields)("submitText","Trimite")}}function xN(n,e){if(n&1){let t=D();c(0,"div",9)(1,"div",10)(2,"button",12),v("click",function(){y(t);let r=m();return b(r.closeUpdateEntityForm())}),d(3,"\xD7"),a(),c(4,"app-dynamic-form",14),v("formSubmit",function(r){y(t);let o=m();return b(o.updateEntity(r))}),a()()()}if(n&2){let t=m();p(4),f("fields",t.updateEntityFormFields)("initialData",t.formData)("submitText","Actualizeaz\u0103")}}function wN(n,e){if(n&1){let t=D();c(0,"app-admin-details",18),v("close",function(){y(t);let r=m(2);return b(r.closeEntityDetails())}),a()}if(n&2){let t=m(2);f("entity",t.entityDetails)("title","Detalii categorie")}}function MN(n,e){if(n&1){let t=D();c(0,"div",15)(1,"div",16)(2,"button",12),v("click",function(){y(t);let r=m();return b(r.closeEntityDetails())}),d(3,"\xD7"),a(),_(4,wN,1,2,"app-admin-details",17),a()()}if(n&2){let t=m();p(4),f("ngIf",t.isEntityDetailsVisible)}}var Eu=class n{constructor(e){this.adminService=e}dummy_categories=[{id:"c1",name:"Psihologie",description:"Categoria pentru speciali\u0219ti \xEEn psihologie",specialistsCount:5,specialistIds:["s1","s2","s3","s4","s5"]},{id:"c2",name:"Nutri\u021Bie",description:"Categoria pentru speciali\u0219ti \xEEn nutri\u021Bie",specialistsCount:3,specialistIds:["s6","s7","s8"]}];searchTerm="";entities=[];selectedEntity=null;entityDetails={};entityDetailsId;pageSize=10;currentPage=1;totalItems=0;isAddEntityFormVisible=!1;isUpdateEntityFormVisible=!1;isEntityDetailsVisible=!1;selectedEntityId=null;columns=[{key:"id",header:"ID"},{key:"name",header:"Denumire"},{key:"description",header:"Descriere"},{key:"specialistsCount",header:"Num\u0103r speciali\u0219ti"},{key:"specialistIds",header:"Speciali\u0219tii cu aceast\u0103 categorie"},{key:"actions",header:"Ac\u021Biuni",type:"action",actions:[{label:"Detalii",class:"view",callback:e=>this.getEntity(e.id)},{label:"Modific\u0103",class:"edit",callback:e=>this.editEntity(e)},{label:"\u0218terge",class:"delete",callback:e=>this.deleteEntity(e)}]}];defaultEntity={name:"",description:""};formData={};error=null;addEntityFormFields=kt(this.defaultEntity,{description:{type:"input",placeholder:"Descrie categoria",required:!1}});updateEntityFormFields=kt({name:this.selectedEntity?.name||"",description:this.selectedEntity?.description||""});placeholder="Caut\u0103 o categorie...";ngOnInit(){let e={name:"",description:""};this.formData=S({},e),this.getPage()}onSearch(e){this.searchTerm=e,this.currentPage=1,this.getPage()}getEntity(e){console.log(e),this.adminService.getCategoryById(e).subscribe({next:t=>{this.entityDetailsId=t.response?.id,this.entityDetails=Bo(t.response??{}),this.isEntityDetailsVisible=!0},error:t=>{console.error("Eroare la preluarea utilizatorului:",t.errorMessage?.status),alert("Nu s-au putut \xEEnc\u0103rca detaliile utilizatorului.")}})}getPage(){this.adminService.getCategoriesAdminPage(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:e=>{console.log(e.response),this.entities=e.response?.data??[],this.totalItems=e.response?.totalCount??0},error:e=>{this.error=e.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addEntity(e){let t=e;this.adminService.addCategory(t).subscribe({next:()=>{this.closeAddEntityForm(),this.getPage()},error:i=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",i)}})}editEntity(e){this.selectedEntityId=e.id,this.formData={name:e.name,description:e.description},this.isUpdateEntityFormVisible=!0}updateEntity(e){if(!this.selectedEntityId){console.error("Niciun utilizator nu a fost selectat pentru actualizare."),alert("Eroare: Nu a fost selectat niciun utilizator pentru actualizare.");return}let t={id:this.selectedEntityId,name:e.name||this.formData.name,description:e.description||this.formData.description};this.adminService.updateCategory(t).subscribe({next:()=>{this.closeUpdateEntityForm(),this.getPage()},error:i=>{console.error("Eroare la actualizare:",i)}})}showEntityDetails(e){this.isEntityDetailsVisible=!0}closeEntityDetails(){this.isEntityDetailsVisible=!1,this.selectedEntity=null}closeUpdateEntityForm(){this.selectedEntityId=null,this.resetForm(),this.isUpdateEntityFormVisible=!1}openAddEntityForm(){this.selectedEntityId=null,this.resetForm(),this.isAddEntityFormVisible=!0}viewEntity(e){this.isEntityDetailsVisible=!0}deleteEntity(e){confirm(`Sigur dori\u021Bi s\u0103 \u0219terge\u021Bi categoria ${e.name}?`)&&this.adminService.deleteCategory(e.id).subscribe({next:()=>{this.getPage()},error:t=>{console.error("Eroare la \u0219tergerea utilizatorului:",t)}})}closeAddEntityForm(){this.isAddEntityFormVisible=!1,this.resetForm()}resetForm(){this.formData={name:"",description:""}}onPageChange(e){this.currentPage=e,this.getPage()}onPageSizeChange(e){this.pageSize=e,this.currentPage=1,this.getPage()}static \u0275fac=function(t){return new(t||n)(w(Ui))};static \u0275cmp=F({type:n,selectors:[["app-admin",8,"categories"]],attrs:yN,decls:13,vars:11,consts:[[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[1,"admin-wrapper"],[1,"admin-table-container"],[1,"search-box-wrapper"],[3,"searchChanged","placeholder"],[1,"add-btn",3,"click"],[3,"columns","data"],["class","modal-overlay",4,"ngIf"],["class","admin-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal"],[1,"close-button-wrapper"],[1,"close-button",3,"click"],[3,"formSubmit","fields","submitText"],[3,"formSubmit","fields","initialData","submitText"],[1,"admin-overlay"],[1,"admin-modal"],[3,"entity","title","close",4,"ngIf"],[3,"close","entity","title"]],template:function(t,i){t&1&&(c(0,"app-pagination",0),v("pageChange",function(o){return i.onPageChange(o)})("pageSizeChange",function(o){return i.onPageSizeChange(o)}),a(),c(1,"div",1)(2,"div",2)(3,"h2"),d(4,"Administreaz\u0103 toate categoriile"),a(),c(5,"div",3)(6,"app-search-input",4),v("searchChanged",function(o){return i.onSearch(o)}),a()(),c(7,"button",5),v("click",function(){return i.openAddEntityForm()}),d(8,"Adaug\u0103 categorie"),a(),P(9,"app-dynamic-table",6),a()(),_(10,CN,6,2,"div",7)(11,xN,5,3,"div",7)(12,MN,5,1,"div",8)),t&2&&(f("currentPage",i.currentPage)("pageSize",i.pageSize)("pageSizeOptions",Ut(10,bN))("totalItems",i.totalItems),p(6),f("placeholder",i.placeholder),p(3),f("columns",i.columns)("data",i.entities),p(),f("ngIf",i.isAddEntityFormVisible),p(),f("ngIf",i.isUpdateEntityFormVisible),p(),f("ngIf",i.isEntityDetailsVisible))},dependencies:[Hi,Gt,pn,$i,Bn,q],styles:[".table-wrapper[_ngcontent-%COMP%]{width:100%;font-family:Roboto Mono,monospace}.desktop-table[_ngcontent-%COMP%]{display:block;background-color:#f8f4ff;border-radius:8px;box-shadow:0 4px 12px #0000001a;border:2px solid #4b358e}@media (max-width: 768px){.desktop-table[_ngcontent-%COMP%]{border-radius:6px;box-shadow:0 2px 8px #0000001a}}.table-scroll[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}.admin-table[_ngcontent-%COMP%]{width:100%;min-width:100%;border-collapse:collapse;background-color:#f8f4ff;margin:0}@media (max-width: 768px){.admin-table[_ngcontent-%COMP%]{min-width:600px}}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 8px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;vertical-align:middle;word-wrap:break-word}@media (max-width: 1024px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px 6px;font-size:13px}}@media (max-width: 768px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 4px;font-size:12px;max-width:120px}}@media (max-width: 480px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:6px 3px;font-size:11px;max-width:100px}}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700;position:sticky;top:0;z-index:10;white-space:nowrap}@media (max-width: 768px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:11px}}@media (max-width: 480px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+4):not(.action-column), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+4):not(.action-column){display:none}}@media (max-width: 600px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+5):not(.action-column), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+5):not(.action-column){display:none}}@media (max-width: 900px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+6):not(.action-column), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+6):not(.action-column){display:none}}@media (max-width: 768px){.hidden-mobile[_ngcontent-%COMP%]{display:none!important}}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:4px;flex-wrap:nowrap;justify-content:flex-start}@media (max-width: 768px){.action-buttons[_ngcontent-%COMP%]{gap:2px;flex-direction:column}}.action-btn[_ngcontent-%COMP%]{padding:4px 8px;border:1px solid transparent;border-radius:3px;cursor:pointer;font-weight:700;font-size:11px;font-family:Roboto Mono,monospace;transition:all .3s ease;text-decoration:none;display:inline-block;white-space:nowrap;min-width:auto}@media (max-width: 768px){.action-btn[_ngcontent-%COMP%]{padding:3px 6px;font-size:10px;margin-bottom:2px}}@media (max-width: 480px){.action-btn[_ngcontent-%COMP%]{padding:2px 4px;font-size:9px}}.action-btn.view[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1565c0;border-color:#1565c0}.action-btn.view[_ngcontent-%COMP%]:hover{background-color:#1565c0;color:#fff}.action-btn.edit[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#2e7d32;border-color:#2e7d32}.action-btn.edit[_ngcontent-%COMP%]:hover{background-color:#2e7d32;color:#fff}.action-btn.delete[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828;border-color:#c62828}.action-btn.delete[_ngcontent-%COMP%]:hover{background-color:#c62828;color:#fff}.action-label-short[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.action-label-short[_ngcontent-%COMP%]{display:inline}}.action-label-full[_ngcontent-%COMP%]{display:inline}@media (max-width: 768px){.action-label-full[_ngcontent-%COMP%]{display:none}}.mobile-cards[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.mobile-cards[_ngcontent-%COMP%]{display:block;padding:16px}}.card[_ngcontent-%COMP%]{background-color:#f8f4ff;border:2px solid #cfbdfe;border-radius:8px;margin-bottom:16px;box-shadow:0 2px 8px #0000001a;transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 12px #00000026;transform:translateY(-2px)}.card[_ngcontent-%COMP%]:last-child{margin-bottom:0}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;padding:16px;background-color:#cfbdfe;border-bottom:1px solid #ddd;border-radius:6px 6px 0 0;gap:12px}.card-title[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:700;color:#333;flex:1;word-break:break-word}@media (max-width: 480px){.card-title[_ngcontent-%COMP%]{font-size:14px}}.card-actions[_ngcontent-%COMP%]{display:flex;gap:6px;flex-wrap:wrap;flex-shrink:0}.card-body[_ngcontent-%COMP%]{padding:16px}.field[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:12px;gap:12px}.field[_ngcontent-%COMP%]:last-child{margin-bottom:0}.field.primary[_ngcontent-%COMP%]{display:none}.field-label[_ngcontent-%COMP%]{font-weight:700;color:#666;font-size:13px;flex-shrink:0;min-width:80px}@media (max-width: 480px){.field-label[_ngcontent-%COMP%]{font-size:12px;min-width:70px}}.field-value[_ngcontent-%COMP%]{color:#333;font-size:13px;text-align:right;word-break:break-word;flex:1}@media (max-width: 480px){.field-value[_ngcontent-%COMP%]{font-size:12px}}.add-btn[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;border:2px solid #9a83db;padding:12px 24px;font-family:Roboto Mono,monospace;font-weight:700;font-size:.9rem;cursor:pointer;transition:all .3s ease;margin-bottom:20px;text-decoration:none;display:inline-block;border-radius:0}.add-btn[_ngcontent-%COMP%]:hover{background-color:#9a83db;color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #9a83db4d}.add-btn[_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 6px #9a83db33}.add-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #9a83db4d}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:48px 24px;background-color:#f8f4ff;border:2px dashed #cfbdfe;border-radius:8px;color:#666}@media (max-width: 768px){.empty-state[_ngcontent-%COMP%]{margin:16px;padding:32px 16px}}.empty-icon[_ngcontent-%COMP%]{font-size:48px;margin-bottom:16px;opacity:.7}@media (max-width: 768px){.empty-icon[_ngcontent-%COMP%]{font-size:36px;margin-bottom:12px}}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:18px;color:#333}@media (max-width: 768px){.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px}}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px}@media (max-width: 768px){.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px}}@media (max-width: 1200px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+6), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+6){display:none}}@media (max-width: 1024px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+5), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+5){display:none}}@media (max-width: 900px){.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(n+4), .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(n+4){display:none}}@media (min-width: 769px) and (max-width: 1024px){.desktop-table[_ngcontent-%COMP%]{margin:0 16px}.admin-table[_ngcontent-%COMP%]{min-width:500px}}@media print{.table-wrapper[_ngcontent-%COMP%]{overflow:visible!important}.desktop-table[_ngcontent-%COMP%]{display:block!important;overflow:visible!important}.mobile-cards[_ngcontent-%COMP%]{display:none!important}.admin-table[_ngcontent-%COMP%]{min-width:auto!important;width:100%!important}.action-btn[_ngcontent-%COMP%]{display:none!important}}",".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};function SN(n,e){n&1&&(c(0,"div",43),P(1,"div",44),c(2,"p"),d(3,"Se \xEEncarc\u0103..."),a()())}function DN(n,e){if(n&1&&(c(0,"div",45),d(1),a()),n&2){let t=m();fe("error",t.saveMessage.includes("Eroare")),p(),I(" ",t.saveMessage," ")}}function EN(n,e){if(n&1&&(c(0,"option",46),d(1),a()),n&2){let t=e.$implicit;f("value",t.value),p(),I(" ",t.label," ")}}function PN(n,e){if(n&1&&(c(0,"option",46),d(1),a()),n&2){let t=e.$implicit;f("value",t.value),p(),I(" ",t.label," ")}}function IN(n,e){if(n&1){let t=D();c(0,"label",24)(1,"input",47),U("ngModelChange",function(r){y(t);let o=m();return B(o.settings.autoAcceptRequests,r)||(o.settings.autoAcceptRequests=r),b(r)}),a(),c(2,"span"),d(3,"Accept\u0103 automat cererile \xEEn programul de lucru"),a()()}if(n&2){let t=m();p(),z("ngModel",t.settings.autoAcceptRequests)}}function ON(n,e){if(n&1){let t=D();c(0,"label",59)(1,"input",60),v("change",function(){let r=y(t).$implicit,o=m(3);return b(o.toggleWorkingDay(r.value))}),a(),c(2,"span"),d(3),a()()}if(n&2){let t=e.$implicit,i=m(3);fe("selected",i.isWorkingDaySelected(t.value)),p(),f("checked",i.isWorkingDaySelected(t.value)),p(2),R(t.label)}}function TN(n,e){if(n&1){let t=D();c(0,"div",50)(1,"div",51)(2,"div",52)(3,"label",53),d(4,"Ora de \xEEnceput"),a(),c(5,"input",54),U("ngModelChange",function(r){y(t);let o=m(2);return B(o.settings.workingHours.start,r)||(o.settings.workingHours.start=r),b(r)}),a()(),c(6,"div",52)(7,"label",55),d(8,"Ora de sf\xE2r\u0219it"),a(),c(9,"input",56),U("ngModelChange",function(r){y(t);let o=m(2);return B(o.settings.workingHours.end,r)||(o.settings.workingHours.end=r),b(r)}),a()()(),c(10,"div",8)(11,"label"),d(12,"Zilele de lucru"),a(),c(13,"div",57),_(14,ON,4,4,"label",58),a()()()}if(n&2){let t=m(2);p(5),z("ngModel",t.settings.workingHours.start),p(4),z("ngModel",t.settings.workingHours.end),p(5),f("ngForOf",t.availableDays)}}function kN(n,e){if(n&1){let t=D();c(0,"section",6)(1,"h2"),d(2,"Program de lucru"),a(),c(3,"form",7),v("ngSubmit",function(){y(t);let r=m();return b(r.saveWorkingHours())}),c(4,"div",23)(5,"label",24)(6,"input",48),U("ngModelChange",function(r){y(t);let o=m();return B(o.settings.workingHours.enabled,r)||(o.settings.workingHours.enabled=r),b(r)}),a(),c(7,"span"),d(8,"Activeaz\u0103 programul de lucru"),a()()(),_(9,TN,15,3,"div",49),c(10,"button",19),d(11," Salveaz\u0103 programul de lucru "),a()()()}if(n&2){let t=m();p(6),z("ngModel",t.settings.workingHours.enabled),p(3),f("ngIf",t.settings.workingHours.enabled),p(),f("disabled",t.loading)}}var Pu=class n{constructor(e,t,i,r){this.userService=e;this.authService=t;this.photoService=i;this.router=r}destroy$=new _e;user=null;loading=!1;saveMessage="";settings={fullName:"",email:"",phoneNumber:"",address:"",language:"ro",darkMode:!1,emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,marketingEmails:!1,serviceReminders:!0,locationSharing:!1,profileVisibility:"public",autoAcceptRequests:!1,workingHours:{enabled:!1,start:"09:00",end:"17:00",days:[]}};availableDays=[{value:"monday",label:"Luni"},{value:"tuesday",label:"Mar\u021Bi"},{value:"wednesday",label:"Miercuri"},{value:"thursday",label:"Joi"},{value:"friday",label:"Vineri"},{value:"saturday",label:"S\xE2mb\u0103t\u0103"},{value:"sunday",label:"Duminic\u0103"}];languages=[{value:"ro",label:"Rom\xE2n\u0103"},{value:"en",label:"English"},{value:"fr",label:"Fran\xE7ais"},{value:"de",label:"Deutsch"}];profileVisibilityOptions=[{value:"public",label:"Public - vizibil pentru to\u021Bi"},{value:"specialists-only",label:"Doar pentru speciali\u0219ti"},{value:"private",label:"Privat - ascuns din c\u0103ut\u0103ri"}];ngOnInit(){this.loadUserProfile()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadUserProfile(){this.loading=!0}populateSettingsFromUser(){this.user&&(this.settings=G(S({},this.settings),{fullName:this.user.fullName||"",email:this.user.email||"",phoneNumber:this.user.contactInfo?.phoneNumber||"",address:this.user.contactInfo?.address||""}))}onImageUpload(e){let t=e.target.files?.[0];t&&(this.loading=!0,this.photoService.addProfilePicture(t).pipe(Ye(this.destroy$)).subscribe({next:i=>{this.showSaveMessage("Poza de profil a fost actualizat\u0103 cu succes!"),this.loadUserProfile()},error:i=>{console.error("Error uploading image:",i),this.showSaveMessage("Eroare la \xEEnc\u0103rcarea pozei de profil.",!0)},complete:()=>{this.loading=!1}}))}saveBasicInfo(){if(!this.user)return;this.loading=!0;let e={fullName:this.settings.fullName,email:this.settings.email,contactInfo:{phoneNumber:this.settings.phoneNumber,address:this.settings.address}}}saveNotificationSettings(){this.loading=!0,setTimeout(()=>{this.showSaveMessage("Set\u0103rile de notificare au fost salvate!"),this.loading=!1},1e3)}savePrivacySettings(){this.loading=!0,setTimeout(()=>{this.showSaveMessage("Set\u0103rile de confiden\u021Bialitate au fost salvate!"),this.loading=!1},1e3)}saveWorkingHours(){this.isSpecialist()&&(this.loading=!0,setTimeout(()=>{this.showSaveMessage("Programul de lucru a fost salvat!"),this.loading=!1},1e3))}toggleWorkingDay(e){let t=this.settings.workingHours.days.indexOf(e);t>-1?this.settings.workingHours.days.splice(t,1):this.settings.workingHours.days.push(e)}isWorkingDaySelected(e){return this.settings.workingHours.days.includes(e)}isSpecialist(){return this.user?.role==="Specialist"}changePassword(){this.router.navigate(["/profile/change-password"])}exportData(){this.showSaveMessage("Datele tale vor fi trimise pe email \xEEn cur\xE2nd.")}deactivateAccount(){confirm("E\u0219ti sigur c\u0103 vrei s\u0103 dezactivezi contul? Contul t\u0103u va fi ascuns temporar, dar po\u021Bi s\u0103 \xEEl reactivezi oric\xE2nd.")&&(this.loading=!0,setTimeout(()=>{this.showSaveMessage("Contul a fost dezactivat."),this.authService.logout(),this.router.navigate(["/home"])},1500))}deleteAccount(){confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi contul? Aceast\u0103 ac\u021Biune este ireversibil\u0103 \u0219i toate datele tale vor fi \u0219terse permanent.")&&confirm("Confirm\u0103 din nou: Toate datele tale vor fi \u0219terse permanent. Aceast\u0103 ac\u021Biune NU poate fi anulat\u0103.")&&(this.loading=!0,setTimeout(()=>{this.showSaveMessage("Contul a fost \u0219ters."),this.authService.logout(),this.router.navigate(["/home"])},2e3))}goBack(){this.router.navigate(["/profile"])}showSaveMessage(e,t=!1){this.saveMessage=e,setTimeout(()=>{this.saveMessage=""},3e3)}static \u0275fac=function(t){return new(t||n)(w(ut),w(Y),w($n),w(xe))};static \u0275cmp=F({type:n,selectors:[["app-settings"]],decls:115,vars:25,consts:[[1,"settings-container"],[1,"settings-header"],[1,"back-button",3,"click"],[1,"settings-title"],["class","loading-spinner",4,"ngIf"],["class","save-message",3,"error",4,"ngIf"],[1,"settings-section"],[3,"ngSubmit"],[1,"form-group"],["for","fullName"],["id","fullName","type","text","name","fullName","required","",3,"ngModelChange","ngModel"],["for","email"],["id","email","type","email","name","email","required","",3,"ngModelChange","ngModel"],["for","phone"],["id","phone","type","tel","name","phone",3,"ngModelChange","ngModel"],["for","address"],["id","address","name","address","rows","3","placeholder","Strada, num\u0103rul, ora\u0219ul, jude\u021Bul",3,"ngModelChange","ngModel"],["for","profileImage"],["id","profileImage","type","file","accept","image/*",3,"change"],["type","submit",3,"disabled"],["for","language"],["id","language","name","language",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"checkbox-group"],[1,"checkbox-label"],["type","checkbox","name","darkMode",3,"ngModelChange","ngModel"],["type","checkbox","name","emailNotifications",3,"ngModelChange","ngModel"],["type","checkbox","name","smsNotifications",3,"ngModelChange","ngModel"],["type","checkbox","name","pushNotifications",3,"ngModelChange","ngModel"],["type","checkbox","name","serviceReminders",3,"ngModelChange","ngModel"],["type","checkbox","name","marketingEmails",3,"ngModelChange","ngModel"],["for","profileVisibility"],["id","profileVisibility","name","profileVisibility",3,"ngModelChange","ngModel"],["type","checkbox","name","locationSharing",3,"ngModelChange","ngModel"],["class","checkbox-label",4,"ngIf"],["class","settings-section",4,"ngIf"],[1,"security-actions"],["type","button",1,"security-btn",3,"click"],[1,"settings-section","danger-section"],[1,"danger-actions"],[1,"danger",3,"click","disabled"],[1,"danger","delete",3,"click","disabled"],[1,"danger-warning"],[1,"loading-spinner"],[1,"spinner"],[1,"save-message"],[3,"value"],["type","checkbox","name","autoAcceptRequests",3,"ngModelChange","ngModel"],["type","checkbox","name","workingHoursEnabled",3,"ngModelChange","ngModel"],["class","working-hours-config",4,"ngIf"],[1,"working-hours-config"],[1,"form-row"],[1,"form-group","half"],["for","startTime"],["id","startTime","type","time","name","startTime",3,"ngModelChange","ngModel"],["for","endTime"],["id","endTime","type","time","name","endTime",3,"ngModelChange","ngModel"],[1,"days-selection"],["class","day-checkbox",3,"selected",4,"ngFor","ngForOf"],[1,"day-checkbox"],["type","checkbox",3,"change","checked"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"button",2),v("click",function(){return i.goBack()}),d(3,"\u2190 \xCEnapoi la profil"),a(),c(4,"h1",3),d(5,"Set\u0103rile contului"),a()(),_(6,SN,4,0,"div",4)(7,DN,2,3,"div",5),c(8,"section",6)(9,"h2"),d(10,"Informa\u021Bii de baz\u0103"),a(),c(11,"form",7),v("ngSubmit",function(){return i.saveBasicInfo()}),c(12,"div",8)(13,"label",9),d(14,"Nume complet"),a(),c(15,"input",10),U("ngModelChange",function(o){return B(i.settings.fullName,o)||(i.settings.fullName=o),o}),a()(),c(16,"div",8)(17,"label",11),d(18,"Adresa e-mail"),a(),c(19,"input",12),U("ngModelChange",function(o){return B(i.settings.email,o)||(i.settings.email=o),o}),a()(),c(20,"div",8)(21,"label",13),d(22,"Num\u0103r de telefon"),a(),c(23,"input",14),U("ngModelChange",function(o){return B(i.settings.phoneNumber,o)||(i.settings.phoneNumber=o),o}),a()(),c(24,"div",8)(25,"label",15),d(26,"Adresa"),a(),c(27,"textarea",16),U("ngModelChange",function(o){return B(i.settings.address,o)||(i.settings.address=o),o}),a()(),c(28,"div",8)(29,"label",17),d(30,"Poza de profil"),a(),c(31,"input",18),v("change",function(o){return i.onImageUpload(o)}),a(),c(32,"small"),d(33,"Formate acceptate: JPG, PNG, GIF (max 5MB)"),a()(),c(34,"button",19),d(35," Salveaz\u0103 informa\u021Biile de baz\u0103 "),a()()(),c(36,"section",6)(37,"h2"),d(38,"Preferin\u021Be aplica\u021Bie"),a(),c(39,"form",7),v("ngSubmit",function(){return i.saveNotificationSettings()}),c(40,"div",8)(41,"label",20),d(42,"Limba aplica\u021Biei"),a(),c(43,"select",21),U("ngModelChange",function(o){return B(i.settings.language,o)||(i.settings.language=o),o}),_(44,EN,2,2,"option",22),a()(),c(45,"div",23)(46,"label",24)(47,"input",25),U("ngModelChange",function(o){return B(i.settings.darkMode,o)||(i.settings.darkMode=o),o}),a(),c(48,"span"),d(49,"Activeaz\u0103 modul \xEEntunecat"),a()()(),c(50,"button",19),d(51," Salveaz\u0103 preferin\u021Bele "),a()()(),c(52,"section",6)(53,"h2"),d(54,"Notific\u0103ri"),a(),c(55,"form",7),v("ngSubmit",function(){return i.saveNotificationSettings()}),c(56,"div",23)(57,"label",24)(58,"input",26),U("ngModelChange",function(o){return B(i.settings.emailNotifications,o)||(i.settings.emailNotifications=o),o}),a(),c(59,"span"),d(60,"Notific\u0103ri prin e-mail"),a()(),c(61,"label",24)(62,"input",27),U("ngModelChange",function(o){return B(i.settings.smsNotifications,o)||(i.settings.smsNotifications=o),o}),a(),c(63,"span"),d(64,"Notific\u0103ri prin SMS"),a()(),c(65,"label",24)(66,"input",28),U("ngModelChange",function(o){return B(i.settings.pushNotifications,o)||(i.settings.pushNotifications=o),o}),a(),c(67,"span"),d(68,"Notific\u0103ri push \xEEn browser"),a()(),c(69,"label",24)(70,"input",29),U("ngModelChange",function(o){return B(i.settings.serviceReminders,o)||(i.settings.serviceReminders=o),o}),a(),c(71,"span"),d(72,"Amintiri pentru serviciile programate"),a()(),c(73,"label",24)(74,"input",30),U("ngModelChange",function(o){return B(i.settings.marketingEmails,o)||(i.settings.marketingEmails=o),o}),a(),c(75,"span"),d(76,"E-mailuri de marketing \u0219i promo\u021Bii"),a()()(),c(77,"button",19),d(78," Salveaz\u0103 set\u0103rile de notificare "),a()()(),c(79,"section",6)(80,"h2"),d(81,"Confiden\u021Bialitate"),a(),c(82,"form",7),v("ngSubmit",function(){return i.savePrivacySettings()}),c(83,"div",8)(84,"label",31),d(85,"Vizibilitatea profilului"),a(),c(86,"select",32),U("ngModelChange",function(o){return B(i.settings.profileVisibility,o)||(i.settings.profileVisibility=o),o}),_(87,PN,2,2,"option",22),a()(),c(88,"div",23)(89,"label",24)(90,"input",33),U("ngModelChange",function(o){return B(i.settings.locationSharing,o)||(i.settings.locationSharing=o),o}),a(),c(91,"span"),d(92,"Permite partajarea loca\u021Biei pentru servicii"),a()(),_(93,IN,4,1,"label",34),a(),c(94,"button",19),d(95," Salveaz\u0103 set\u0103rile de confiden\u021Bialitate "),a()()(),_(96,kN,12,3,"section",35),c(97,"section",6)(98,"h2"),d(99,"Securitate"),a(),c(100,"div",36)(101,"button",37),v("click",function(){return i.changePassword()}),d(102," Schimb\u0103 parola "),a(),c(103,"button",37),v("click",function(){return i.exportData()}),d(104," Export\u0103 datele mele "),a()()(),c(105,"section",38)(106,"h2"),d(107,"Ac\u021Biuni cont"),a(),c(108,"div",39)(109,"button",40),v("click",function(){return i.deactivateAccount()}),d(110," Dezactiveaz\u0103 contul temporar "),a(),c(111,"button",41),v("click",function(){return i.deleteAccount()}),d(112," \u0218terge contul permanent "),a()(),c(113,"small",42),d(114," \u26A0\uFE0F Ac\u021Biunile de mai sus sunt ireversibile. Te rug\u0103m s\u0103 fii foarte atent. "),a()()()),t&2&&(p(6),f("ngIf",i.loading),p(),f("ngIf",i.saveMessage),p(8),z("ngModel",i.settings.fullName),p(4),z("ngModel",i.settings.email),p(4),z("ngModel",i.settings.phoneNumber),p(4),z("ngModel",i.settings.address),p(7),f("disabled",i.loading),p(9),z("ngModel",i.settings.language),p(),f("ngForOf",i.languages),p(3),z("ngModel",i.settings.darkMode),p(3),f("disabled",i.loading),p(8),z("ngModel",i.settings.emailNotifications),p(4),z("ngModel",i.settings.smsNotifications),p(4),z("ngModel",i.settings.pushNotifications),p(4),z("ngModel",i.settings.serviceReminders),p(4),z("ngModel",i.settings.marketingEmails),p(3),f("disabled",i.loading),p(9),z("ngModel",i.settings.profileVisibility),p(),f("ngForOf",i.profileVisibilityOptions),p(3),z("ngModel",i.settings.locationSharing),p(3),f("ngIf",i.isSpecialist()),p(),f("disabled",i.loading),p(2),f("ngIf",i.isSpecialist()),p(13),f("disabled",i.loading),p(2),f("disabled",i.loading))},dependencies:[ge,wt,Fo,Lo,ze,Er,Vi,Te,xt,Mt,Ne,Tt,q,ce],styles:[".settings-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem;background-color:#f9f6ff;border-radius:12px;box-shadow:0 0 8px #0000001a}.settings-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:2rem;gap:1rem}.settings-header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{background:#6541f0;color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-size:.9rem;transition:background-color .3s}.settings-header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{background:#5134c9}.settings-title[_ngcontent-%COMP%]{font-size:1.8rem;margin:0;font-weight:700;flex:1}.loading-spinner[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem}.loading-spinner[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #6541f0;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:1rem;color:#666}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.save-message[_ngcontent-%COMP%]{padding:1rem;margin-bottom:1rem;border-radius:6px;background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.save-message.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border-color:#f5c6cb}.settings-section[_ngcontent-%COMP%]{margin-bottom:3rem;border-top:1px solid #e1e1e1;padding-top:2rem}.settings-section[_ngcontent-%COMP%]:first-of-type{border-top:none}.settings-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:1.5rem;color:#333;font-weight:600}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:500;margin-bottom:.5rem;color:#333}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:.75rem;border-radius:6px;border:1px solid #ddd;font-size:1rem;transition:border-color .3s,box-shadow .3s}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#6541f0;box-shadow:0 0 0 3px #6541f01a}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical;min-height:80px}.form-group[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;margin-top:.25rem;color:#666;font-size:.85rem}.form-group.half[_ngcontent-%COMP%]{width:calc(50% - .5rem)}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem}.checkbox-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:1rem;cursor:pointer;padding:.5rem;border-radius:4px;transition:background-color .3s}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:auto;margin-right:.75rem;transform:scale(1.2)}.checkbox-group[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400;color:#333}.working-hours-config[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem;border-radius:8px;margin-top:1rem}.days-selection[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}.days-selection[_ngcontent-%COMP%]   .day-checkbox[_ngcontent-%COMP%]{background:#fff;border:2px solid #ddd;border-radius:6px;padding:.5rem 1rem;cursor:pointer;transition:all .3s;min-width:80px;text-align:center}.days-selection[_ngcontent-%COMP%]   .day-checkbox.selected[_ngcontent-%COMP%]{background:#6541f0;border-color:#6541f0;color:#fff}.days-selection[_ngcontent-%COMP%]   .day-checkbox[_ngcontent-%COMP%]:hover{border-color:#6541f0}.days-selection[_ngcontent-%COMP%]   .day-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.days-selection[_ngcontent-%COMP%]   .day-checkbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.9rem;font-weight:500}.security-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.security-actions[_ngcontent-%COMP%]   .security-btn[_ngcontent-%COMP%]{background:#17a2b8;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:6px;cursor:pointer;font-weight:500;transition:background-color .3s}.security-actions[_ngcontent-%COMP%]   .security-btn[_ngcontent-%COMP%]:hover{background:#138496}.danger-section[_ngcontent-%COMP%]{border-top:2px solid #dc3545;background:#fff5f5;padding:2rem;border-radius:8px}.danger-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#dc3545}.danger-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem;flex-wrap:wrap}.danger-warning[_ngcontent-%COMP%]{color:#dc3545;font-style:italic;display:block;margin-top:1rem}button[_ngcontent-%COMP%]{display:inline-block;padding:.75rem 1.5rem;border:none;border-radius:6px;background-color:#6541f0;color:#fff;font-weight:500;cursor:pointer;transition:all .3s;font-size:1rem}button[_ngcontent-%COMP%]:hover{background-color:#5134c9;transform:translateY(-1px)}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed;transform:none}button.danger[_ngcontent-%COMP%]{background-color:#dc3545;margin-right:1rem}button.danger[_ngcontent-%COMP%]:hover{background-color:#c82333}button.danger.delete[_ngcontent-%COMP%]{background-color:#a71d2a}button.danger.delete[_ngcontent-%COMP%]:hover{background-color:#8b1a26}@media (max-width: 768px){.settings-container[_ngcontent-%COMP%]{padding:1rem;margin:1rem}.settings-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.settings-header[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{align-self:flex-start}.form-row[_ngcontent-%COMP%]{flex-direction:column}.form-row[_ngcontent-%COMP%]   .form-group.half[_ngcontent-%COMP%]{width:100%}.days-selection[_ngcontent-%COMP%]{justify-content:center}.days-selection[_ngcontent-%COMP%]   .day-checkbox[_ngcontent-%COMP%]{flex:1;min-width:60px}.security-actions[_ngcontent-%COMP%], .danger-actions[_ngcontent-%COMP%]{flex-direction:column}.security-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .danger-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};var RN=()=>[];function AN(n,e){if(n&1&&P(0,"img",9),n&2){let t=m().$implicit;f("src",t.senderUserProfilePictureUrl,ye)}}function NN(n,e){n&1&&(je(0),P(1,"img",10),Be())}function FN(n,e){if(n&1&&(c(0,"div",3)(1,"div",4),_(2,AN,1,1,"img",5),c(3,"div",6)(4,"strong"),d(5),a(),c(6,"span",7),_(7,NN,2,0,"ng-container",8),a()()(),c(8,"p"),d(9),a(),c(10,"small"),d(11),Z(12,"date"),a()()),n&2){let t=e.$implicit;p(2),f("ngIf",t.senderUserProfilePictureUrl),p(3),R(t.senderUserFullName),p(2),f("ngForOf",Ut(8,RN).constructor(t.rating)),p(2),R(t.content),p(2),R($e(12,5,t.createdAt,"shortDate"))}}var Iu=class n{constructor(e){this.reviewService=e}reviews=[];page=1;pageSize=5;dummyReviews=[{id:"1",senderUserFullName:"Ana Popescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/women/21.jpg",rating:5,content:"Excelent! A fost foarte profesionist\u0103 \u0219i m-a ajutat rapid.",createdAt:new Date("2024-12-05T14:35:00"),updatedAt:new Date("2024-12-05T14:35:00")},{id:"2",senderUserFullName:"Andrei Ionescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/men/32.jpg",rating:4,content:"Serviciu bun, dar am avut o mic\u0103 \xEEnt\xE2rziere la \xEEnceput.",createdAt:new Date("2025-01-10T09:20:00"),updatedAt:new Date("2025-01-10T09:20:00")},{id:"3",senderUserFullName:"Mihai Georgescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/men/45.jpg",rating:3,content:"Experien\u021B\u0103 ok, dar se poate \xEEmbun\u0103t\u0103\u021Bi comunicarea.",createdAt:new Date("2025-03-18T17:45:00"),updatedAt:new Date("2025-03-18T17:45:00")},{id:"4",senderUserFullName:"Elena Tudor",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/women/55.jpg",rating:5,content:"Foarte mul\u021Bumit\u0103! Recomand cu \xEEncredere!",createdAt:new Date("2025-04-02T11:10:00"),updatedAt:new Date("2025-04-02T11:10:00")},{id:"5",senderUserFullName:"Radu Vasile",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/men/61.jpg",rating:2,content:"Din p\u0103cate, nu a fost ce am a\u0219teptat. Probleme de punctualitate.",createdAt:new Date("2025-02-14T08:30:00"),updatedAt:new Date("2025-02-14T08:30:00")},{id:"6",senderUserFullName:"Ioana Marinescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/women/88.jpg",rating:4,content:"Totul a decurs bine, dar a\u0219 fi vrut mai multe explica\u021Bii.",createdAt:new Date("2025-05-22T15:50:00"),updatedAt:new Date("2025-05-22T15:50:00")}];ngOnInit(){this.reviews=this.dummyReviews,this.loadReviews()}loadReviews(){this.reviewService.getReviews(this.page,this.pageSize).subscribe({next:e=>{this.reviews=e.response?.data||[]},error:e=>{console.error("Error loading reviews",e)}})}static \u0275fac=function(t){return new(t||n)(w(ts))};static \u0275cmp=F({type:n,selectors:[["app-reviews"]],decls:5,vars:1,consts:[[1,"account-card"],[1,"reviews-container"],["class","review-card",4,"ngFor","ngForOf"],[1,"review-card"],[1,"header"],["alt","Profil",3,"src",4,"ngIf"],[1,"review-info"],[1,"rating"],[4,"ngFor","ngForOf"],["alt","Profil",3,"src"],["src","assets/icons/star-filled.svg","alt","star",2,"width","24px","height","24px","margin-right","0"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"h2"),d(3,"Recenziile tale"),a(),_(4,FN,13,9,"div",2),a()()),t&2&&(p(4),f("ngForOf",i.reviews))},dependencies:[ce,q,ot],styles:[".account-card[_ngcontent-%COMP%]{background:#e0caff;max-width:1000px;margin:32px auto;box-shadow:0 4px 16px #0000001a;font-family:Roboto Mono,monospace;border:3px solid black}.reviews-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:32px}.reviews-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px;text-align:center;margin-bottom:32px;font-weight:700;color:#000}.review-card[_ngcontent-%COMP%]{background-color:#f5f2ff;border-radius:10px;padding:1.25rem;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000000d;transition:transform .2s}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;object-fit:cover;margin-right:16px}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .review-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;padding-top:4px}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .review-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:18px;line-height:1;margin-left:3px;margin-bottom:2px}.review-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-size:1rem;color:#333}.review-card[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;text-align:right;color:#777;font-size:.85rem}.rating[_ngcontent-%COMP%]{display:flex;align-items:center}.rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:1px}"]})};var Ou=class n{constructor(e){this.fb=e;this.contactForm=this.fb.group({name:["",Fi.required],email:["",[Fi.required,Fi.email]],subject:["",Fi.required],message:["",Fi.required]})}contactForm;onSubmit(){if(this.contactForm.valid){let e=this.contactForm.value;console.log("Contact form data:",e),alert("Mesajul a fost trimis cu succes!"),this.contactForm.reset()}}static \u0275fac=function(t){return new(t||n)(w($C))};static \u0275cmp=F({type:n,selectors:[["app-contact-us"]],decls:47,vars:1,consts:[[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"contact-wrapper"],[3,"ngSubmit","formGroup"],["for","name"],["id","name","type","text","formControlName","name","placeholder","Ex: Ana Popescu"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Ex: ana@email.com"],["for","subject"],["id","subject","type","text","formControlName","subject","placeholder","Subiectul mesajului"],["for","message"],["id","message","rows","5","formControlName","message","placeholder","Scrie-ne mesajul t\u0103u..."],[1,"form-actions"],["type","submit"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"h1",2),d(3,"Ai o \u021Beav\u0103 spart\u0103?"),a(),c(4,"h1",2),d(5,"\u021Ai s-a stricat chiuveta?"),a(),c(6,"h1"),d(7,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),c(8,"strong",3),d(9,"ExpertEase"),a(),d(10,"!"),a()(),c(11,"p"),d(12,"Peste "),c(13,"strong"),d(14,"100 de speciali\u0219ti"),a(),d(15," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),a()(),c(16,"div",4)(17,"h2"),d(18,"Contacteaz\u0103-ne"),a(),c(19,"p")(20,"strong"),d(21,"Email:"),a(),d(22," contact@expertease.ro"),a(),c(23,"p")(24,"strong"),d(25,"Telefon:"),a(),d(26," +40 712 345 678"),a(),c(27,"p")(28,"strong"),d(29,"Adres\u0103:"),a(),d(30," Str. Exemplului 123, Bucure\u0219ti"),a(),c(31,"form",5),v("ngSubmit",function(){return i.onSubmit()}),c(32,"label",6),d(33,"Nume complet"),a(),P(34,"input",7),c(35,"label",8),d(36,"Email"),a(),P(37,"input",9),c(38,"label",10),d(39,"Subiect"),a(),P(40,"input",11),c(41,"label",12),d(42,"Mesaj"),a(),P(43,"textarea",13),c(44,"div",14)(45,"button",15),d(46,"Trimite"),a()()()()),t&2&&(p(31),f("formGroup",i.contactForm))},dependencies:[zi,wt,ze,Te,xt,Um,jm],styles:[".home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px 16px;font-family:Roboto Mono,monospace}@media (max-width: 768px){.home-wrapper[_ngcontent-%COMP%]{padding:20px 12px}}@media (max-width: 480px){.home-wrapper[_ngcontent-%COMP%]{padding:16px 8px}}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;max-width:100%}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center;font-size:clamp(1.5rem,4vw,2.5rem);line-height:1.2;word-wrap:break-word;hyphens:auto}@media (max-width: 768px){.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.3rem 0;font-size:clamp(1.2rem,5vw,2rem)}}@media (max-width: 480px){.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.2rem 0;font-size:clamp(1rem,6vw,1.5rem)}}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}@media (max-width: 480px){.brand-highlight[_ngcontent-%COMP%]{letter-spacing:.2px}}.contact-wrapper[_ngcontent-%COMP%]{max-width:600px;width:100%;margin:10px auto;padding:24px;font-family:Roboto Mono,monospace;border:2px solid #3c1a7d;border-radius:8px;background-color:#fff;box-sizing:border-box}@media (max-width: 768px){.contact-wrapper[_ngcontent-%COMP%]{max-width:90%;padding:20px;margin:10px 5%}}@media (max-width: 480px){.contact-wrapper[_ngcontent-%COMP%]{max-width:95%;padding:16px;margin:10px 2.5%;border-width:1px;border-radius:6px}}h2[_ngcontent-%COMP%]{color:#3c1a7d;margin-bottom:24px;text-align:center;font-size:clamp(1.3rem,3vw,1.6rem)}@media (max-width: 768px){h2[_ngcontent-%COMP%]{margin-bottom:20px}}@media (max-width: 480px){h2[_ngcontent-%COMP%]{margin-bottom:16px}}.contact-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px;font-size:clamp(.9rem,2vw,1rem);line-height:1.5}@media (max-width: 480px){.contact-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px;word-wrap:break-word}}label[_ngcontent-%COMP%]{display:block;margin:12px 0 4px;font-size:clamp(.9rem,2vw,1rem);font-weight:500}@media (max-width: 768px){label[_ngcontent-%COMP%]{margin:10px 0 3px}}@media (max-width: 480px){label[_ngcontent-%COMP%]{margin:8px 0 2px}}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;height:auto;padding:12px 10px;line-height:1.4;font-size:clamp(.9rem,2vw,14px);box-sizing:border-box;border:1px solid #ccc;border-radius:4px;margin-bottom:12px;font-family:Roboto Mono,monospace;transition:border-color .3s ease,box-shadow .3s ease}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3c1a7d;box-shadow:0 0 0 2px #3c1a7d1a}@media (max-width: 768px){input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:10px 8px;font-size:14px;margin-bottom:10px}}@media (max-width: 480px){input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{padding:8px 6px;font-size:13px;margin-bottom:8px}}textarea[_ngcontent-%COMP%]{resize:vertical;min-height:120px}@media (max-width: 768px){textarea[_ngcontent-%COMP%]{min-height:100px}}@media (max-width: 480px){textarea[_ngcontent-%COMP%]{min-height:80px}}.form-actions[_ngcontent-%COMP%]{text-align:center;margin-top:20px}@media (max-width: 768px){.form-actions[_ngcontent-%COMP%]{margin-top:16px}}@media (max-width: 480px){.form-actions[_ngcontent-%COMP%]{margin-top:12px}}button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:clamp(.9rem,2vw,16px);font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:min(300px,90%);height:44px;cursor:pointer;transition:all .3s ease;align-self:center}button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff;transform:translateY(-1px)}button[_ngcontent-%COMP%]:active{transform:translateY(0)}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none}@media (max-width: 768px){button[_ngcontent-%COMP%]{width:min(280px,95%);height:42px;font-size:15px}}@media (max-width: 480px){button[_ngcontent-%COMP%]{width:100%;height:40px;font-size:14px;border-width:1px}}@media (hover: none) and (pointer: coarse){input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{min-height:44px}button[_ngcontent-%COMP%]{min-height:48px}}"]})};var Tu=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["app-terms"]],decls:104,vars:0,consts:[[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"terms-container"],["href","/confidentialitate",1,"privacy-link"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"h1",2),d(3,"Ai o \u021Beav\u0103 spart\u0103?"),a(),c(4,"h1",2),d(5,"\u021Ai s-a stricat chiuveta?"),a(),c(6,"h1"),d(7,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),c(8,"strong",3),d(9,"ExpertEase"),a(),d(10,"!"),a()(),c(11,"p"),d(12,"Peste "),c(13,"strong"),d(14,"100 de speciali\u0219ti"),a(),d(15," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),a()(),c(16,"div",4)(17,"section")(18,"h2"),d(19,"Introducere"),a(),c(20,"p"),d(21," Acest document stabile\u0219te termenii \u0219i condi\u021Biile de utilizare a platformei "),c(22,"strong"),d(23,"ExpertEase"),a(),d(24,". Prin accesarea sau utilizarea serviciilor noastre, sunte\u021Bi de acord cu ace\u0219ti termeni. "),a()(),c(25,"section")(26,"h2"),d(27,"Defini\u021Bii"),a(),c(28,"p")(29,"strong"),d(30,"Platform\u0103:"),a(),d(31," aplica\u021Bia ExpertEase care faciliteaz\u0103 conexiunea dintre clien\u021Bi \u0219i speciali\u0219ti."),a(),c(32,"p")(33,"strong"),d(34,"Client:"),a(),d(35," utilizator care solicit\u0103 servicii."),a(),c(36,"p")(37,"strong"),d(38,"Specialist:"),a(),d(39," utilizator care ofer\u0103 servicii."),a()(),c(40,"section")(41,"h2"),d(42,"Condi\u021Bii de utilizare"),a(),c(43,"ul")(44,"li"),d(45,"Accesul necesit\u0103 crearea unui cont valid."),a(),c(46,"li"),d(47,"Utilizatorii trebuie s\u0103 aib\u0103 minim 18 ani."),a(),c(48,"li"),d(49,"Este interzis\u0103 utilizarea platformei \xEEn scopuri ilegale, abuzive sau frauduloase."),a()()(),c(50,"section")(51,"h2"),d(52,"Obliga\u021Biile utilizatorilor"),a(),c(53,"p")(54,"strong"),d(55,"Clien\u021Bi:"),a()(),c(56,"ul")(57,"li"),d(58,"S\u0103 ofere informa\u021Bii clare \u0219i reale despre cerere."),a(),c(59,"li"),d(60,"S\u0103 respecte termenii agrea\u021Bi cu specialistul."),a()(),c(61,"p")(62,"strong"),d(63,"Speciali\u0219ti:"),a()(),c(64,"ul")(65,"li"),d(66,"S\u0103 ofere servicii conforme cu descrierea."),a(),c(67,"li"),d(68,"S\u0103 respecte confiden\u021Bialitatea \u0219i termenele stabilite."),a()()(),c(69,"section")(70,"h2"),d(71,"Pl\u0103\u021Bi \u0219i comisioane"),a(),c(72,"p"),d(73," Pl\u0103\u021Bile se realizeaz\u0103 prin Stripe. Comisioanele platformei, dac\u0103 exist\u0103, vor fi afi\u0219ate transparent \xEEnainte de confirmarea serviciului. "),a()(),c(74,"section")(75,"h2"),d(76,"Limitarea r\u0103spunderii"),a(),c(77,"p"),d(78," Platforma ExpertEase ac\u021Bioneaz\u0103 doar ca intermediar. Nu ne asum\u0103m responsabilitatea pentru calitatea serviciilor oferite de speciali\u0219ti. "),a()(),c(79,"section")(80,"h2"),d(81,"Suspendarea contului"),a(),c(82,"p"),d(83," Ne rezerv\u0103m dreptul de a suspenda sau \u0219terge conturi care \xEEncalc\u0103 ace\u0219ti termeni sau folosesc platforma \xEEn mod abuziv. "),a()(),c(84,"section")(85,"h2"),d(86,"Protec\u021Bia datelor"),a(),c(87,"p"),d(88," Datele personale sunt gestionate conform "),c(89,"a",5),d(90,"Politicii de confiden\u021Bialitate"),a(),d(91,". "),a()(),c(92,"section")(93,"h2"),d(94,"Modificarea termenilor"),a(),c(95,"p"),d(96," Putem actualiza ace\u0219ti termeni periodic. Modific\u0103rile vor fi anun\u021Bate \xEEn aplica\u021Bie \u0219i vor intra \xEEn vigoare la publicare. "),a()(),c(97,"section")(98,"h2"),d(99,"Contact"),a(),c(100,"p"),d(101," Pentru \xEEntreb\u0103ri legate de ace\u0219ti termeni, ne pute\u021Bi contacta la: "),c(102,"strong"),d(103,"contact@expertease.ro"),a()()()())},styles:[".home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px 16px;font-family:Roboto Mono,monospace}@media (max-width: 768px){.home-wrapper[_ngcontent-%COMP%]{padding:20px 12px}}@media (max-width: 480px){.home-wrapper[_ngcontent-%COMP%]{padding:16px 8px}}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;max-width:100%}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center;font-size:clamp(1.5rem,4vw,2.5rem);line-height:1.2;word-wrap:break-word;hyphens:auto}@media (max-width: 768px){.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.3rem 0;font-size:clamp(1.2rem,5vw,2rem)}}@media (max-width: 480px){.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.2rem 0;font-size:clamp(1rem,6vw,1.5rem)}}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}@media (max-width: 480px){.brand-highlight[_ngcontent-%COMP%]{letter-spacing:.2px}}.home-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}.terms-container[_ngcontent-%COMP%]{max-width:900px;width:100%;margin:10px auto;padding:0 24px;font-family:Roboto Mono,monospace;font-size:16px;line-height:1.6;box-sizing:border-box}@media (max-width: 1024px){.terms-container[_ngcontent-%COMP%]{max-width:95%;padding:0 20px}}@media (max-width: 768px){.terms-container[_ngcontent-%COMP%]{max-width:100%;padding:0 16px;font-size:14px;line-height:1.5}}@media (max-width: 480px){.terms-container[_ngcontent-%COMP%]{padding:0 12px;font-size:13px;line-height:1.4}}.terms-container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{border:2px solid #3c1a7d;border-radius:8px;padding:24px;margin-bottom:32px;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word}@media (max-width: 768px){.terms-container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:20px;margin-bottom:24px;border-radius:6px}}@media (max-width: 480px){.terms-container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:16px;margin-bottom:20px;border-width:1px}}.terms-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px;color:#3c1a7d;font-size:clamp(1.2rem,3vw,1.5rem);line-height:1.3}@media (max-width: 768px){.terms-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px}}@media (max-width: 480px){.terms-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:8px}}.terms-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:16px;word-wrap:break-word;overflow-wrap:break-word}.terms-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{margin-bottom:0}@media (max-width: 768px){.terms-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px}}@media (max-width: 480px){.terms-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}}.terms-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:24px;margin-top:8px;margin-bottom:12px}@media (max-width: 768px){.terms-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px;margin-top:6px;margin-bottom:10px}}@media (max-width: 480px){.terms-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:16px;margin-top:4px;margin-bottom:8px}}.terms-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;line-height:1.5;word-wrap:break-word;overflow-wrap:break-word}@media (max-width: 768px){.terms-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:6px}}@media (max-width: 480px){.terms-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:4px;line-height:1.4}}.privacy-link[_ngcontent-%COMP%]{color:#000;text-decoration:none;font-weight:700;word-wrap:break-word;overflow-wrap:break-word;transition:all .3s ease}.privacy-link[_ngcontent-%COMP%]:hover{text-decoration:underline;color:#3c1a7d}.privacy-link[_ngcontent-%COMP%]:focus{outline:2px solid #3c1a7d;outline-offset:2px;border-radius:2px}.terms-container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{word-wrap:break-word;overflow-wrap:break-word}"]})};var ku=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=F({type:n,selectors:[["app-privacy"]],decls:103,vars:0,consts:[[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"privacy-container"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"h1",2),d(3,"Ai o \u021Beav\u0103 spart\u0103?"),a(),c(4,"h1",2),d(5,"\u021Ai s-a stricat chiuveta?"),a(),c(6,"h1"),d(7,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),c(8,"strong",3),d(9,"ExpertEase"),a(),d(10,"!"),a()(),c(11,"p"),d(12,"Peste "),c(13,"strong"),d(14,"100 de speciali\u0219ti"),a(),d(15," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),a()(),c(16,"div",4)(17,"section")(18,"h2"),d(19,"Politica de Confiden\u021Bialitate"),a(),c(20,"p"),d(21," Aceast\u0103 politic\u0103 explic\u0103 modul \xEEn care ExpertEase colecteaz\u0103, utilizeaz\u0103 \u0219i protejeaz\u0103 datele personale ale utilizatorilor platformei. Ne angaj\u0103m s\u0103 respect\u0103m confiden\u021Bialitatea \u0219i s\u0103 protej\u0103m toate informa\u021Biile personale furnizate. "),a()(),c(22,"section")(23,"h2"),d(24,"Tipuri de date colectate"),a(),c(25,"ul")(26,"li"),d(27,"Nume \u0219i prenume"),a(),c(28,"li"),d(29,"Adres\u0103 de email"),a(),c(30,"li"),d(31,"Num\u0103r de telefon (dac\u0103 este furnizat)"),a(),c(32,"li"),d(33,"Mesaje transmise prin formularele de contact"),a(),c(34,"li"),d(35,"Date pentru autentificare \xEEn cont"),a(),c(36,"li"),d(37,"Date de plat\u0103 (prin Stripe)"),a(),c(38,"li"),d(39,"Informa\u021Bii despre dispozitiv \u0219i IP (pentru securitate)"),a()()(),c(40,"section")(41,"h2"),d(42,"Scopul prelucr\u0103rii datelor"),a(),c(43,"ul")(44,"li"),d(45,"Crearea \u0219i administrarea contului de utilizator"),a(),c(46,"li"),d(47,"Procesarea solicit\u0103rilor \u0219i a pl\u0103\u021Bilor"),a(),c(48,"li"),d(49,"Comunicare \xEEntre utilizatori (client\u2013specialist)"),a(),c(50,"li"),d(51,"\xCEmbun\u0103t\u0103\u021Birea platformei \u0219i a experien\u021Bei de utilizare"),a(),c(52,"li"),d(53,"Respectarea obliga\u021Biilor legale"),a()()(),c(54,"section")(55,"h2"),d(56,"Temeiuri legale (GDPR)"),a(),c(57,"p"),d(58," Datele sunt colectate \xEEn baza consim\u021B\u0103m\xE2ntului dumneavoastr\u0103, a interesului legitim al platformei sau \xEEn scopul execut\u0103rii unui contract. "),a()(),c(59,"section")(60,"h2"),d(61,"Durata de stocare a datelor"),a(),c(62,"p"),d(63," Datele sunt p\u0103strate pe durata existen\u021Bei contului sau conform obliga\u021Biilor legale. Utilizatorii pot solicita \u0219tergerea acestora \xEEn orice moment. "),a()(),c(64,"section")(65,"h2"),d(66,"Partajarea datelor"),a(),c(67,"p"),d(68," Datele nu sunt v\xE2ndute c\u0103tre ter\u021Bi. Ele pot fi partajate doar cu furnizori de servicii esen\u021Biali (ex: Stripe pentru procesarea pl\u0103\u021Bilor). "),a()(),c(69,"section")(70,"h2"),d(71,"Drepturile utilizatorilor"),a(),c(72,"ul")(73,"li"),d(74,"Dreptul de acces la date"),a(),c(75,"li"),d(76,"Dreptul de rectificare sau \u0219tergere"),a(),c(77,"li"),d(78,"Dreptul de restric\u021Bionare a prelucr\u0103rii"),a(),c(79,"li"),d(80,"Dreptul de opozi\u021Bie"),a(),c(81,"li"),d(82,"Dreptul la portabilitatea datelor"),a(),c(83,"li"),d(84,"Dreptul de a depune pl\xE2ngere la ANSPDCP"),a()()(),c(85,"section")(86,"h2"),d(87,"Securitatea datelor"),a(),c(88,"p"),d(89," Implement\u0103m m\u0103suri tehnice \u0219i organizatorice pentru a proteja datele (criptare, acces limitat, autentificare securizat\u0103). "),a()(),c(90,"section")(91,"h2"),d(92,"Modific\u0103ri ale politicii"),a(),c(93,"p"),d(94," Politica poate fi actualizat\u0103. Modific\u0103rile vor fi publicate pe aceast\u0103 pagin\u0103 \u0219i vor intra \xEEn vigoare imediat. "),a()(),c(95,"section")(96,"h2"),d(97,"Contact"),a(),c(98,"p"),d(99," Pentru \xEEntreb\u0103ri legate de datele tale, ne po\u021Bi scrie la "),c(100,"strong"),d(101,"contact@expertease.ro"),a(),d(102,". "),a()()())},styles:[".home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px 16px;font-family:Roboto Mono,monospace}@media (max-width: 768px){.home-wrapper[_ngcontent-%COMP%]{padding:20px 12px}}@media (max-width: 480px){.home-wrapper[_ngcontent-%COMP%]{padding:16px 8px}}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;max-width:100%}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center;font-size:clamp(1.5rem,4vw,2.5rem);line-height:1.2;word-wrap:break-word;hyphens:auto}@media (max-width: 768px){.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.3rem 0;font-size:clamp(1.2rem,5vw,2rem)}}@media (max-width: 480px){.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.2rem 0;font-size:clamp(1rem,6vw,1.5rem)}}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}@media (max-width: 480px){.brand-highlight[_ngcontent-%COMP%]{letter-spacing:.2px}}.privacy-container[_ngcontent-%COMP%]{max-width:900px;width:100%;margin:10px auto;padding:0 24px;font-family:Roboto Mono,monospace;font-size:16px;line-height:1.6;box-sizing:border-box}@media (max-width: 1024px){.privacy-container[_ngcontent-%COMP%]{max-width:95%;padding:0 20px}}@media (max-width: 768px){.privacy-container[_ngcontent-%COMP%]{max-width:100%;padding:0 16px;font-size:14px;line-height:1.5}}@media (max-width: 480px){.privacy-container[_ngcontent-%COMP%]{padding:0 12px;font-size:13px;line-height:1.4}}.privacy-container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{border:2px solid #3c1a7d;border-radius:8px;padding:24px;margin-bottom:32px;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word}@media (max-width: 768px){.privacy-container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:20px;margin-bottom:24px;border-radius:6px}}@media (max-width: 480px){.privacy-container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:16px;margin-bottom:20px;border-width:1px}}.privacy-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px;color:#3c1a7d;font-size:clamp(1.2rem,3vw,1.5rem);line-height:1.3}@media (max-width: 768px){.privacy-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:10px}}@media (max-width: 480px){.privacy-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:8px}}.privacy-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:16px;word-wrap:break-word;overflow-wrap:break-word}@media (max-width: 768px){.privacy-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:12px}}@media (max-width: 480px){.privacy-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:10px}}.privacy-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:24px;margin-top:8px;margin-bottom:12px}@media (max-width: 768px){.privacy-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:20px;margin-top:6px;margin-bottom:10px}}@media (max-width: 480px){.privacy-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:16px;margin-top:4px;margin-bottom:8px}}.privacy-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px;line-height:1.5;word-wrap:break-word;overflow-wrap:break-word}@media (max-width: 768px){.privacy-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:6px}}@media (max-width: 480px){.privacy-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:4px;line-height:1.4}}.privacy-container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{word-wrap:break-word;overflow-wrap:break-word}"]})};var LN=["*"],ka=class{_ngZone;_pending=[];_listeners=[];_targetStream=new be(void 0);_clearListeners(){for(let e of this._listeners)e.remove();this._listeners=[]}constructor(e){this._ngZone=e}getLazyEmitter(e){return this._targetStream.pipe(St(t=>{let i=new me(r=>{if(!t){this._pending.push({observable:i,observer:r});return}let o=t.addListener(e,s=>{this._ngZone.run(()=>r.next(s))});if(!o){r.complete();return}return this._listeners.push(o),()=>o.remove()});return i}))}setTarget(e){let t=this._targetStream.value;e!==t&&(t&&(this._clearListeners(),this._pending=[]),this._targetStream.next(e),this._pending.forEach(i=>i.observable.subscribe(i.observer)),this._pending=[])}destroy(){this._clearListeners(),this._pending=[],this._targetStream.complete()}},Ta={center:{lat:37.421995,lng:-122.084092},zoom:17,mapTypeId:"roadmap"},gx="500px",mx="500px",Ru=(()=>{class n{_elementRef=N(mt);_ngZone=N(we);_eventManager=new ka(N(we));_mapEl;_existingAuthFailureCallback;googleMap;_isBrowser;height=gx;width=mx;mapId;mapTypeId;set center(t){this._center=t}_center;set zoom(t){this._zoom=t}_zoom;set options(t){this._options=t||Ta}_options=Ta;mapInitialized=new V;authFailure=new V;boundsChanged=this._eventManager.getLazyEmitter("bounds_changed");centerChanged=this._eventManager.getLazyEmitter("center_changed");mapClick=this._eventManager.getLazyEmitter("click");mapDblclick=this._eventManager.getLazyEmitter("dblclick");mapDrag=this._eventManager.getLazyEmitter("drag");mapDragend=this._eventManager.getLazyEmitter("dragend");mapDragstart=this._eventManager.getLazyEmitter("dragstart");headingChanged=this._eventManager.getLazyEmitter("heading_changed");idle=this._eventManager.getLazyEmitter("idle");maptypeidChanged=this._eventManager.getLazyEmitter("maptypeid_changed");mapMousemove=this._eventManager.getLazyEmitter("mousemove");mapMouseout=this._eventManager.getLazyEmitter("mouseout");mapMouseover=this._eventManager.getLazyEmitter("mouseover");projectionChanged=this._eventManager.getLazyEmitter("projection_changed");mapRightclick=this._eventManager.getLazyEmitter("rightclick");tilesloaded=this._eventManager.getLazyEmitter("tilesloaded");tiltChanged=this._eventManager.getLazyEmitter("tilt_changed");zoomChanged=this._eventManager.getLazyEmitter("zoom_changed");constructor(){let t=N(si);if(this._isBrowser=Zg(t),this._isBrowser){let i=window;i.google,this._existingAuthFailureCallback=i.gm_authFailure,i.gm_authFailure=()=>{this._existingAuthFailureCallback&&this._existingAuthFailureCallback(),this.authFailure.emit()}}}ngOnChanges(t){(t.height||t.width)&&this._setSize();let i=this.googleMap;i&&(t.options&&i.setOptions(this._combineOptions()),t.center&&this._center&&i.setCenter(this._center),t.zoom&&this._zoom!=null&&i.setZoom(this._zoom),t.mapTypeId&&this.mapTypeId&&i.setMapTypeId(this.mapTypeId))}ngOnInit(){this._isBrowser&&(this._mapEl=this._elementRef.nativeElement.querySelector(".map-container"),this._setSize(),google.maps.Map?this._initialize(google.maps.Map):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(t=>this._initialize(t.Map))}))}_initialize(t){this._ngZone.runOutsideAngular(()=>{this.googleMap=new t(this._mapEl,this._combineOptions()),this._eventManager.setTarget(this.googleMap),this.mapInitialized.emit(this.googleMap)})}ngOnDestroy(){if(this.mapInitialized.complete(),this._eventManager.destroy(),this._isBrowser){let t=window;t.gm_authFailure=this._existingAuthFailureCallback}}fitBounds(t,i){this._assertInitialized(),this.googleMap.fitBounds(t,i)}panBy(t,i){this._assertInitialized(),this.googleMap.panBy(t,i)}panTo(t){this._assertInitialized(),this.googleMap.panTo(t)}panToBounds(t,i){this._assertInitialized(),this.googleMap.panToBounds(t,i)}getBounds(){return this._assertInitialized(),this.googleMap.getBounds()||null}getCenter(){return this._assertInitialized(),this.googleMap.getCenter()}getClickableIcons(){return this._assertInitialized(),this.googleMap.getClickableIcons()}getHeading(){return this._assertInitialized(),this.googleMap.getHeading()}getMapTypeId(){return this._assertInitialized(),this.googleMap.getMapTypeId()}getProjection(){return this._assertInitialized(),this.googleMap.getProjection()||null}getStreetView(){return this._assertInitialized(),this.googleMap.getStreetView()}getTilt(){return this._assertInitialized(),this.googleMap.getTilt()}getZoom(){return this._assertInitialized(),this.googleMap.getZoom()}get controls(){return this._assertInitialized(),this.googleMap.controls}get data(){return this._assertInitialized(),this.googleMap.data}get mapTypes(){return this._assertInitialized(),this.googleMap.mapTypes}get overlayMapTypes(){return this._assertInitialized(),this.googleMap.overlayMapTypes}_resolveMap(){return this.googleMap?Promise.resolve(this.googleMap):this.mapInitialized.pipe(vt(1)).toPromise()}_setSize(){if(this._mapEl){let t=this._mapEl.style;t.height=this.height===null?"":hx(this.height)||gx,t.width=this.width===null?"":hx(this.width)||mx}}_combineOptions(){let t=this._options||{};return G(S({},t),{center:this._center||t.center||Ta.center,zoom:this._zoom??t.zoom??Ta.zoom,mapTypeId:this.mapTypeId||t.mapTypeId||Ta.mapTypeId,mapId:this.mapId||t.mapId})}_assertInitialized(){this.googleMap}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=F({type:n,selectors:[["google-map"]],inputs:{height:"height",width:"width",mapId:"mapId",mapTypeId:"mapTypeId",center:"center",zoom:"zoom",options:"options"},outputs:{mapInitialized:"mapInitialized",authFailure:"authFailure",boundsChanged:"boundsChanged",centerChanged:"centerChanged",mapClick:"mapClick",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",mapDragstart:"mapDragstart",headingChanged:"headingChanged",idle:"idle",maptypeidChanged:"maptypeidChanged",mapMousemove:"mapMousemove",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",projectionChanged:"projectionChanged",mapRightclick:"mapRightclick",tilesloaded:"tilesloaded",tiltChanged:"tiltChanged",zoomChanged:"zoomChanged"},exportAs:["googleMap"],features:[Je],ngContentSelectors:LN,decls:2,vars:0,consts:[[1,"map-container"]],template:function(i,r){i&1&&(X_(),P(0,"div",0),ey(1))},encapsulation:2,changeDetection:0})}return n})(),VN=/([A-Za-z%]+)$/;function hx(n){return n==null?"":VN.test(n)?n:`${n}px`}var vx=(()=>{class n{_googleMap=N(Ru);_elementRef=N(mt);_ngZone=N(we);_eventManager=new ka(N(we));_options=new be({});_position=new be(void 0);_destroy=new _e;infoWindow;set options(t){this._options.next(t||{})}set position(t){this._position.next(t)}closeclick=this._eventManager.getLazyEmitter("closeclick");contentChanged=this._eventManager.getLazyEmitter("content_changed");domready=this._eventManager.getLazyEmitter("domready");positionChanged=this._eventManager.getLazyEmitter("position_changed");zindexChanged=this._eventManager.getLazyEmitter("zindex_changed");infoWindowInitialized=new V;constructor(){}ngOnInit(){this._googleMap._isBrowser&&this._combineOptions().pipe(vt(1)).subscribe(t=>{google.maps.InfoWindow?this._initialize(google.maps.InfoWindow,t):this._ngZone.runOutsideAngular(()=>{google.maps.importLibrary("maps").then(i=>{this._initialize(i.InfoWindow,t)})})})}_initialize(t,i){this._ngZone.runOutsideAngular(()=>{this.infoWindow=new t(i),this._eventManager.setTarget(this.infoWindow),this.infoWindowInitialized.emit(this.infoWindow),this._watchForOptionsChanges(),this._watchForPositionChanges()})}ngOnDestroy(){this._eventManager.destroy(),this._destroy.next(),this._destroy.complete(),this.infoWindow&&this.close()}close(){this._assertInitialized(),this.infoWindow.close()}getContent(){return this._assertInitialized(),this.infoWindow.getContent()||null}getPosition(){return this._assertInitialized(),this.infoWindow.getPosition()||null}getZIndex(){return this._assertInitialized(),this.infoWindow.getZIndex()}openAdvancedMarkerElement(t,i){this.open({getAnchor:()=>t},void 0,i)}open(t,i,r){this._assertInitialized();let o=t?t.getAnchor():void 0;(this.infoWindow.get("anchor")!==o||!o)&&(this._elementRef.nativeElement.style.display=r?"none":"",r&&this.infoWindow.setContent(r),this.infoWindow.open({map:this._googleMap.googleMap,anchor:o,shouldFocus:i}))}_combineOptions(){return Br([this._options,this._position]).pipe(ee(([t,i])=>G(S({},t),{position:i||t.position,content:this._elementRef.nativeElement})))}_watchForOptionsChanges(){this._options.pipe(Ye(this._destroy)).subscribe(t=>{this._assertInitialized(),this.infoWindow.setOptions(t)})}_watchForPositionChanges(){this._position.pipe(Ye(this._destroy)).subscribe(t=>{t&&(this._assertInitialized(),this.infoWindow.setPosition(t))})}_assertInitialized(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ae({type:n,selectors:[["map-info-window"]],hostAttrs:[2,"display","none"],inputs:{options:"options",position:"position"},outputs:{closeclick:"closeclick",contentChanged:"contentChanged",domready:"domready",positionChanged:"positionChanged",zindexChanged:"zindexChanged",infoWindowInitialized:"infoWindowInitialized"},exportAs:["mapInfoWindow"]})}return n})();var zN=new W("MAP_MARKER"),UN={position:{lat:37.421995,lng:-122.084092}},_x=(()=>{class n{_googleMap=N(Ru);_ngZone=N(we);_eventManager=new ka(N(we));set title(t){this._title=t}_title;set position(t){this._position=t}_position;set label(t){this._label=t}_label;set clickable(t){this._clickable=t}_clickable;set options(t){this._options=t}_options;set icon(t){this._icon=t}_icon;set visible(t){this._visible=t}_visible;animationChanged=this._eventManager.getLazyEmitter("animation_changed");mapClick=this._eventManager.getLazyEmitter("click");clickableChanged=this._eventManager.getLazyEmitter("clickable_changed");cursorChanged=this._eventManager.getLazyEmitter("cursor_changed");mapDblclick=this._eventManager.getLazyEmitter("dblclick");mapDrag=this._eventManager.getLazyEmitter("drag");mapDragend=this._eventManager.getLazyEmitter("dragend");draggableChanged=this._eventManager.getLazyEmitter("draggable_changed");mapDragstart=this._eventManager.getLazyEmitter("dragstart");flatChanged=this._eventManager.getLazyEmitter("flat_changed");iconChanged=this._eventManager.getLazyEmitter("icon_changed");mapMousedown=this._eventManager.getLazyEmitter("mousedown");mapMouseout=this._eventManager.getLazyEmitter("mouseout");mapMouseover=this._eventManager.getLazyEmitter("mouseover");mapMouseup=this._eventManager.getLazyEmitter("mouseup");positionChanged=this._eventManager.getLazyEmitter("position_changed");mapRightclick=this._eventManager.getLazyEmitter("rightclick");shapeChanged=this._eventManager.getLazyEmitter("shape_changed");titleChanged=this._eventManager.getLazyEmitter("title_changed");visibleChanged=this._eventManager.getLazyEmitter("visible_changed");zindexChanged=this._eventManager.getLazyEmitter("zindex_changed");markerInitialized=new V;marker;constructor(){}ngOnInit(){this._googleMap._isBrowser&&(google.maps.Marker&&this._googleMap.googleMap?this._initialize(this._googleMap.googleMap,google.maps.Marker):this._ngZone.runOutsideAngular(()=>{Promise.all([this._googleMap._resolveMap(),google.maps.importLibrary("marker")]).then(([t,i])=>{this._initialize(t,i.Marker)})}))}_initialize(t,i){this._ngZone.runOutsideAngular(()=>{this.marker=new i(this._combineOptions()),this._assertInitialized(),this.marker.setMap(t),this._eventManager.setTarget(this.marker),this.markerInitialized.next(this.marker)})}ngOnChanges(t){let{marker:i,_title:r,_position:o,_label:s,_clickable:l,_icon:u,_visible:g}=this;i&&(t.options&&i.setOptions(this._combineOptions()),t.title&&r!==void 0&&i.setTitle(r),t.position&&o&&i.setPosition(o),t.label&&s!==void 0&&i.setLabel(s),t.clickable&&l!==void 0&&i.setClickable(l),t.icon&&u&&i.setIcon(u),t.visible&&g!==void 0&&i.setVisible(g))}ngOnDestroy(){this.markerInitialized.complete(),this._eventManager.destroy(),this.marker?.setMap(null)}getAnimation(){return this._assertInitialized(),this.marker.getAnimation()||null}getClickable(){return this._assertInitialized(),this.marker.getClickable()}getCursor(){return this._assertInitialized(),this.marker.getCursor()||null}getDraggable(){return this._assertInitialized(),!!this.marker.getDraggable()}getIcon(){return this._assertInitialized(),this.marker.getIcon()||null}getLabel(){return this._assertInitialized(),this.marker.getLabel()||null}getOpacity(){return this._assertInitialized(),this.marker.getOpacity()||null}getPosition(){return this._assertInitialized(),this.marker.getPosition()||null}getShape(){return this._assertInitialized(),this.marker.getShape()||null}getTitle(){return this._assertInitialized(),this.marker.getTitle()||null}getVisible(){return this._assertInitialized(),this.marker.getVisible()}getZIndex(){return this._assertInitialized(),this.marker.getZIndex()||null}getAnchor(){return this._assertInitialized(),this.marker}_resolveMarker(){return this.marker?Promise.resolve(this.marker):this.markerInitialized.pipe(vt(1)).toPromise()}_combineOptions(){let t=this._options||UN;return G(S({},t),{title:this._title||t.title,position:this._position||t.position,label:this._label||t.label,clickable:this._clickable??t.clickable,map:this._googleMap.googleMap,icon:this._icon||t.icon,visible:this._visible??t.visible})}_assertInitialized(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=ae({type:n,selectors:[["map-marker"]],inputs:{title:"title",position:"position",label:"label",clickable:"clickable",options:"options",icon:"icon",visible:"visible"},outputs:{animationChanged:"animationChanged",mapClick:"mapClick",clickableChanged:"clickableChanged",cursorChanged:"cursorChanged",mapDblclick:"mapDblclick",mapDrag:"mapDrag",mapDragend:"mapDragend",draggableChanged:"draggableChanged",mapDragstart:"mapDragstart",flatChanged:"flatChanged",iconChanged:"iconChanged",mapMousedown:"mapMousedown",mapMouseout:"mapMouseout",mapMouseover:"mapMouseover",mapMouseup:"mapMouseup",positionChanged:"positionChanged",mapRightclick:"mapRightclick",shapeChanged:"shapeChanged",titleChanged:"titleChanged",visibleChanged:"visibleChanged",zindexChanged:"zindexChanged",markerInitialized:"markerInitialized"},exportAs:["mapMarker"],features:[lt([{provide:zN,useExisting:n}]),Je]})}return n})();var jN=["infoWindow"],BN=n=>["/specialist",n];function $N(n,e){if(n&1&&(c(0,"div",16)(1,"span",17),d(2),a(),c(3,"span",18),d(4,"\xEEn raza de 10km"),a()()),n&2){let t=m(2);p(2),R(t.getNearbyCount())}}function HN(n,e){if(n&1&&(c(0,"div",16)(1,"span",17),d(2),a(),c(3,"span",18),d(4,"rating mediu"),a()()),n&2){let t=m(2);p(2),I("",t.averageRating,"\u2605")}}function qN(n,e){n&1&&(c(0,"div",16)(1,"span",20),d(2,"BASIC"),a()())}function WN(n,e){if(n&1&&(c(0,"div",15)(1,"div",16)(2,"span",17),d(3),a(),c(4,"span",18),d(5,"speciali\u0219ti g\u0103si\u021Bi"),a()(),_(6,$N,5,1,"div",19)(7,HN,5,1,"div",19)(8,qN,3,0,"div",19),a()),n&2){let t=m();p(3),R(t.specialistMarkers.length),p(3),f("ngIf",t.userLocation),p(),f("ngIf",t.averageRating>0),p(),f("ngIf",t.shouldShowBasicTag())}}function GN(n,e){n&1&&(c(0,"div",21)(1,"div",22)(2,"div",23),P(3,"div",24)(4,"div",25),a(),c(5,"h3"),d(6,"Se ob\u021Bine loca\u021Bia ta"),a(),c(7,"p"),d(8,"Te rug\u0103m s\u0103 acorzi permisiunea pentru loca\u021Bie"),a()()())}function ZN(n,e){if(n&1){let t=D();c(0,"div",26)(1,"div",27),P(2,"div",28),c(3,"h3"),d(4,"Nu s-a putut ob\u021Bine loca\u021Bia"),a(),c(5,"p"),d(6),a(),c(7,"div",29)(8,"button",30),v("click",function(){y(t);let r=m();return b(r.useDefaultLocation())}),d(9," Folose\u0219te Bucure\u0219ti "),a(),c(10,"button",31),v("click",function(){y(t);let r=m();return b(r.getCurrentLocation())}),d(11," \xCEncearc\u0103 din nou "),a()()()()}if(n&2){let t=m();p(6),R(t.locationError)}}function YN(n,e){if(n&1&&P(0,"map-marker",36),n&2){let t=m(2);f("position",t.userLocation)("options",t.userMarkerOptions)("title","Tu e\u0219ti aici")}}function QN(n,e){if(n&1){let t=D();c(0,"map-marker",37),v("mapClick",function(){let r=y(t).$implicit,o=m(2);return b(o.onMarkerClick(r))})("mapMarkerClick",function(){let r=y(t).$implicit,o=m(2);return b(o.onMarkerClick(r))}),a()}if(n&2){let t=e.$implicit,i=m(2);f("position",t.position)("title",t.title)("options",i.getMarkerOptions(t))}}function KN(n,e){if(n&1&&(c(0,"div",49),P(1,"span",50),c(2,"span",51),d(3),a()()),n&2){let t=m(3);p(3),I("",t.selectedMarker.info==null?null:t.selectedMarker.info.distance,"km dep\u0103rtare")}}function JN(n,e){if(n&1){let t=D();c(0,"map-info-window",38,0)(2,"div",39)(3,"div",40),P(4,"img",41),c(5,"div",42)(6,"h3"),d(7),a(),c(8,"div",43),P(9,"div",44),c(10,"span",45),d(11),a()()()(),c(12,"div",46)(13,"p",47),d(14),a(),c(15,"div",48)(16,"div",49),P(17,"span",50),c(18,"span",51),d(19),a()(),_(20,KN,4,1,"div",52),a()(),c(21,"div",53)(22,"button",54),d(23," Vezi profilul "),a(),c(24,"button",55),v("click",function(){y(t);let r=m(2);return b(r.closeInfoWindow())}),d(25," \xCEnchide "),a()()()()}if(n&2){let t=m(2);f("position",t.selectedMarker.position)("options",t.infoWindowOptions),p(4),f("src",t.getAvatarUrl(t.selectedMarker.specialist),ye)("alt",t.selectedMarker.info==null?null:t.selectedMarker.info.name),p(3),R(t.selectedMarker.info==null?null:t.selectedMarker.info.name),p(2),Og("--rating-width",((t.selectedMarker.info==null?null:t.selectedMarker.info.rating)||0)*20+"%"),p(2),I("(",(t.selectedMarker.info==null?null:t.selectedMarker.info.rating)||0,")"),p(3),R(t.selectedMarker.info==null?null:t.selectedMarker.info.description),p(5),R(t.selectedMarker.info==null?null:t.selectedMarker.info.address),p(),f("ngIf",t.selectedMarker.info==null?null:t.selectedMarker.info.distance),p(2),f("routerLink",ui(12,BN,t.selectedMarker.specialist.id))}}function XN(n,e){if(n&1&&(c(0,"google-map",32),_(1,YN,1,3,"map-marker",33)(2,QN,1,3,"map-marker",34)(3,JN,26,14,"map-info-window",35),a()),n&2){let t=m();f("center",t.mapCenter)("zoom",t.mapZoom)("options",t.mapOptions)("height","100vh")("width","100vw"),p(),f("ngIf",t.userLocation),p(),f("ngForOf",t.specialistMarkers)("ngForTrackBy",t.trackBySpecialist),p(),f("ngIf",t.selectedMarker)}}function eF(n,e){n&1&&(c(0,"span",58),d(1,"\u21BB"),a())}function tF(n,e){n&1&&P(0,"div",64)}function nF(n,e){if(n&1){let t=D();c(0,"div",56)(1,"button",57),v("click",function(){y(t);let r=m();return b(r.centerOnUser())}),c(2,"span",58),d(3,"\u2022"),a(),c(4,"span",59),d(5,"Loca\u021Bia mea"),a()(),c(6,"button",60),v("click",function(){y(t);let r=m();return b(r.loadSpecialists())}),_(7,eF,2,0,"span",61)(8,tF,1,0,"div",62),c(9,"span",59),d(10),a()(),c(11,"button",63),v("click",function(){y(t);let r=m();return b(r.toggleSatelliteView())}),c(12,"span",58),d(13,"\u229E"),a(),c(14,"span",59),d(15),a()()()}if(n&2){let t=m();p(),fe("disabled",!t.userLocation),f("disabled",!t.userLocation),p(5),fe("loading",t.isLoadingSpecialists),f("disabled",t.isLoadingSpecialists),p(),f("ngIf",!t.isLoadingSpecialists),p(),f("ngIf",t.isLoadingSpecialists),p(2),R(t.isLoadingSpecialists?"Se \xEEncarc\u0103...":"Re\xEEncarc\u0103"),p(5),R(t.mapTypeId==="satellite"?"Hart\u0103":"Satelit")}}function iF(n,e){if(n&1&&(c(0,"p",70),d(1),a()),n&2){let t=m().$implicit;p(),I(" ",t.info==null?null:t.info.distance,"km ")}}function rF(n,e){if(n&1){let t=D();c(0,"div",65),v("click",function(){let r=y(t).$implicit,o=m();return b(o.selectSpecialistFromList(r))}),P(1,"img",66),c(2,"div",67)(3,"h4"),d(4),a(),c(5,"div",68),d(6),a(),_(7,iF,2,1,"p",69),a()()}if(n&2){let t=e.$implicit,i=m();fe("selected",i.selectedMarker===t),p(),f("src",i.getAvatarUrl(t.specialist),ye)("alt",t.specialist.fullName),p(3),R(t.specialist.fullName),p(2),R(i.getStarsText((t.info==null?null:t.info.rating)||0)),p(),f("ngIf",t.info==null?null:t.info.distance)}}var Au=class n{constructor(e,t,i){this.geolocationService=e;this.geocodingService=t;this.specialistService=i}destroy$=new _e;infoWindow;mapCenter={lat:44.4268,lng:26.1025};mapZoom=13;mapTypeId="roadmap";mapOptions={mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0,gestureHandling:"greedy",styles:this.getSimpleMapStyle()};infoWindowOptions={disableAutoPan:!1,maxWidth:350,pixelOffset:new google.maps.Size(0,-10)};userLocation=null;isLoadingLocation=!1;locationError=null;specialists=[];specialistMarkers=[];isLoadingSpecialists=!1;selectedMarker=null;sidePanelOpen=!1;averageRating=0;isAuthenticated=!1;userMarkerOptions={icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
      <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48">
        <circle cx="24" cy="24" r="20" fill="#3c1a7d" stroke="white" stroke-width="3"/>
        <circle cx="24" cy="24" r="8" fill="white"/>
        <circle cx="24" cy="24" r="4" fill="#3c1a7d"/>
      </svg>
    `),scaledSize:new google.maps.Size(48,48),anchor:new google.maps.Point(24,24)},zIndex:1e3};ngOnInit(){this.getCurrentLocation()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getSimpleMapStyle(){return[{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.park",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"road.local",elementType:"labels.icon",stylers:[{visibility:"off"}]}]}getMarkerOptions(e){if(!e||!e.specialist)return this.getDefaultMarkerOptions();let t=e.specialist.profilePictureUrl;return t&&t!=="src/assets/avatar.svg"&&t.startsWith("http")?{icon:{url:t,scaledSize:new google.maps.Size(40,40),anchor:new google.maps.Point(20,20)},optimized:!1,zIndex:100,title:e.title||e.specialist.fullName||"Specialist"}:this.getColorCodedMarkerOptions(e)}getColorCodedMarkerOptions(e){let t=e.info?.rating||0,i="#9a83db";return t>=4.5?i="#3c1a7d":t>=4?i="#b7a4dd":t>=3&&(i="#cfbdfe"),{icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
          <circle cx="16" cy="16" r="14" fill="${i}" stroke="white" stroke-width="2"/>
          <circle cx="16" cy="12" r="4" fill="white"/>
          <path d="M8 24 Q8 20 16 20 Q24 20 24 24" fill="white"/>
        </svg>
      `),scaledSize:new google.maps.Size(32,32),anchor:new google.maps.Point(16,16)},zIndex:50,title:e.title||e.specialist?.fullName||"Specialist"}}getDefaultMarkerOptions(){return{icon:{url:"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(`
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">
          <circle cx="16" cy="16" r="14" fill="#9a83db" stroke="white" stroke-width="2"/>
          <text x="16" y="20" text-anchor="middle" fill="white" font-size="16" font-weight="bold">?</text>
        </svg>
      `),scaledSize:new google.maps.Size(32,32),anchor:new google.maps.Point(16,16)},zIndex:10}}getCurrentLocation(){if(this.isLoadingLocation=!0,this.locationError=null,!navigator.geolocation){this.isLoadingLocation=!1,this.locationError="Geoloca\u021Bia nu este suportat\u0103 de acest browser.",this.useDefaultLocation();return}let e=setTimeout(()=>{this.isLoadingLocation=!1,this.locationError="Timpul pentru ob\u021Binerea loca\u021Biei a expirat.",this.useDefaultLocation()},1e4);this.geolocationService.getCurrentPosition().pipe(Ye(this.destroy$)).subscribe({next:t=>{clearTimeout(e),this.isValidPosition({lat:t.coords.latitude,lng:t.coords.longitude})?(this.userLocation={lat:t.coords.latitude,lng:t.coords.longitude},this.mapCenter=this.userLocation,this.isLoadingLocation=!1,this.locationError=null,this.loadSpecialists()):(this.isLoadingLocation=!1,this.handleLocationError({code:2,message:"Invalid coordinates received"}),this.useDefaultLocation())},error:t=>{clearTimeout(e),this.isLoadingLocation=!1,this.handleLocationError(t),this.useDefaultLocation()}})}handleLocationError(e){switch(e.code){case 1:this.locationError="Accesul la loca\u021Bie a fost refuzat. Te rug\u0103m s\u0103 acorzi permisiunea.";break;case 2:this.locationError="Loca\u021Bia nu poate fi determinat\u0103.";break;case 3:this.locationError="Timpul pentru ob\u021Binerea loca\u021Biei a expirat.";break;default:this.locationError="Nu s-a putut ob\u021Bine loca\u021Bia curent\u0103."}}useDefaultLocation(){this.mapCenter={lat:44.4268,lng:26.1025},this.locationError=null,this.loadSpecialists()}loadSpecialists(){this.isLoadingSpecialists=!0,this.specialistMarkers=[],this.selectedMarker=null,this.specialistService.getSpecialistsLegacy("",1,100).pipe(Ye(this.destroy$)).subscribe({next:e=>{this.specialists=e.response?.data||[],this.createSpecialistMarkers(),this.calculateAverageRating(),this.isLoadingSpecialists=!1},error:e=>{console.error("Error loading specialists:",e),this.specialists=[],this.specialistMarkers=[],this.isLoadingSpecialists=!1}})}createSpecialistMarkers(){return O(this,null,function*(){this.specialistMarkers=[];let e=5,t=[];for(let i=0;i<this.specialists.length;i+=e)t.push(this.specialists.slice(i,i+e));for(let i of t)yield Promise.all(i.map(r=>O(this,null,function*(){if(r.address&&r.address.trim())try{yield new Promise(s=>setTimeout(s,100));let o=yield this.geocodingService.geocodeAddress(r.address);if(o&&this.isValidPosition(o)){let s=this.userLocation?this.geolocationService.calculateDistance(this.userLocation.lat,this.userLocation.lng,o.lat,o.lng):void 0,l={position:o,title:r.fullName||"Specialist",specialist:r,info:{name:r.fullName||"Specialist",description:r.description||"Specialist pe platforma ExpertEase",rating:r.rating||0,address:r.address,distance:s?Math.round(s*100)/100:void 0}};this.specialistMarkers=[...this.specialistMarkers,l]}}catch(o){console.warn(`Failed to geocode address for ${r.fullName}: ${r.address}`,o)}})));this.userLocation&&this.specialistMarkers.length>0&&this.specialistMarkers.sort((i,r)=>(i.info?.distance||999)-(r.info?.distance||999)),console.log(`Successfully created ${this.specialistMarkers.length} markers from ${this.specialists.length} specialists`)})}isValidPosition(e){return e.lat>=-90&&e.lat<=90&&e.lng>=-180&&e.lng<=180&&!isNaN(e.lat)&&!isNaN(e.lng)}calculateAverageRating(){if(this.specialists.length>0){let e=this.specialists.reduce((t,i)=>t+(i.rating||0),0);this.averageRating=Math.round(e/this.specialists.length*10)/10}}onMarkerClick(e){e&&e.position&&e.specialist&&(this.selectedMarker=e,this.isValidPosition(e.position)&&(this.mapCenter=S({},e.position),this.mapZoom=Math.max(15,this.mapZoom)))}closeInfoWindow(){this.selectedMarker=null,this.infoWindow&&this.infoWindow.close()}openInfoWindow(e){this.selectedMarker=e,this.infoWindow&&this.infoWindow.open()}getInfoWindowInstance(){return this.infoWindow?.infoWindow}customizeInfoWindow(){let e=this.getInfoWindowInstance();e&&e.setOptions({maxWidth:400,pixelOffset:new google.maps.Size(0,-15)})}centerOnUser(){this.userLocation&&this.isValidPosition(this.userLocation)&&(this.mapCenter=S({},this.userLocation),this.mapZoom=15)}toggleSatelliteView(){this.mapTypeId=this.mapTypeId==="satellite"?"roadmap":"satellite",this.mapOptions=G(S({},this.mapOptions),{mapTypeId:this.mapTypeId})}toggleSidePanel(){this.sidePanelOpen=!this.sidePanelOpen}selectSpecialistFromList(e){this.onMarkerClick(e),this.sidePanelOpen=!1}getSortedSpecialists(){return[...this.specialistMarkers].sort((e,t)=>(e.info?.distance||999)-(t.info?.distance||999))}getNearbyCount(){return this.specialistMarkers.filter(e=>(e.info?.distance||999)<=10).length}getCategoriesText(e){return e.slice(0,2).join(", ")+(e.length>2?"...":"")}getStars(e){let t=Math.floor(e),i=e%1>=.5,r="\u2605".repeat(t);i&&(r+="\u2606");let o=5-Math.ceil(e);return r+="\u2606".repeat(o),r||"\u2606\u2606\u2606\u2606\u2606"}getStarsText(e){return`${e}/5 \u2605`}trackBySpecialist(e,t){return t.specialist.id}getAvatarUrl(e){return e.profilePictureUrl||"src/assets/avatar.svg"}shouldShowBasicTag(){return!this.isAuthenticated}static \u0275fac=function(t){return new(t||n)(w(Uo),w(zo),w(ji))};static \u0275cmp=F({type:n,selectors:[["app-specialist-map"]],viewQuery:function(t,i){if(t&1&&mo(jN,5),t&2){let r;li(r=di())&&(i.infoWindow=r.first)}},decls:18,vars:9,consts:[["infoWindow",""],[1,"map-container"],[1,"map-header"],[1,"header-content"],["routerLink","/home",1,"back-button"],["class","stats-bar",4,"ngIf"],["class","loading-overlay",4,"ngIf"],["class","error-overlay",4,"ngIf"],[3,"center","zoom","options","height","width",4,"ngIf"],["class","floating-controls",4,"ngIf"],[1,"side-panel"],[1,"panel-header"],[1,"panel-toggle",3,"click"],[1,"specialists-list"],["class","specialist-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"stats-bar"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label"],["class","stat-item",4,"ngIf"],[1,"basic-tag"],[1,"loading-overlay"],[1,"loading-card"],[1,"loading-animation"],[1,"pulse-ring"],[1,"location-icon"],[1,"error-overlay"],[1,"error-card"],[1,"error-icon"],[1,"error-actions"],[1,"btn-primary",3,"click"],[1,"btn-secondary",3,"click"],[3,"center","zoom","options","height","width"],[3,"position","options","title",4,"ngIf"],[3,"position","title","options","mapClick","mapMarkerClick",4,"ngFor","ngForOf","ngForTrackBy"],[3,"position","options",4,"ngIf"],[3,"position","options","title"],[3,"mapClick","mapMarkerClick","position","title","options"],[3,"position","options"],[1,"beautiful-info-window"],[1,"info-header"],[1,"specialist-avatar",3,"src","alt"],[1,"info-title"],[1,"rating-container"],[1,"stars"],[1,"rating-text"],[1,"info-content"],[1,"description"],[1,"info-details"],[1,"detail-item"],[1,"detail-icon"],[1,"detail-text"],["class","detail-item",4,"ngIf"],[1,"info-actions"],[1,"action-btn","primary",3,"routerLink"],[1,"action-btn","secondary",3,"click"],[1,"floating-controls"],["title","Centreaz\u0103 pe loca\u021Bia ta",1,"fab",3,"click","disabled"],[1,"fab-icon"],[1,"fab-label"],["title","Re\xEEncarc\u0103 speciali\u0219tii",1,"fab",3,"click","disabled"],["class","fab-icon",4,"ngIf"],["class","fab-spinner",4,"ngIf"],["title","Comut\u0103 vedere satelit",1,"fab",3,"click"],[1,"fab-spinner"],[1,"specialist-item",3,"click"],[1,"specialist-thumb",3,"src","alt"],[1,"specialist-info"],[1,"specialist-rating"],["class","specialist-distance",4,"ngIf"],[1,"specialist-distance"]],template:function(t,i){t&1&&(c(0,"div",1)(1,"div",2)(2,"div",3)(3,"button",4),d(4," \u2190 \xCEnapoi "),a()()(),_(5,WN,9,4,"div",5)(6,GN,9,0,"div",6)(7,ZN,12,1,"div",7)(8,XN,4,9,"google-map",8)(9,nF,16,10,"div",9),c(10,"div",10)(11,"div",11)(12,"h3"),d(13,"Speciali\u0219ti aproape de tine"),a(),c(14,"button",12),v("click",function(){return i.toggleSidePanel()}),d(15),a()(),c(16,"div",13),_(17,rF,8,7,"div",14),a()()()),t&2&&(p(5),f("ngIf",!i.isLoadingLocation&&!i.locationError),p(),f("ngIf",i.isLoadingLocation),p(),f("ngIf",i.locationError),p(),f("ngIf",!i.isLoadingLocation&&i.mapOptions),p(),f("ngIf",!i.isLoadingLocation),p(),fe("open",i.sidePanelOpen),p(5),I(" ",i.sidePanelOpen?"\u2190":"\u2192"," "),p(2),f("ngForOf",i.getSortedSpecialists()))},dependencies:[q,Ru,ce,vx,Ct,_x],styles:['@charset "UTF-8";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}.map-container[_ngcontent-%COMP%]{height:100vh;width:100vw;display:flex;flex-direction:column;font-family:Roboto Mono,monospace;position:relative;margin:0;padding:0;overflow:hidden;background-color:#f6efff}.map-header[_ngcontent-%COMP%]{background:#f6efff;color:#333;padding:0;box-shadow:0 2px 8px #9a83db33;position:relative;flex:0 0 auto;height:60px;min-height:60px;border-bottom:2px solid #b7a4dd}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;padding:16px 32px;position:relative;height:100%}.back-button[_ngcontent-%COMP%]{background-color:#cfbdfe;border:2px solid #9a83db;color:#333;padding:8px 16px;cursor:pointer;font-family:Roboto Mono,monospace;font-weight:700;font-size:1.1rem;transition:all .3s ease;text-decoration:none;display:flex;align-items:center;justify-content:center}.back-button[_ngcontent-%COMP%]:hover{background-color:#9a83db;color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #9a83db4d}.back-button[_ngcontent-%COMP%]:active{transform:translateY(0)}.stats-bar[_ngcontent-%COMP%]{background:#e6dfff;padding:16px 32px;display:flex;justify-content:flex-start;gap:40px;border-bottom:2px solid #b7a4dd;flex:0 0 auto;height:60px;min-height:60px;align-items:center}.stat-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.stat-item[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#3c1a7d}.stat-item[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500}.stat-item[_ngcontent-%COMP%]   .basic-tag[_ngcontent-%COMP%]{background:#cfbdfe;color:#3c1a7d;padding:4px 12px;font-size:.8rem;font-weight:700;letter-spacing:.5px;border:2px solid #9a83db}.map[_ngcontent-%COMP%]{flex:1 1 auto;width:100%;height:calc(100vh - 120px);min-height:calc(100vh - 120px);position:relative}.map[_ngcontent-%COMP%]     google-map{height:100%!important;width:100%!important;display:block!important}.map[_ngcontent-%COMP%]     .gm-style{height:100%!important;width:100%!important}.map[_ngcontent-%COMP%]     .gm-style>div:first-child{height:100%!important;width:100%!important}.floating-controls[_ngcontent-%COMP%]{position:absolute;bottom:30px;right:30px;display:flex;flex-direction:column;gap:12px;z-index:1000}.fab[_ngcontent-%COMP%]{background-color:#cfbdfe;border:2px solid #9a83db;color:#333;padding:12px 18px;cursor:pointer;font-family:Roboto Mono,monospace;font-weight:700;font-size:.9rem;transition:all .3s ease;box-shadow:0 4px 12px #9a83db33;display:flex;align-items:center;gap:10px;min-width:140px;justify-content:flex-start}.fab[_ngcontent-%COMP%]   .fab-icon[_ngcontent-%COMP%]{font-size:1rem;flex-shrink:0;width:20px;height:20px;background-color:#9a83db;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:.8rem}.fab[_ngcontent-%COMP%]   .fab-label[_ngcontent-%COMP%]{white-space:nowrap}.fab[_ngcontent-%COMP%]:hover:not(.disabled):not(.loading){background-color:#9a83db;color:#fff;transform:translateY(-2px);box-shadow:0 6px 16px #9a83db4d}.fab[_ngcontent-%COMP%]:hover:not(.disabled):not(.loading)   .fab-icon[_ngcontent-%COMP%]{background-color:#fff;color:#9a83db}.fab[_ngcontent-%COMP%]:active:not(.disabled):not(.loading){transform:translateY(0)}.fab.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed;background-color:#f0f0f0;color:#999;border-color:#ccc}.fab.loading[_ngcontent-%COMP%]{pointer-events:none}.fab.loading[_ngcontent-%COMP%]   .fab-spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid #b7a4dd;border-top:2px solid #9a83db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-overlay[_ngcontent-%COMP%], .error-overlay[_ngcontent-%COMP%]{position:absolute;inset:120px 0 0;background:#f6effff2;display:flex;align-items:center;justify-content:center;z-index:1000}.loading-card[_ngcontent-%COMP%], .error-card[_ngcontent-%COMP%]{text-align:center;padding:2rem;background:#f6efff;border:2px solid #b7a4dd;box-shadow:0 4px 20px #9a83db33;max-width:350px;font-family:Roboto Mono,monospace}.loading-animation[_ngcontent-%COMP%]{position:relative;margin:0 auto 1.5rem;width:60px;height:60px}.pulse-ring[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:60px;height:60px;border:3px solid #9a83db;border-radius:50%;animation:_ngcontent-%COMP%_pulse 2s infinite}.location-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:20px;height:20px;background-color:#9a83db;border-radius:50%}@keyframes _ngcontent-%COMP%_pulse{0%{transform:translate(-50%,-50%) scale(.8);opacity:1}to{transform:translate(-50%,-50%) scale(2);opacity:0}}.error-card[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#dc3545;border-radius:50%;margin:0 auto 1rem;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700}.error-card[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]:before{content:"!";font-size:1.5rem}.error-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#dc3545;margin-bottom:1rem;font-size:1.1rem;font-weight:700}.error-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;margin-bottom:1.5rem}.error-actions[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:center}.btn-primary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]{padding:10px 20px;border:2px solid;cursor:pointer;font-family:Roboto Mono,monospace;font-weight:700;transition:all .3s ease;font-size:.9rem}.btn-primary[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;border-color:#9a83db}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#9a83db;color:#fff}.btn-secondary[_ngcontent-%COMP%]{background-color:#f6efff;color:#666;border-color:#b7a4dd}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#b7a4dd;color:#fff}.side-panel[_ngcontent-%COMP%]{position:absolute;top:120px;left:-320px;width:320px;height:calc(100vh - 120px);background:#f6efff;transition:left .3s ease;box-shadow:2px 0 10px #9a83db33;z-index:900;border-right:2px solid #b7a4dd}.side-panel.open[_ngcontent-%COMP%]{left:0}.panel-header[_ngcontent-%COMP%]{padding:20px;border-bottom:2px solid #b7a4dd;display:flex;justify-content:space-between;align-items:center;background:#e6dfff}.panel-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:700;color:#3c1a7d;font-family:Roboto Mono,monospace}.panel-toggle[_ngcontent-%COMP%]{background-color:#cfbdfe;border:2px solid #9a83db;color:#333;width:32px;height:32px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-weight:700;transition:all .3s ease;font-size:1rem;font-family:Roboto Mono,monospace}.panel-toggle[_ngcontent-%COMP%]:hover{background-color:#9a83db;color:#fff}.specialists-list[_ngcontent-%COMP%]{height:calc(100% - 80px);overflow-y:auto;padding:12px}.specialist-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;padding:15px;cursor:pointer;transition:all .3s ease;margin-bottom:6px;border:2px solid transparent}.specialist-item[_ngcontent-%COMP%]:hover{background-color:#e6dfff;border-color:#b7a4dd}.specialist-item.selected[_ngcontent-%COMP%]{background-color:#cfbdfe;border-color:#9a83db}.specialist-thumb[_ngcontent-%COMP%]{width:45px;height:45px;border-radius:50%;object-fit:cover;border:2px solid #b7a4dd}.specialist-info[_ngcontent-%COMP%]{flex:1}.specialist-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 6px;font-size:1rem;font-weight:700;color:#3c1a7d;font-family:Roboto Mono,monospace}.specialist-info[_ngcontent-%COMP%]   .specialist-rating[_ngcontent-%COMP%]{font-size:.9rem;margin-bottom:4px;color:#666;font-weight:500}.specialist-info[_ngcontent-%COMP%]   .specialist-distance[_ngcontent-%COMP%]{margin:0;font-size:.8rem;color:#888;font-weight:400}.beautiful-info-window[_ngcontent-%COMP%]{padding:0;overflow:hidden;min-width:280px;max-width:320px;font-family:Roboto Mono,monospace;border:2px solid #b7a4dd}.info-header[_ngcontent-%COMP%]{display:flex;gap:15px;padding:20px;background:#e6dfff;border-bottom:2px solid #b7a4dd}.specialist-avatar[_ngcontent-%COMP%]{width:55px;height:55px;border-radius:50%;object-fit:cover;border:2px solid #b7a4dd}.info-title[_ngcontent-%COMP%]{flex:1}.info-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 8px;font-size:1.1rem;font-weight:700;color:#3c1a7d}.rating-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.stars[_ngcontent-%COMP%]{font-size:1rem;color:#9a83db;font-weight:700}.stars[_ngcontent-%COMP%]:before{content:"\\2605\\2605\\2605\\2605\\2605";background:linear-gradient(90deg,#9a83db var(--rating-width),#ddd var(--rating-width));background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.rating-text[_ngcontent-%COMP%]{font-size:.9rem;color:#666;font-weight:500}.info-content[_ngcontent-%COMP%]{padding:20px;background:#f6efff}.description[_ngcontent-%COMP%]{margin:0 0 20px;font-size:.9rem;color:#555;line-height:1.5}.info-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.detail-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:.9rem;color:#666}.detail-item[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]{width:20px;height:20px;background-color:#9a83db;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:.7rem;font-weight:700;flex-shrink:0}.detail-item[_ngcontent-%COMP%]   .detail-icon[_ngcontent-%COMP%]:before{content:"\\2022"}.detail-item[_ngcontent-%COMP%]   .detail-text[_ngcontent-%COMP%]{flex:1;font-weight:500}.info-actions[_ngcontent-%COMP%]{display:flex;gap:10px;padding:15px 20px;background:#e6dfff;border-top:2px solid #b7a4dd}.action-btn[_ngcontent-%COMP%]{flex:1;padding:10px 15px;border:2px solid;cursor:pointer;font-family:Roboto Mono,monospace;font-weight:700;font-size:.9rem;transition:all .3s ease}.action-btn.primary[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;border-color:#9a83db}.action-btn.primary[_ngcontent-%COMP%]:hover{background-color:#9a83db;color:#fff}.action-btn.secondary[_ngcontent-%COMP%]{background-color:#f6efff;color:#666;border-color:#b7a4dd}.action-btn.secondary[_ngcontent-%COMP%]:hover{background-color:#b7a4dd;color:#fff}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{padding:12px 20px}.stats-bar[_ngcontent-%COMP%]{padding:12px 20px;gap:24px;height:55px;min-height:55px}.map[_ngcontent-%COMP%]{height:calc(100vh - 115px);min-height:calc(100vh - 115px)}.floating-controls[_ngcontent-%COMP%]{bottom:20px;right:20px}.side-panel[_ngcontent-%COMP%]{width:300px;left:-300px;top:115px;height:calc(100vh - 115px)}.loading-overlay[_ngcontent-%COMP%], .error-overlay[_ngcontent-%COMP%]{top:115px}}']})};function oF(n,e){n&1&&(c(0,"div",12)(1,"div",13),d(2,"\u23F3"),a(),c(3,"div",14)(4,"h3"),d(5,"Se \xEEncarc\u0103..."),a(),c(6,"p"),d(7,"Verific\u0103m statusul contului t\u0103u Stripe"),a()()())}function sF(n,e){if(n&1){let t=D();c(0,"div",15)(1,"div",13),d(2,"\u274C"),a(),c(3,"div",14)(4,"h3"),d(5,"Eroare"),a(),c(6,"p"),d(7),a(),c(8,"button",16),v("click",function(){y(t);let r=m();return b(r.loadUserStripeAccount())}),d(9,"\xCEncearc\u0103 din nou"),a()()()}if(n&2){let t=m();p(7),R(t.errorMessage)}}function aF(n,e){if(n&1&&(c(0,"div",23)(1,"div",24)(2,"span",25),d(3,"ID Cont Stripe:"),a(),c(4,"span",26),d(5),a()(),c(6,"div",24)(7,"span",25),d(8,"Status:"),a(),c(9,"span",27),d(10),a()()()),n&2){let t=m(2);p(5),R(t.stripeAccountId),p(4),f("ngClass",t.accountComplete?"status-complete":"status-incomplete"),p(),I(" ",t.accountComplete?"Complet":"Incomplet"," ")}}function cF(n,e){n&1&&(c(0,"span"),d(1,"Completeaz\u0103 configurarea"),a())}function lF(n,e){n&1&&(c(0,"span"),d(1,"Se genereaz\u0103 link-ul..."),a())}function dF(n,e){if(n&1){let t=D();c(0,"button",28),v("click",function(){y(t);let r=m(2);return b(r.activateStripeAccount())}),_(1,cF,2,0,"span",29)(2,lF,2,0,"span",29),a()}if(n&2){let t=m(2);f("disabled",t.isGeneratingLink),p(),f("ngIf",!t.isGeneratingLink),p(),f("ngIf",t.isGeneratingLink)}}function uF(n,e){n&1&&(c(0,"span"),d(1,"Acceseaz\u0103 Dashboard-ul"),a())}function pF(n,e){n&1&&(c(0,"span"),d(1,"Se genereaz\u0103 link-ul..."),a())}function fF(n,e){if(n&1){let t=D();c(0,"button",30),v("click",function(){y(t);let r=m(2);return b(r.openDashboard())}),_(1,uF,2,0,"span",29)(2,pF,2,0,"span",29),a()}if(n&2){let t=m(2);f("disabled",t.isGeneratingLink),p(),f("ngIf",!t.isGeneratingLink),p(),f("ngIf",t.isGeneratingLink)}}function gF(n,e){if(n&1){let t=D();c(0,"div",31)(1,"p"),d(2,"Pentru a configura un cont Stripe, trebuie s\u0103 \xEE\u021Bi completezi mai \xEEnt\xE2i profilul de specialist."),a(),c(3,"button",32),v("click",function(){y(t);let r=m(2);return b(r.goToSpecialistProfile())}),d(4," Completeaz\u0103 profilul de specialist "),a()()}}function mF(n,e){if(n&1&&(c(0,"div",17)(1,"div",13),d(2),a(),c(3,"div",14)(4,"h3"),d(5),a(),c(6,"p"),d(7),a(),_(8,aF,11,3,"div",18),c(9,"div",19),_(10,dF,3,3,"button",20)(11,fF,3,3,"button",21)(12,gF,5,0,"div",22),a()()()),n&2){let t=m();f("ngClass",t.accountStatusClass),p(2),R(t.accountStatusIcon),p(3),R(t.accountStatusTitle),p(2),R(t.accountStatusDescription),p(),f("ngIf",t.hasStripeAccount),p(2),f("ngIf",t.hasStripeAccount&&!t.accountComplete),p(),f("ngIf",t.hasStripeAccount&&t.accountComplete),p(),f("ngIf",!t.hasStripeAccount)}}var Nu=class n{constructor(e,t,i,r,o){this.stripeAccountService=e;this.userService=t;this.specialistProfileService=i;this.authService=r;this.router=o}loading=!1;isGeneratingLink=!1;hasStripeAccount=!1;accountComplete=!1;stripeAccountId="";errorMessage="";userProfile=null;ngOnInit(){this.loadUserStripeAccount()}get accountStatusClass(){return this.hasStripeAccount?this.accountComplete?"complete":"incomplete":"not-configured"}get accountStatusIcon(){return this.hasStripeAccount?this.accountComplete?"\u2705":"\u23F3":"\u26A0\uFE0F"}get accountStatusTitle(){return this.hasStripeAccount?this.accountComplete?"Cont configurat complet":"Configurare incomplet\u0103":"Cont neconfigurat"}get accountStatusDescription(){return this.hasStripeAccount?this.accountComplete?"Contul t\u0103u este configurat \u0219i po\u021Bi primi pl\u0103\u021Bi.":"Completeaz\u0103 configurarea pentru a putea primi pl\u0103\u021Bi.":"Nu ai \xEEnc\u0103 un cont Stripe configurat."}loadUserStripeAccount(){return O(this,null,function*(){this.loading=!0,this.errorMessage="";try{let e=this.authService.getUserId();if(!e)throw new Error("User ID not found");console.log("Loading specialist profile for user:",e),this.specialistProfileService.getSpecialistProfile().subscribe({next:t=>O(this,null,function*(){console.log("Specialist profile response:",t),t?.response&&t.response?(this.userProfile=t.response,this.stripeAccountId=t.response.stripeAccountId||"",this.hasStripeAccount=!!this.stripeAccountId,this.stripeAccountId?yield this.checkStripeAccountStatus():this.accountComplete=!1,console.log("User Stripe Account ID:",this.stripeAccountId),console.log("Has Stripe Account:",this.hasStripeAccount),console.log("Account Complete:",this.accountComplete)):(console.log("No specialist profile found or response failed"),this.hasStripeAccount=!1,this.accountComplete=!1,this.errorMessage="Nu ai \xEEnc\u0103 un profil de specialist configurat."),this.loading=!1}),error:t=>{console.error("Error loading Stripe account status:",t),this.errorMessage="Eroare la \xEEnc\u0103rcarea statusului contului.",this.hasStripeAccount=!1,this.accountComplete=!1,this.loading=!1}})}catch(e){console.error("Error in loadUserStripeAccount:",e),this.errorMessage="Eroare la \xEEnc\u0103rcarea statusului contului.",this.hasStripeAccount=!1,this.accountComplete=!1,this.loading=!1}})}checkStripeAccountStatus(){return O(this,null,function*(){try{this.stripeAccountService.getAccountStatus(this.stripeAccountId).subscribe({next:e=>{if(console.log("Stripe account status:",e),e?.response){let t=e.response;this.accountComplete=t.isActive,t.chargesEnabled||console.log("Charges not enabled yet"),t.payoutsEnabled||console.log("Payouts not enabled yet"),t.requirementsCurrentlyDue.length>0&&console.log("Requirements currently due:",t.requirementsCurrentlyDue)}else console.error("Failed to get account status"),this.accountComplete=!1},error:e=>{console.error("Error checking Stripe account status:",e),this.accountComplete=!1}})}catch(e){console.error("Exception checking Stripe account status:",e),this.accountComplete=!1}})}activateStripeAccount(){return O(this,null,function*(){if(!this.stripeAccountId){this.errorMessage="Nu exist\u0103 un cont Stripe asociat cu profilul t\u0103u.";return}this.isGeneratingLink=!0,this.errorMessage="";try{console.log("Generating onboarding link for account:",this.stripeAccountId),this.stripeAccountService.generateOnboardingLink(this.stripeAccountId).subscribe({next:e=>{if(console.log("Link response:",e),e?.response&&e.response?.url)console.log("Redirecting to:",e.response.url),window.location.href=e.response.url;else throw new Error(e?.errorMessage?.message||"Eroare la generarea link-ului de configurare.")},error:e=>{console.error("Error generating onboarding link:",e),e.status===401?this.errorMessage="Nu e\u0219ti autentificat. Te rug\u0103m s\u0103 te conectezi din nou.":e.status===403?this.errorMessage="Nu ai permisiunea s\u0103 accesezi aceast\u0103 func\u021Bionalitate.":e.status===404?this.errorMessage="Contul Stripe nu a fost g\u0103sit.":this.errorMessage=e.message||e.error?.message||"Eroare la configurarea contului Stripe.",this.isGeneratingLink=!1}})}catch(e){console.error("Error in activateStripeAccount:",e),this.errorMessage=e.message||"Eroare la configurarea contului Stripe.",this.isGeneratingLink=!1}})}openDashboard(){return O(this,null,function*(){if(!this.stripeAccountId){this.errorMessage="Nu exist\u0103 un cont Stripe asociat cu profilul t\u0103u.";return}this.isGeneratingLink=!0,this.errorMessage="";try{console.log("Generating dashboard link for account:",this.stripeAccountId),this.stripeAccountService.generateDashboardLink(this.stripeAccountId).subscribe({next:e=>{if(console.log("Dashboard link response:",e),e?.response&&e.response?.url)console.log("Redirecting to dashboard:",e.response.url),window.location.href=e.response.url;else throw new Error(e?.errorMessage?.message||"Eroare la generarea link-ului de dashboard.")},error:e=>{console.error("Error generating dashboard link:",e),e.status===401?this.errorMessage="Nu e\u0219ti autentificat. Te rug\u0103m s\u0103 te conectezi din nou.":e.status===403?this.errorMessage="Nu ai permisiunea s\u0103 accesezi aceast\u0103 func\u021Bionalitate.":e.status===404?this.errorMessage="Contul Stripe nu a fost g\u0103sit.":this.errorMessage=e.message||e.error?.message||"Eroare la accesarea dashboard-ului Stripe.",this.isGeneratingLink=!1}})}catch(e){console.error("Error in openDashboard:",e),this.errorMessage=e.message||"Eroare la accesarea dashboard-ului Stripe.",this.isGeneratingLink=!1}})}goToSpecialistProfile(){this.router.navigate(["/profile/specialist"])}goBack(){this.router.navigate(["/profile"])}static \u0275fac=function(t){return new(t||n)(w(ns),w(ut),w(qi),w(Y),w(xe))};static \u0275cmp=F({type:n,selectors:[["app-stripe-account"]],decls:39,vars:3,consts:[[1,"top-action-button"],[1,"back-button",3,"click"],[1,"stripe-wrapper"],[1,"stripe-header"],[1,"brand-highlight"],["class","status-card loading",4,"ngIf"],["class","status-card error",4,"ngIf"],["class","status-card",3,"ngClass",4,"ngIf"],[1,"info-section"],[1,"info-grid"],[1,"info-card"],[1,"info-icon"],[1,"status-card","loading"],[1,"status-icon"],[1,"status-content"],[1,"status-card","error"],[1,"retry-button",3,"click"],[1,"status-card",3,"ngClass"],["class","account-details",4,"ngIf"],[1,"actions"],["class","primary-button",3,"disabled","click",4,"ngIf"],["class","secondary-button",3,"disabled","click",4,"ngIf"],["class","no-account-message",4,"ngIf"],[1,"account-details"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],[1,"detail-value",3,"ngClass"],[1,"primary-button",3,"click","disabled"],[4,"ngIf"],[1,"secondary-button",3,"click","disabled"],[1,"no-account-message"],[1,"secondary-button",3,"click"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"button",1),v("click",function(){return i.goBack()}),d(2,"\u2190 \xCEnapoi la profil"),a()(),c(3,"div",2)(4,"div",3)(5,"h1"),d(6,"Configurarea contului "),c(7,"strong",4),d(8,"Stripe"),a()(),c(9,"p"),d(10,"Gestioneaz\u0103-\u021Bi contul de pl\u0103\u021Bi pentru a primi bani de la clien\u021Bi"),a()(),_(11,oF,8,0,"div",5)(12,sF,10,1,"div",6)(13,mF,13,8,"div",7),c(14,"div",8)(15,"h2"),d(16,"De ce ai nevoie de un cont Stripe?"),a(),c(17,"div",9)(18,"div",10)(19,"div",11),d(20,"\u{1F4B3}"),a(),c(21,"h4"),d(22,"Prime\u0219te pl\u0103\u021Bi"),a(),c(23,"p"),d(24,"Clien\u021Bii \xEE\u021Bi pot pl\u0103ti direct prin platform\u0103 folosind cardul bancar"),a()(),c(25,"div",10)(26,"div",11),d(27,"\u{1F512}"),a(),c(28,"h4"),d(29,"Securitate"),a(),c(30,"p"),d(31,"Stripe ofer\u0103 cea mai \xEEnalt\u0103 securitate pentru tranzac\u021Biile online"),a()(),c(32,"div",10)(33,"div",11),d(34,"\u{1F4CA}"),a(),c(35,"h4"),d(36,"Rapoarte"),a(),c(37,"p"),d(38,"Vezi toate tranzac\u021Biile \u0219i veniturile tale \xEEntr-un dashboard dedicat"),a()()()()()),t&2&&(p(11),f("ngIf",i.loading),p(),f("ngIf",i.errorMessage&&!i.loading),p(),f("ngIf",!i.loading&&!i.errorMessage))},dependencies:[q,Ae],styles:[".top-action-button[_ngcontent-%COMP%]{position:absolute;top:100px;right:32px;z-index:10}.back-button[_ngcontent-%COMP%]{text-decoration:none;font-family:Roboto Mono,monospace;font-weight:700;border:1px solid transparent;background:none;transition:all .2s ease;color:#000;cursor:pointer;padding:.5rem 1rem;border-radius:4px}.back-button[_ngcontent-%COMP%]:hover{text-decoration:underline;background-color:#b7a4dd1a}.stripe-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace;max-width:800px;margin:0 auto}.stripe-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:2rem;text-align:center}.stripe-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.stripe-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;color:#666;font-size:1.1rem}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.status-card[_ngcontent-%COMP%]{width:100%;max-width:600px;padding:2rem;border-radius:12px;border:2px solid #b7a4dd;background:#fff;margin-bottom:2rem;display:flex;align-items:flex-start;gap:1.5rem;transition:all .3s ease}.status-card.loading[_ngcontent-%COMP%]{border-color:#ffc107;background-color:#fff8e1}.status-card.error[_ngcontent-%COMP%]{border-color:#dc3545;background-color:#ffeaea}.status-card.not-configured[_ngcontent-%COMP%]{border-color:#ffc107;background-color:#fff8e1}.status-card.incomplete[_ngcontent-%COMP%]{border-color:#fd7e14;background-color:#fff4e6}.status-card.complete[_ngcontent-%COMP%]{border-color:#28a745;background-color:#f0f8f0}.status-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #b7a4dd4d}.status-icon[_ngcontent-%COMP%]{font-size:3rem;line-height:1;flex-shrink:0}.status-content[_ngcontent-%COMP%]{flex:1}.status-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:1.4rem;color:#333}.status-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 1rem;color:#666;line-height:1.5}.account-details[_ngcontent-%COMP%]{background:#b7a4dd1a;padding:1rem;border-radius:8px;margin:1rem 0}.account-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.account-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]:last-child{margin-bottom:0}.account-details[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-weight:700;color:#333}.account-details[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-family:Courier New,monospace;color:#666}.account-details[_ngcontent-%COMP%]   .detail-value.status-complete[_ngcontent-%COMP%]{color:#28a745;font-weight:700}.account-details[_ngcontent-%COMP%]   .detail-value.status-incomplete[_ngcontent-%COMP%]{color:#fd7e14;font-weight:700}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;align-items:flex-start}.primary-button[_ngcontent-%COMP%]{background-color:#3c1a7d;color:#fff;border:none;padding:.75rem 1.5rem;border-radius:8px;font-family:Roboto Mono,monospace;font-weight:700;cursor:pointer;transition:all .2s ease;font-size:1rem}.primary-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#2d1260;transform:translateY(-1px)}.primary-button[_ngcontent-%COMP%]:disabled{background-color:#999;cursor:not-allowed;transform:none}.secondary-button[_ngcontent-%COMP%]{background-color:transparent;color:#3c1a7d;border:2px solid #3c1a7d;padding:.75rem 1.5rem;border-radius:8px;font-family:Roboto Mono,monospace;font-weight:700;cursor:pointer;transition:all .2s ease;font-size:1rem}.secondary-button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#3c1a7d;color:#fff;transform:translateY(-1px)}.secondary-button[_ngcontent-%COMP%]:disabled{border-color:#999;color:#999;cursor:not-allowed;transform:none}.retry-button[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;font-family:Roboto Mono,monospace;font-weight:700;cursor:pointer;transition:all .2s ease;font-size:.9rem}.retry-button[_ngcontent-%COMP%]:hover{background-color:#c82333;transform:translateY(-1px)}.no-account-message[_ngcontent-%COMP%]{text-align:center;padding:1rem;background:#b7a4dd1a;border-radius:8px;width:100%}.no-account-message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:1rem;color:#666;font-style:italic}.info-section[_ngcontent-%COMP%]{width:100%;max-width:800px;margin-top:2rem}.info-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#3c1a7d}.info-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem}.info-card[_ngcontent-%COMP%]{background:#fff;border:1px solid #b7a4dd;border-radius:12px;padding:1.5rem;text-align:center;transition:all .3s ease}.info-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #b7a4dd4d;border-color:#3c1a7d}.info-card[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{font-size:2.5rem;margin-bottom:1rem}.info-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem;color:#3c1a7d;font-size:1.2rem}.info-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;line-height:1.5}@media (max-width: 768px){.top-action-button[_ngcontent-%COMP%]{top:20px;right:16px}.stripe-wrapper[_ngcontent-%COMP%]{padding:16px}.status-card[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.status-card[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{font-size:2.5rem}.account-details[_ngcontent-%COMP%]   .detail-row[_ngcontent-%COMP%]{flex-direction:column;gap:.25rem;text-align:center}.info-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}"]})};function hF(n,e){n&1&&(c(0,"div",3),P(1,"div",4),c(2,"h2"),d(3,"Se proceseaz\u0103 autentificarea Google..."),a(),c(4,"p"),d(5,"V\u0103 rug\u0103m s\u0103 a\u0219tepta\u021Bi..."),a()())}function vF(n,e){if(n&1){let t=D();c(0,"div",5)(1,"h2"),d(2,"Eroare"),a(),c(3,"p"),d(4),a(),c(5,"button",6),v("click",function(){y(t);let r=m();return b(r.goBack())}),d(6,"\xCEnapoi la autentificare"),a()()}if(n&2){let t=m();p(4),R(t.errorMessage)}}var Fu=class n{constructor(e,t){this.route=e;this.router=t}errorMessage=null;ngOnInit(){console.log("Google callback component initialized"),this.handleGoogleCallback()}handleGoogleCallback(){let e=this.route.snapshot.queryParams,t=window.location.href;console.log("=== GOOGLE CALLBACK DEBUG ==="),console.log("Full URL:",t),console.log("All query params:",e),console.log("Available param keys:",Object.keys(e)),console.log("code:",e.code),console.log("state:",e.state),console.log("error:",e.error),console.log("error_description:",e.error_description),console.log("scope:",e.scope),console.log("authuser:",e.authuser),console.log("prompt:",e.prompt),console.log("=============================");let i=e.code,r=e.state,o=e.error,s=e.error_description;if(Object.keys(e).length===0){this.errorMessage=`No parameters received. Full URL: ${t}`;return}if(o){console.error("Google OAuth error:",o,s),this.handleError(this.getErrorMessage(o,s));return}if(!i||!r){console.error("Missing code or state parameter"),this.errorMessage=`Missing parameters. Received: code=${!!i}, state=${!!r}. All params: ${JSON.stringify(e)}`;return}let l=sessionStorage.getItem("google_oauth_state");if(r!==l){console.error("State mismatch:",{received:r,stored:l}),this.handleError("Eroare de securitate \xEEn autentificarea Google.");return}console.log("Valid Google OAuth response received"),window.opener?(console.log("Handling popup callback"),this.handlePopupCallback(i,r)):(console.log("Handling redirect callback"),this.handleRedirectCallback(i))}handlePopupCallback(e,t){try{localStorage.setItem("google_auth_code",e),localStorage.setItem("google_auth_state",t),console.log("Stored auth data for parent window, closing popup"),window.close()}catch(i){console.error("Error in popup callback:",i),localStorage.setItem("google_auth_error","Eroare la procesarea r\u0103spunsului Google."),window.close()}}handleRedirectCallback(e){let t=sessionStorage.getItem("google_oauth_type")||"login",i=sessionStorage.getItem("google_oauth_redirect")||"/home";sessionStorage.removeItem("google_oauth_state"),sessionStorage.removeItem("google_oauth_type"),sessionStorage.removeItem("google_oauth_redirect"),localStorage.setItem("google_auth_code_redirect",e),localStorage.setItem("google_auth_type",t),t==="register"?this.router.navigate(["/register"],{queryParams:{google_auth:"processing"}}):this.router.navigate(["/login"],{queryParams:{google_auth:"processing"}})}handleError(e){this.errorMessage=e,window.opener&&(localStorage.setItem("google_auth_error",e),setTimeout(()=>{window.close()},3e3))}getErrorMessage(e,t){switch(e){case"access_denied":return"Accesul a fost refuzat. V\u0103 rug\u0103m s\u0103 accepta\u021Bi permisiunile Google.";case"invalid_request":return"Cerere invalid\u0103 c\u0103tre Google. V\u0103 rug\u0103m s\u0103 \xEEncerca\u021Bi din nou.";case"unauthorized_client":return"Client neautorizat. Contacta\u021Bi administratorul.";case"unsupported_response_type":return"Tip de r\u0103spuns nesuportat. Eroare de configurare.";case"invalid_scope":return"Permisiuni invalide solicitate.";case"server_error":return"Eroare de server Google. \xCEncerca\u021Bi din nou mai t\xE2rziu.";case"temporarily_unavailable":return"Serviciul Google este temporar indisponibil.";default:return t||`Eroare Google OAuth: ${e}`}}goBack(){let e=sessionStorage.getItem("google_oauth_type")||"login";sessionStorage.clear(),localStorage.removeItem("google_auth_code"),localStorage.removeItem("google_auth_state"),localStorage.removeItem("google_auth_error"),localStorage.removeItem("google_auth_code_redirect"),localStorage.removeItem("google_auth_type"),e==="register"?this.router.navigate(["/register"]):this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(w(ht),w(xe))};static \u0275cmp=F({type:n,selectors:[["app-google-callback"]],decls:3,vars:2,consts:[[1,"callback-container"],["class","loading-content",4,"ngIf"],["class","error-content",4,"ngIf"],[1,"loading-content"],[1,"loading-spinner"],[1,"error-content"],[1,"back-button",3,"click"]],template:function(t,i){t&1&&(c(0,"div",0),_(1,hF,6,0,"div",1)(2,vF,7,1,"div",2),a()),t&2&&(p(),f("ngIf",!i.errorMessage),p(),f("ngIf",i.errorMessage))},dependencies:[Ce,q],styles:[".callback-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;background-color:#f5f5f5;font-family:Roboto Mono,monospace}.loading-content[_ngcontent-%COMP%], .error-content[_ngcontent-%COMP%]{text-align:center;background:#fff;padding:40px;border-radius:10px;box-shadow:0 4px 20px #0000001a;max-width:400px;width:90%}.loading-spinner[_ngcontent-%COMP%]{width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto 20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}h2[_ngcontent-%COMP%]{color:#333;margin-bottom:15px;font-size:24px;font-weight:600}p[_ngcontent-%COMP%]{color:#666;margin-bottom:20px;line-height:1.5;font-size:16px}.error-content[_ngcontent-%COMP%]{border-left:4px solid #e74c3c}.error-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#e74c3c}.back-button[_ngcontent-%COMP%]{background-color:#3498db;color:#fff;border:none;padding:12px 24px;border-radius:5px;cursor:pointer;font-family:Roboto Mono,monospace;font-size:14px;font-weight:500;transition:background-color .3s ease}.back-button[_ngcontent-%COMP%]:hover{background-color:#2980b9}.back-button[_ngcontent-%COMP%]:active{transform:translateY(1px)}.back-button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3498db4d}@media (max-width: 480px){.loading-content[_ngcontent-%COMP%], .error-content[_ngcontent-%COMP%]{padding:30px 20px;margin:20px}h2[_ngcontent-%COMP%]{font-size:20px}p[_ngcontent-%COMP%]{font-size:14px}.back-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:13px}.loading-spinner[_ngcontent-%COMP%]{width:35px;height:35px;border-width:3px}}"]})};var Lu=[{path:"home",component:Id},{path:"about",component:Od},{path:"contact-us",component:Ou},{path:"terms",component:Tu},{path:"privacy",component:ku},{path:"auth/google/callback",component:Fu},{path:"profile",component:jd,canActivate:[en]},{path:"specialist-map",component:Au},{path:"specialist/:id",component:Oa},{path:"messages",component:wu,canActivate:[en]},{path:"profile/user/become-specialist",component:Du,canActivate:[en]},{path:"profile/user-settings",component:Pu,canActivate:[en]},{path:"profile/user-reviews",component:Iu,canActivate:[en]},{path:"profile/stripe-account",component:Nu,canActivate:[en],data:{roles:["Specialist"]}},{path:"request-form",component:Vo},{path:"register",component:Td},{path:"login",component:kd},{path:"specialist-details",component:Oa},{path:"service-payment",component:Zo},{path:"admin",canActivate:[en,Tr],component:Rd,data:{roles:["Admin"]}},{path:"admin/users",canActivate:[en,Tr],component:Ad,data:{roles:["Admin"]}},{path:"admin/specialists",canActivate:[en,Tr],component:Nd,data:{roles:["Admin"]}},{path:"admin/categories",canActivate:[en,Tr],component:Eu,data:{roles:["Admin"]}},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:Fd}];var Xm={providers:[dy({eventCoalescing:!0}),pa(Lu),om()]};var _F=n=>({show:n});function yF(n,e){n&1&&(c(0,"li")(1,"a",17),d(2,"Devino specialist!"),a()())}function bF(n,e){n&1&&(c(0,"li")(1,"a",18),d(2,"Mesajele tale"),a()())}function CF(n,e){n&1&&(c(0,"li")(1,"a",19),d(2,"Admin Dashboard"),a()())}var Vu=class n{constructor(e,t){this.authService=e;this.router=t;this.router.events.pipe(gt(i=>i instanceof Xt)).subscribe(i=>{console.log("Navigated to:",i)})}title="ExpertEase.Frontend";navbarOpen=!1;toggleNavbar(){this.navbarOpen=!this.navbarOpen}static \u0275fac=function(t){return new(t||n)(w(Y),w(xe))};static \u0275cmp=F({type:n,selectors:[["app-root"]],decls:34,vars:8,consts:[[1,"page-container"],[1,"navbar"],["routerLink","/home","title","Acas\u0103",1,"logo-button"],["src","logo.svg","alt","Logo"],[1,"navbar-toggle",3,"click"],[1,"navbar-links",3,"ngClass"],[4,"ngIf"],["routerLink","/specialist-map","routerLinkActive","active",1,"map-link"],["routerLink","/about","routerLinkActive","active"],["routerLinkActive","active",3,"routerLink"],[1,"main-content"],[1,"site-footer"],[1,"footer-content"],[1,"footer-links"],["routerLink","/contact-us","routerLinkActive","active"],["routerLink","/terms","routerLinkActive","active"],["routerLink","/privacy","routerLinkActive","active"],["routerLink","profile/user/become-specialist","routerLinkActive","active"],["routerLink","/messages","routerLinkActive","active"],["routerLink","/admin","routerLinkActive","active"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"nav",1)(2,"button",2),P(3,"img",3),a(),c(4,"button",4),v("click",function(){return i.toggleNavbar()}),d(5,"\u2630"),a(),c(6,"ul",5),_(7,yF,3,0,"li",6),c(8,"li")(9,"a",7),d(10," Harta speciali\u0219ti "),a()(),c(11,"li")(12,"a",8),d(13,"Despre noi"),a()(),_(14,bF,3,0,"li",6),c(15,"li")(16,"a",9),d(17),a()(),_(18,CF,3,0,"li",6),a()(),c(19,"div",10),P(20,"router-outlet"),a(),c(21,"footer",11)(22,"div",12)(23,"p"),d(24,"\xA9 2025 ExpertEase. Toate drepturile rezervate."),a(),c(25,"nav",13)(26,"a",8),d(27,"Despre noi"),a(),c(28,"a",14),d(29,"Contacteaz\u0103-ne!"),a(),c(30,"a",15),d(31,"Termeni \u0219i condi\u021Bii"),a(),c(32,"a",16),d(33,"Politic\u0103 de confiden\u021Bialitate"),a()()()()()),t&2&&(p(6),f("ngClass",ui(6,_F,i.navbarOpen)),p(),f("ngIf",i.authService.getUserRole()==="Client"),p(7),f("ngIf",i.authService.getUserRole()==="Client"||i.authService.getUserRole()==="Specialist"),p(2),f("routerLink",i.authService.getToken()?"/profile":"/register"),p(),I(" ",i.authService.getToken()?"Contul t\u0103u":"\xCEnregistreaz\u0103-te!"," "),p(),f("ngIf",i.authService.getUserRole()==="Admin"))},dependencies:[Ce,Ae,q,Mr,Ct],styles:[".navbar[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center;padding:16px 32px;background-color:#1e1e2f;color:#fff;box-shadow:0 2px 2px #0000001a;position:relative}.navbar-toggle[_ngcontent-%COMP%]{display:none;font-size:32px;background:none;border:none;color:#fff;cursor:pointer}.navbar-links[_ngcontent-%COMP%]{list-style:none;display:grid;grid-auto-flow:column;gap:24px;margin:0;padding:0;font-family:Roboto Mono,monospace}.navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:2px 0;transition:border-bottom .2s ease}.navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:2px solid white}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{grid-template-columns:1fr auto;grid-template-rows:auto auto;row-gap:16px}.navbar-toggle[_ngcontent-%COMP%]{display:block}.navbar-links[_ngcontent-%COMP%]{display:none;grid-auto-flow:row;width:100%;grid-column:1/-1}.navbar-links.show[_ngcontent-%COMP%]{display:grid}}.site-footer[_ngcontent-%COMP%]{background-color:#3c1a7d;color:#fff;padding:24px;text-align:center;font-family:Roboto Mono,monospace;margin-top:64px}.site-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{max-width:900px;margin:0 auto}.footer-links[_ngcontent-%COMP%]{margin-top:12px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin:0 12px;font-size:14px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};nm(Vu,G(S({},Xm),{providers:[...Xm.providers,pa(Lu)]})).catch(n=>console.error(n));
