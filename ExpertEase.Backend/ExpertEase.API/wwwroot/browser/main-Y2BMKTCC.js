import{$ as ee,A as cn,Aa as nt,B as $e,Ba as Oa,C as m,Ca as Ra,D as Qn,Da as se,E as A,Ea as Va,F as R,Fa as L,G as ki,Ga as Ye,H as me,Ha as _e,I as Re,Ia as ka,J as D,Ja as Na,K as xa,Ka as Fa,L as Ea,La as Fi,M as y,Ma as Se,N as Gt,Na as it,O as l,Oa as Ua,P as c,Pa as Ui,Q as k,Qa as q,R as fe,Ra as Li,S as ge,Sa as Eo,T as N,U as S,V as E,W as Ve,X as d,Y as re,Z as F,_ as Ia,a as z,aa as te,b as pe,ba as ne,c as ae,ca as Je,d as Oi,da as Le,e as sn,ea as St,f as an,fa as pt,g as bo,ga as $,h as va,ha as de,i as ba,ia as Ge,j as Ca,ja as Sa,k as wa,ka as Ta,l as Co,la as Jn,m as It,ma as Aa,n as qt,na as Ni,o as Ri,oa as wo,p as Qe,pa as mt,q as J,qa as ln,r as Vi,ra as xo,s as zt,sa as Ke,t as W,ta as ue,u as jt,ua as Y,v as M,va as un,w as O,wa as dn,x as $t,xa as Pa,y as j,ya as Da,z as Hn,za as Ma}from"./chunk-Y52V3B5U.js";var Ha=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(A(Qn),A(Hn))};static \u0275dir=me({type:n})}return n})(),ii=(()=>{class n extends Ha{static \u0275fac=(()=>{let t;return function(o){return(t||(t=$t(n)))(o||n)}})();static \u0275dir=me({type:n,features:[Re]})}return n})(),Wt=new zt(""),Hl={provide:Wt,useExisting:Qe(()=>Ao),multi:!0},Ao=(()=>{class n extends ii{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=$t(n)))(o||n)}})();static \u0275dir=me({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,o){r&1&&S("change",function(_){return o.onChange(_.target.checked)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Je([Hl]),Re]})}return n})(),Ql={provide:Wt,useExisting:Qe(()=>ke),multi:!0};function Jl(){let n=xo()?xo().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Yl=new zt(""),ke=(()=>{class n extends Ha{_compositionMode;_composing=!1;constructor(t,r,o){super(t,r),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!Jl())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(A(Qn),A(Hn),A(Yl,8))};static \u0275dir=me({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&S("input",function(_){return o._handleInput(_.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(_){return o._compositionEnd(_.target.value)})},standalone:!1,features:[Je([Ql]),Re]})}return n})();function Po(n){return n==null||Do(n)===0}function Do(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var ri=new zt(""),Yi=new zt(""),Xl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Tt=class{static min(e){return Zl(e)}static max(e){return eu(e)}static required(e){return Qa(e)}static requiredTrue(e){return tu(e)}static email(e){return nu(e)}static minLength(e){return iu(e)}static maxLength(e){return ru(e)}static pattern(e){return ou(e)}static nullValidator(e){return qi()}static compose(e){return tc(e)}static composeAsync(e){return nc(e)}};function Zl(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function eu(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Qa(n){return Po(n.value)?{required:!0}:null}function tu(n){return n.value===!0?null:{required:!0}}function nu(n){return Po(n.value)||Xl.test(n.value)?null:{email:!0}}function iu(n){return e=>{let t=e.value?.length??Do(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function ru(n){return e=>{let t=e.value?.length??Do(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function ou(n){if(!n)return qi;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Po(r.value))return null;let o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}function qi(n){return null}function Ja(n){return n!=null}function Ya(n){return xa(n)?an(n):n}function Xa(n){let e={};return n.forEach(t=>{e=t!=null?z(z({},e),t):e}),Object.keys(e).length===0?null:e}function Za(n,e){return e.map(t=>t(n))}function su(n){return!n.validate}function ec(n){return n.map(e=>su(e)?e:t=>e.validate(t))}function tc(n){if(!n)return null;let e=n.filter(Ja);return e.length==0?null:function(t){return Xa(Za(t,e))}}function Mo(n){return n!=null?tc(ec(n)):null}function nc(n){if(!n)return null;let e=n.filter(Ja);return e.length==0?null:function(t){let r=Za(t,e).map(Ya);return Ca(r).pipe(ba(Xa))}}function Oo(n){return n!=null?nc(ec(n)):null}function La(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ic(n){return n._rawValidators}function rc(n){return n._rawAsyncValidators}function Io(n){return n?Array.isArray(n)?n:[n]:[]}function zi(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ba(n,e){let t=Io(e);return Io(n).forEach(o=>{zi(t,o)||t.push(o)}),t}function qa(n,e){return Io(e).filter(t=>!zi(n,t))}var ji=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Mo(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Oo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},ft=class extends ji{name;get formDirective(){return null}get path(){return null}},Kt=class extends ji{_parent=null;name=null;valueAccessor=null},$i=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},au={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},xm=pe(z({},au),{"[class.ng-submitted]":"isSubmitted"}),Ne=(()=>{class n extends $i{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(A(Kt,2))};static \u0275dir=me({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Gt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[Re]})}return n})(),rt=(()=>{class n extends $i{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(A(ft,10))};static \u0275dir=me({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Gt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[Re]})}return n})();var Yn="VALID",Bi="INVALID",hn="PENDING",Xn="DISABLED",At=class{},Gi=class extends At{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ei=class extends At{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},ti=class extends At{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},pn=class extends At{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Ki=class extends At{source;constructor(e){super(),this.source=e}},Wi=class extends At{source;constructor(e){super(),this.source=e}};function Ro(n){return(Xi(n)?n.validators:n)||null}function cu(n){return Array.isArray(n)?Mo(n):n||null}function Vo(n,e){return(Xi(e)?e.asyncValidators:n)||null}function lu(n){return Array.isArray(n)?Oo(n):n||null}function Xi(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function oc(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Ri(1e3,"");if(!r[t])throw new Ri(1001,"")}function sc(n,e,t){n._forEachChild((r,o)=>{if(t[o]===void 0)throw new Ri(1002,"")})}var mn=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return mt(this.statusReactive)}set status(e){mt(()=>this.statusReactive.set(e))}_status=ln(()=>this.statusReactive());statusReactive=cn(void 0);get valid(){return this.status===Yn}get invalid(){return this.status===Bi}get pending(){return this.status==hn}get disabled(){return this.status===Xn}get enabled(){return this.status!==Xn}errors;get pristine(){return mt(this.pristineReactive)}set pristine(e){mt(()=>this.pristineReactive.set(e))}_pristine=ln(()=>this.pristineReactive());pristineReactive=cn(!0);get dirty(){return!this.pristine}get touched(){return mt(this.touchedReactive)}set touched(e){mt(()=>this.touchedReactive.set(e))}_touched=ln(()=>this.touchedReactive());touchedReactive=cn(!1);get untouched(){return!this.touched}_events=new Oi;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ba(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ba(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qa(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qa(e,this._rawAsyncValidators))}hasValidator(e){return zi(this._rawValidators,e)}hasAsyncValidator(e){return zi(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(pe(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ti(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new ti(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(pe(z({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ei(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ei(!0,r))}markAsPending(e={}){this.status=hn;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new pn(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(pe(z({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Xn,this.errors=null,this._forEachChild(o=>{o.disable(pe(z({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gi(this.value,r)),this._events.next(new pn(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Yn,this._forEachChild(r=>{r.enable(pe(z({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(z({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yn||this.status===hn)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Gi(this.value,t)),this._events.next(new pn(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(pe(z({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Xn:Yn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=hn,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=Ya(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new pn(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new j,this.statusChanges=new j}_calculateStatus(){return this._allControlsDisabled()?Xn:this.errors?Bi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(hn)?hn:this._anyControlsHaveStatus(Bi)?Bi:Yn}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),o&&this._events.next(new ei(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ti(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Xi(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=cu(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=lu(this._rawAsyncValidators)}},fn=class extends mn{constructor(e,t,r){super(Ro(t),Vo(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){sc(this,!0,e),Object.keys(e).forEach(r=>{oc(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var So=class extends fn{};var oi=new zt("",{providedIn:"root",factory:()=>Zi}),Zi="always";function ac(n,e){return[...e.path,n]}function Hi(n,e,t=Zi){ko(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),du(n,e),pu(n,e),hu(n,e),uu(n,e)}function za(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ji(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Qi(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function uu(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function ko(n,e){let t=ic(n);e.validator!==null?n.setValidators(La(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=rc(n);e.asyncValidator!==null?n.setAsyncValidators(La(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let o=()=>n.updateValueAndValidity();Qi(e._rawValidators,o),Qi(e._rawAsyncValidators,o)}function Ji(n,e){let t=!1;if(n!==null){if(e.validator!==null){let o=ic(n);if(Array.isArray(o)&&o.length>0){let u=o.filter(_=>_!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(e.asyncValidator!==null){let o=rc(n);if(Array.isArray(o)&&o.length>0){let u=o.filter(_=>_!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}let r=()=>{};return Qi(e._rawValidators,r),Qi(e._rawAsyncValidators,r),t}function du(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&cc(n,e)})}function hu(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&cc(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function cc(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function pu(n,e){let t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function lc(n,e){n==null,ko(n,e)}function mu(n,e){return Ji(n,e)}function uc(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function fu(n){return Object.getPrototypeOf(n.constructor)===ii}function dc(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function hc(n,e){if(!e)return null;Array.isArray(e);let t,r,o;return e.forEach(u=>{u.constructor===ke?t=u:fu(u)?r=u:o=u}),o||r||t||null}function gu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var _u={provide:ft,useExisting:Qe(()=>gt)},Zn=Promise.resolve(),gt=(()=>{class n extends ft{callSetDisabledState;get submitted(){return mt(this.submittedReactive)}_submitted=ln(()=>this.submittedReactive());submittedReactive=cn(!1);_directives=new Set;form;ngSubmit=new j;options;constructor(t,r,o){super(),this.callSetDisabledState=o,this.form=new fn({},Mo(t),Oo(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Zn.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Hi(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Zn.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Zn.then(()=>{let r=this._findContainer(t.path),o=new fn({});lc(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Zn.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Zn.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),dc(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Ki(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new Wi(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(A(ri,10),A(Yi,10),A(oi,8))};static \u0275dir=me({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&S("submit",function(_){return o.onSubmit(_)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Je([_u]),Re]})}return n})();function ja(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function $a(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var ni=class extends mn{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(Ro(t),Vo(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Xi(t)&&(t.nonNullable||t.initialValueIsDefault)&&($a(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ja(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ja(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){$a(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var yu=n=>n instanceof ni;var vu={provide:Kt,useExisting:Qe(()=>Be)},Ga=Promise.resolve(),Be=(()=>{class n extends Kt{_changeDetectorRef;callSetDisabledState;control=new ni;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new j;constructor(t,r,o,u,_,T){super(),this._changeDetectorRef=_,this.callSetDisabledState=T,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=hc(this,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),uc(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Hi(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){Ga.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,o=r!==0&&wo(r);Ga.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?ac(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(A(ft,9),A(ri,10),A(Yi,10),A(Wt,10),A(Ni,8),A(oi,8))};static \u0275dir=me({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Je([vu]),Re,jt]})}return n})();var ot=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=me({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})(),bu={provide:Wt,useExisting:Qe(()=>No),multi:!0},No=(()=>{class n extends ii{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(o){return(t||(t=$t(n)))(o||n)}})();static \u0275dir=me({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&S("input",function(_){return o.onChange(_.target.value)})("blur",function(){return o.onTouched()})},standalone:!1,features:[Je([bu]),Re]})}return n})();var pc=new zt("");var Cu={provide:ft,useExisting:Qe(()=>Fo)},Fo=(()=>{class n extends ft{callSetDisabledState;get submitted(){return mt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=ln(()=>this._submittedReactive());_submittedReactive=cn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new j;constructor(t,r,o){super(),this.callSetDisabledState=o,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ji(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Hi(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){za(t.control||null,t,!1),gu(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),dc(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Ki(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Wi(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,o=this.form.get(t.path);r!==o&&(za(r||null,t),yu(o)&&(Hi(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);lc(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&mu(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ko(this.form,this),this._oldForm&&Ji(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(A(ri,10),A(Yi,10),A(oi,8))};static \u0275dir=me({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&S("submit",function(_){return o.onSubmit(_)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Je([Cu]),Re,jt]})}return n})();var wu={provide:Kt,useExisting:Qe(()=>Uo)},Uo=(()=>{class n extends Kt{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new j;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,o,u,_){super(),this._ngModelWarningConfig=_,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=hc(this,u)}ngOnChanges(t){this._added||this._setUpControl(),uc(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ac(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||n)(A(ft,13),A(ri,10),A(Yi,10),A(Wt,10),A(pc,8))};static \u0275dir=me({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Je([wu]),Re,jt]})}return n})();var xu={provide:Wt,useExisting:Qe(()=>Pt),multi:!0};function mc(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Eu(n){return n.split(":")[0]}var Pt=(()=>{class n extends ii{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r=this._getOptionId(t),o=mc(r,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=Eu(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=$t(n)))(o||n)}})();static \u0275dir=me({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&S("change",function(_){return o.onChange(_.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Je([xu]),Re]})}return n})(),gn=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(mc(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(A(Hn),A(Qn),A(Pt,9))};static \u0275dir=me({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),Iu={provide:Wt,useExisting:Qe(()=>fc),multi:!0};function Ka(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function Su(n){return n.split(":")[0]}var fc=(()=>{class n extends ii{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let o=t.map(u=>this._getOptionId(u));r=(u,_)=>{u._setSelected(o.indexOf(_.toString())>-1)}}else r=(o,u)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let o=[],u=r.selectedOptions;if(u!==void 0){let _=u;for(let T=0;T<_.length;T++){let V=_[T],B=this._getOptionValue(V.value);o.push(B)}}else{let _=r.options;for(let T=0;T<_.length;T++){let V=_[T];if(V.selected){let B=this._getOptionValue(V.value);o.push(B)}}}this.value=o,t(o)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=Su(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=$t(n)))(o||n)}})();static \u0275dir=me({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&S("change",function(_){return o.onChange(_.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Je([Iu]),Re]})}return n})(),_n=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Ka(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Ka(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(A(Hn),A(Qn),A(fc,9))};static \u0275dir=me({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var Tu=(()=>{class n{_validator=qi;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):qi,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(r){return new(r||n)};static \u0275dir=me({type:n,features:[jt]})}return n})();var Au={provide:ri,useExisting:Qe(()=>si),multi:!0};var si=(()=>{class n extends Tu{required;inputName="required";normalizeInput=wo;createValidator=t=>Qa;enabled(t){return t}static \u0275fac=(()=>{let t;return function(o){return(t||(t=$t(n)))(o||n)}})();static \u0275dir=me({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Ea("required",o._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[Je([Au]),Re]})}return n})();var gc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ki({type:n});static \u0275inj=Vi({})}return n})(),To=class extends mn{constructor(e,t,r){super(Ro(t),Vo(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){sc(this,!1,e),e.forEach((r,o)=>{oc(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Wa(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var _c=(()=>{class n{useNonNullable=!1;get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let o=this._reduceControls(t),u={};return Wa(r)?u=r:r!==null&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new fn(o,u)}record(t,r=null){let o=this._reduceControls(t);return new So(o,r)}control(t,r,o){let u={};return this.useNonNullable?(Wa(r)?u=r:(u.validators=r,u.asyncValidators=o),new ni(t,pe(z({},u),{nonNullable:!0}))):new ni(t,r,o)}array(t,r,o){let u=t.map(_=>this._createControl(_));return new To(u,r,o)}_reduceControls(t){let r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){if(t instanceof ni)return t;if(t instanceof mn)return t;if(Array.isArray(t)){let r=t[0],o=t.length>1?t[1]:null,u=t.length>2?t[2]:null;return this.control(r,o,u)}else return this.control(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var X=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:oi,useValue:t.callSetDisabledState??Zi}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ki({type:n});static \u0275inj=Vi({imports:[gc]})}return n})(),Dt=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:pc,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:oi,useValue:t.callSetDisabledState??Zi}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ki({type:n});static \u0275inj=Vi({imports:[gc]})}return n})();var We=class n{searchTerm="";placeholder="Caut\u0103 ...";searchChanged=new j;onSearchChanged(){this.searchChanged.emit(this.searchTerm.trim())}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-search-input"]],inputs:{placeholder:"placeholder"},outputs:{searchChanged:"searchChanged"},decls:4,vars:2,consts:[[1,"search-box"],["type","text",3,"ngModelChange","placeholder","ngModel"],["aria-label","Search",1,"search-icon-button",3,"click"],["src","assets/icons/search.svg","alt","Search Icon"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"input",1),ne("ngModelChange",function(u){return te(r.searchTerm,u)||(r.searchTerm=u),u}),c(),l(2,"button",2),S("click",function(){return r.onSearchChanged()}),k(3,"img",3),c()()),t&2&&(m(),y("placeholder",r.placeholder||"Caut\u0103..."),ee("ngModel",r.searchTerm))},dependencies:[se,X,ke,Ne,Be],styles:[".search-box[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;align-items:center;gap:20px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 50px 15px 20px;border:none;background:transparent;outline:none;font-family:Roboto Mono,monospace;font-size:12px}.search-icon-button[_ngcontent-%COMP%]{background:none;border:none;padding:0 16px;font-size:1.2rem;color:#444;cursor:pointer;display:flex;align-items:center;justify-content:center}.search-icon-button[_ngcontent-%COMP%]:hover{color:#000}.search-icon-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}"]})};function Pu(n,e){if(n&1&&(l(0,"option",7),d(1),c()),n&2){let t=e.$implicit;y("value",t),m(),re(t)}}var st=class n{currentPage=1;totalItems=0;pageSize=10;pageSizeOptions=[5,10,20];pageChange=new j;pageSizeChange=new j;getTotalPages(){return Math.ceil(this.totalItems/this.pageSize)}goToPreviousPage(){this.currentPage>1&&this.pageChange.emit(this.currentPage-1)}goToNextPage(){this.currentPage<this.getTotalPages()&&this.pageChange.emit(this.currentPage+1)}onPageSizeChange(e){let t=Number(e);this.pageSizeChange.emit(t)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-pagination"]],inputs:{currentPage:"currentPage",totalItems:"totalItems",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions"},outputs:{pageChange:"pageChange",pageSizeChange:"pageSizeChange"},decls:13,vars:6,consts:[[1,"pagination-wrapper"],[1,"page-size-selector"],["for","pageSize"],["id","pageSize",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"pagination-controls"],[3,"click","disabled"],[3,"value"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"label",2),d(3,"Afi\u0219eaz\u0103 pe pagin\u0103:"),c(),l(4,"select",3),ne("ngModelChange",function(u){return te(r.pageSize,u)||(r.pageSize=u),u}),S("change",function(){return r.onPageSizeChange(r.pageSize)}),D(5,Pu,2,2,"option",4),c()(),l(6,"div",5)(7,"button",6),S("click",function(){return r.goToPreviousPage()}),d(8,"\u2190"),c(),l(9,"span"),d(10),c(),l(11,"button",6),S("click",function(){return r.goToNextPage()}),d(12,"\u2192"),c()()()),t&2&&(m(4),ee("ngModel",r.pageSize),m(),y("ngForOf",r.pageSizeOptions),m(2),y("disabled",r.currentPage===1),m(3),Ia("Pagina ",r.currentPage," din ",r.getTotalPages(),""),m(),y("disabled",r.currentPage===r.getTotalPages()))},dependencies:[ue,Dt,gn,_n,Pt,Ne,X,Be],styles:[".pagination-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:32px;flex-wrap:wrap;margin-top:24px;font-family:Roboto Mono,monospace}.page-size-selector[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:16px}.page-size-selector[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0}.page-size-selector[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:4px 6px;border:1px solid #aaa;border-radius:4px;font-size:15px;font-family:Roboto Mono,monospace}.pagination-controls[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;font-size:16px}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border:2px solid #000;background-color:#d9c8ff;border-radius:4px;font-weight:700;cursor:pointer;font-family:Roboto Mono,monospace}.pagination-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:default}"]})};var yn=class n{constructor(e){this.router=e}requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""};formSubmit=new j;close=new j;submitRequest(){this.formSubmit.emit(this.requestForm)}closeForm(){this.close.emit()}static \u0275fac=function(t){return new(t||n)(A(Se))};static \u0275cmp=R({type:n,selectors:[["app-request-form"]],inputs:{requestForm:"requestForm"},outputs:{formSubmit:"formSubmit",close:"close"},decls:23,vars:4,consts:[[1,"overlay"],[1,"request-form-wrapper"],[1,"close-button",3,"click"],[1,"request-form"],[1,"form-row"],["type","datetime-local","name","startDate","required","",3,"ngModelChange","ngModel"],["type","tel","name","phoneNumber","required","",3,"ngModelChange","ngModel"],["type","text","name","address","required","",3,"ngModelChange","ngModel"],["name","description","rows","4","required","",3,"ngModelChange","ngModel"],[1,"center-button"],["type","submit",3,"click"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"button",2),S("click",function(){return r.closeForm()}),d(3,"\xD7"),c(),l(4,"h2"),d(5,"Trimite o solicitare"),c(),l(6,"form",3)(7,"div",4)(8,"label"),d(9," Data \u0219i ora dorite: "),l(10,"input",5),ne("ngModelChange",function(u){return te(r.requestForm.requestedStartDate,u)||(r.requestForm.requestedStartDate=u),u}),c()(),l(11,"label"),d(12," Num\u0103r de telefon: "),l(13,"input",6),ne("ngModelChange",function(u){return te(r.requestForm.phoneNumber,u)||(r.requestForm.phoneNumber=u),u}),c()()(),l(14,"label"),d(15," Adres\u0103: "),l(16,"input",7),ne("ngModelChange",function(u){return te(r.requestForm.address,u)||(r.requestForm.address=u),u}),c()(),l(17,"label"),d(18," Descrierea solicit\u0103rii: "),l(19,"textarea",8),ne("ngModelChange",function(u){return te(r.requestForm.description,u)||(r.requestForm.description=u),u}),c()(),l(20,"div",9)(21,"button",10),S("click",function(){return r.submitRequest()}),d(22,"Trimite solicitarea"),c()()()()()),t&2&&(m(10),ee("ngModel",r.requestForm.requestedStartDate),m(3),ee("ngModel",r.requestForm.phoneNumber),m(3),ee("ngModel",r.requestForm.address),m(3),ee("ngModel",r.requestForm.description))},dependencies:[se,X,ot,ke,Ne,rt,si,Be,gt,Dt],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;display:flex;justify-content:center;align-items:center;z-index:1000}.request-form-wrapper[_ngcontent-%COMP%]{position:relative;max-width:600px;margin:2rem auto;background-color:#e8d9ff;border:2px solid #000;padding:2rem;font-family:Roboto Mono,monospace}.request-form-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center}.request-form-wrapper[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;margin-bottom:1.5rem}.request-form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem;font-size:.95rem}.form-row[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-bottom:1rem}.form-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;font-family:Roboto Mono,monospace;font-size:.9rem}.request-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .request-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.5rem;border:1px solid #999;border-radius:4px;font-family:Roboto Mono,monospace;background-color:#fff}.request-form[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.center-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem 1rem;border:2px solid #000;border-radius:6px;background-color:#c9b7ff;font-weight:700;cursor:pointer;display:flex;justify-content:center;font-family:Roboto Mono,monospace}.request-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#dcdcdc;color:#888;cursor:not-allowed}"]})};var Du=n=>["/specialist",n];function Mu(n,e){if(n&1&&(l(0,"span",18),d(1),c()),n&2){let t=e.$implicit;m(),re(t.name)}}function Ou(n,e){if(n&1){let t=N();l(0,"div",19)(1,"app-request-form",20),S("formSubmit",function(o){M(t);let u=E();return O(u.submitRequest(o))})("close",function(){M(t);let o=E();return O(o.closeRequestForm())}),c()()}if(n&2){let t=E();m(),y("requestForm",t.requestForm)}}var ai=class n{constructor(e){this.router=e}specialist={id:"",fullName:"",email:"",profilePictureUrl:"",phoneNumber:"",address:"",categories:[],yearsExperience:0,description:"",createdAt:new Date,updatedAt:new Date,rating:0};isRequestFormVisible=!1;requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""};specialistId=new j;requestFormSubmit=new j;goToSendRequest(){this.requestForm.receiverUserId=this.specialist.id,this.isRequestFormVisible=!0}closeRequestForm(){this.requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""},this.isRequestFormVisible=!1}submitRequest(e){this.requestFormSubmit.emit(e),this.closeRequestForm()}static \u0275fac=function(t){return new(t||n)(A(Se))};static \u0275cmp=R({type:n,selectors:[["app-specialist-card"]],inputs:{specialist:"specialist"},outputs:{specialistId:"specialistId",requestFormSubmit:"requestFormSubmit"},decls:28,vars:10,consts:[[1,"card"],[1,"avatar-wrapper"],[1,"avatar"],["alt","User avatar",3,"src"],[1,"rating-badge"],["src","assets/star-rating.svg","alt","User star"],[1,"rating-value"],[1,"info"],[1,"full-name",3,"routerLink"],[1,"details-block"],[1,"row"],[1,"categories"],[1,"label"],["class","tag",4,"ngFor","ngForOf"],[1,"experience"],[1,"description"],[1,"request-btn",3,"click"],["class","overlay",4,"ngIf"],[1,"tag"],[1,"overlay"],[3,"formSubmit","close","requestForm"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2),k(3,"img",3),c(),l(4,"div",4),k(5,"img",5),l(6,"span",6),d(7),c()()(),l(8,"div",7)(9,"h2",8),d(10),c(),l(11,"div",9)(12,"div",10)(13,"div",11)(14,"span",12),d(15,"Categorii:"),c(),D(16,Mu,2,1,"span",13),c(),l(17,"div",14)(18,"span",12),d(19,"Ani experien\u021B\u0103:"),c(),d(20),c()(),l(21,"div",15)(22,"span",12),d(23,"Descriere:"),c(),d(24),c()()(),l(25,"button",16),S("click",function(){return r.goToSendRequest()}),d(26,"F\u0103 o solicitare"),c()(),D(27,Ou,2,1,"div",17)),t&2&&(m(3),y("src",r.specialist.profilePictureUrl||"assets/avatar.svg",$e),m(4),re(r.specialist.rating),m(2),y("routerLink",St(8,Du,r.specialist.id)),m(),F(" ",r.specialist.fullName," "),m(6),y("ngForOf",r.specialist.categories),m(4),F(" ",r.specialist.yearsExperience," "),m(4),F(" ",r.specialist.description," "),m(3),y("ngIf",r.isRequestFormVisible))},dependencies:[se,ue,Y,yn,it],styles:[".card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#cfbdfe;padding:20px;width:100%;gap:20px;justify-content:space-between;box-sizing:border-box;font-family:Roboto Mono,monospace}.info[_ngcontent-%COMP%]{flex:1}.full-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-top:.25rem;margin-bottom:.5rem}.full-name[_ngcontent-%COMP%]:hover{text-decoration:underline}.details-block[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:12px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.categories[_ngcontent-%COMP%], .experience[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{font-size:.95rem}.label[_ngcontent-%COMP%]{font-weight:700;margin-right:6px}.tag[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem}.request-btn[_ngcontent-%COMP%]{background-color:#9a83db;padding:32px 24px;border:none;border-radius:8px;font-weight:700;cursor:pointer;font-family:Roboto Mono,monospace}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:100px;aspect-ratio:1/1}.avatar[_ngcontent-%COMP%]{position:relative;width:100px;height:100px;overflow:hidden}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;background-color:#e6dfff;object-fit:cover;display:block}.rating-badge[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;display:inline-flex;align-items:center;gap:.3em;background:#fff;padding:.2em .5em;border-radius:.6em;font-size:1em;box-shadow:0 1px 4px #0000001a}.rating-badge[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1em;height:1em}"]})};var er=class n{constructor(){}geocodeAddress(e){return ae(this,null,function*(){if(!window.google||!window.google.maps)throw new Error("Google Maps API not loaded");let t=new google.maps.Geocoder;return new Promise((r,o)=>{t.geocode({address:e},(u,_)=>{if(_===google.maps.GeocoderStatus.OK&&u&&u[0]){let T=u[0].geometry.location;r({lat:T.lat(),lng:T.lng()})}else r(null)})})})}geocodeAddresses(e){let t=e.map(r=>this.geocodeAddress(r));return an(Promise.all(t))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var tr=class n{constructor(){}getCurrentPosition(){return navigator.geolocation?an(new Promise((e,t)=>{navigator.geolocation.getCurrentPosition(r=>e(r),r=>t(r),{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})})):va(()=>new Error("Geolocation is not supported by this browser."))}calculateDistance(e,t,r,o){let _=this.deg2rad(r-e),T=this.deg2rad(o-t),V=Math.sin(_/2)*Math.sin(_/2)+Math.cos(this.deg2rad(e))*Math.cos(this.deg2rad(r))*Math.sin(T/2)*Math.sin(T/2);return 6371*(2*Math.atan2(Math.sqrt(V),Math.sqrt(1-V)))}deg2rad(e){return e*(Math.PI/180)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var vn=class n{constructor(e,t,r,o){this.http=e;this.authService=t;this.geocodingService=r;this.geolocationService=o}baseUrl="http://localhost:5241/api/Specialist";getSpecialists(e,t,r){let o=this.authService.getToken(),u=new L({Authorization:`Bearer ${o}`}),_=new Ye().set("search",e||"").set("page",t).set("pageSize",r);return this.http.get(`${this.baseUrl}/GetPage`,{headers:u,params:_})}getSpecialist(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{headers:r})}addSpecialist(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.post(`${this.baseUrl}/Add`,e,{headers:r})}updateSpecialist(e,t){let r=this.authService.getToken(),o=new L({Authorization:`Bearer ${r}`});return this.http.patch(`${this.baseUrl}/Update/${e}`,t,{headers:o})}deleteSpecialist(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.delete(`${this.baseUrl}/Delete/${e}`,{headers:r})}static \u0275fac=function(t){return new(t||n)(W(_e),W(q),W(er),W(tr))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var bn=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Request";addRequest(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.post(`${this.baseUrl}/Add`,e,{headers:r})}acceptRequest(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Accept/${e}`,{},{headers:r})}rejectRequest(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Reject/${e}`,{},{headers:r})}cancelRequest(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Cancel/${e}`,{},{headers:r})}static \u0275fac=function(t){return new(t||n)(W(_e),W(q))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var ku=()=>[5,10,20];function Nu(n,e){n&1&&k(0,"div",13)}function Fu(n,e){if(n&1){let t=N();fe(0),l(1,"app-specialist-card",11),S("specialistId",function(o){let u=M(t).$implicit;return O(u.id=o)})("requestFormSubmit",function(o){M(t);let u=E();return O(u.addRequest(o))}),c(),D(2,Nu,1,0,"div",12),ge()}if(n&2){let t=e.$implicit,r=e.index,o=E();m(),y("specialist",t),m(),y("ngIf",r<o.users.length-1)}}var nr=class n{constructor(e,t){this.homeService=e;this.userRequestService=t}searchTerm="";currentPage=1;pageSize=10;totalItems=0;entityDetails={};isUserDetailsVisible=!1;users=[];error=null;selectedSpecialist=null;isRequestFormVisible=!1;requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""};dummySpecialists=[{id:"spec-001",fullName:"Andrei Popescu",email:"andrei.popescu@example.com",phoneNumber:"0721123456",address:"Strada Mihai Eminescu 45, Bucure\u0219ti",yearsExperience:5,description:"Traduc\u0103tor medical cu experien\u021B\u0103 \xEEn terminologie clinic\u0103 \u0219i farmaceutic\u0103.",createdAt:new Date("2022-03-10T10:00:00Z"),updatedAt:new Date,rating:5,categories:[{id:"cat-001",name:"Traduceri medicale"},{id:"cat-002",name:"Farmacie"}]},{id:"spec-002",fullName:"Ioana Marinescu",email:"ioana.marinescu@example.com",phoneNumber:"0733456789",address:"Bd. Revolu\u021Biei 17, Cluj-Napoca",yearsExperience:8,description:"Specialist \xEEn psihologie cu experien\u021B\u0103 \xEEn redactarea \u0219i corectarea articolelor \u0219tiin\u021Bifice.",createdAt:new Date("2020-11-20T08:30:00Z"),updatedAt:new Date,rating:4},{id:"spec-003",fullName:"Victor Ionescu",email:"victor.ionescu@example.com",phoneNumber:"0744123123",address:"Str. Libert\u0103\u021Bii 88, Ia\u0219i",yearsExperience:3,description:"T\xE2n\u0103r specialist \xEEn tehnologia informa\u021Biei, ofer servicii de consultan\u021B\u0103 \u0219i mentenan\u021B\u0103 software.",createdAt:new Date("2023-01-15T14:45:00Z"),updatedAt:new Date,rating:4.5}];ngOnInit(){this.getPage()}getPage(){this.homeService.getSpecialists(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:e=>{this.users=e.response?.data??[],this.totalItems=e.response?.totalCount??0},error:e=>{this.error=e.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addRequest(e){let t=e;this.userRequestService.addRequest(t).subscribe({next:r=>{alert("Cererea a fost trimis\u0103 cu succes!"),this.closeRequestForm()},error:r=>{console.error("Eroare la trimiterea cererii:",r),alert("Nu s-a putut trimite cererea.")}})}onSearch(e){this.searchTerm=e,this.currentPage=1,this.getPage()}onPageChange(e){this.currentPage=e,this.getPage()}onPageSizeChange(e){this.pageSize=e,this.currentPage=1,this.getPage()}getCategoryNames(e){return e.map(t=>t.name)}closeUserDetails(){this.isUserDetailsVisible=!1,this.entityDetails={}}closeRequestForm(){this.requestForm={receiverUserId:"",requestedStartDate:new Date,phoneNumber:"",address:"",description:""},this.isRequestFormVisible=!1}SpecialistCardComponent=ai;static \u0275fac=function(t){return new(t||n)(A(vn),A(bn))};static \u0275cmp=R({type:n,selectors:[["app-home"]],decls:24,vars:6,consts:[[1,"top-action-button"],["routerLink","/contact-us","routerLinkActive","active",1,"contact-button"],[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"search-box-wrapper"],[3,"searchChanged"],[1,"user-list"],[4,"ngFor","ngForOf"],[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[3,"specialistId","requestFormSubmit","specialist"],["class","separator",4,"ngIf"],[1,"separator"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"a",1),d(2,"Contacteaz\u0103-ne!"),c()(),l(3,"div",2)(4,"div",3)(5,"h1",4),d(6,"Ai o \u021Beav\u0103 spart\u0103?"),c(),l(7,"h1",4),d(8,"\u021Ai s-a stricat chiuveta?"),c(),l(9,"h1"),d(10,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),l(11,"strong",5),d(12,"ExpertEase"),c(),d(13,"!"),c()(),l(14,"div",6)(15,"app-search-input",7),S("searchChanged",function(u){return r.onSearch(u)}),c()(),l(16,"p"),d(17,"Peste "),l(18,"strong"),d(19,"100 de speciali\u0219ti"),c(),d(20," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),c()(),l(21,"div",8),D(22,Fu,3,2,"ng-container",9),c(),l(23,"app-pagination",10),S("pageChange",function(u){return r.onPageChange(u)})("pageSizeChange",function(u){return r.onPageSizeChange(u)}),c()),t&2&&(m(22),y("ngForOf",r.users),m(),y("currentPage",r.currentPage)("pageSize",r.pageSize)("pageSizeOptions",Le(5,ku))("totalItems",r.totalItems))},dependencies:[ai,se,ue,Y,Dt,X,We,st,it,Ua],styles:[".top-action-button[_ngcontent-%COMP%]{position:absolute;top:100px;right:32px;z-index:10}.contact-button[_ngcontent-%COMP%]{text-decoration:none;font-family:Roboto Mono,monospace;font-weight:700;border:1px solid transparent;transition:all .2s ease;color:#000}.contact-button[_ngcontent-%COMP%]:hover{text-decoration:underline}.user-list[_ngcontent-%COMP%]   app-specialist-card[_ngcontent-%COMP%]{border-bottom:1px solid #b7a4dd;padding-bottom:1rem;margin-bottom:1rem}.user-list[_ngcontent-%COMP%]   app-specialist-card[_ngcontent-%COMP%]:last-child{border-bottom:none}.separator[_ngcontent-%COMP%]{height:3px;background-color:#b7a4dd;width:100%}.home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:2rem}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.close-button[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1.2rem;font-size:1.5rem;background:none;border:none;color:#333;font-weight:700;cursor:pointer;transition:transform .2s}.close-button[_ngcontent-%COMP%]:hover{transform:scale(1.2);color:#d11a2a}",".search-box[_ngcontent-%COMP%]{position:relative;width:100%;display:flex;align-items:center;gap:20px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:15px 50px 15px 20px;border:none;background:transparent;outline:none;font-family:Roboto Mono,monospace;font-size:12px}.search-icon-button[_ngcontent-%COMP%]{background:none;border:none;padding:0 16px;font-size:1.2rem;color:#444;cursor:pointer;display:flex;align-items:center;justify-content:center}.search-icon-button[_ngcontent-%COMP%]:hover{color:#000}.search-icon-button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px}"]})};var ir=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-about"]],decls:142,vars:0,consts:[[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"about-info"],[1,"role-sections"],[1,"client-section"],[1,"specialist-section"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),d(3,"Ai o \u021Beav\u0103 spart\u0103?"),c(),l(4,"h1",2),d(5,"\u021Ai s-a stricat chiuveta?"),c(),l(6,"h1"),d(7,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),l(8,"strong",3),d(9,"ExpertEase"),c(),d(10,"!"),c()(),l(11,"p"),d(12,"Peste "),l(13,"strong"),d(14,"100 de speciali\u0219ti"),c(),d(15," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),c()(),l(16,"div",4)(17,"section")(18,"h2"),d(19,"Cine suntem noi?"),c(),l(20,"p"),d(21,"Compania "),l(22,"strong"),d(23,"ExpertEase"),c(),d(24," se ocup\u0103 cu problemele tale \xEEn materie de repara\u021Bii sau instala\u021Bii."),c()(),l(25,"section")(26,"h2"),d(27,"Cum facem asta?"),c(),l(28,"p"),d(29,"\xCE\u021Bi punem la dispozi\u021Bie "),l(30,"strong"),d(31,"peste 100 de speciali\u0219ti"),c(),d(32," din domeniu, cu varii nivele de experien\u021B\u0103, care sunt preocupa\u021Bi \xEEn a \xEE\u021Bi rezolva problema."),c()(),l(33,"section")(34,"h2"),d(35,"Cum func\u021Bioneaz\u0103 platforma?"),c(),l(36,"p"),d(37,"Platforma noastr\u0103 este simplu de utilizat. Po\u021Bi c\u0103uta speciali\u0219ti dup\u0103 domeniu, po\u021Bi vedea recenziile altor clien\u021Bi \u0219i po\u021Bi contacta direct specialistul pentru a discuta detaliile repara\u021Biei sau instala\u021Biei."),c()(),l(38,"section")(39,"h2"),d(40,"De ce s\u0103 ne alegi?"),c(),l(41,"p"),d(42,"ExpertEase \xEE\u021Bi ofer\u0103 acces rapid \u0219i u\u0219or la o re\u021Bea extins\u0103 de speciali\u0219ti, asigur\xE2ndu-te c\u0103 vei g\u0103si pe cineva potrivit pentru nevoile tale. \xCEn plus, platforma noastr\u0103 este gratuit\u0103 pentru utilizatori!"),c()(),l(43,"div",5)(44,"section",6)(45,"h2"),d(46,"Ce poate face un client?"),c(),l(47,"p"),d(48,"Pe platforma ExpertEase, clien\u021Bii pot:"),c(),l(49,"ol")(50,"li")(51,"strong"),d(52,"Crea un cont"),c(),k(53,"br"),d(54," \xCE\u021Bi faci un cont rapid \u0219i ai acces la panoul t\u0103u personal."),c(),l(55,"li")(56,"strong"),d(57,"C\u0103uta speciali\u0219ti"),c(),k(58,"br"),d(59," Po\u021Bi filtra speciali\u0219tii dup\u0103: "),l(60,"ul")(61,"li"),d(62,"Categorie (ex. Psihologie, Drept, IT)"),c(),l(63,"li"),d(64,"Ani de experien\u021B\u0103"),c(),l(65,"li"),d(66,"Adres\u0103 (cu op\u021Biune de c\u0103utare pe hart\u0103)"),c()()(),l(67,"li")(68,"strong"),d(69,"Trimite o cerere"),c(),k(70,"br"),d(71," Dup\u0103 ce g\u0103se\u0219ti un specialist potrivit, po\u021Bi trimite o cerere \xEEn care descrii problema sau serviciul dorit \u0219i o dat\u0103 preferat\u0103."),c(),l(72,"li")(73,"strong"),d(74,"Comunic\u0103 prin mesaje"),c(),k(75,"br"),d(76," Vei putea: "),l(77,"ul")(78,"li"),d(79,"Primi r\u0103spunsuri de la specialist"),c(),l(80,"li"),d(81,"Vizualiza propunerea de serviciu \u0219i pre\u021Bul"),c(),l(82,"li"),d(83,"Accepta sau refuza oferta"),c()()(),l(84,"li")(85,"strong"),d(86,"Las\u0103 o recenzie"),c(),k(87,"br"),d(88," Dup\u0103 \xEEncheierea colabor\u0103rii, po\u021Bi scrie o recenzie care ajut\u0103 al\u021Bi utilizatori \u0219i sus\u021Bine calitatea pe platform\u0103."),c(),l(89,"li")(90,"strong"),d(91,"Pl\u0103te\u0219te \xEEn siguran\u021B\u0103"),c(),k(92,"br"),d(93," Pl\u0103\u021Bile se realizeaz\u0103 prin Stripe, \xEEntr-un mod securizat \u0219i transparent. Vei \u0219ti exact c\xE2t pl\u0103te\u0219ti \xEEnainte de confirmare."),c()()(),l(94,"section",7)(95,"h2"),d(96,"Ce poate face un specialist?"),c(),l(97,"p"),d(98,"Speciali\u0219tii au acces la instrumente prin care \xEE\u0219i pot gestiona cererile \u0219i construi o reputa\u021Bie solid\u0103:"),c(),l(99,"ol")(100,"li")(101,"strong"),d(102,"\xCEnregistrare \u0219i verificare profil"),c(),k(103,"br"),d(104," \xCE\u021Bi creezi un cont profesional, alegi domeniul de expertiz\u0103 \u0219i adaugi informa\u021Bii relevante."),c(),l(105,"li")(106,"strong"),d(107,"Prime\u0219ti cereri de la clien\u021Bi"),c(),k(108,"br"),d(109," Vei fi notificat atunci c\xE2nd un client te contacteaz\u0103. Po\u021Bi: "),l(110,"ul")(111,"li"),d(112,"Analiza cererea"),c(),l(113,"li"),d(114,"Accepta, refuza sau propune o ofert\u0103 alternativ\u0103"),c()()(),l(115,"li")(116,"strong"),d(117,"Trimite un r\u0103spuns detaliat"),c(),k(118,"br"),d(119," Po\u021Bi r\u0103spunde cu: "),l(120,"ul")(121,"li"),d(122,"Detalii despre serviciu"),c(),l(123,"li"),d(124,"Dat\u0103 propus\u0103"),c(),l(125,"li"),d(126,"Pre\u021B"),c()()(),l(127,"li")(128,"strong"),d(129,"Gestioneaz\u0103 conversa\u021Biile"),c(),k(130,"br"),d(131," Ai acces la un sistem de mesagerie clar \u0219i sigur, unde po\u021Bi urm\u0103ri fiecare cerere \xEEn parte."),c(),l(132,"li")(133,"strong"),d(134,"Prime\u0219te pl\u0103\u021Bi direct"),c(),k(135,"br"),d(136," Prin conectarea contului t\u0103u Stripe Express, po\u021Bi primi banii direct \xEEn contul bancar."),c(),l(137,"li")(138,"strong"),d(139,"Prime\u0219te recenzii"),c(),k(140,"br"),d(141," Dup\u0103 fiecare colaborare, clien\u021Bii pot l\u0103sa o recenzie care te va ajuta s\u0103 c\xE2\u0219tigi \xEEncrederea altor utilizatori."),c()()()()())},styles:['@charset "UTF-8";.home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.about-info[_ngcontent-%COMP%]{max-width:1600px;margin:10px auto;padding:0 24px;font-family:Roboto Mono,monospace;font-size:16px;line-height:1.6}.about-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px;color:#3c1a7d}.about-info[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{border:2px solid #3c1a7d;border-radius:8px;padding:24px;margin-bottom:32px;background-color:#fff}.role-sections[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:32px;margin-top:32px}.role-sections[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{flex:1 1 45%;border:2px solid #3c1a7d;border-radius:8px;padding:24px;margin-bottom:32px;background-color:#fff;font-family:Roboto Mono,monospace;font-size:16px;line-height:25.6px}.role-sections[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#3c1a7d;font-weight:700;margin-bottom:16px}.role-sections[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:16px}.role-sections[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], .role-sections[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:24px;margin-bottom:24px}.role-sections[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:12px;line-height:25.6px}.role-sections[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:8px;padding-left:20px}@media (max-width: 900px){.role-sections[_ngcontent-%COMP%]{flex-direction:column}.role-sections[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{flex:1 1 100%}}']})};var Lo={firstName:"Prenume",lastName:"Nume",fullName:"Nume complet",email:"Adres\u0103 e-mail",password:"Parol\u0103",role:"Rol",phoneNumber:"Num\u0103r de telefon",address:"Adres\u0103",yearsExperience:"Ani experien\u021B\u0103",description:"Descriere",id:"ID",account:"Cont",transaction:"Tranzac\u021Bie",createdAt:"Creat la",updatedAt:"Actualizat la",categories:"Categorii",name:"Denumire",specialistsCount:"Num\u0103r speciali\u0219ti",specialistIds:"Speciali\u0219tii cu aceast\u0103 categorie"};function De(n,e={},t=Lo){return Object.keys(n).map(r=>{let o=e[r]||{},u=o.type||(o.options?"select":"text"),_=t[r]||Uu(r);return z({key:r,label:_,type:u,placeholder:o.placeholder||`Introdu ${_.toLowerCase()}`,required:o.required??!0,class:o.class||"half-width"},o)})}function Uu(n){return n.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}function Cn(n){if(!n)return{};let e={},t=Object.keys(n);if("id"in n){let r=Lo.id||"id";e[r]=n.id}for(let r of t){if(["id","firstName","lastName"].includes(r))continue;let o=n[r];if(o==null||typeof o=="string"&&o.trim()==="")continue;let u=Lo[r]||r,_=o;typeof o=="string"&&Lu(o)||o instanceof Date?_=bc(o):r.toLowerCase().includes("password")&&(_="********"),e[u]=_}return e}function Lu(n){return/^\d{4}-\d{2}-\d{2}T/.test(n)}function bc(n){let e=new Date(n),t=String(e.getDate()).padStart(2,"0"),r=String(e.getMonth()+1).padStart(2,"0"),o=e.getFullYear();return`${t}.${r}.${o}`}var Bu=n=>({"placeholder-selected":n});function qu(n,e){if(n&1&&(l(0,"div",15),d(1),$(2,"lowercase"),c()),n&2){let t=E(2).$implicit;m(),F(" C\xE2mpul ",de(2,1,t.label)," este obligatoriu. ")}}function zu(n,e){if(n&1){let t=N();l(0,"div")(1,"div",12)(2,"input",13,1),ne("ngModelChange",function(o){M(t);let u=E().$implicit,_=E();return te(_.formData[u.key],o)||(_.formData[u.key]=o),O(o)}),S("input",function(){M(t);let o=E().$implicit,u=E();return O(o.key==="phoneNumber"&&u.liveFormatPhoneNumber(o.key))}),c()(),D(4,qu,3,3,"div",14),c()}if(n&2){let t=Ve(3),r=E().$implicit,o=E();m(2),y("id",r.key)("name",r.key),ee("ngModel",o.formData[r.key]),y("placeholder",r.placeholder)("required",!!r.required),m(2),y("ngIf",r.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function ju(n,e){if(n&1&&(l(0,"div",15),d(1),$(2,"lowercase"),c()),n&2){let t=E(2).$implicit;m(),F(" C\xE2mpul ",de(2,1,t.label)," este obligatoriu. ")}}function $u(n,e){if(n&1){let t=N();l(0,"div")(1,"div",12)(2,"input",16,1),ne("ngModelChange",function(o){M(t);let u=E().$implicit,_=E();return te(_.formData[u.key],o)||(_.formData[u.key]=o),O(o)}),c()(),D(4,ju,3,3,"div",14),c()}if(n&2){let t=Ve(3),r=E().$implicit,o=E();m(2),y("id",r.key)("name",r.key),ee("ngModel",o.formData[r.key]),y("placeholder",r.placeholder)("required",!!r.required),m(2),y("ngIf",r.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function Gu(n,e){if(n&1&&(l(0,"div",15),d(1),$(2,"lowercase"),c()),n&2){let t=E(2).$implicit;m(),F(" C\xE2mpul ",de(2,1,t.label)," este obligatoriu. ")}}function Ku(n,e){if(n&1){let t=N();l(0,"div")(1,"div",12)(2,"input",17,1),ne("ngModelChange",function(o){M(t);let u=E().$implicit,_=E();return te(_.formData[u.key],o)||(_.formData[u.key]=o),O(o)}),c()(),D(4,Gu,3,3,"div",14),c()}if(n&2){let t=Ve(3),r=E().$implicit,o=E();m(2),y("id",r.key)("name",r.key),ee("ngModel",o.formData[r.key]),y("placeholder",r.placeholder)("required",!!r.required),m(2),y("ngIf",r.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function Wu(n,e){if(n&1&&(l(0,"div",15),d(1),$(2,"lowercase"),c()),n&2){let t=E(2).$implicit;m(),F(" C\xE2mpul ",de(2,1,t.label)," este obligatoriu. ")}}function Hu(n,e){if(n&1){let t=N();l(0,"div")(1,"div",12)(2,"input",18,1),ne("ngModelChange",function(o){M(t);let u=E().$implicit,_=E();return te(_.formData[u.key],o)||(_.formData[u.key]=o),O(o)}),c()(),D(4,Wu,3,3,"div",14),c()}if(n&2){let t=Ve(3),r=E().$implicit,o=E();m(2),y("id",r.key)("name",r.key),ee("ngModel",o.formData[r.key]),y("placeholder",r.placeholder)("required",!!r.required),m(2),y("ngIf",r.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function Qu(n,e){if(n&1&&(l(0,"option",23),d(1),c()),n&2){let t=e.$implicit;y("value",t),m(),re(t)}}function Ju(n,e){if(n&1&&(l(0,"div",15),d(1),$(2,"lowercase"),c()),n&2){let t=E(2).$implicit;m(),F(" C\xE2mpul ",de(2,1,t.label)," este obligatoriu. ")}}function Yu(n,e){if(n&1){let t=N();l(0,"div")(1,"div",19)(2,"select",20,1),ne("ngModelChange",function(o){M(t);let u=E().$implicit,_=E();return te(_.formData[u.key],o)||(_.formData[u.key]=o),O(o)}),l(4,"option",21),d(5),c(),D(6,Qu,2,2,"option",22),c()(),D(7,Ju,3,3,"div",14),c()}if(n&2){let t=Ve(3),r=E().$implicit,o=E();m(2),y("id",r.key)("name",r.key),ee("ngModel",o.formData[r.key]),y("required",!!r.required)("ngClass",St(8,Bu,o.formData[r.key]==="")),m(3),re(r.placeholder||"Selecteaz\u0103 o op\u021Biune"),m(),y("ngForOf",r.options),m(),y("ngIf",r.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function Xu(n,e){if(n&1&&(l(0,"div",15),d(1),$(2,"lowercase"),c()),n&2){let t=E(2).$implicit;m(),F(" C\xE2mpul ",de(2,1,t.label)," este obligatoriu. ")}}function Zu(n,e){if(n&1){let t=N();l(0,"div")(1,"div",12)(2,"textarea",24,1),ne("ngModelChange",function(o){M(t);let u=E().$implicit,_=E();return te(_.formData[u.key],o)||(_.formData[u.key]=o),O(o)}),d(4,"          "),c()(),D(5,Xu,3,3,"div",14),c()}if(n&2){let t=Ve(3),r=E().$implicit,o=E();m(2),y("id",r.key)("name",r.key),ee("ngModel",o.formData[r.key]),y("placeholder",r.placeholder)("required",!!r.required),m(3),y("ngIf",r.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function ed(n,e){if(n&1&&(l(0,"div",15),d(1),$(2,"lowercase"),c()),n&2){let t=E(2).$implicit;m(),F(" C\xE2mpul ",de(2,1,t.label)," este obligatoriu. ")}}function td(n,e){if(n&1){let t=N();l(0,"div")(1,"div",12)(2,"input",25,1),ne("ngModelChange",function(o){M(t);let u=E().$implicit,_=E();return te(_.formData[u.key],o)||(_.formData[u.key]=o),O(o)}),c()(),D(4,ed,3,3,"div",14),c()}if(n&2){let t=Ve(3),r=E().$implicit,o=E();m(2),y("type",r.type)("id",r.key)("name",r.key),ee("ngModel",o.formData[r.key]),y("placeholder",r.placeholder)("required",!!r.required),m(2),y("ngIf",r.required&&t.invalid&&(t.dirty||t.touched||o.formSubmitted))}}function nd(n,e){if(n&1&&(l(0,"div",6)(1,"label",7),d(2),c(),l(3,"div",8),fe(4,9),D(5,zu,5,6,"div",10)(6,$u,5,6,"div",10)(7,Ku,5,6,"div",10)(8,Hu,5,6,"div",10)(9,Yu,8,10,"div",10)(10,Zu,6,6,"div",10)(11,td,5,7,"div",11),ge(),c()()),n&2){let t=e.$implicit;y("ngClass",t.class),m(),y("for",t.key),m(),re(t.label),m(2),y("ngSwitch",t.type),m(),y("ngSwitchCase","text"),m(),y("ngSwitchCase","email"),m(),y("ngSwitchCase","password"),m(),y("ngSwitchCase","number"),m(),y("ngSwitchCase","select"),m(),y("ngSwitchCase","textarea")}}var Fe=class n{fields=[];initialData={};submitText="Submit";formSubmit=new j;formData={};formSubmitted=!1;ngOnChanges(e){e.initialData&&e.initialData.currentValue&&(this.formData=z({},e.initialData.currentValue),this.fields.forEach(t=>{t.key in this.formData||(this.formData[t.key]="")}))}onSubmit(e){this.formSubmitted=!0,console.log(this.formSubmitted),!e.invalid&&this.formSubmit.emit(this.formData)}liveFormatPhoneNumber(e){let t=this.formData[e]||"",r=t.startsWith("+"),o=t.replace(/\D/g,""),u=o;o.length===11&&o.startsWith("40")?u=o.replace(/(\d{2})(\d{3})(\d{3})(\d{3})/,"$1 $2 $3 $4"):o.length===10&&o.startsWith("0")?u=o.replace(/(\d{3})(\d{3})(\d{4})/,"$1 $2 $3"):o.length===9&&(u=o.replace(/(\d{3})(\d{3})(\d{3})/,"$1 $2 $3")),this.formData[e]=r?`+${u}`:u}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-dynamic-form"]],inputs:{fields:"fields",initialData:"initialData",submitText:"submitText"},outputs:{formSubmit:"formSubmit"},features:[jt],decls:6,vars:2,consts:[["formRef","ngForm"],["ctrl","ngModel"],[1,"form-layout",3,"ngSubmit"],["class","form-group",3,"ngClass",4,"ngFor","ngForOf"],[1,"form-group","full-width"],["type","submit",1,"send-button"],[1,"form-group",3,"ngClass"],[3,"for"],[1,"field-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"input-box"],["type","text",3,"ngModelChange","input","id","name","ngModel","placeholder","required"],["class","error",4,"ngIf"],[1,"error"],["type","email",3,"ngModelChange","id","name","ngModel","placeholder","required"],["type","password",3,"ngModelChange","id","name","ngModel","placeholder","required"],["type","number",3,"ngModelChange","id","name","ngModel","placeholder","required"],[1,"select-box"],[3,"ngModelChange","id","name","ngModel","required","ngClass"],["value","","disabled","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["rows","4",3,"ngModelChange","id","name","ngModel","placeholder","required"],[3,"ngModelChange","type","id","name","ngModel","placeholder","required"]],template:function(t,r){if(t&1){let o=N();l(0,"form",2,0),S("ngSubmit",function(){M(o);let _=Ve(1);return O(r.onSubmit(_))}),D(2,nd,12,10,"div",3),l(3,"div",4)(4,"button",5),d(5),c()()()}t&2&&(m(2),y("ngForOf",r.fields),m(3),F(" ",r.submitText," "))},dependencies:[se,Ke,ue,Y,un,dn,Pa,Ma,X,ot,gn,_n,ke,No,Pt,Ne,rt,si,Be,gt],styles:[".grid-form[_ngcontent-%COMP%]{gap:24px 20px;padding:24px 32px;max-width:650px;margin:0 auto;font-family:Roboto Mono,monospace;border:2px solid #c9b7ff;border-radius:6px;box-shadow:0 4px 12px #0000001a}.form-layout[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px 20px;padding:12px 16px;max-width:650px;margin:0 auto}.form-group[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;flex:1;display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{flex:1 1 100%}.form-group.half-width[_ngcontent-%COMP%]{flex:1 1 48%}label[_ngcontent-%COMP%]{margin-bottom:8px}.input-box[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;transition:border-color .3s}.input-box[_ngcontent-%COMP%]:focus-within{border-color:#9a79ff}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;width:100%;font-family:Roboto Mono,monospace;font-size:16px;outline:none}.input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-family:inherit;font-size:1rem;border:none;border-radius:6px;box-sizing:border-box;resize:vertical;background:#e6dfff}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;font-size:16px;outline:none;appearance:auto;font-family:inherit;width:100%}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#a388ff;box-shadow:0 0 3px #a388ff}.placeholder-selected[_ngcontent-%COMP%]{color:#7d7d7f!important}.send-button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:300px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}.send-button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.field-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.error[_ngcontent-%COMP%]{color:#d8000c;font-size:.85rem;margin-top:4px;padding-left:2px}"]})};var rr=class n{constructor(e,t){this.authService=e;this.router=t;let r={firstName:"",lastName:"",email:"",password:""};this.formFields=De(r,{email:{type:"email"},password:{type:"password"}}),console.log(this.formFields)}formFields=[];formData={};errorMessage=null;registerUser(e){let t=e;this.authService.registerUser(t).subscribe({next:()=>{let r={email:t.email,password:t.password};this.authService.loginUser(r).subscribe({next:()=>{this.router.navigate(["/home"])},error:o=>{console.error("Login failed:",o),this.errorMessage=o.error?.errorMessage?.message||"Eroare necunoscut\u0103."}})},error:r=>{console.error("Registration failed:",r),this.errorMessage=r.error?.errorMessage?.message||"Eroare necunoscut\u0103."}})}goToLogin(){this.router.navigate(["/login"])}static \u0275fac=function(t){return new(t||n)(A(q),A(Se))};static \u0275cmp=R({type:n,selectors:[["app-register"]],decls:9,vars:2,consts:[[1,"form-wrapper"],[1,"form-box"],[3,"formSubmit","fields","submitText"],[1,"auth-switch"],[1,"auth-button",3,"click"]],template:function(t,r){t&1&&(l(0,"h2"),d(1,"\xCEnregistrare"),c(),l(2,"div",0)(3,"div",1)(4,"app-dynamic-form",2),S("formSubmit",function(u){return r.registerUser(u)}),c()()(),l(5,"p",3),d(6," Deja ai un cont? "),l(7,"button",4),S("click",function(){return r.goToLogin()}),d(8,"Autentific\u0103-te"),c()()),t&2&&(m(4),y("fields",r.formFields)("submitText","Trimite"))},dependencies:[se,X,Fe],styles:["p[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:16px}h2[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:30px}.auth-button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700}.auth-button[_ngcontent-%COMP%]:hover{color:#6a5799}"]})};var or=class n{constructor(e,t){this.authService=e;this.router=t;let r={email:"",password:""};this.formFields=De(r,{email:{type:"email"},password:{type:"password"}})}formFields=[];formData={};errorMessage=null;loginUser(e){let t=e;this.authService.loginUser(t).subscribe({next:r=>{console.log("Login successful:",r),this.router.navigate(["/home"])},error:r=>{console.error("Login failed:",r),this.errorMessage=r.error?.errorMessage?.message||"Eroare necunoscut\u0103."}})}goToRegister(){this.router.navigate(["/register"])}static \u0275fac=function(t){return new(t||n)(A(q),A(Se))};static \u0275cmp=R({type:n,selectors:[["app-login"]],decls:9,vars:2,consts:[[1,"form-wrapper"],[1,"form-box"],[3,"formSubmit","fields","submitText"],[1,"auth-switch"],[1,"auth-button",3,"click"]],template:function(t,r){t&1&&(l(0,"h2"),d(1,"Autentificare"),c(),l(2,"div",0)(3,"div",1)(4,"app-dynamic-form",2),S("formSubmit",function(u){return r.loginUser(u)}),c()()(),l(5,"p",3),d(6," Nu ai cont? "),l(7,"button",4),S("click",function(){return r.goToRegister()}),d(8,"\xCEnregistreaz\u0103-te"),c()()),t&2&&(m(4),y("fields",r.formFields)("submitText","Trimite"))},dependencies:[se,X,Fe],styles:["p[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:16px}h2[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:30px}.auth-button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700}.auth-button[_ngcontent-%COMP%]:hover{color:#6a5799}"]})};var sr=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-admin"]],decls:15,vars:0,consts:[[1,"grid-form"],[1,"button-group"],["routerLink","/admin/users","routerLinkActive","active",1,"admin-button"],["routerLink","/admin/specialists","routerLinkActive","active",1,"admin-button"],["routerLink","/admin/categories","routerLinkActive","active",1,"admin-button"],[1,"admin-button"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"button",2),d(3,"Utilizatori"),c(),l(4,"button",3),d(5,"Speciali\u0219ti"),c(),l(6,"button",4),d(7,"Categorii"),c(),l(8,"button",5),d(9,"Servicii"),c(),l(10,"button",5),d(11,"Tranzac\u021Bii"),c(),l(12,"button",5),d(13,"Recenzii"),c()()(),k(14,"router-outlet"))},dependencies:[Fi,it],styles:[".grid-form[_ngcontent-%COMP%]{position:absolute;top:calc(50vh - 250px);left:calc(50vw - 400px);width:800px;height:500px;display:flex;flex-direction:column;padding:40px 60px;border:3px solid black;border-radius:4px;box-shadow:0 4px 12px #0000001a;background-color:#cfbdfe;box-sizing:border-box}.button-group[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:32px;width:100%;justify-items:center;margin-top:24px}.admin-button[_ngcontent-%COMP%]{width:100%;height:5vw;background-color:#e6dfff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;border:3px solid #4b358e;border-radius:5px;cursor:pointer;box-shadow:0 2px 6px #0000001a;transition:background-color .3s ease,text-decoration .2s ease;display:flex;align-items:center;justify-content:center;text-align:center}.admin-button[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var Jt=(r=>(r.Admin="Admin",r.Specialist="Specialist",r.Client="Client",r))(Jt||{});function id(n,e){if(n&1&&(l(0,"th"),d(1),c()),n&2){let t=e.$implicit;m(),re(t.header)}}function rd(n,e){if(n&1&&(fe(0),d(1),ge()),n&2){let t=E(2).$implicit,r=E().$implicit;m(),F(" ",t.compute(r)," ")}}function od(n,e){if(n&1&&d(0),n&2){let t=E(2).$implicit,r=E().$implicit;F(" ",r[t.key]," ")}}function sd(n,e){if(n&1&&(fe(0),D(1,rd,2,1,"ng-container",4)(2,od,1,1,"ng-template",null,1,Jn),ge()),n&2){let t=Ve(3),r=E().$implicit;m(),y("ngIf",r.compute)("ngIfElse",t)}}function ad(n,e){if(n&1){let t=N();l(0,"a",6),S("click",function(){let o=M(t).$implicit,u=E(3).$implicit;return O(o.callback(u))}),d(1),c()}if(n&2){let t=e.$implicit;y("ngClass",t.class),m(),F(" ",t.label," ")}}function cd(n,e){if(n&1&&D(0,ad,2,2,"a",5),n&2){let t=E().$implicit;y("ngForOf",t.actions)}}function ld(n,e){if(n&1&&(l(0,"td"),D(1,sd,4,2,"ng-container",4)(2,cd,1,1,"ng-template",null,0,Jn),c()),n&2){let t=e.$implicit,r=Ve(3);m(),y("ngIf",t.type!=="action")("ngIfElse",r)}}function ud(n,e){if(n&1&&(l(0,"tr"),D(1,ld,4,2,"td",3),c()),n&2){let t=E();m(),y("ngForOf",t.columns)}}var Rt=class n{columns=[];data=[];static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-dynamic-table"]],inputs:{columns:"columns",data:"data"},decls:6,vars:2,consts:[["actionCell",""],["directValue",""],[1,"admin-table"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["class","action-link",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"action-link",3,"click","ngClass"]],template:function(t,r){t&1&&(l(0,"table",2)(1,"thead")(2,"tr"),D(3,id,2,1,"th",3),c()(),l(4,"tbody"),D(5,ud,2,1,"tr",3),c()()),t&2&&(m(3),y("ngForOf",r.columns),m(2),y("ngForOf",r.data))},dependencies:[se,Ke,ue,Y,X],styles:[".admin-wrapper[_ngcontent-%COMP%]{text-align:center}.admin-table-container[_ngcontent-%COMP%]{display:inline-block;padding:24px;background-color:#d9c8ff;border:2px solid #4b358e;border-radius:8px;font-family:Roboto Mono,monospace;box-shadow:0 4px 8px #0000001a;margin:40px auto}.admin-table-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.admin-table[_ngcontent-%COMP%]{width:max-content;max-width:100%;margin-left:auto;margin-right:auto;border-collapse:collapse;background-color:#f8f4ff;border-radius:6px}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;white-space:nowrap}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700}.action-link[_ngcontent-%COMP%]{margin-right:12px;cursor:pointer;text-decoration:none;font-weight:700}.action-link.view[_ngcontent-%COMP%]{color:#00f}.action-link.edit[_ngcontent-%COMP%]{color:green}.action-link.delete[_ngcontent-%COMP%]{color:red}.add-btn[_ngcontent-%COMP%]{background-color:#916fc7;color:#fff;border:3px solid #4b358e;margin-top:14px;margin-bottom:20px;padding:8px 16px;font-weight:700;border-radius:6px;cursor:pointer;transition:background-color .3s;font-family:Roboto Mono,monospace}.add-btn[_ngcontent-%COMP%]:hover{background-color:#3a2973}"]})};function dd(n,e){if(n&1&&(fe(0),l(1,"p")(2,"strong"),d(3),c(),d(4),c(),ge()),n&2){let t=E().$implicit,r=E();m(3),F("",r.formatKey(t),":"),m(),F(" ",r.formatValue(r.entity[t])," ")}}function hd(n,e){if(n&1&&(fe(0),D(1,dd,5,2,"ng-container",5),ge()),n&2){let t=e.$implicit;m(),y("ngIf",t!=="ID")}}var Vt=class n{entity={};title="";close=new j;onClose(){this.close.emit()}objectKeys=Object.keys;formatKey(e){return e.includes(" ")||e.includes("-")?e:e.replace(/([A-Z])/g," $1").replace(/^./,t=>t.toUpperCase())}formatValue(e){return typeof e=="boolean"?e?"Da":"Nu":e instanceof Date?e.toLocaleDateString():typeof e=="string"&&e.toLowerCase().includes("password")?"********":e}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-admin-details"]],inputs:{entity:"entity",title:"title"},outputs:{close:"close"},decls:10,vars:3,consts:[[1,"admin-wrapper"],[1,"page-title"],[1,"card"],[1,"divider"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"h2",1),d(2),c(),l(3,"div",2)(4,"p")(5,"strong"),d(6,"ID:"),c(),d(7),c(),k(8,"hr",3),D(9,hd,2,1,"ng-container",4),c()()),t&2&&(m(2),re(r.title),m(5),F(" ",r.entity.ID,""),m(2),y("ngForOf",r.objectKeys(r.entity)))},dependencies:[se,ue,Y],styles:[".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var md=()=>[5,10,20];function fd(n,e){if(n&1){let t=N();l(0,"div",9)(1,"div",10)(2,"div",11)(3,"button",12),S("click",function(){M(t);let o=E();return O(o.closeAddUserForm())}),d(4,"\xD7"),c()(),l(5,"app-dynamic-form",13),S("formSubmit",function(o){M(t);let u=E();return O(u.addEntity(o))}),c()()()}if(n&2){let t=E();m(5),y("fields",t.addEntityFormFields)("submitText","Trimite")}}function gd(n,e){if(n&1){let t=N();l(0,"div",9)(1,"div",10)(2,"button",12),S("click",function(){M(t);let o=E();return O(o.closeUpdateUserForm())}),d(3,"\xD7"),c(),l(4,"app-dynamic-form",14),S("formSubmit",function(o){M(t);let u=E();return O(u.updateEntity(o))}),c()()()}if(n&2){let t=E();m(4),y("fields",t.updateEntityFormFields)("initialData",t.formData)("submitText","Actualizeaz\u0103")}}function _d(n,e){if(n&1){let t=N();l(0,"app-admin-details",18),S("close",function(){M(t);let o=E(2);return O(o.closeUserDetails())}),c()}if(n&2){let t=E(2);y("entity",t.entityDetails)("title","Detalii utilizator")}}function yd(n,e){if(n&1){let t=N();l(0,"div",15)(1,"div",16)(2,"button",12),S("click",function(){M(t);let o=E();return O(o.closeUserDetails())}),d(3,"\xD7"),c(),D(4,_d,1,2,"app-admin-details",17),c()()}if(n&2){let t=E();m(4),y("ngIf",t.isUserDetailsVisible)}}var ar=class n{constructor(e){this.adminService=e}dummy_users=[{id:"m3n4o5p6",fullName:"Ana Georgescu",email:"ana.georgescu@example.com",role:"Admin",createdAt:new Date("2024-09-01T11:30:00Z"),updatedAt:new Date("2025-01-12T13:00:00Z"),rating:4.5},{id:"q7r8s9t0",fullName:"Radu Enache",email:"radu.enache@example.com",role:"Client",createdAt:new Date("2024-08-20T15:45:00Z"),updatedAt:new Date("2025-01-08T11:15:00Z"),rating:4}];searchTerm="";users=[];selectedUser=null;entityDetails={};entityDetailsId;pageSize=10;currentPage=1;totalItems=0;isAddUserFormVisible=!1;isUpdateUserFormVisible=!1;isUserDetailsVisible=!1;selectedUserId=null;placeholder="Caut\u0103 un utilizator...";columns=[{key:"id",header:"ID"},{key:"fullName",header:"Nume"},{key:"email",header:"Email"},{key:"role",header:"Rol"},{key:"actions",header:"Ac\u021Biuni",type:"action",actions:[{label:"Detalii",class:"view",callback:e=>this.getEntity(e.id)},{label:"Modific\u0103",class:"edit",callback:e=>this.editUser(e)},{label:"\u0218terge",class:"delete",callback:e=>this.deleteEntity(e)}]}];defaultUser={fullName:"",email:"",password:"",role:"Client"};formData={};error=null;addEntityFormFields=De(this.defaultUser,{email:{type:"email"},password:{type:"password"},role:{type:"select",options:Object.values(Jt)}});updateEntityFormFields=De({fullName:this.selectedUser?.fullName||"",role:this.selectedUser?.role||""},{role:{type:"select",options:Object.values(Jt)}});ngOnInit(){let e={fullName:"",email:"",password:"",role:"Client"};this.formData=z({},e),this.getPage()}onSearch(e){this.searchTerm=e,this.currentPage=1,this.getPage()}getEntity(e){console.log(e),this.adminService.getUser(e).subscribe({next:t=>{this.entityDetailsId=t.response?.id,this.entityDetails=Cn(t.response??{}),this.isUserDetailsVisible=!0},error:t=>{console.error("Eroare la preluarea utilizatorului:",t),alert("Nu s-au putut \xEEnc\u0103rca detaliile utilizatorului.")}})}getPage(){this.adminService.getUsers(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:e=>{console.log(e.response),this.users=e.response?.data??[],this.totalItems=e.response?.totalCount??0},error:e=>{this.error=e.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addEntity(e){let t=e;this.adminService.addUser(t).subscribe({next:()=>{this.closeAddUserForm(),this.getPage()},error:r=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",r)}})}editUser(e){this.selectedUserId=e.id,this.formData={fullName:e.fullName,role:e.role},this.isUpdateUserFormVisible=!0}updateEntity(e){if(!this.selectedUserId){console.error("Niciun utilizator nu a fost selectat pentru actualizare."),alert("Eroare: Nu a fost selectat niciun utilizator pentru actualizare.");return}let t=e.fullName??[e.firstName,e.lastName].filter(Boolean).join(" ").trim(),r={id:this.selectedUserId,fullName:t,role:e.role};this.adminService.updateUser(this.selectedUserId,r).subscribe({next:()=>{this.closeUpdateUserForm(),this.getPage()},error:o=>{console.error("Eroare la actualizare:",o)}})}showUserDetails(e){this.isUserDetailsVisible=!0}closeUserDetails(){this.isUserDetailsVisible=!1,this.selectedUser=null}closeUpdateUserForm(){this.selectedUserId=null,this.resetForm(),this.isUpdateUserFormVisible=!1}openAddUserForm(){this.selectedUserId=null,this.resetForm(),this.isAddUserFormVisible=!0}viewUser(e){this.isUserDetailsVisible=!0}deleteEntity(e){confirm(`Sigur dori\u021Bi s\u0103 \u0219terge\u021Bi utilizatorul ${e.fullName}?`)&&this.adminService.deleteUser(e.id).subscribe({next:()=>{this.getPage()},error:t=>{console.error("Eroare la \u0219tergerea utilizatorului:",t)}})}closeAddUserForm(){this.isAddUserFormVisible=!1,this.resetForm()}resetForm(){this.formData={firstName:"",lastName:"",email:"",password:"",role:"Client"}}onPageChange(e){this.currentPage=e,this.getPage()}onPageSizeChange(e){this.pageSize=e,this.currentPage=1,this.getPage()}static \u0275fac=function(t){return new(t||n)(A(Li))};static \u0275cmp=R({type:n,selectors:[["app-admin-users"]],decls:13,vars:11,consts:[[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[1,"admin-wrapper"],[1,"admin-table-container"],[1,"search-box-wrapper"],[3,"searchChanged","placeholder"],[1,"add-btn",3,"click"],[3,"columns","data"],["class","modal-overlay",4,"ngIf"],["class","admin-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal"],[1,"close-button-wrapper"],[1,"close-button",3,"click"],[3,"formSubmit","fields","submitText"],[3,"formSubmit","fields","initialData","submitText"],[1,"admin-overlay"],[1,"admin-modal"],[3,"entity","title","close",4,"ngIf"],[3,"close","entity","title"]],template:function(t,r){t&1&&(l(0,"app-pagination",0),S("pageChange",function(u){return r.onPageChange(u)})("pageSizeChange",function(u){return r.onPageSizeChange(u)}),c(),l(1,"div",1)(2,"div",2)(3,"h2"),d(4,"Administreaz\u0103 to\u021Bi utilizatorii"),c(),l(5,"div",3)(6,"app-search-input",4),S("searchChanged",function(u){return r.onSearch(u)}),c()(),l(7,"button",5),S("click",function(){return r.openAddUserForm()}),d(8,"Adaug\u0103 utilizator"),c(),k(9,"app-dynamic-table",6),c()(),D(10,fd,6,2,"div",7)(11,gd,5,3,"div",7)(12,yd,5,1,"div",8)),t&2&&(y("currentPage",r.currentPage)("pageSize",r.pageSize)("pageSizeOptions",Le(10,md))("totalItems",r.totalItems),m(6),y("placeholder",r.placeholder),m(3),y("columns",r.columns)("data",r.users),m(),y("ngIf",r.isAddUserFormVisible),m(),y("ngIf",r.isUpdateUserFormVisible),m(),y("ngIf",r.isUserDetailsVisible))},dependencies:[se,Y,X,Fe,Rt,Vt,We,st],styles:[".admin-wrapper[_ngcontent-%COMP%]{text-align:center}.admin-table-container[_ngcontent-%COMP%]{display:inline-block;padding:24px;background-color:#d9c8ff;border:2px solid #4b358e;border-radius:8px;font-family:Roboto Mono,monospace;box-shadow:0 4px 8px #0000001a;margin:40px auto}.admin-table-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.admin-table[_ngcontent-%COMP%]{width:max-content;max-width:100%;margin-left:auto;margin-right:auto;border-collapse:collapse;background-color:#f8f4ff;border-radius:6px}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;white-space:nowrap}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700}.action-link[_ngcontent-%COMP%]{margin-right:12px;cursor:pointer;text-decoration:none;font-weight:700}.action-link.view[_ngcontent-%COMP%]{color:#00f}.action-link.edit[_ngcontent-%COMP%]{color:green}.action-link.delete[_ngcontent-%COMP%]{color:red}.add-btn[_ngcontent-%COMP%]{background-color:#916fc7;color:#fff;border:3px solid #4b358e;margin-top:14px;margin-bottom:20px;padding:8px 16px;font-weight:700;border-radius:6px;cursor:pointer;transition:background-color .3s;font-family:Roboto Mono,monospace}.add-btn[_ngcontent-%COMP%]:hover{background-color:#3a2973}",".grid-form[_ngcontent-%COMP%]{gap:24px 20px;padding:24px 32px;max-width:650px;margin:0 auto;font-family:Roboto Mono,monospace;border:2px solid #c9b7ff;border-radius:6px;box-shadow:0 4px 12px #0000001a}.form-layout[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px 20px;padding:12px 16px;max-width:650px;margin:0 auto}.form-group[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;flex:1;display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{flex:1 1 100%}.form-group.half-width[_ngcontent-%COMP%]{flex:1 1 48%}label[_ngcontent-%COMP%]{margin-bottom:8px}.input-box[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;transition:border-color .3s}.input-box[_ngcontent-%COMP%]:focus-within{border-color:#9a79ff}.input-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:transparent;border:none;padding:0;width:100%;font-family:Roboto Mono,monospace;font-size:16px;outline:none}.input-box[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{width:100%;padding:10px;font-family:inherit;font-size:1rem;border:none;border-radius:6px;box-sizing:border-box;resize:vertical;background:#e6dfff}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:5px;padding:8px;box-shadow:0 2px 6px #00000014;font-size:16px;outline:none;appearance:auto;font-family:inherit;width:100%}.select-box[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#a388ff;box-shadow:0 0 3px #a388ff}.placeholder-selected[_ngcontent-%COMP%]{color:#7d7d7f!important}.send-button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:300px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}.send-button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.field-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column}.error[_ngcontent-%COMP%]{color:#d8000c;font-size:.85rem;margin-top:4px;padding-left:2px}",".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var vd=["class","users"],bd=()=>[5,10,20];function Cd(n,e){if(n&1){let t=N();l(0,"div",9)(1,"div",10)(2,"div",11)(3,"button",12),S("click",function(){M(t);let o=E();return O(o.closeAddUserForm())}),d(4,"\xD7"),c()(),l(5,"app-dynamic-form",13),S("formSubmit",function(o){M(t);let u=E();return O(u.addEntity(o))}),c()()()}if(n&2){let t=E();m(5),y("fields",t.addEntityFormFields)("submitText","Adaug\u0103")}}function wd(n,e){if(n&1){let t=N();l(0,"div",9)(1,"div",10)(2,"button",12),S("click",function(){M(t);let o=E();return O(o.closeUpdateUserForm())}),d(3,"\xD7"),c(),l(4,"app-dynamic-form",14),S("formSubmit",function(o){M(t);let u=E();return O(u.updateEntity(o))}),c()()()}if(n&2){let t=E();m(4),y("fields",t.updateEntityFormFields)("initialData",t.formData)("submitText","Actualizeaz\u0103")}}function xd(n,e){if(n&1){let t=N();l(0,"app-admin-details",17),S("close",function(){M(t);let o=E(2);return O(o.closeUserDetails())}),c()}if(n&2){let t=E(2);y("entity",t.entityDetails)("title","Detalii specialist")}}function Ed(n,e){if(n&1){let t=N();l(0,"div",15)(1,"div",10)(2,"button",12),S("click",function(){M(t);let o=E();return O(o.closeUserDetails())}),d(3,"\xD7"),c(),D(4,xd,1,2,"app-admin-details",16),c()()}if(n&2){let t=E();m(4),y("ngIf",t.isUserDetailsVisible)}}var cr=class n{constructor(e){this.adminService=e;let t={fullName:"",email:"",password:"",phoneNumber:"",address:"",yearsExperience:0,description:""};this.formData=z({},t),this.getPage()}searchTerm="";users=[];selectedUser=null;entityDetails={};entityDetailsId;pageSize=10;currentPage=1;totalItems=0;isAddUserFormVisible=!1;isUpdateUserFormVisible=!1;isUserDetailsVisible=!1;selectedUserId=null;placeholder="Caut\u0103 un specialist...";columns=[{key:"id",header:"ID"},{key:"fullName",header:"Nume"},{key:"email",header:"Email"},{key:"phoneNumber",header:"Num\u0103r de telefon"},{key:"address",header:"Adres\u0103"},{key:"actions",header:"Ac\u021Biuni",type:"action",actions:[{label:"Detalii",class:"view",callback:e=>this.getEntity(e.id)},{label:"Modific\u0103",class:"edit",callback:e=>this.editUser(e)},{label:"\u0218terge",class:"delete",callback:e=>this.deleteUser(e)}]}];defaultUser={fullName:"",email:"",password:"",phoneNumber:"",address:"",yearsExperience:0,description:""};formData={};error=null;addEntityFormFields=De(this.defaultUser,{email:{type:"email"},password:{type:"password"},yearsExperience:{type:"number",placeholder:"Ex: 5"},description:{type:"textarea",placeholder:"Descrie serviciile oferite",class:"full-width"}});updateEntityFormFields=De({fullName:this.selectedUser?.fullName||"",phoneNumber:this.selectedUser?.phoneNumber||"",address:this.selectedUser?.address||"",yearsExperience:this.selectedUser?.yearsExperience||"",description:this.selectedUser?.description||""});onSearch(e){this.searchTerm=e,this.currentPage=1,this.getPage()}getEntity(e){this.adminService.getSpecialist(e).subscribe({next:t=>{this.entityDetailsId=t.response?.id,console.log(t.response),this.entityDetails=Cn(t.response??{}),this.isUserDetailsVisible=!0},error:t=>{console.error("Eroare la preluarea utilizatorului:",t),alert("Nu s-au putut \xEEnc\u0103rca detaliile utilizatorului.")}})}getPage(){this.adminService.getSpecialists(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:e=>{this.users=e.response?.data??[],this.totalItems=e.response?.totalCount??0},error:e=>{this.error=e.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addEntity(e){let t=e;this.adminService.addSpecialist(t).subscribe({next:()=>{this.closeAddUserForm(),this.getPage()},error:r=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",r)}})}editUser(e){this.selectedUserId=e.id,this.formData={fullName:e.fullName,phoneNumber:e.phoneNumber,address:e.address,yearsExperience:e.yearsExperience,description:e.description},this.isUpdateUserFormVisible=!0}updateEntity(e){if(console.log("Form data submitted:",e),!this.selectedUserId){console.error("Niciun utilizator nu a fost selectat pentru actualizare."),alert("Eroare: Nu a fost selectat niciun utilizator pentru actualizare.");return}let t={id:this.selectedUserId,fullName:e.fullName,phoneNumber:e.phoneNumber,address:e.address,yearsExperience:e.yearsExperience,description:e.description};console.log("Update payload:",t),this.adminService.updateSpecialist(this.selectedUserId,t).subscribe({next:()=>{console.log(),this.closeUpdateUserForm(),this.getPage()},error:r=>{console.error("Eroare la actualizare:",r)}})}closeUserDetails(){this.isUserDetailsVisible=!1,this.entityDetails={}}closeUpdateUserForm(){this.selectedUserId=null,this.resetForm(),this.isUpdateUserFormVisible=!1}openAddUserForm(){this.selectedUserId=null,this.resetForm(),this.isAddUserFormVisible=!0}viewUser(e){this.isUserDetailsVisible=!0}deleteUser(e){confirm(`Sigur dori\u021Bi s\u0103 \u0219terge\u021Bi utilizatorul ${e.fullName}?`)&&this.adminService.deleteSpecialist(e.id).subscribe({next:()=>{this.getPage()},error:t=>{console.error("Eroare la \u0219tergerea utilizatorului:",t)}})}closeAddUserForm(){this.isAddUserFormVisible=!1,this.resetForm()}resetForm(){this.formData={firstName:"",lastName:"",email:"",password:"",role:"Client"}}getTotalPages(){return Math.ceil(this.totalItems/this.pageSize)}onPageSizeChange(e){this.pageSize=e,this.currentPage=1,this.getPage()}onPageChange(e){this.currentPage=e,this.getPage()}static \u0275fac=function(t){return new(t||n)(A(vn))};static \u0275cmp=R({type:n,selectors:[["app-admin",8,"users"]],attrs:vd,decls:13,vars:11,consts:[[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[1,"admin-wrapper"],[1,"admin-table-container"],[1,"search-box-wrapper"],[3,"searchChanged","placeholder"],[1,"add-btn",3,"click"],[3,"columns","data"],["class","modal-overlay",4,"ngIf"],["class","admin-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal"],[1,"close-button-wrapper"],[1,"close-button",3,"click"],[3,"formSubmit","fields","submitText"],[3,"formSubmit","fields","initialData","submitText"],[1,"admin-overlay"],[3,"entity","title","close",4,"ngIf"],[3,"close","entity","title"]],template:function(t,r){t&1&&(l(0,"app-pagination",0),S("pageChange",function(u){return r.onPageChange(u)})("pageSizeChange",function(u){return r.onPageSizeChange(u)}),c(),l(1,"div",1)(2,"div",2)(3,"h2"),d(4,"Administreaz\u0103 to\u021Bi speciali\u0219tii"),c(),l(5,"div",3)(6,"app-search-input",4),S("searchChanged",function(u){return r.onSearch(u)}),c()(),l(7,"button",5),S("click",function(){return r.openAddUserForm()}),d(8,"Adaug\u0103 specialist"),c(),k(9,"app-dynamic-table",6),c()(),D(10,Cd,6,2,"div",7)(11,wd,5,3,"div",7)(12,Ed,5,1,"div",8)),t&2&&(y("currentPage",r.currentPage)("pageSize",r.pageSize)("pageSizeOptions",Le(10,bd))("totalItems",r.totalItems),m(6),y("placeholder",r.placeholder),m(3),y("columns",r.columns)("data",r.users),m(),y("ngIf",r.isAddUserFormVisible),m(),y("ngIf",r.isUpdateUserFormVisible),m(),y("ngIf",r.isUserDetailsVisible))},dependencies:[X,Vt,Fe,Rt,Y,We,st],styles:[".admin-wrapper[_ngcontent-%COMP%]{text-align:center}.admin-table-container[_ngcontent-%COMP%]{display:inline-block;padding:24px;background-color:#d9c8ff;border:2px solid #4b358e;border-radius:8px;font-family:Roboto Mono,monospace;box-shadow:0 4px 8px #0000001a;margin:40px auto}.admin-table-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.admin-table[_ngcontent-%COMP%]{width:max-content;max-width:100%;margin-left:auto;margin-right:auto;border-collapse:collapse;background-color:#f8f4ff;border-radius:6px}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;white-space:nowrap}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700}.action-link[_ngcontent-%COMP%]{margin-right:12px;cursor:pointer;text-decoration:none;font-weight:700}.action-link.view[_ngcontent-%COMP%]{color:#00f}.action-link.edit[_ngcontent-%COMP%]{color:green}.action-link.delete[_ngcontent-%COMP%]{color:red}.add-btn[_ngcontent-%COMP%]{background-color:#916fc7;color:#fff;border:3px solid #4b358e;margin-top:14px;margin-bottom:20px;padding:8px 16px;font-weight:700;border-radius:6px;cursor:pointer;transition:background-color .3s;font-family:Roboto Mono,monospace}.add-btn[_ngcontent-%COMP%]:hover{background-color:#3a2973}",".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var lr=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-unauthorized"]],decls:6,vars:0,consts:[["routerLink","/home"]],template:function(t,r){t&1&&(l(0,"h2"),d(1,"Acces restric\u021Bionat"),c(),l(2,"p"),d(3,"Nu ai permisiunea necesar\u0103 pentru a accesa aceast\u0103 pagin\u0103."),c(),l(4,"a",0),d(5,"\xCEnapoi la pagina principal\u0103"),c())},encapsulation:2})};var ur=class n{constructor(e,t){this.authService=e;this.router=t}canActivate(){return this.authService.getToken()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(t){return new(t||n)(W(q),W(Se))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};function Id(n,e){if(n&1&&k(0,"img",2),n&2){let t=E();y("src",t.icon,$e)}}var dr=class n{label;icon;onClick=new j;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-icon-button"]],inputs:{label:"label",icon:"icon"},outputs:{onClick:"onClick"},decls:4,vars:2,consts:[[1,"icon-button",3,"click"],["alt","icon","class","button-icon",3,"src",4,"ngIf"],["alt","icon",1,"button-icon",3,"src"]],template:function(t,r){t&1&&(l(0,"button",0),S("click",function(){return r.onClick.emit()}),D(1,Id,1,1,"img",1),l(2,"span"),d(3),c()()),t&2&&(m(),y("ngIf",r.icon),m(2),re(r.label))},dependencies:[se,Y],styles:[".icon-button[_ngcontent-%COMP%]{width:260px;height:55px;display:flex;align-items:center;gap:12px;padding:12px 24px;font-size:16px;font-weight:500;border:3px solid #4f378a;background-color:#f3e6ff;border-radius:10px;cursor:pointer;transition:background .2s ease;font-family:Roboto Mono,monospace}.icon-button[_ngcontent-%COMP%]:hover{background-color:#a197be}.icon-button[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{width:24px;height:24px;object-fit:contain}"]})};var wn=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Photo";addProfilePicture(e){let t=new FormData;t.append("file",e);let r=this.authService.getToken(),o=new L({Authorization:`Bearer ${r}`});return this.http.post(`${this.baseUrl}/AddProfilePicture`,t,{headers:o})}updateProfilePicture(e){let t=new FormData;t.append("file",e);let r=this.authService.getToken(),o=new L({Authorization:`Bearer ${r}`});return this.http.patch(`${this.baseUrl}/UpdateProfilePicture`,t,{headers:o})}addPortfolioPicture(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.post(`${this.baseUrl}/AddPortfolioPicture`,e,{headers:r})}deletePortfolioPicture(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.delete(`${this.baseUrl}/DeletePortfolioPicture/${e}`,{headers:r})}static \u0275fac=function(t){return new(t||n)(W(_e),W(q))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};function Sd(n,e){if(n&1&&(l(0,"span",21),d(1),c()),n&2){let t=e.$implicit;m(),re(t.name)}}var hr=class n{constructor(e,t,r,o){this.profileService=e;this.authService=t;this.photoService=r;this.route=o}user;dummyUser={id:"user-001",fullName:"Elena Georgescu",email:"elena.georgescu@example.com",role:"Specialist",createdAt:new Date("2023-02-10T10:15:00Z"),updatedAt:new Date,rating:4.8,contactInfo:{phoneNumber:"0745123456",address:"Strada Florilor 12, Timi\u0219oara"},specialist:{yearsExperience:6,description:"Specialist \xEEn traduceri juridice \u0219i consultan\u021B\u0103 contractual\u0103.",categories:[{id:"cat-007",name:"Traduceri juridice"},{id:"cat-008",name:"Consultan\u021B\u0103 legal\u0103"}]}};ngOnInit(){this.profileService.getUserProfile().subscribe({next:e=>{this.user=e.response,console.log(this.user)},error:e=>{console.error(e)}})}onFileSelected(e){let t=e.target.files[0];if(!t)return;new FormData().append("file",t),this.photoService.addProfilePicture(t).subscribe({next:o=>{console.log("Upload success:",o),console.log(this.user?.profilePictureUrl)},error:o=>{console.error("Upload error:",o)}})}uploadProfilePicture(e){this.photoService.addProfilePicture(e).subscribe({next:t=>{console.log("Upload success:",t)},error:t=>{console.error("Upload error:",t)}})}onEdit(){}goToReviews(){this.route.navigate(["profile/user-reviews"])}goToHistory(){}goToExpertEase(){}goToSettings(){this.route.navigate(["profile/user-settings"])}logout(){window.confirm("Sigur vrei s\u0103 te deloghezi?")&&this.authService.logout(),this.route.navigate(["/home"])}UserRoleEnum=Jt;static \u0275fac=function(t){return new(t||n)(A(Li),A(q),A(wn),A(Se))};static \u0275cmp=R({type:n,selectors:[["app-profile"]],decls:51,vars:22,consts:[[1,"account-card"],[1,"account-header"],[1,"avatar-wrapper"],[1,"avatar"],["alt","User avatar",3,"src"],[1,"upload-btn"],["type","file","accept","image/*","hidden","",3,"change"],["src","assets/icons/photo_media.svg","alt","Upload icon"],[1,"account-info"],[3,"onClick","label","icon"],[1,"card"],[1,"info"],[1,"full-name"],[1,"details-block"],[1,"row"],[1,"categories"],[1,"label"],["class","tag",4,"ngFor","ngForOf"],[1,"experience"],[1,"description"],[1,"account-actions"],[1,"tag"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),k(4,"img",4),l(5,"label",5)(6,"input",6),S("change",function(u){return r.onFileSelected(u)}),c(),k(7,"img",7),c()()(),l(8,"div",8)(9,"p")(10,"strong"),d(11,"Nume:"),c(),d(12),c(),l(13,"p")(14,"strong"),d(15,"Adresa mail:"),c(),d(16),c(),l(17,"p")(18,"strong"),d(19,"Parol\u0103:"),c(),d(20," ********"),c(),l(21,"p")(22,"strong"),d(23,"Creat la data de:"),c(),d(24),$(25,"date"),c()(),l(26,"app-icon-button",9),S("onClick",function(){return r.onEdit()}),c()(),l(27,"div",10)(28,"div",11)(29,"h2",12),d(30,"Anun\u021Bul t\u0103u"),c(),l(31,"div",13)(32,"div",14)(33,"div",15)(34,"span",16),d(35,"Categorii:"),c(),D(36,Sd,2,1,"span",17),c(),l(37,"div",18)(38,"span",16),d(39,"Ani experien\u021B\u0103:"),c(),d(40),c()(),l(41,"div",19)(42,"span",16),d(43,"Descriere:"),c(),d(44),c()()(),l(45,"app-icon-button",9),S("onClick",function(){return r.onEdit()}),c()(),l(46,"div",20)(47,"app-icon-button",9),S("onClick",function(){return r.goToReviews()}),c(),l(48,"app-icon-button",9),S("onClick",function(){return r.goToHistory()}),c(),l(49,"app-icon-button",9),S("onClick",function(){return r.goToSettings()}),c(),l(50,"app-icon-button",9),S("onClick",function(){return r.logout()}),c()()()),t&2&&(m(4),y("src",(r.user==null?null:r.user.profilePictureUrl)||"assets/avatar.svg",$e),m(8),F(" ",r.user==null?null:r.user.fullName," "),m(4),F(" ",r.user==null?null:r.user.email,""),m(8),F(" ",Ge(25,19,r.user==null?null:r.user.createdAt,"dd.MM.yyyy"),""),m(2),y("label","Editeaz\u0103 profilul")("icon","assets/icons/edit.svg"),m(10),y("ngForOf",r.user==null||r.user.specialist==null?null:r.user.specialist.categories),m(4),F(" ",r.user==null||r.user.specialist==null?null:r.user.specialist.yearsExperience," "),m(4),F(" ",r.user==null||r.user.specialist==null?null:r.user.specialist.description," "),m(),y("label","Editeaz\u0103 anun\u021Bul")("icon","assets/icons/edit.svg"),m(2),y("label","Recenziile tale")("icon","assets/icons/reviews.svg"),m(),y("label","Istoric servicii")("icon","assets/icons/history.svg"),m(),y("label","Set\u0103rile contului")("icon","assets/icons/settings.svg"),m(),y("label","Deconecteaz\u0103-te")("icon","assets/icons/logout.svg"))},dependencies:[nt,dr,ue],styles:[".account-card[_ngcontent-%COMP%]{background:#e0caff;max-width:1000px;margin:32px auto;box-shadow:0 4px 16px #0000001a;font-family:Roboto Mono,monospace;border:3px solid black}.account-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:32px;gap:32px}.account-info[_ngcontent-%COMP%]{flex:1;margin-left:32px;font-size:16px}.account-actions[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:16px 78px;padding:32px}.card[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:#a08ad2;padding:20px 32px;width:100%;gap:20px;justify-content:space-between;box-sizing:border-box;border-top:3px solid black;border-bottom:3px solid black;font-family:Roboto Mono,monospace}.info[_ngcontent-%COMP%]{flex:1}.full-name[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:600;margin-top:.25rem;margin-bottom:.5rem}.full-name[_ngcontent-%COMP%]:hover{text-decoration:underline}.details-block[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:12px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;gap:20px}.categories[_ngcontent-%COMP%], .experience[_ngcontent-%COMP%], .description[_ngcontent-%COMP%]{font-size:.95rem}.label[_ngcontent-%COMP%]{font-weight:700;margin-right:6px}.tag[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem}.avatar-wrapper[_ngcontent-%COMP%]{position:relative;width:160px;aspect-ratio:1/1}.avatar[_ngcontent-%COMP%]{position:relative;width:160px;height:160px;overflow:hidden}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;object-fit:cover;display:block}.rating-badge[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;display:inline-flex;align-items:center;gap:.3em;background:#fff;padding:.2em .5em;border-radius:.6em;font-size:1.2em;box-shadow:0 1px 4px #0000001a}.rating-badge[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1em;height:1em}.upload-btn[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:4px;background:#fff;border-radius:50%;padding:6px;cursor:pointer;font-size:18px}.upload-btn[_ngcontent-%COMP%]:hover{background:#f0f0f0}.upload-btn[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px}"]})};var wc=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Td=function(n){let e=[],t=0,r=0;for(;t<n.length;){let o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){let u=n[t++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){let u=n[t++],_=n[t++],T=n[t++],V=((o&7)<<18|(u&63)<<12|(_&63)<<6|T&63)-65536;e[r++]=String.fromCharCode(55296+(V>>10)),e[r++]=String.fromCharCode(56320+(V&1023))}else{let u=n[t++],_=n[t++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|_&63)}}return e.join("")},Ad={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){let u=n[o],_=o+1<n.length,T=_?n[o+1]:0,V=o+2<n.length,B=V?n[o+2]:0,Ze=u>>2,Oe=(u&3)<<4|T>>4,ce=(T&15)<<2|B>>6,ze=B&63;V||(ze=64,_||(ce=64)),r.push(t[Ze],t[Oe],t[ce],t[ze])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(wc(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Td(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){let u=t[n.charAt(o++)],T=o<n.length?t[n.charAt(o)]:0;++o;let B=o<n.length?t[n.charAt(o)]:64;++o;let Oe=o<n.length?t[n.charAt(o)]:64;if(++o,u==null||T==null||B==null||Oe==null)throw new Bo;let ce=u<<2|T>>4;if(r.push(ce),B!==64){let ze=T<<4&240|B>>2;if(r.push(ze),Oe!==64){let Q=B<<6&192|Oe;r.push(Q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Bo=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Pd=function(n){let e=wc(n);return Ad.encodeByteArray(e,!0)},qo=function(n){return Pd(n).replace(/\./g,"")};function zo(){try{return typeof indexedDB=="object"}catch{return!1}}function xc(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}var Dd="FirebaseError",_t=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Dd,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ci.prototype.create)}},ci=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],_=u?Md(u,r):"Error",T=`${this.serviceName}: ${_} (${o}).`;return new _t(o,T,r)}};function Md(n,e){return n.replace(Od,(t,r)=>{let o=e[r];return o!=null?String(o):`<${r}?>`})}var Od=/\{\$([^}]+)}/g;var Zg=4*60*60*1e3;var kt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Rd=[],ie=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ie||{}),Vd={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},kd=ie.INFO,Nd={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},Fd=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),o=Nd[e];if(o)console[o](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},xn=class{constructor(e){this.name=e,this._logLevel=kd,this._logHandler=Fd,this._userLogHandler=null,Rd.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vd[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}};var Ud=(n,e)=>e.some(t=>n instanceof t),Ec,Ic;function Ld(){return Ec||(Ec=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bd(){return Ic||(Ic=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Sc=new WeakMap,$o=new WeakMap,Tc=new WeakMap,jo=new WeakMap,Ko=new WeakMap;function qd(n){let e=new Promise((t,r)=>{let o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",_)},u=()=>{t(at(n.result)),o()},_=()=>{r(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",_)});return e.then(t=>{t instanceof IDBCursor&&Sc.set(t,n)}).catch(()=>{}),Ko.set(e,n),e}function zd(n){if($o.has(n))return;let e=new Promise((t,r)=>{let o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",_),n.removeEventListener("abort",_)},u=()=>{t(),o()},_=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",_),n.addEventListener("abort",_)});$o.set(n,e)}var Go={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return $o.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Tc.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return at(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Ac(n){Go=n(Go)}function jd(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(pr(this),e,...t);return Tc.set(r,e.sort?e.sort():[e]),at(r)}:Bd().includes(n)?function(...e){return n.apply(pr(this),e),at(Sc.get(this))}:function(...e){return at(n.apply(pr(this),e))}}function $d(n){return typeof n=="function"?jd(n):(n instanceof IDBTransaction&&zd(n),Ud(n,Ld())?new Proxy(n,Go):n)}function at(n){if(n instanceof IDBRequest)return qd(n);if(jo.has(n))return jo.get(n);let e=$d(n);return e!==n&&(jo.set(n,e),Ko.set(e,n)),e}var pr=n=>Ko.get(n);function Dc(n,e,{blocked:t,upgrade:r,blocking:o,terminated:u}={}){let _=indexedDB.open(n,e),T=at(_);return r&&_.addEventListener("upgradeneeded",V=>{r(at(_.result),V.oldVersion,V.newVersion,at(_.transaction),V)}),t&&_.addEventListener("blocked",V=>t(V.oldVersion,V.newVersion,V)),T.then(V=>{u&&V.addEventListener("close",()=>u()),o&&V.addEventListener("versionchange",B=>o(B.oldVersion,B.newVersion,B))}).catch(()=>{}),T}var Gd=["get","getKey","getAll","getAllKeys","count"],Kd=["put","add","delete","clear"],Wo=new Map;function Pc(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Wo.get(e))return Wo.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,o=Kd.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(o||Gd.includes(t)))return;let u=function(_,...T){return ae(this,null,function*(){let V=this.transaction(_,o?"readwrite":"readonly"),B=V.store;return r&&(B=B.index(T.shift())),(yield Promise.all([B[t](...T),o&&V.done]))[0]})};return Wo.set(e,u),u}Ac(n=>pe(z({},n),{get:(e,t,r)=>Pc(e,t)||n.get(e,t,r),has:(e,t)=>!!Pc(e,t)||n.has(e,t)}));var Qo=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Hd(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Hd(n){let e=n.getComponent();return e?.type==="VERSION"}var Jo="@firebase/app",Mc="0.10.15";var yt=new xn("@firebase/app"),Qd="@firebase/app-compat",Jd="@firebase/analytics-compat",Yd="@firebase/analytics",Xd="@firebase/app-check-compat",Zd="@firebase/app-check",eh="@firebase/auth",th="@firebase/auth-compat",nh="@firebase/database",ih="@firebase/data-connect",rh="@firebase/database-compat",oh="@firebase/functions",sh="@firebase/functions-compat",ah="@firebase/installations",ch="@firebase/installations-compat",lh="@firebase/messaging",uh="@firebase/messaging-compat",dh="@firebase/performance",hh="@firebase/performance-compat",ph="@firebase/remote-config",mh="@firebase/remote-config-compat",fh="@firebase/storage",gh="@firebase/storage-compat",_h="@firebase/firestore",yh="@firebase/vertexai",vh="@firebase/firestore-compat",bh="firebase",Ch="11.0.1";var wh={[Jo]:"fire-core",[Qd]:"fire-core-compat",[Yd]:"fire-analytics",[Jd]:"fire-analytics-compat",[Zd]:"fire-app-check",[Xd]:"fire-app-check-compat",[eh]:"fire-auth",[th]:"fire-auth-compat",[nh]:"fire-rtdb",[ih]:"fire-data-connect",[rh]:"fire-rtdb-compat",[oh]:"fire-fn",[sh]:"fire-fn-compat",[ah]:"fire-iid",[ch]:"fire-iid-compat",[lh]:"fire-fcm",[uh]:"fire-fcm-compat",[dh]:"fire-perf",[hh]:"fire-perf-compat",[ph]:"fire-rc",[mh]:"fire-rc-compat",[fh]:"fire-gcs",[gh]:"fire-gcs-compat",[_h]:"fire-fst",[vh]:"fire-fst-compat",[yh]:"fire-vertex","fire-js":"fire-js",[bh]:"fire-js-all"};var xh=new Map,Eh=new Map,Oc=new Map;function Rc(n,e){try{n.container.addComponent(e)}catch(t){yt.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function li(n){let e=n.name;if(Oc.has(e))return yt.debug(`There were multiple attempts to register component ${e}.`),!1;Oc.set(e,n);for(let t of xh.values())Rc(t,n);for(let t of Eh.values())Rc(t,n);return!0}var Ih={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zo=new ci("app","Firebase",Ih);var Fc=Ch;function En(n,e,t){var r;let o=(r=wh[n])!==null&&r!==void 0?r:n;t&&(o+=`-${t}`);let u=o.match(/\s|\//),_=e.match(/\s|\//);if(u||_){let T=[`Unable to register library "${o}" with version "${e}":`];u&&T.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&_&&T.push("and"),_&&T.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yt.warn(T.join(" "));return}li(new kt(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}var Sh="firebase-heartbeat-database",Th=1,ui="firebase-heartbeat-store",Ho=null;function Uc(){return Ho||(Ho=Dc(Sh,Th,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ui)}catch(t){console.warn(t)}}}}).catch(n=>{throw Zo.create("idb-open",{originalErrorMessage:n.message})})),Ho}function Ah(n){return ae(this,null,function*(){try{let t=(yield Uc()).transaction(ui),r=yield t.objectStore(ui).get(Lc(n));return yield t.done,r}catch(e){if(e instanceof _t)yt.warn(e.message);else{let t=Zo.create("idb-get",{originalErrorMessage:e?.message});yt.warn(t.message)}}})}function Vc(n,e){return ae(this,null,function*(){try{let r=(yield Uc()).transaction(ui,"readwrite");yield r.objectStore(ui).put(e,Lc(n)),yield r.done}catch(t){if(t instanceof _t)yt.warn(t.message);else{let r=Zo.create("idb-set",{originalErrorMessage:t?.message});yt.warn(r.message)}}})}function Lc(n){return`${n.name}!${n.options.appId}`}var Ph=1024,Dh=30*24*60*60*1e3,Yo=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Xo(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return ae(this,null,function*(){var e,t;try{let o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=kc();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(_=>_.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(_=>{let T=new Date(_.date).valueOf();return Date.now()-T<=Dh}),this._storage.overwrite(this._heartbeatsCache))}catch(r){yt.warn(r)}})}getHeartbeatsHeader(){return ae(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=kc(),{heartbeatsToSend:r,unsentEntries:o}=Mh(this._heartbeatsCache.heartbeats),u=qo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return yt.warn(t),""}})}};function kc(){return new Date().toISOString().substring(0,10)}function Mh(n,e=Ph){let t=[],r=n.slice();for(let o of n){let u=t.find(_=>_.agent===o.agent);if(u){if(u.dates.push(o.date),Nc(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Nc(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Xo=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return ae(this,null,function*(){return zo()?xc().then(()=>!0).catch(()=>!1):!1})}read(){return ae(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Ah(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return ae(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let o=yield this.read();return Vc(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return ae(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let o=yield this.read();return Vc(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return})}};function Nc(n){return qo(JSON.stringify({version:2,heartbeats:n})).length}function Oh(n){li(new kt("platform-logger",e=>new Qo(e),"PRIVATE")),li(new kt("heartbeat",e=>new Yo(e),"PRIVATE")),En(Jo,Mc,n),En(Jo,Mc,"esm2017"),En("fire-js","")}Oh("");var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qc={};var es,zc;(function(){var n;function e(w,p){function g(){}g.prototype=p.prototype,w.D=p.prototype,w.prototype=new g,w.prototype.constructor=w,w.C=function(v,b,x){for(var f=Array(arguments.length-2),ut=2;ut<arguments.length;ut++)f[ut-2]=arguments[ut];return p.prototype[b].apply(v,f)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,p,g){g||(g=0);var v=Array(16);if(typeof p=="string")for(var b=0;16>b;++b)v[b]=p.charCodeAt(g++)|p.charCodeAt(g++)<<8|p.charCodeAt(g++)<<16|p.charCodeAt(g++)<<24;else for(b=0;16>b;++b)v[b]=p[g++]|p[g++]<<8|p[g++]<<16|p[g++]<<24;p=w.g[0],g=w.g[1],b=w.g[2];var x=w.g[3],f=p+(x^g&(b^x))+v[0]+3614090360&4294967295;p=g+(f<<7&4294967295|f>>>25),f=x+(b^p&(g^b))+v[1]+3905402710&4294967295,x=p+(f<<12&4294967295|f>>>20),f=b+(g^x&(p^g))+v[2]+606105819&4294967295,b=x+(f<<17&4294967295|f>>>15),f=g+(p^b&(x^p))+v[3]+3250441966&4294967295,g=b+(f<<22&4294967295|f>>>10),f=p+(x^g&(b^x))+v[4]+4118548399&4294967295,p=g+(f<<7&4294967295|f>>>25),f=x+(b^p&(g^b))+v[5]+1200080426&4294967295,x=p+(f<<12&4294967295|f>>>20),f=b+(g^x&(p^g))+v[6]+2821735955&4294967295,b=x+(f<<17&4294967295|f>>>15),f=g+(p^b&(x^p))+v[7]+4249261313&4294967295,g=b+(f<<22&4294967295|f>>>10),f=p+(x^g&(b^x))+v[8]+1770035416&4294967295,p=g+(f<<7&4294967295|f>>>25),f=x+(b^p&(g^b))+v[9]+2336552879&4294967295,x=p+(f<<12&4294967295|f>>>20),f=b+(g^x&(p^g))+v[10]+4294925233&4294967295,b=x+(f<<17&4294967295|f>>>15),f=g+(p^b&(x^p))+v[11]+2304563134&4294967295,g=b+(f<<22&4294967295|f>>>10),f=p+(x^g&(b^x))+v[12]+1804603682&4294967295,p=g+(f<<7&4294967295|f>>>25),f=x+(b^p&(g^b))+v[13]+4254626195&4294967295,x=p+(f<<12&4294967295|f>>>20),f=b+(g^x&(p^g))+v[14]+2792965006&4294967295,b=x+(f<<17&4294967295|f>>>15),f=g+(p^b&(x^p))+v[15]+1236535329&4294967295,g=b+(f<<22&4294967295|f>>>10),f=p+(b^x&(g^b))+v[1]+4129170786&4294967295,p=g+(f<<5&4294967295|f>>>27),f=x+(g^b&(p^g))+v[6]+3225465664&4294967295,x=p+(f<<9&4294967295|f>>>23),f=b+(p^g&(x^p))+v[11]+643717713&4294967295,b=x+(f<<14&4294967295|f>>>18),f=g+(x^p&(b^x))+v[0]+3921069994&4294967295,g=b+(f<<20&4294967295|f>>>12),f=p+(b^x&(g^b))+v[5]+3593408605&4294967295,p=g+(f<<5&4294967295|f>>>27),f=x+(g^b&(p^g))+v[10]+38016083&4294967295,x=p+(f<<9&4294967295|f>>>23),f=b+(p^g&(x^p))+v[15]+3634488961&4294967295,b=x+(f<<14&4294967295|f>>>18),f=g+(x^p&(b^x))+v[4]+3889429448&4294967295,g=b+(f<<20&4294967295|f>>>12),f=p+(b^x&(g^b))+v[9]+568446438&4294967295,p=g+(f<<5&4294967295|f>>>27),f=x+(g^b&(p^g))+v[14]+3275163606&4294967295,x=p+(f<<9&4294967295|f>>>23),f=b+(p^g&(x^p))+v[3]+4107603335&4294967295,b=x+(f<<14&4294967295|f>>>18),f=g+(x^p&(b^x))+v[8]+1163531501&4294967295,g=b+(f<<20&4294967295|f>>>12),f=p+(b^x&(g^b))+v[13]+2850285829&4294967295,p=g+(f<<5&4294967295|f>>>27),f=x+(g^b&(p^g))+v[2]+4243563512&4294967295,x=p+(f<<9&4294967295|f>>>23),f=b+(p^g&(x^p))+v[7]+1735328473&4294967295,b=x+(f<<14&4294967295|f>>>18),f=g+(x^p&(b^x))+v[12]+2368359562&4294967295,g=b+(f<<20&4294967295|f>>>12),f=p+(g^b^x)+v[5]+4294588738&4294967295,p=g+(f<<4&4294967295|f>>>28),f=x+(p^g^b)+v[8]+2272392833&4294967295,x=p+(f<<11&4294967295|f>>>21),f=b+(x^p^g)+v[11]+1839030562&4294967295,b=x+(f<<16&4294967295|f>>>16),f=g+(b^x^p)+v[14]+4259657740&4294967295,g=b+(f<<23&4294967295|f>>>9),f=p+(g^b^x)+v[1]+2763975236&4294967295,p=g+(f<<4&4294967295|f>>>28),f=x+(p^g^b)+v[4]+1272893353&4294967295,x=p+(f<<11&4294967295|f>>>21),f=b+(x^p^g)+v[7]+4139469664&4294967295,b=x+(f<<16&4294967295|f>>>16),f=g+(b^x^p)+v[10]+3200236656&4294967295,g=b+(f<<23&4294967295|f>>>9),f=p+(g^b^x)+v[13]+681279174&4294967295,p=g+(f<<4&4294967295|f>>>28),f=x+(p^g^b)+v[0]+3936430074&4294967295,x=p+(f<<11&4294967295|f>>>21),f=b+(x^p^g)+v[3]+3572445317&4294967295,b=x+(f<<16&4294967295|f>>>16),f=g+(b^x^p)+v[6]+76029189&4294967295,g=b+(f<<23&4294967295|f>>>9),f=p+(g^b^x)+v[9]+3654602809&4294967295,p=g+(f<<4&4294967295|f>>>28),f=x+(p^g^b)+v[12]+3873151461&4294967295,x=p+(f<<11&4294967295|f>>>21),f=b+(x^p^g)+v[15]+530742520&4294967295,b=x+(f<<16&4294967295|f>>>16),f=g+(b^x^p)+v[2]+3299628645&4294967295,g=b+(f<<23&4294967295|f>>>9),f=p+(b^(g|~x))+v[0]+4096336452&4294967295,p=g+(f<<6&4294967295|f>>>26),f=x+(g^(p|~b))+v[7]+1126891415&4294967295,x=p+(f<<10&4294967295|f>>>22),f=b+(p^(x|~g))+v[14]+2878612391&4294967295,b=x+(f<<15&4294967295|f>>>17),f=g+(x^(b|~p))+v[5]+4237533241&4294967295,g=b+(f<<21&4294967295|f>>>11),f=p+(b^(g|~x))+v[12]+1700485571&4294967295,p=g+(f<<6&4294967295|f>>>26),f=x+(g^(p|~b))+v[3]+2399980690&4294967295,x=p+(f<<10&4294967295|f>>>22),f=b+(p^(x|~g))+v[10]+4293915773&4294967295,b=x+(f<<15&4294967295|f>>>17),f=g+(x^(b|~p))+v[1]+2240044497&4294967295,g=b+(f<<21&4294967295|f>>>11),f=p+(b^(g|~x))+v[8]+1873313359&4294967295,p=g+(f<<6&4294967295|f>>>26),f=x+(g^(p|~b))+v[15]+4264355552&4294967295,x=p+(f<<10&4294967295|f>>>22),f=b+(p^(x|~g))+v[6]+2734768916&4294967295,b=x+(f<<15&4294967295|f>>>17),f=g+(x^(b|~p))+v[13]+1309151649&4294967295,g=b+(f<<21&4294967295|f>>>11),f=p+(b^(g|~x))+v[4]+4149444226&4294967295,p=g+(f<<6&4294967295|f>>>26),f=x+(g^(p|~b))+v[11]+3174756917&4294967295,x=p+(f<<10&4294967295|f>>>22),f=b+(p^(x|~g))+v[2]+718787259&4294967295,b=x+(f<<15&4294967295|f>>>17),f=g+(x^(b|~p))+v[9]+3951481745&4294967295,w.g[0]=w.g[0]+p&4294967295,w.g[1]=w.g[1]+(b+(f<<21&4294967295|f>>>11))&4294967295,w.g[2]=w.g[2]+b&4294967295,w.g[3]=w.g[3]+x&4294967295}r.prototype.u=function(w,p){p===void 0&&(p=w.length);for(var g=p-this.blockSize,v=this.B,b=this.h,x=0;x<p;){if(b==0)for(;x<=g;)o(this,w,x),x+=this.blockSize;if(typeof w=="string"){for(;x<p;)if(v[b++]=w.charCodeAt(x++),b==this.blockSize){o(this,v),b=0;break}}else for(;x<p;)if(v[b++]=w[x++],b==this.blockSize){o(this,v),b=0;break}}this.h=b,this.o+=p},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var p=1;p<w.length-8;++p)w[p]=0;var g=8*this.o;for(p=w.length-8;p<w.length;++p)w[p]=g&255,g/=256;for(this.u(w),w=Array(16),p=g=0;4>p;++p)for(var v=0;32>v;v+=8)w[g++]=this.g[p]>>>v&255;return w};function u(w,p){var g=T;return Object.prototype.hasOwnProperty.call(g,w)?g[w]:g[w]=p(w)}function _(w,p){this.h=p;for(var g=[],v=!0,b=w.length-1;0<=b;b--){var x=w[b]|0;v&&x==p||(g[b]=x,v=!1)}this.g=g}var T={};function V(w){return-128<=w&&128>w?u(w,function(p){return new _([p|0],0>p?-1:0)}):new _([w|0],0>w?-1:0)}function B(w){if(isNaN(w)||!isFinite(w))return Oe;if(0>w)return he(B(-w));for(var p=[],g=1,v=0;w>=g;v++)p[v]=w/g|0,g*=4294967296;return new _(p,0)}function Ze(w,p){if(w.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(w.charAt(0)=="-")return he(Ze(w.substring(1),p));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var g=B(Math.pow(p,8)),v=Oe,b=0;b<w.length;b+=8){var x=Math.min(8,w.length-b),f=parseInt(w.substring(b,b+x),p);8>x?(x=B(Math.pow(p,x)),v=v.j(x).add(B(f))):(v=v.j(g),v=v.add(B(f)))}return v}var Oe=V(0),ce=V(1),ze=V(16777216);n=_.prototype,n.m=function(){if(Ce(this))return-he(this).m();for(var w=0,p=1,g=0;g<this.g.length;g++){var v=this.i(g);w+=(0<=v?v:4294967296+v)*p,p*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(Q(this))return"0";if(Ce(this))return"-"+he(this).toString(w);for(var p=B(Math.pow(w,6)),g=this,v="";;){var b=bt(g,p).g;g=en(g,b.j(p));var x=((0<g.g.length?g.g[0]:g.h)>>>0).toString(w);if(g=b,Q(g))return x+v;for(;6>x.length;)x="0"+x;v=x+v}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function Q(w){if(w.h!=0)return!1;for(var p=0;p<w.g.length;p++)if(w.g[p]!=0)return!1;return!0}function Ce(w){return w.h==-1}n.l=function(w){return w=en(this,w),Ce(w)?-1:Q(w)?0:1};function he(w){for(var p=w.g.length,g=[],v=0;v<p;v++)g[v]=~w.g[v];return new _(g,~w.h).add(ce)}n.abs=function(){return Ce(this)?he(this):this},n.add=function(w){for(var p=Math.max(this.g.length,w.g.length),g=[],v=0,b=0;b<=p;b++){var x=v+(this.i(b)&65535)+(w.i(b)&65535),f=(x>>>16)+(this.i(b)>>>16)+(w.i(b)>>>16);v=f>>>16,x&=65535,f&=65535,g[b]=f<<16|x}return new _(g,g[g.length-1]&-2147483648?-1:0)};function en(w,p){return w.add(he(p))}n.j=function(w){if(Q(this)||Q(w))return Oe;if(Ce(this))return Ce(w)?he(this).j(he(w)):he(he(this).j(w));if(Ce(w))return he(this.j(he(w)));if(0>this.l(ze)&&0>w.l(ze))return B(this.m()*w.m());for(var p=this.g.length+w.g.length,g=[],v=0;v<2*p;v++)g[v]=0;for(v=0;v<this.g.length;v++)for(var b=0;b<w.g.length;b++){var x=this.i(v)>>>16,f=this.i(v)&65535,ut=w.i(b)>>>16,Pn=w.i(b)&65535;g[2*v+2*b]+=f*Pn,et(g,2*v+2*b),g[2*v+2*b+1]+=x*Pn,et(g,2*v+2*b+1),g[2*v+2*b+1]+=f*ut,et(g,2*v+2*b+1),g[2*v+2*b+2]+=x*ut,et(g,2*v+2*b+2)}for(v=0;v<p;v++)g[v]=g[2*v+1]<<16|g[2*v];for(v=p;v<2*p;v++)g[v]=0;return new _(g,0)};function et(w,p){for(;(w[p]&65535)!=w[p];)w[p+1]+=w[p]>>>16,w[p]&=65535,p++}function je(w,p){this.g=w,this.h=p}function bt(w,p){if(Q(p))throw Error("division by zero");if(Q(w))return new je(Oe,Oe);if(Ce(w))return p=bt(he(w),p),new je(he(p.g),he(p.h));if(Ce(p))return p=bt(w,he(p)),new je(he(p.g),p.h);if(30<w.g.length){if(Ce(w)||Ce(p))throw Error("slowDivide_ only works with positive integers.");for(var g=ce,v=p;0>=v.l(w);)g=mi(g),v=mi(v);var b=tt(g,1),x=tt(v,1);for(v=tt(v,2),g=tt(g,2);!Q(v);){var f=x.add(v);0>=f.l(w)&&(b=b.add(g),x=f),v=tt(v,1),g=tt(g,1)}return p=en(w,b.j(p)),new je(b,p)}for(b=Oe;0<=w.l(p);){for(g=Math.max(1,Math.floor(w.m()/p.m())),v=Math.ceil(Math.log(g)/Math.LN2),v=48>=v?1:Math.pow(2,v-48),x=B(g),f=x.j(p);Ce(f)||0<f.l(w);)g-=v,x=B(g),f=x.j(p);Q(x)&&(x=ce),b=b.add(x),w=en(w,f)}return new je(b,w)}n.A=function(w){return bt(this,w).h},n.and=function(w){for(var p=Math.max(this.g.length,w.g.length),g=[],v=0;v<p;v++)g[v]=this.i(v)&w.i(v);return new _(g,this.h&w.h)},n.or=function(w){for(var p=Math.max(this.g.length,w.g.length),g=[],v=0;v<p;v++)g[v]=this.i(v)|w.i(v);return new _(g,this.h|w.h)},n.xor=function(w){for(var p=Math.max(this.g.length,w.g.length),g=[],v=0;v<p;v++)g[v]=this.i(v)^w.i(v);return new _(g,this.h^w.h)};function mi(w){for(var p=w.g.length+1,g=[],v=0;v<p;v++)g[v]=w.i(v)<<1|w.i(v-1)>>>31;return new _(g,w.h)}function tt(w,p){var g=p>>5;p%=32;for(var v=w.g.length-g,b=[],x=0;x<v;x++)b[x]=0<p?w.i(x+g)>>>p|w.i(x+g+1)<<32-p:w.i(x+g);return new _(b,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,zc=qc.Md5=r,_.prototype.add=_.prototype.add,_.prototype.multiply=_.prototype.j,_.prototype.modulo=_.prototype.A,_.prototype.compare=_.prototype.l,_.prototype.toNumber=_.prototype.m,_.prototype.toString=_.prototype.toString,_.prototype.getBits=_.prototype.i,_.fromNumber=B,_.fromString=Ze,es=qc.Integer=_}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});var mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vt={};var jc,Rh,$c,Gc,Kc,Wc,Hc,Qc,Jc;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(i,s,a){return i==Array.prototype||i==Object.prototype||(i[s]=a.value),i};function t(i){i=[typeof globalThis=="object"&&globalThis,i,typeof window=="object"&&window,typeof self=="object"&&self,typeof mr=="object"&&mr];for(var s=0;s<i.length;++s){var a=i[s];if(a&&a.Math==Math)return a}throw Error("Cannot find global object")}var r=t(this);function o(i,s){if(s)e:{var a=r;i=i.split(".");for(var h=0;h<i.length-1;h++){var C=i[h];if(!(C in a))break e;a=a[C]}i=i[i.length-1],h=a[i],s=s(h),s!=h&&s!=null&&e(a,i,{configurable:!0,writable:!0,value:s})}}function u(i,s){i instanceof String&&(i+="");var a=0,h=!1,C={next:function(){if(!h&&a<i.length){var I=a++;return{value:s(I,i[I]),done:!1}}return h=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}o("Array.prototype.values",function(i){return i||function(){return u(this,function(s,a){return a})}});var _=_||{},T=this||self;function V(i){var s=typeof i;return s=s!="object"?s:i?Array.isArray(i)?"array":s:"null",s=="array"||s=="object"&&typeof i.length=="number"}function B(i){var s=typeof i;return s=="object"&&i!=null||s=="function"}function Ze(i,s,a){return i.call.apply(i.bind,arguments)}function Oe(i,s,a){if(!i)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,h),i.apply(s,C)}}return function(){return i.apply(s,arguments)}}function ce(i,s,a){return ce=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ze:Oe,ce.apply(null,arguments)}function ze(i,s){var a=Array.prototype.slice.call(arguments,1);return function(){var h=a.slice();return h.push.apply(h,arguments),i.apply(this,h)}}function Q(i,s){function a(){}a.prototype=s.prototype,i.aa=s.prototype,i.prototype=new a,i.prototype.constructor=i,i.Qb=function(h,C,I){for(var P=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)P[Z-2]=arguments[Z];return s.prototype[C].apply(h,P)}}function Ce(i){let s=i.length;if(0<s){let a=Array(s);for(let h=0;h<s;h++)a[h]=i[h];return a}return[]}function he(i,s){for(let a=1;a<arguments.length;a++){let h=arguments[a];if(V(h)){let C=i.length||0,I=h.length||0;i.length=C+I;for(let P=0;P<I;P++)i[C+P]=h[P]}else i.push(h)}}class en{constructor(s,a){this.i=s,this.j=a,this.h=0,this.g=null}get(){let s;return 0<this.h?(this.h--,s=this.g,this.g=s.next,s.next=null):s=this.i(),s}}function et(i){return/^[\s\xa0]*$/.test(i)}function je(){var i=T.navigator;return i&&(i=i.userAgent)?i:""}function bt(i){return bt[" "](i),i}bt[" "]=function(){};var mi=je().indexOf("Gecko")!=-1&&!(je().toLowerCase().indexOf("webkit")!=-1&&je().indexOf("Edge")==-1)&&!(je().indexOf("Trident")!=-1||je().indexOf("MSIE")!=-1)&&je().indexOf("Edge")==-1;function tt(i,s,a){for(let h in i)s.call(a,i[h],h,i)}function w(i,s){for(let a in i)s.call(void 0,i[a],a,i)}function p(i){let s={};for(let a in i)s[a]=i[a];return s}let g="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v(i,s){let a,h;for(let C=1;C<arguments.length;C++){h=arguments[C];for(a in h)i[a]=h[a];for(let I=0;I<g.length;I++)a=g[I],Object.prototype.hasOwnProperty.call(h,a)&&(i[a]=h[a])}}function b(i){var s=1;i=i.split(":");let a=[];for(;0<s&&i.length;)a.push(i.shift()),s--;return i.length&&a.push(i.join(":")),a}function x(i){T.setTimeout(()=>{throw i},0)}function f(){var i=Hr;let s=null;return i.g&&(s=i.g,i.g=i.g.next,i.g||(i.h=null),s.next=null),s}class ut{constructor(){this.h=this.g=null}add(s,a){let h=Pn.get();h.set(s,a),this.h?this.h.next=h:this.g=h,this.h=h}}var Pn=new en(()=>new ml,i=>i.reset());class ml{constructor(){this.next=this.g=this.h=null}set(s,a){this.h=s,this.g=a,this.next=null}reset(){this.next=this.g=this.h=null}}let Dn,Mn=!1,Hr=new ut,ys=()=>{let i=T.Promise.resolve(void 0);Dn=()=>{i.then(fl)}};var fl=()=>{for(var i;i=f();){try{i.h.call(i.g)}catch(a){x(a)}var s=Pn;s.j(i),100>s.h&&(s.h++,i.next=s.g,s.g=i)}Mn=!1};function Ct(){this.s=this.s,this.C=this.C}Ct.prototype.s=!1,Ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(i,s){this.type=i,this.g=this.target=s,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var gl=function(){if(!T.addEventListener||!Object.defineProperty)return!1;var i=!1,s=Object.defineProperty({},"passive",{get:function(){i=!0}});try{let a=()=>{};T.addEventListener("test",a,s),T.removeEventListener("test",a,s)}catch{}return i}();function On(i,s){if(we.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var a=this.type=i.type,h=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=s,s=i.relatedTarget){if(mi){e:{try{bt(s.nodeName);var C=!0;break e}catch{}C=!1}C||(s=null)}}else a=="mouseover"?s=i.fromElement:a=="mouseout"&&(s=i.toElement);this.relatedTarget=s,h?(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType=typeof i.pointerType=="string"?i.pointerType:_l[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&On.aa.h.call(this)}}Q(On,we);var _l={2:"touch",3:"pen",4:"mouse"};On.prototype.h=function(){On.aa.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Rn="closure_listenable_"+(1e6*Math.random()|0),yl=0;function vl(i,s,a,h,C){this.listener=i,this.proxy=null,this.src=s,this.type=a,this.capture=!!h,this.ha=C,this.key=++yl,this.da=this.fa=!1}function fi(i){i.da=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function gi(i){this.src=i,this.g={},this.h=0}gi.prototype.add=function(i,s,a,h,C){var I=i.toString();i=this.g[I],i||(i=this.g[I]=[],this.h++);var P=Jr(i,s,h,C);return-1<P?(s=i[P],a||(s.fa=!1)):(s=new vl(s,this.src,I,!!h,C),s.fa=a,i.push(s)),s};function Qr(i,s){var a=s.type;if(a in i.g){var h=i.g[a],C=Array.prototype.indexOf.call(h,s,void 0),I;(I=0<=C)&&Array.prototype.splice.call(h,C,1),I&&(fi(s),i.g[a].length==0&&(delete i.g[a],i.h--))}}function Jr(i,s,a,h){for(var C=0;C<i.length;++C){var I=i[C];if(!I.da&&I.listener==s&&I.capture==!!a&&I.ha==h)return C}return-1}var Yr="closure_lm_"+(1e6*Math.random()|0),Xr={};function vs(i,s,a,h,C){if(h&&h.once)return Cs(i,s,a,h,C);if(Array.isArray(s)){for(var I=0;I<s.length;I++)vs(i,s[I],a,h,C);return null}return a=no(a),i&&i[Rn]?i.K(s,a,B(h)?!!h.capture:!!h,C):bs(i,s,a,!1,h,C)}function bs(i,s,a,h,C,I){if(!s)throw Error("Invalid event type");var P=B(C)?!!C.capture:!!C,Z=eo(i);if(Z||(i[Yr]=Z=new gi(i)),a=Z.add(s,a,h,P,I),a.proxy)return a;if(h=bl(),a.proxy=h,h.src=i,h.listener=a,i.addEventListener)gl||(C=P),C===void 0&&(C=!1),i.addEventListener(s.toString(),h,C);else if(i.attachEvent)i.attachEvent(xs(s.toString()),h);else if(i.addListener&&i.removeListener)i.addListener(h);else throw Error("addEventListener and attachEvent are unavailable.");return a}function bl(){function i(a){return s.call(i.src,i.listener,a)}let s=Cl;return i}function Cs(i,s,a,h,C){if(Array.isArray(s)){for(var I=0;I<s.length;I++)Cs(i,s[I],a,h,C);return null}return a=no(a),i&&i[Rn]?i.L(s,a,B(h)?!!h.capture:!!h,C):bs(i,s,a,!0,h,C)}function ws(i,s,a,h,C){if(Array.isArray(s))for(var I=0;I<s.length;I++)ws(i,s[I],a,h,C);else h=B(h)?!!h.capture:!!h,a=no(a),i&&i[Rn]?(i=i.i,s=String(s).toString(),s in i.g&&(I=i.g[s],a=Jr(I,a,h,C),-1<a&&(fi(I[a]),Array.prototype.splice.call(I,a,1),I.length==0&&(delete i.g[s],i.h--)))):i&&(i=eo(i))&&(s=i.g[s.toString()],i=-1,s&&(i=Jr(s,a,h,C)),(a=-1<i?s[i]:null)&&Zr(a))}function Zr(i){if(typeof i!="number"&&i&&!i.da){var s=i.src;if(s&&s[Rn])Qr(s.i,i);else{var a=i.type,h=i.proxy;s.removeEventListener?s.removeEventListener(a,h,i.capture):s.detachEvent?s.detachEvent(xs(a),h):s.addListener&&s.removeListener&&s.removeListener(h),(a=eo(s))?(Qr(a,i),a.h==0&&(a.src=null,s[Yr]=null)):fi(i)}}}function xs(i){return i in Xr?Xr[i]:Xr[i]="on"+i}function Cl(i,s){if(i.da)i=!0;else{s=new On(s,this);var a=i.listener,h=i.ha||i.src;i.fa&&Zr(i),i=a.call(h,s)}return i}function eo(i){return i=i[Yr],i instanceof gi?i:null}var to="__closure_events_fn_"+(1e9*Math.random()>>>0);function no(i){return typeof i=="function"?i:(i[to]||(i[to]=function(s){return i.handleEvent(s)}),i[to])}function xe(){Ct.call(this),this.i=new gi(this),this.M=this,this.F=null}Q(xe,Ct),xe.prototype[Rn]=!0,xe.prototype.removeEventListener=function(i,s,a,h){ws(this,i,s,a,h)};function Ae(i,s){var a,h=i.F;if(h)for(a=[];h;h=h.F)a.push(h);if(i=i.M,h=s.type||s,typeof s=="string")s=new we(s,i);else if(s instanceof we)s.target=s.target||i;else{var C=s;s=new we(h,i),v(s,C)}if(C=!0,a)for(var I=a.length-1;0<=I;I--){var P=s.g=a[I];C=_i(P,h,!0,s)&&C}if(P=s.g=i,C=_i(P,h,!0,s)&&C,C=_i(P,h,!1,s)&&C,a)for(I=0;I<a.length;I++)P=s.g=a[I],C=_i(P,h,!1,s)&&C}xe.prototype.N=function(){if(xe.aa.N.call(this),this.i){var i=this.i,s;for(s in i.g){for(var a=i.g[s],h=0;h<a.length;h++)fi(a[h]);delete i.g[s],i.h--}}this.F=null},xe.prototype.K=function(i,s,a,h){return this.i.add(String(i),s,!1,a,h)},xe.prototype.L=function(i,s,a,h){return this.i.add(String(i),s,!0,a,h)};function _i(i,s,a,h){if(s=i.i.g[String(s)],!s)return!0;s=s.concat();for(var C=!0,I=0;I<s.length;++I){var P=s[I];if(P&&!P.da&&P.capture==a){var Z=P.listener,ve=P.ha||P.src;P.fa&&Qr(i.i,P),C=Z.call(ve,h)!==!1&&C}}return C&&!h.defaultPrevented}function Es(i,s,a){if(typeof i=="function")a&&(i=ce(i,a));else if(i&&typeof i.handleEvent=="function")i=ce(i.handleEvent,i);else throw Error("Invalid listener argument");return 2147483647<Number(s)?-1:T.setTimeout(i,s||0)}function Is(i){i.g=Es(()=>{i.g=null,i.i&&(i.i=!1,Is(i))},i.l);let s=i.h;i.h=null,i.m.apply(null,s)}class wl extends Ct{constructor(s,a){super(),this.m=s,this.l=a,this.h=null,this.i=!1,this.g=null}j(s){this.h=arguments,this.g?this.i=!0:Is(this)}N(){super.N(),this.g&&(T.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vn(i){Ct.call(this),this.h=i,this.g={}}Q(Vn,Ct);var Ss=[];function Ts(i){tt(i.g,function(s,a){this.g.hasOwnProperty(a)&&Zr(s)},i),i.g={}}Vn.prototype.N=function(){Vn.aa.N.call(this),Ts(this)},Vn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var io=T.JSON.stringify,xl=T.JSON.parse,El=class{stringify(i){return T.JSON.stringify(i,void 0)}parse(i){return T.JSON.parse(i,void 0)}};function ro(){}ro.prototype.h=null;function As(i){return i.h||(i.h=i.i())}function Ps(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function oo(){we.call(this,"d")}Q(oo,we);function so(){we.call(this,"c")}Q(so,we);var Ft={},Ds=null;function yi(){return Ds=Ds||new xe}Ft.La="serverreachability";function Ms(i){we.call(this,Ft.La,i)}Q(Ms,we);function Nn(i){let s=yi();Ae(s,new Ms(s))}Ft.STAT_EVENT="statevent";function Os(i,s){we.call(this,Ft.STAT_EVENT,i),this.stat=s}Q(Os,we);function Pe(i){let s=yi();Ae(s,new Os(s,i))}Ft.Ma="timingevent";function Rs(i,s){we.call(this,Ft.Ma,i),this.size=s}Q(Rs,we);function Fn(i,s){if(typeof i!="function")throw Error("Fn must not be null and must be a function");return T.setTimeout(function(){i()},s)}function Un(){this.g=!0}Un.prototype.xa=function(){this.g=!1};function Il(i,s,a,h,C,I){i.info(function(){if(i.g)if(I)for(var P="",Z=I.split("&"),ve=0;ve<Z.length;ve++){var K=Z[ve].split("=");if(1<K.length){var Ee=K[0];K=K[1];var Ie=Ee.split("_");P=2<=Ie.length&&Ie[1]=="type"?P+(Ee+"="+K+"&"):P+(Ee+"=redacted&")}}else P=null;else P=I;return"XMLHTTP REQ ("+h+") [attempt "+C+"]: "+s+`
`+a+`
`+P})}function Sl(i,s,a,h,C,I,P){i.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+C+"]: "+s+`
`+a+`
`+I+" "+P})}function tn(i,s,a,h){i.info(function(){return"XMLHTTP TEXT ("+s+"): "+Al(i,a)+(h?" "+h:"")})}function Tl(i,s){i.info(function(){return"TIMEOUT: "+s})}Un.prototype.info=function(){};function Al(i,s){if(!i.g)return s;if(!s)return null;try{var a=JSON.parse(s);if(a){for(i=0;i<a.length;i++)if(Array.isArray(a[i])){var h=a[i];if(!(2>h.length)){var C=h[1];if(Array.isArray(C)&&!(1>C.length)){var I=C[0];if(I!="noop"&&I!="stop"&&I!="close")for(var P=1;P<C.length;P++)C[P]=""}}}}return io(a)}catch{return s}}var vi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vs={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ao;function bi(){}Q(bi,ro),bi.prototype.g=function(){return new XMLHttpRequest},bi.prototype.i=function(){return{}},ao=new bi;function wt(i,s,a,h){this.j=i,this.i=s,this.l=a,this.R=h||1,this.U=new Vn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ks}function ks(){this.i=null,this.g="",this.h=!1}var Ns={},co={};function lo(i,s,a){i.L=1,i.v=Ei(dt(s)),i.m=a,i.P=!0,Fs(i,null)}function Fs(i,s){i.F=Date.now(),Ci(i),i.A=dt(i.v);var a=i.A,h=i.R;Array.isArray(h)||(h=[String(h)]),Ys(a.i,"t",h),i.C=0,a=i.j.J,i.h=new ks,i.g=fa(i.j,a?s:null,!i.m),0<i.O&&(i.M=new wl(ce(i.Y,i,i.g),i.O)),s=i.U,a=i.g,h=i.ca;var C="readystatechange";Array.isArray(C)||(C&&(Ss[0]=C.toString()),C=Ss);for(var I=0;I<C.length;I++){var P=vs(a,C[I],h||s.handleEvent,!1,s.h||s);if(!P)break;s.g[P.key]=P}s=i.H?p(i.H):{},i.m?(i.u||(i.u="POST"),s["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.m,s)):(i.u="GET",i.g.ea(i.A,i.u,null,s)),Nn(),Il(i.i,i.u,i.A,i.l,i.R,i.m)}wt.prototype.ca=function(i){i=i.target;let s=this.M;s&&ht(i)==3?s.j():this.Y(i)},wt.prototype.Y=function(i){try{if(i==this.g)e:{let Ie=ht(this.g);var s=this.g.Ba();let on=this.g.Z();if(!(3>Ie)&&(Ie!=3||this.g&&(this.h.h||this.g.oa()||ra(this.g)))){this.J||Ie!=4||s==7||(s==8||0>=on?Nn(3):Nn(2)),uo(this);var a=this.g.Z();this.X=a;t:if(Us(this)){var h=ra(this.g);i="";var C=h.length,I=ht(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),Ln(this);var P="";break t}this.h.i=new T.TextDecoder}for(s=0;s<C;s++)this.h.h=!0,i+=this.h.i.decode(h[s],{stream:!(I&&s==C-1)});h.length=0,this.h.g+=i,this.C=0,P=this.h.g}else P=this.g.oa();if(this.o=a==200,Sl(this.i,this.u,this.A,this.l,this.R,Ie,a),this.o){if(this.T&&!this.K){t:{if(this.g){var Z,ve=this.g;if((Z=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!et(Z)){var K=Z;break t}}K=null}if(a=K)tn(this.i,this.l,a,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ho(this,a);else{this.o=!1,this.s=3,Pe(12),Ut(this),Ln(this);break e}}if(this.P){a=!0;let He;for(;!this.J&&this.C<P.length;)if(He=Pl(this,P),He==co){Ie==4&&(this.s=4,Pe(14),a=!1),tn(this.i,this.l,null,"[Incomplete Response]");break}else if(He==Ns){this.s=4,Pe(15),tn(this.i,this.l,P,"[Invalid Chunk]"),a=!1;break}else tn(this.i,this.l,He,null),ho(this,He);if(Us(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||P.length!=0||this.h.h||(this.s=1,Pe(16),a=!1),this.o=this.o&&a,!a)tn(this.i,this.l,P,"[Invalid Chunked Response]"),Ut(this),Ln(this);else if(0<P.length&&!this.W){this.W=!0;var Ee=this.j;Ee.g==this&&Ee.ba&&!Ee.M&&(Ee.j.info("Great, no buffering proxy detected. Bytes received: "+P.length),yo(Ee),Ee.M=!0,Pe(11))}}else tn(this.i,this.l,P,null),ho(this,P);Ie==4&&Ut(this),this.o&&!this.J&&(Ie==4?da(this.j,this):(this.o=!1,Ci(this)))}else Kl(this.g),a==400&&0<P.indexOf("Unknown SID")?(this.s=3,Pe(12)):(this.s=0,Pe(13)),Ut(this),Ln(this)}}}catch{}finally{}};function Us(i){return i.g?i.u=="GET"&&i.L!=2&&i.j.Ca:!1}function Pl(i,s){var a=i.C,h=s.indexOf(`
`,a);return h==-1?co:(a=Number(s.substring(a,h)),isNaN(a)?Ns:(h+=1,h+a>s.length?co:(s=s.slice(h,h+a),i.C=h+a,s)))}wt.prototype.cancel=function(){this.J=!0,Ut(this)};function Ci(i){i.S=Date.now()+i.I,Ls(i,i.I)}function Ls(i,s){if(i.B!=null)throw Error("WatchDog timer not null");i.B=Fn(ce(i.ba,i),s)}function uo(i){i.B&&(T.clearTimeout(i.B),i.B=null)}wt.prototype.ba=function(){this.B=null;let i=Date.now();0<=i-this.S?(Tl(this.i,this.A),this.L!=2&&(Nn(),Pe(17)),Ut(this),this.s=2,Ln(this)):Ls(this,this.S-i)};function Ln(i){i.j.G==0||i.J||da(i.j,i)}function Ut(i){uo(i);var s=i.M;s&&typeof s.ma=="function"&&s.ma(),i.M=null,Ts(i.U),i.g&&(s=i.g,i.g=null,s.abort(),s.ma())}function ho(i,s){try{var a=i.j;if(a.G!=0&&(a.g==i||po(a.h,i))){if(!i.K&&po(a.h,i)&&a.G==3){try{var h=a.Da.g.parse(s)}catch{h=null}if(Array.isArray(h)&&h.length==3){var C=h;if(C[0]==0){e:if(!a.u){if(a.g)if(a.g.F+3e3<i.F)Pi(a),Ti(a);else break e;_o(a),Pe(18)}}else a.za=C[1],0<a.za-a.T&&37500>C[2]&&a.F&&a.v==0&&!a.C&&(a.C=Fn(ce(a.Za,a),6e3));if(1>=zs(a.h)&&a.ca){try{a.ca()}catch{}a.ca=void 0}}else Bt(a,11)}else if((i.K||a.g==i)&&Pi(a),!et(s))for(C=a.Da.g.parse(s),s=0;s<C.length;s++){let K=C[s];if(a.T=K[0],K=K[1],a.G==2)if(K[0]=="c"){a.K=K[1],a.ia=K[2];let Ee=K[3];Ee!=null&&(a.la=Ee,a.j.info("VER="+a.la));let Ie=K[4];Ie!=null&&(a.Aa=Ie,a.j.info("SVER="+a.Aa));let on=K[5];on!=null&&typeof on=="number"&&0<on&&(h=1.5*on,a.L=h,a.j.info("backChannelRequestTimeoutMs_="+h)),h=a;let He=i.g;if(He){let Mi=He.g?He.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mi){var I=h.h;I.g||Mi.indexOf("spdy")==-1&&Mi.indexOf("quic")==-1&&Mi.indexOf("h2")==-1||(I.j=I.l,I.g=new Set,I.h&&(mo(I,I.h),I.h=null))}if(h.D){let vo=He.g?He.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(h.ya=vo,oe(h.I,h.D,vo))}}a.G=3,a.l&&a.l.ua(),a.ba&&(a.R=Date.now()-i.F,a.j.info("Handshake RTT: "+a.R+"ms")),h=a;var P=i;if(h.qa=ma(h,h.J?h.ia:null,h.W),P.K){js(h.h,P);var Z=P,ve=h.L;ve&&(Z.I=ve),Z.B&&(uo(Z),Ci(Z)),h.g=P}else la(h);0<a.i.length&&Ai(a)}else K[0]!="stop"&&K[0]!="close"||Bt(a,7);else a.G==3&&(K[0]=="stop"||K[0]=="close"?K[0]=="stop"?Bt(a,7):go(a):K[0]!="noop"&&a.l&&a.l.ta(K),a.v=0)}}Nn(4)}catch{}}var Dl=class{constructor(i,s){this.g=i,this.map=s}};function Bs(i){this.l=i||10,T.PerformanceNavigationTiming?(i=T.performance.getEntriesByType("navigation"),i=0<i.length&&(i[0].nextHopProtocol=="hq"||i[0].nextHopProtocol=="h2")):i=!!(T.chrome&&T.chrome.loadTimes&&T.chrome.loadTimes()&&T.chrome.loadTimes().wasFetchedViaSpdy),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qs(i){return i.h?!0:i.g?i.g.size>=i.j:!1}function zs(i){return i.h?1:i.g?i.g.size:0}function po(i,s){return i.h?i.h==s:i.g?i.g.has(s):!1}function mo(i,s){i.g?i.g.add(s):i.h=s}function js(i,s){i.h&&i.h==s?i.h=null:i.g&&i.g.has(s)&&i.g.delete(s)}Bs.prototype.cancel=function(){if(this.i=$s(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let i of this.g.values())i.cancel();this.g.clear()}};function $s(i){if(i.h!=null)return i.i.concat(i.h.D);if(i.g!=null&&i.g.size!==0){let s=i.i;for(let a of i.g.values())s=s.concat(a.D);return s}return Ce(i.i)}function Ml(i){if(i.V&&typeof i.V=="function")return i.V();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if(typeof i=="string")return i.split("");if(V(i)){for(var s=[],a=i.length,h=0;h<a;h++)s.push(i[h]);return s}s=[],a=0;for(h in i)s[a++]=i[h];return s}function Ol(i){if(i.na&&typeof i.na=="function")return i.na();if(!i.V||typeof i.V!="function"){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(V(i)||typeof i=="string"){var s=[];i=i.length;for(var a=0;a<i;a++)s.push(a);return s}s=[],a=0;for(let h in i)s[a++]=h;return s}}}function Gs(i,s){if(i.forEach&&typeof i.forEach=="function")i.forEach(s,void 0);else if(V(i)||typeof i=="string")Array.prototype.forEach.call(i,s,void 0);else for(var a=Ol(i),h=Ml(i),C=h.length,I=0;I<C;I++)s.call(void 0,h[I],a&&a[I],i)}var Ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rl(i,s){if(i){i=i.split("&");for(var a=0;a<i.length;a++){var h=i[a].indexOf("="),C=null;if(0<=h){var I=i[a].substring(0,h);C=i[a].substring(h+1)}else I=i[a];s(I,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Lt(i){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,i instanceof Lt){this.h=i.h,wi(this,i.j),this.o=i.o,this.g=i.g,xi(this,i.s),this.l=i.l;var s=i.i,a=new zn;a.i=s.i,s.g&&(a.g=new Map(s.g),a.h=s.h),Ws(this,a),this.m=i.m}else i&&(s=String(i).match(Ks))?(this.h=!1,wi(this,s[1]||"",!0),this.o=Bn(s[2]||""),this.g=Bn(s[3]||"",!0),xi(this,s[4]),this.l=Bn(s[5]||"",!0),Ws(this,s[6]||"",!0),this.m=Bn(s[7]||"")):(this.h=!1,this.i=new zn(null,this.h))}Lt.prototype.toString=function(){var i=[],s=this.j;s&&i.push(qn(s,Hs,!0),":");var a=this.g;return(a||s=="file")&&(i.push("//"),(s=this.o)&&i.push(qn(s,Hs,!0),"@"),i.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a=this.s,a!=null&&i.push(":",String(a))),(a=this.l)&&(this.g&&a.charAt(0)!="/"&&i.push("/"),i.push(qn(a,a.charAt(0)=="/"?Nl:kl,!0))),(a=this.i.toString())&&i.push("?",a),(a=this.m)&&i.push("#",qn(a,Ul)),i.join("")};function dt(i){return new Lt(i)}function wi(i,s,a){i.j=a?Bn(s,!0):s,i.j&&(i.j=i.j.replace(/:$/,""))}function xi(i,s){if(s){if(s=Number(s),isNaN(s)||0>s)throw Error("Bad port number "+s);i.s=s}else i.s=null}function Ws(i,s,a){s instanceof zn?(i.i=s,Ll(i.i,i.h)):(a||(s=qn(s,Fl)),i.i=new zn(s,i.h))}function oe(i,s,a){i.i.set(s,a)}function Ei(i){return oe(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Bn(i,s){return i?s?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function qn(i,s,a){return typeof i=="string"?(i=encodeURI(i).replace(s,Vl),a&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Vl(i){return i=i.charCodeAt(0),"%"+(i>>4&15).toString(16)+(i&15).toString(16)}var Hs=/[#\/\?@]/g,kl=/[#\?:]/g,Nl=/[#\?]/g,Fl=/[#\?@]/g,Ul=/#/g;function zn(i,s){this.h=this.g=null,this.i=i||null,this.j=!!s}function xt(i){i.g||(i.g=new Map,i.h=0,i.i&&Rl(i.i,function(s,a){i.add(decodeURIComponent(s.replace(/\+/g," ")),a)}))}n=zn.prototype,n.add=function(i,s){xt(this),this.i=null,i=nn(this,i);var a=this.g.get(i);return a||this.g.set(i,a=[]),a.push(s),this.h+=1,this};function Qs(i,s){xt(i),s=nn(i,s),i.g.has(s)&&(i.i=null,i.h-=i.g.get(s).length,i.g.delete(s))}function Js(i,s){return xt(i),s=nn(i,s),i.g.has(s)}n.forEach=function(i,s){xt(this),this.g.forEach(function(a,h){a.forEach(function(C){i.call(s,C,h,this)},this)},this)},n.na=function(){xt(this);let i=Array.from(this.g.values()),s=Array.from(this.g.keys()),a=[];for(let h=0;h<s.length;h++){let C=i[h];for(let I=0;I<C.length;I++)a.push(s[h])}return a},n.V=function(i){xt(this);let s=[];if(typeof i=="string")Js(this,i)&&(s=s.concat(this.g.get(nn(this,i))));else{i=Array.from(this.g.values());for(let a=0;a<i.length;a++)s=s.concat(i[a])}return s},n.set=function(i,s){return xt(this),this.i=null,i=nn(this,i),Js(this,i)&&(this.h-=this.g.get(i).length),this.g.set(i,[s]),this.h+=1,this},n.get=function(i,s){return i?(i=this.V(i),0<i.length?String(i[0]):s):s};function Ys(i,s,a){Qs(i,s),0<a.length&&(i.i=null,i.g.set(nn(i,s),Ce(a)),i.h+=a.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let i=[],s=Array.from(this.g.keys());for(var a=0;a<s.length;a++){var h=s[a];let I=encodeURIComponent(String(h)),P=this.V(h);for(h=0;h<P.length;h++){var C=I;P[h]!==""&&(C+="="+encodeURIComponent(String(P[h]))),i.push(C)}}return this.i=i.join("&")};function nn(i,s){return s=String(s),i.j&&(s=s.toLowerCase()),s}function Ll(i,s){s&&!i.j&&(xt(i),i.i=null,i.g.forEach(function(a,h){var C=h.toLowerCase();h!=C&&(Qs(this,h),Ys(this,C,a))},i)),i.j=s}function Bl(i,s){let a=new Un;if(T.Image){let h=new Image;h.onload=ze(Et,a,"TestLoadImage: loaded",!0,s,h),h.onerror=ze(Et,a,"TestLoadImage: error",!1,s,h),h.onabort=ze(Et,a,"TestLoadImage: abort",!1,s,h),h.ontimeout=ze(Et,a,"TestLoadImage: timeout",!1,s,h),T.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=i}else s(!1)}function ql(i,s){let a=new Un,h=new AbortController,C=setTimeout(()=>{h.abort(),Et(a,"TestPingServer: timeout",!1,s)},1e4);fetch(i,{signal:h.signal}).then(I=>{clearTimeout(C),I.ok?Et(a,"TestPingServer: ok",!0,s):Et(a,"TestPingServer: server error",!1,s)}).catch(()=>{clearTimeout(C),Et(a,"TestPingServer: error",!1,s)})}function Et(i,s,a,h,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),h(a)}catch{}}function zl(){this.g=new El}function jl(i,s,a){let h=a||"";try{Gs(i,function(C,I){let P=C;B(C)&&(P=io(C)),s.push(h+I+"="+encodeURIComponent(P))})}catch(C){throw s.push(h+"type="+encodeURIComponent("_badmap")),C}}function jn(i){this.l=i.Ub||null,this.j=i.eb||!1}Q(jn,ro),jn.prototype.g=function(){return new Ii(this.l,this.j)},jn.prototype.i=function(i){return function(){return i}}({});function Ii(i,s){xe.call(this),this.D=i,this.o=s,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Q(Ii,xe),n=Ii.prototype,n.open=function(i,s){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=i,this.A=s,this.readyState=1,Gn(this)},n.send=function(i){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let s={headers:this.u,method:this.B,credentials:this.m,cache:void 0};i&&(s.body=i),(this.D||T).fetch(new Request(this.A,s)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},n.Sa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")i.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof T.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xs(this)}else i.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xs(i){i.j.read().then(i.Pa.bind(i)).catch(i.ga.bind(i))}n.Pa=function(i){if(this.g){if(this.o&&i.value)this.response.push(i.value);else if(!this.o){var s=i.value?i.value:new Uint8Array(0);(s=this.v.decode(s,{stream:!i.done}))&&(this.response=this.responseText+=s)}i.done?$n(this):Gn(this),this.readyState==3&&Xs(this)}},n.Ra=function(i){this.g&&(this.response=this.responseText=i,$n(this))},n.Qa=function(i){this.g&&(this.response=i,$n(this))},n.ga=function(){this.g&&$n(this)};function $n(i){i.readyState=4,i.l=null,i.j=null,i.v=null,Gn(i)}n.setRequestHeader=function(i,s){this.u.append(i,s)},n.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let i=[],s=this.h.entries();for(var a=s.next();!a.done;)a=a.value,i.push(a[0]+": "+a[1]),a=s.next();return i.join(`\r
`)};function Gn(i){i.onreadystatechange&&i.onreadystatechange.call(i)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(i){this.m=i?"include":"same-origin"}});function Zs(i){let s="";return tt(i,function(a,h){s+=h,s+=":",s+=a,s+=`\r
`}),s}function fo(i,s,a){e:{for(h in a){var h=!1;break e}h=!0}h||(a=Zs(a),typeof i=="string"?a!=null&&encodeURIComponent(String(a)):oe(i,s,a))}function le(i){xe.call(this),this.headers=new Map,this.o=i||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Q(le,xe);var $l=/^https?$/i,Gl=["POST","PUT"];n=le.prototype,n.Ha=function(i){this.J=i},n.ea=function(i,s,a,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+i);s=s?s.toUpperCase():"GET",this.D=i,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ao.g(),this.v=this.o?As(this.o):As(ao),this.g.onreadystatechange=ce(this.Ea,this);try{this.B=!0,this.g.open(s,String(i),!0),this.B=!1}catch(I){ea(this,I);return}if(i=a||"",a=new Map(this.headers),h)if(Object.getPrototypeOf(h)===Object.prototype)for(var C in h)a.set(C,h[C]);else if(typeof h.keys=="function"&&typeof h.get=="function")for(let I of h.keys())a.set(I,h.get(I));else throw Error("Unknown input type for opt_headers: "+String(h));h=Array.from(a.keys()).find(I=>I.toLowerCase()=="content-type"),C=T.FormData&&i instanceof T.FormData,!(0<=Array.prototype.indexOf.call(Gl,s,void 0))||h||C||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[I,P]of a)this.g.setRequestHeader(I,P);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ia(this),this.u=!0,this.g.send(i),this.u=!1}catch(I){ea(this,I)}};function ea(i,s){i.h=!1,i.g&&(i.j=!0,i.g.abort(),i.j=!1),i.l=s,i.m=5,ta(i),Si(i)}function ta(i){i.A||(i.A=!0,Ae(i,"complete"),Ae(i,"error"))}n.abort=function(i){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=i||7,Ae(this,"complete"),Ae(this,"abort"),Si(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),le.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?na(this):this.bb())},n.bb=function(){na(this)};function na(i){if(i.h&&typeof _<"u"&&(!i.v[1]||ht(i)!=4||i.Z()!=2)){if(i.u&&ht(i)==4)Es(i.Ea,0,i);else if(Ae(i,"readystatechange"),ht(i)==4){i.h=!1;try{let P=i.Z();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var s=!0;break e;default:s=!1}var a;if(!(a=s)){var h;if(h=P===0){var C=String(i.D).match(Ks)[1]||null;!C&&T.self&&T.self.location&&(C=T.self.location.protocol.slice(0,-1)),h=!$l.test(C?C.toLowerCase():"")}a=h}if(a)Ae(i,"complete"),Ae(i,"success");else{i.m=6;try{var I=2<ht(i)?i.g.statusText:""}catch{I=""}i.l=I+" ["+i.Z()+"]",ta(i)}}finally{Si(i)}}}}function Si(i,s){if(i.g){ia(i);let a=i.g,h=i.v[0]?()=>{}:null;i.g=null,i.v=null,s||Ae(i,"ready");try{a.onreadystatechange=h}catch{}}}function ia(i){i.I&&(T.clearTimeout(i.I),i.I=null)}n.isActive=function(){return!!this.g};function ht(i){return i.g?i.g.readyState:0}n.Z=function(){try{return 2<ht(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(i){if(this.g){var s=this.g.responseText;return i&&s.indexOf(i)==0&&(s=s.substring(i.length)),xl(s)}};function ra(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.H){case"":case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Kl(i){let s={};i=(i.g&&2<=ht(i)&&i.g.getAllResponseHeaders()||"").split(`\r
`);for(let h=0;h<i.length;h++){if(et(i[h]))continue;var a=b(i[h]);let C=a[0];if(a=a[1],typeof a!="string")continue;a=a.trim();let I=s[C]||[];s[C]=I,I.push(a)}w(s,function(h){return h.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kn(i,s,a){return a&&a.internalChannelParams&&a.internalChannelParams[i]||s}function oa(i){this.Aa=0,this.i=[],this.j=new Un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kn("failFast",!1,i),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kn("baseRetryDelayMs",5e3,i),this.cb=Kn("retryDelaySeedMs",1e4,i),this.Wa=Kn("forwardChannelMaxRetries",2,i),this.wa=Kn("forwardChannelRequestTimeoutMs",2e4,i),this.pa=i&&i.xmlHttpFactory||void 0,this.Xa=i&&i.Tb||void 0,this.Ca=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.h=new Bs(i&&i.concurrentRequestLimit),this.Da=new zl,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=i&&i.Rb||!1,i&&i.xa&&this.j.xa(),i&&i.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&i&&i.detectBufferingProxy||!1,this.ja=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.ja=i.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=oa.prototype,n.la=8,n.G=1,n.connect=function(i,s,a,h){Pe(0),this.W=i,this.H=s||{},a&&h!==void 0&&(this.H.OSID=a,this.H.OAID=h),this.F=this.X,this.I=ma(this,null,this.W),Ai(this)};function go(i){if(sa(i),i.G==3){var s=i.U++,a=dt(i.I);if(oe(a,"SID",i.K),oe(a,"RID",s),oe(a,"TYPE","terminate"),Wn(i,a),s=new wt(i,i.j,s),s.L=2,s.v=Ei(dt(a)),a=!1,T.navigator&&T.navigator.sendBeacon)try{a=T.navigator.sendBeacon(s.v.toString(),"")}catch{}!a&&T.Image&&(new Image().src=s.v,a=!0),a||(s.g=fa(s.j,null),s.g.ea(s.v)),s.F=Date.now(),Ci(s)}pa(i)}function Ti(i){i.g&&(yo(i),i.g.cancel(),i.g=null)}function sa(i){Ti(i),i.u&&(T.clearTimeout(i.u),i.u=null),Pi(i),i.h.cancel(),i.s&&(typeof i.s=="number"&&T.clearTimeout(i.s),i.s=null)}function Ai(i){if(!qs(i.h)&&!i.s){i.s=!0;var s=i.Ga;Dn||ys(),Mn||(Dn(),Mn=!0),Hr.add(s,i),i.B=0}}function Wl(i,s){return zs(i.h)>=i.h.j-(i.s?1:0)?!1:i.s?(i.i=s.D.concat(i.i),!0):i.G==1||i.G==2||i.B>=(i.Va?0:i.Wa)?!1:(i.s=Fn(ce(i.Ga,i,s),ha(i,i.B)),i.B++,!0)}n.Ga=function(i){if(this.s)if(this.s=null,this.G==1){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;let C=new wt(this,this.j,i),I=this.o;if(this.S&&(I?(I=p(I),v(I,this.S)):I=this.S),this.m!==null||this.O||(C.H=I,I=null),this.P)e:{for(var s=0,a=0;a<this.i.length;a++){t:{var h=this.i[a];if("__data__"in h.map&&(h=h.map.__data__,typeof h=="string")){h=h.length;break t}h=void 0}if(h===void 0)break;if(s+=h,4096<s){s=a;break e}if(s===4096||a===this.i.length-1){s=a+1;break e}}s=1e3}else s=1e3;s=ca(this,C,s),a=dt(this.I),oe(a,"RID",i),oe(a,"CVER",22),this.D&&oe(a,"X-HTTP-Session-Id",this.D),Wn(this,a),I&&(this.O?s="headers="+encodeURIComponent(String(Zs(I)))+"&"+s:this.m&&fo(a,this.m,I)),mo(this.h,C),this.Ua&&oe(a,"TYPE","init"),this.P?(oe(a,"$req",s),oe(a,"SID","null"),C.T=!0,lo(C,a,null)):lo(C,a,s),this.G=2}}else this.G==3&&(i?aa(this,i):this.i.length==0||qs(this.h)||aa(this))};function aa(i,s){var a;s?a=s.l:a=i.U++;let h=dt(i.I);oe(h,"SID",i.K),oe(h,"RID",a),oe(h,"AID",i.T),Wn(i,h),i.m&&i.o&&fo(h,i.m,i.o),a=new wt(i,i.j,a,i.B+1),i.m===null&&(a.H=i.o),s&&(i.i=s.D.concat(i.i)),s=ca(i,a,1e3),a.I=Math.round(.5*i.wa)+Math.round(.5*i.wa*Math.random()),mo(i.h,a),lo(a,h,s)}function Wn(i,s){i.H&&tt(i.H,function(a,h){oe(s,h,a)}),i.l&&Gs({},function(a,h){oe(s,h,a)})}function ca(i,s,a){a=Math.min(i.i.length,a);var h=i.l?ce(i.l.Na,i.l,i):null;e:{var C=i.i;let I=-1;for(;;){let P=["count="+a];I==-1?0<a?(I=C[0].g,P.push("ofs="+I)):I=0:P.push("ofs="+I);let Z=!0;for(let ve=0;ve<a;ve++){let K=C[ve].g,Ee=C[ve].map;if(K-=I,0>K)I=Math.max(0,C[ve].g-100),Z=!1;else try{jl(Ee,P,"req"+K+"_")}catch{h&&h(Ee)}}if(Z){h=P.join("&");break e}}}return i=i.i.splice(0,a),s.D=i,h}function la(i){if(!i.g&&!i.u){i.Y=1;var s=i.Fa;Dn||ys(),Mn||(Dn(),Mn=!0),Hr.add(s,i),i.v=0}}function _o(i){return i.g||i.u||3<=i.v?!1:(i.Y++,i.u=Fn(ce(i.Fa,i),ha(i,i.v)),i.v++,!0)}n.Fa=function(){if(this.u=null,ua(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var i=2*this.R;this.j.info("BP detection timer enabled: "+i),this.A=Fn(ce(this.ab,this),i)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pe(10),Ti(this),ua(this))};function yo(i){i.A!=null&&(T.clearTimeout(i.A),i.A=null)}function ua(i){i.g=new wt(i,i.j,"rpc",i.Y),i.m===null&&(i.g.H=i.o),i.g.O=0;var s=dt(i.qa);oe(s,"RID","rpc"),oe(s,"SID",i.K),oe(s,"AID",i.T),oe(s,"CI",i.F?"0":"1"),!i.F&&i.ja&&oe(s,"TO",i.ja),oe(s,"TYPE","xmlhttp"),Wn(i,s),i.m&&i.o&&fo(s,i.m,i.o),i.L&&(i.g.I=i.L);var a=i.g;i=i.ia,a.L=1,a.v=Ei(dt(s)),a.m=null,a.P=!0,Fs(a,i)}n.Za=function(){this.C!=null&&(this.C=null,Ti(this),_o(this),Pe(19))};function Pi(i){i.C!=null&&(T.clearTimeout(i.C),i.C=null)}function da(i,s){var a=null;if(i.g==s){Pi(i),yo(i),i.g=null;var h=2}else if(po(i.h,s))a=s.D,js(i.h,s),h=1;else return;if(i.G!=0){if(s.o)if(h==1){a=s.m?s.m.length:0,s=Date.now()-s.F;var C=i.B;h=yi(),Ae(h,new Rs(h,a)),Ai(i)}else la(i);else if(C=s.s,C==3||C==0&&0<s.X||!(h==1&&Wl(i,s)||h==2&&_o(i)))switch(a&&0<a.length&&(s=i.h,s.i=s.i.concat(a)),C){case 1:Bt(i,5);break;case 4:Bt(i,10);break;case 3:Bt(i,6);break;default:Bt(i,2)}}}function ha(i,s){let a=i.Ta+Math.floor(Math.random()*i.cb);return i.isActive()||(a*=2),a*s}function Bt(i,s){if(i.j.info("Error code "+s),s==2){var a=ce(i.fb,i),h=i.Xa;let C=!h;h=new Lt(h||"//www.google.com/images/cleardot.gif"),T.location&&T.location.protocol=="http"||wi(h,"https"),Ei(h),C?Bl(h.toString(),a):ql(h.toString(),a)}else Pe(2);i.G=0,i.l&&i.l.sa(s),pa(i),sa(i)}n.fb=function(i){i?(this.j.info("Successfully pinged google.com"),Pe(2)):(this.j.info("Failed to ping google.com"),Pe(1))};function pa(i){if(i.G=0,i.ka=[],i.l){let s=$s(i.h);(s.length!=0||i.i.length!=0)&&(he(i.ka,s),he(i.ka,i.i),i.h.i.length=0,Ce(i.i),i.i.length=0),i.l.ra()}}function ma(i,s,a){var h=a instanceof Lt?dt(a):new Lt(a);if(h.g!="")s&&(h.g=s+"."+h.g),xi(h,h.s);else{var C=T.location;h=C.protocol,s=s?s+"."+C.hostname:C.hostname,C=+C.port;var I=new Lt(null);h&&wi(I,h),s&&(I.g=s),C&&xi(I,C),a&&(I.l=a),h=I}return a=i.D,s=i.ya,a&&s&&oe(h,a,s),oe(h,"VER",i.la),Wn(i,h),h}function fa(i,s,a){if(s&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return s=i.Ca&&!i.pa?new le(new jn({eb:a})):new le(i.pa),s.Ha(i.J),s}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ga(){}n=ga.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Di(){}Di.prototype.g=function(i,s){return new Ue(i,s)};function Ue(i,s){xe.call(this),this.g=new oa(s),this.l=i,this.h=s&&s.messageUrlParams||null,i=s&&s.messageHeaders||null,s&&s.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.o=i,i=s&&s.initMessageHeaders||null,s&&s.messageContentType&&(i?i["X-WebChannel-Content-Type"]=s.messageContentType:i={"X-WebChannel-Content-Type":s.messageContentType}),s&&s.va&&(i?i["X-WebChannel-Client-Profile"]=s.va:i={"X-WebChannel-Client-Profile":s.va}),this.g.S=i,(i=s&&s.Sb)&&!et(i)&&(this.g.m=i),this.v=s&&s.supportsCrossDomainXhr||!1,this.u=s&&s.sendRawJson||!1,(s=s&&s.httpSessionIdParam)&&!et(s)&&(this.g.D=s,i=this.h,i!==null&&s in i&&(i=this.h,s in i&&delete i[s])),this.j=new rn(this)}Q(Ue,xe),Ue.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ue.prototype.close=function(){go(this.g)},Ue.prototype.o=function(i){var s=this.g;if(typeof i=="string"){var a={};a.__data__=i,i=a}else this.u&&(a={},a.__data__=io(i),i=a);s.i.push(new Dl(s.Ya++,i)),s.G==3&&Ai(s)},Ue.prototype.N=function(){this.g.l=null,delete this.j,go(this.g),delete this.g,Ue.aa.N.call(this)};function _a(i){oo.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var s=i.__sm__;if(s){e:{for(let a in s){i=a;break e}i=void 0}(this.i=i)&&(i=this.i,s=s!==null&&i in s?s[i]:void 0),this.data=s}else this.data=i}Q(_a,oo);function ya(){so.call(this),this.status=1}Q(ya,so);function rn(i){this.g=i}Q(rn,ga),rn.prototype.ua=function(){Ae(this.g,"a")},rn.prototype.ta=function(i){Ae(this.g,new _a(i))},rn.prototype.sa=function(i){Ae(this.g,new ya)},rn.prototype.ra=function(){Ae(this.g,"b")},Di.prototype.createWebChannel=Di.prototype.g,Ue.prototype.send=Ue.prototype.o,Ue.prototype.open=Ue.prototype.m,Ue.prototype.close=Ue.prototype.close,Jc=vt.createWebChannelTransport=function(){return new Di},Qc=vt.getStatEventTarget=function(){return yi()},Hc=vt.Event=Ft,Wc=vt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vi.NO_ERROR=0,vi.TIMEOUT=8,vi.HTTP_ERROR=6,Kc=vt.ErrorCode=vi,Vs.COMPLETE="complete",Gc=vt.EventType=Vs,Ps.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",xe.prototype.listen=xe.prototype.K,$c=vt.WebChannel=Ps,Rh=vt.FetchXmlHttpFactory=jn,le.prototype.listenOnce=le.prototype.L,le.prototype.getLastError=le.prototype.Ka,le.prototype.getLastErrorCode=le.prototype.Ba,le.prototype.getStatus=le.prototype.Z,le.prototype.getResponseJson=le.prototype.Oa,le.prototype.getResponseText=le.prototype.oa,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Ha,jc=vt.XhrIo=le}).apply(typeof mr<"u"?mr:typeof self<"u"?self:typeof window<"u"?window:{});var Yc="@firebase/firestore";var Me=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Me.UNAUTHENTICATED=new Me(null),Me.GOOGLE_CREDENTIALS=new Me("google-credentials-uid"),Me.FIRST_PARTY=new Me("first-party-uid"),Me.MOCK_USER=new Me("mock-user");var xr="11.0.0";var fr=new xn("@firebase/firestore");function Xe(n,...e){if(fr.logLevel<=ie.DEBUG){let t=e.map(il);fr.debug(`Firestore (${xr}): ${n}`,...t)}}function nl(n,...e){if(fr.logLevel<=ie.ERROR){let t=e.map(il);fr.error(`Firestore (${xr}): ${n}`,...t)}}function il(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function qe(n="Unexpected state"){let e=`FIRESTORE (${xr}) INTERNAL ASSERTION FAILED: `+n;throw nl(e),new Error(e)}function Yt(n,e){n||qe()}var Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ye=class extends _t{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Xt=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ns=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},is=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Me.UNAUTHENTICATED))}shutdown(){}};var rs=class{constructor(e){this.t=e,this.currentUser=Me.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Yt(this.o===void 0);let r=this.i,o=V=>this.i!==r?(r=this.i,t(V)):Promise.resolve(),u=new Xt;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Xt,e.enqueueRetryable(()=>o(this.currentUser))};let _=()=>{let V=u;e.enqueueRetryable(()=>ae(this,null,function*(){yield V.promise,yield o(this.currentUser)}))},T=V=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=V,this.o&&(this.auth.addAuthTokenListener(this.o),_())};this.t.onInit(V=>T(V)),setTimeout(()=>{if(!this.auth){let V=this.t.getImmediate({optional:!0});V?T(V):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Xt)}},0),_()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Yt(typeof r.accessToken=="string"),new ns(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Yt(e===null||typeof e=="string"),new Me(e)}},os=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Me.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ss=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new os(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Me.FIRST_PARTY))}shutdown(){}invalidateToken(){}},as=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},cs=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Yt(this.o===void 0);let r=u=>{u.error!=null&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);let _=u.token!==this.R;return this.R=u.token,Xe("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};let o=u=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){let u=this.A.getImmediate({optional:!0});u?o(u):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Yt(typeof t.token=="string"),this.R=t.token,new as(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function gr(n,e){return n<e?-1:n>e?1:0}var _r=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gr(this.nanoseconds,e.nanoseconds):gr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ls=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&qe(),r===void 0?r=e.length-t:r>e.length-t&&qe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let o=0;o<r;o++){let u=e.get(o),_=t.get(o);if(u<_)return-1;if(u>_)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Nt=class n extends ls{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new ye(Te.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new n(t)}static emptyPath(){return new n([])}};var Zt=class n{constructor(e){this.path=e}static fromPath(e){return new n(Nt.fromString(e))}static fromName(e){return new n(Nt.fromString(e).popFirst(5))}static empty(){return new n(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Nt(e.slice()))}};var us=class{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}};us.UNKNOWN_ID=-1;function Vh(n){return n.name==="IndexedDbTransactionError"}function kh(n){return n===0&&1/n==-1/0}var Nh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],j0=[...Nh,"documentOverlays"],Fh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Uh=Fh,Lh=[...Uh,"indexConfiguration","indexState","indexEntries"];var $0=[...Lh,"globals"];var Sn=class n{constructor(e,t){this.comparator=e,this.root=t||lt.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lt.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new In(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new In(this.root,e,this.comparator,!1)}getReverseIterator(){return new In(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new In(this.root,e,this.comparator,!0)}},In=class{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},lt=class n{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??n.RED,this.left=o??n.EMPTY,this.right=u??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new n(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this,u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return n.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();let e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}};lt.EMPTY=null,lt.RED=!0,lt.BLACK=!1;lt.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(e,t,r,o,u){return this}insert(e,t,r){return new lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yr=class n{constructor(e){this.comparator=e,this.data=new Sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vr(this.data.getIterator())}getIteratorFrom(e){return new vr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let o=t.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},vr=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ds=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Tn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ds("Invalid base64 string: "+u):u}}(e);return new n(t)}static fromUint8Array(e){let t=function(o){let u="";for(let _=0;_<o.length;++_)u+=String.fromCharCode(o[_]);return u}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Tn.EMPTY_BYTE_STRING=new Tn("");var Bh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qh(n){if(Yt(!!n),typeof n=="string"){let e=0,t=Bh.exec(n);if(Yt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:di(n.seconds),nanos:di(n.nanos)}}function di(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function zh(n){return typeof n=="string"?Tn.fromBase64String(n):Tn.fromUint8Array(n)}var hs=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};function jh(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function $h(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var K0=new Sn(Zt.comparator);var W0=new Sn(Zt.comparator);var H0=new Sn(Zt.comparator),Q0=new yr(Zt.comparator);var J0=new yr(gr);var Xc,G;(G=Xc||(Xc={}))[G.OK=0]="OK",G[G.CANCELLED=1]="CANCELLED",G[G.UNKNOWN=2]="UNKNOWN",G[G.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",G[G.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",G[G.NOT_FOUND=5]="NOT_FOUND",G[G.ALREADY_EXISTS=6]="ALREADY_EXISTS",G[G.PERMISSION_DENIED=7]="PERMISSION_DENIED",G[G.UNAUTHENTICATED=16]="UNAUTHENTICATED",G[G.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",G[G.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",G[G.ABORTED=10]="ABORTED",G[G.OUT_OF_RANGE=11]="OUT_OF_RANGE",G[G.UNIMPLEMENTED=12]="UNIMPLEMENTED",G[G.INTERNAL=13]="INTERNAL",G[G.UNAVAILABLE=14]="UNAVAILABLE",G[G.DATA_LOSS=15]="DATA_LOSS";var Y0=new es([4294967295,4294967295],0);var br=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(di(e.integerValue));else if("doubleValue"in e){let r=di(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),kh(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=qh(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(zh(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?$h(e)?this.dt(t,Number.MAX_SAFE_INTEGER):jh(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):qe()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let o of Object.keys(r))this.Vt(o,t),this.Tt(r[o],t)}wt(e,t){var r,o;let u=e.fields||{};this.dt(t,53);let _="value",T=((o=(r=u[_].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.length)||0;this.dt(t,15),t.At(di(T)),this.Vt(_,t),this.Tt(u[_],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let o of r)this.Tt(o,t)}yt(e,t){this.dt(t,37),Zt.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};br.vt=new br;var X0=new Uint8Array(0);var ct=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ct.DEFAULT_COLLECTION_PERCENTILE=10,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ct.DEFAULT=new ct(41943040,ct.DEFAULT_COLLECTION_PERCENTILE,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ct.DISABLED=new ct(-1,0,0);function ts(){return typeof document<"u"?document:null}var ps=class{constructor(e,t,r=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-r);o>0&&Xe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ms=class n{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new Xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,u){let _=Date.now()+r,T=new n(e,t,_,o,u);return T.start(r),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(Te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var Zc,el;(el=Zc||(Zc={})).ea="default",el.Cache="cache";function Gh(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var tl=new Map;function Kh(n,e,t,r){if(e===!0&&r===!0)throw new ye(Te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}var Cr=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Kh("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gh((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},fs=class{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cr({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cr(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new is;switch(r.type){case"firstParty":return new ss(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return ae(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=tl.get(t);r&&(Xe("ComponentProvider","Removing Datastore"),tl.delete(t),r.terminate())}(this),Promise.resolve()}};var wr=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ps(this,"async_queue_retry"),this.Vu=()=>{let r=ts();r&&Xe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=ts();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=ts();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Xt;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return ae(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Vh(e))throw e;Xe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let o=function(_){let T=_.message||"";return _.stack&&(T=_.stack.includes(_.message)?_.stack:_.message+`
`+_.stack),T}(r);throw nl("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let o=ms.createAndSchedule(this,e,t,r,u=>this.yu(u));return this.Tu.push(o),o}fu(){this.Eu&&qe()}verifyOperationInProgress(){}wu(){return ae(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};var gs=class extends fs{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new wr,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return ae(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new wr(e),this._firestoreClient=void 0,yield e}})}};var Z0=new RegExp("[~\\*/\\[\\]]");(function(e,t=!0){(function(o){xr=o})(Fc),li(new kt("firestore",(r,{instanceIdentifier:o,options:u})=>{let _=r.getProvider("app").getImmediate(),T=new gs(new rs(r.getProvider("auth-internal")),new cs(r.getProvider("app-check-internal")),function(B,Ze){if(!Object.prototype.hasOwnProperty.apply(B.options,["projectId"]))throw new ye(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hs(B.options.projectId,Ze)}(_,o),_);return u=Object.assign({useFetchStreams:t},u),T._setSettings(u),T},"PUBLIC").setMultipleInstances(!0)),En(Yc,"4.7.4",e),En(Yc,"4.7.4","esm2017")})();var Wh=(n,e)=>({"request-left":n,"request-right":e}),Hh=(n,e)=>({"rejected-bg":n,"accepted-bg":e});function Qh(n,e){if(n&1&&(l(0,"p")(1,"strong"),d(2,"Adres\u0103:"),c(),d(3),c()),n&2){let t=E();m(3),F(" ",t.request.senderContactInfo==null?null:t.request.senderContactInfo.address," ")}}function Jh(n,e){if(n&1&&(l(0,"p")(1,"strong"),d(2,"Telefon:"),c(),d(3),c()),n&2){let t=E();m(3),F(" ",t.request.senderContactInfo==null?null:t.request.senderContactInfo.phoneNumber," ")}}function Yh(n,e){n&1&&(l(0,"p",5),d(1,"\xCEn a\u0219teptare..."),c())}function Xh(n,e){if(n&1){let t=N();l(0,"div",6)(1,"button",7),S("click",function(){M(t);let o=E(2);return O(o.acceptRequest())}),d(2," Accept\u0103 "),c(),l(3,"button",8),S("click",function(){M(t);let o=E(2);return O(o.rejectRequest())}),d(4," Respinge "),c()()}}function Zh(n,e){if(n&1&&(l(0,"div"),D(1,Yh,2,0,"p",4)(2,Xh,5,0,"div",3),c()),n&2){let t=E();m(),y("ngIf",t.userRole==="Client"),m(),y("ngIf",t.userRole==="Specialist")}}function ep(n,e){if(n&1){let t=N();l(0,"div",6)(1,"button",9),S("click",function(){M(t);let o=E();return O(o.triggerOffer())}),d(2,"F\u0103 o ofert\u0103"),c()()}}var Er=class n{constructor(e){this.authService=e}request={id:"",senderId:"",requestedStartDate:new Date,description:"",status:"Pending",senderContactInfo:{phoneNumber:"",address:""}};currentUserId;userRole="";requestAccepted=new j;requestRejected=new j;makeOffer=new j;ngOnInit(){console.log(this.request)}acceptRequest(){this.requestAccepted.emit(this.request.id)}rejectRequest(){this.requestRejected.emit(this.request.id)}showOfferButton(){return this.request.status==="Accepted"&&this.userRole==="Specialist"}triggerOffer(){this.makeOffer.emit(this.request.id)}get isOwnMessage(){return this.request.senderId===this.currentUserId}static \u0275fac=function(t){return new(t||n)(A(q))};static \u0275cmp=R({type:n,selectors:[["app-request-message"]],inputs:{request:"request",currentUserId:"currentUserId"},outputs:{requestAccepted:"requestAccepted",requestRejected:"requestRejected",makeOffer:"makeOffer"},decls:17,vars:17,consts:[[1,"request",3,"ngClass"],[1,"request-summary",3,"ngClass"],[4,"ngIf"],["class","action-buttons",4,"ngIf"],["class","status-button",4,"ngIf"],[1,"status-button"],[1,"action-buttons"],[1,"accept-btn",3,"click"],[1,"reject-btn",3,"click"],[1,"offer-btn",3,"click"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"h3"),d(3,"Solicitare"),c(),l(4,"p")(5,"strong"),d(6,"Data \u0219i ora:"),c(),d(7),$(8,"date"),c(),l(9,"p")(10,"strong"),d(11,"Descriere:"),c(),d(12),c(),D(13,Qh,4,1,"p",2)(14,Jh,4,1,"p",2)(15,Zh,3,2,"div",2)(16,ep,3,0,"div",3),c()()),t&2&&(y("ngClass",pt(11,Wh,!r.isOwnMessage,r.isOwnMessage)),m(),y("ngClass",pt(14,Hh,r.request.status==="Rejected",r.request.status==="Accepted"||r.request.status==="Completed")),m(6),F(" ",Ge(8,8,r.request.requestedStartDate,"short"),""),m(5),F(" ",r.request.description,""),m(),y("ngIf",r.request.senderContactInfo==null?null:r.request.senderContactInfo.address),m(),y("ngIf",r.request.senderContactInfo==null?null:r.request.senderContactInfo.phoneNumber),m(),y("ngIf",r.request.status==="Pending"),m(),y("ngIf",r.showOfferButton()))},dependencies:[nt,Y,Ke],styles:['@charset "UTF-8";.request[_ngcontent-%COMP%]{display:flex;width:100%}.request-left[_ngcontent-%COMP%]{justify-content:flex-start}.request-right[_ngcontent-%COMP%]{justify-content:flex-end}.request-center[_ngcontent-%COMP%]{justify-content:center}.request-summary[_ngcontent-%COMP%]{max-width:300px;margin:8px;padding:12px;border:2px solid black;background-color:#f8faff;font-size:.8rem;line-height:1.4;border-radius:6px;font-family:Roboto Mono,monospace}.request-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}.request-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-size:1rem;text-align:center}.request-status[_ngcontent-%COMP%]{display:inline-block;margin-top:.5rem;padding:.25rem .5rem;font-weight:700;border-radius:4px}.status-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.status-pending[_ngcontent-%COMP%]{background-color:#fff5c4;color:#856404}.status-accepted[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.status-rejected[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.accepted-bg[_ngcontent-%COMP%]{background-color:#d4edda;border:4px solid #155724}.rejected-bg[_ngcontent-%COMP%]{background-color:#f8d7da;border:4px solid #721c24}.action-buttons[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:10px;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out;font-family:Roboto Mono,monospace}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background-color:#9bc2a3;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]:hover{background-color:#be8a90;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .offer-btn[_ngcontent-%COMP%]{background-color:#d4e2ed;color:#001b3f}.action-buttons[_ngcontent-%COMP%]   .offer-btn[_ngcontent-%COMP%]:hover{background-color:#78a2c4;box-shadow:0 2px 6px #0003}']})};var tp=(n,e)=>({"bubble-left":n,"bubble-right":e}),np=(n,e)=>({left:n,right:e}),Ir=class n{message;currentUserId;get isOwnMessage(){return this.message.senderId===this.currentUserId}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-message-bubble"]],inputs:{message:"message",currentUserId:"currentUserId"},decls:6,vars:13,consts:[[1,"bubble",3,"ngClass"],[1,"bubble-content",3,"ngClass"],[1,"timestamp"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1),d(2),l(3,"div",2),d(4),$(5,"date"),c()()()),t&2&&(y("ngClass",pt(7,tp,!r.isOwnMessage,r.isOwnMessage)),m(),y("ngClass",pt(10,np,!r.isOwnMessage,r.isOwnMessage)),m(),F(" ",r.message.content," "),m(2),re(Ge(5,4,r.message.createdAt,"shortTime")))},dependencies:[nt,Ke],styles:[".bubble[_ngcontent-%COMP%]{display:flex;width:100%;margin:8px 0}.bubble-left[_ngcontent-%COMP%]{justify-content:flex-start}.bubble-right[_ngcontent-%COMP%]{justify-content:flex-end}.bubble-content[_ngcontent-%COMP%]{display:inline-block;padding:10px 14px;border-radius:12px;font-size:12px;word-wrap:break-word;min-width:80px;max-width:70%;text-align:left}.bubble-content.left[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #514c70;color:#000;border-top-left-radius:4px}.bubble-content.right[_ngcontent-%COMP%]{background-color:#a79ed7;border:1px solid #514c70;color:#000;border-top-right-radius:4px}.bubble-content[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{font-size:10px;opacity:.6;margin-top:4px;text-align:right}"]})};var ip=(n,e)=>({"reply-left":n,"reply-right":e}),rp=(n,e)=>({"rejected-bg":n,"accepted-bg":e});function op(n,e){n&1&&(l(0,"p"),d(1,"\xCEn a\u0219teptare..."),c())}function sp(n,e){if(n&1){let t=N();l(0,"div",5)(1,"button",6),S("click",function(){M(t);let o=E(2);return O(o.acceptReply())}),d(2," Accept\u0103 "),c(),l(3,"button",7),S("click",function(){M(t);let o=E(2);return O(o.rejectReply())}),d(4," Respinge "),c()()}}function ap(n,e){if(n&1&&(l(0,"div"),D(1,op,2,0,"p",3)(2,sp,5,0,"div",4),c()),n&2){let t=E();m(),y("ngIf",t.userRole==="Specialist"),m(),y("ngIf",t.userRole==="Client")}}var Sr=class n{constructor(e){this.authService=e}reply={id:"",senderId:"",startDate:new Date,endDate:new Date,price:0,status:"Pending",requestId:""};userRole="";requestId="";currentUserId;replyAccepted=new j;replyRejected=new j;acceptReply(){this.replyAccepted.emit({requestId:this.requestId,replyId:this.reply.id})}rejectReply(){this.replyRejected.emit({requestId:this.requestId,replyId:this.reply.id})}get isOwnMessage(){return this.reply.senderId===this.currentUserId}static \u0275fac=function(t){return new(t||n)(A(q))};static \u0275cmp=R({type:n,selectors:[["app-reply-message"]],inputs:{reply:"reply",requestId:"requestId",currentUserId:"currentUserId"},outputs:{replyAccepted:"replyAccepted",replyRejected:"replyRejected"},decls:22,vars:27,consts:[[1,"reply",3,"ngClass"],[1,"request-summary",3,"ngClass"],[1,"big-price"],[4,"ngIf"],["class","action-buttons",4,"ngIf"],[1,"action-buttons"],[1,"accept-btn",3,"click"],[1,"reject-btn",3,"click"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"h3"),d(3,"Ofert\u0103"),c(),l(4,"p")(5,"strong"),d(6,"Data:"),c(),d(7),$(8,"date"),c(),l(9,"p")(10,"strong"),d(11,"De la ora:"),c(),d(12),$(13,"date"),l(14,"strong"),d(15,"P\xE2n\u0103 la ora:"),c(),d(16),$(17,"date"),c(),l(18,"div",2),d(19),$(20,"currency"),c(),D(21,ap,3,2,"div",3),c()()),t&2&&(y("ngClass",pt(21,ip,!r.isOwnMessage,r.isOwnMessage)),m(),y("ngClass",pt(24,rp,r.reply.status==="Rejected",r.reply.status==="Accepted")),m(6),F(" ",Ge(8,7,r.reply.startDate,"dd MMMM yyyy"),""),m(5),F(" ",Ge(13,10,r.reply.startDate,"HH:mm")," \xA0\u2014\xA0 "),m(4),F(" ",Ge(17,13,r.reply.endDate,"HH:mm")," "),m(3),F(" ",Ta(20,16,r.reply.price,"RON","symbol","1.2-2")," "),m(2),y("ngIf",r.reply.status==="Pending"))},dependencies:[nt,Y,Oa,Ke],styles:['@charset "UTF-8";.reply[_ngcontent-%COMP%]{display:flex;width:100%}.reply-left[_ngcontent-%COMP%]{justify-content:flex-start}.reply-right[_ngcontent-%COMP%]{justify-content:flex-end}.reply-center[_ngcontent-%COMP%]{justify-content:center}.request-summary[_ngcontent-%COMP%]{max-width:300px;margin:8px;padding:12px;border:2px solid black;background-color:#f8faff;font-size:.8rem;line-height:1.4;border-radius:6px;font-family:Roboto Mono,monospace}.request-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:6px 0}.request-summary[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;font-size:1rem;text-align:center}.request-status[_ngcontent-%COMP%]{display:inline-block;margin-top:.5rem;padding:.25rem .5rem;font-weight:700;border-radius:4px}.status-button[_ngcontent-%COMP%]{display:flex;justify-content:center}.status-pending[_ngcontent-%COMP%]{background-color:#fff5c4;color:#856404}.status-accepted[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.status-rejected[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.accepted-bg[_ngcontent-%COMP%]{background-color:#d4edda;border:4px solid #155724}.rejected-bg[_ngcontent-%COMP%]{background-color:#f8d7da;border:4px solid #721c24}.action-buttons[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:10px;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out;font-family:Roboto Mono,monospace}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background-color:#9bc2a3;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]:hover{background-color:#be8a90;box-shadow:0 2px 6px #0003}.big-price[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:600;color:#1a202c;margin-top:.5rem;margin-bottom:.5rem}']})};var Tr=class n{constructor(e,t){this.authService=e;this.http=t}baseUrl="http://localhost:5241/api/Conversation";getExchanges(e){let t=new Ye;e&&(t=t.set("page",e.page.toString()),t=t.set("pageSize",e.pageSize.toString()));let r=this.authService.getToken(),o=new L({Authorization:`Bearer ${r}`});return this.http.get(`${this.baseUrl}/GetPage`,{params:t,headers:o})}getExchange(e,t){let r=new Ye;t&&(r=r.set("page",t.page.toString()),r=r.set("pageSize",t.pageSize.toString()));let o=this.authService.getToken(),u=new L({Authorization:`Bearer ${o}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{params:r,headers:u})}static \u0275fac=function(t){return new(t||n)(W(q),W(_e))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var Ar=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Message";sendMessage(e,t){let r=this.authService.getToken(),o=new L({Authorization:`Bearer ${r}`});return this.http.post(`${this.baseUrl}/Add/${e}`,t,{headers:o})}static \u0275fac=function(t){return new(t||n)(W(_e),W(q))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var Pr=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Reply";addReply(e,t){let r=this.authService.getToken(),o=new L({Authorization:`Bearer ${r}`});return this.http.post(`${this.baseUrl}/Add/${e}`,t,{headers:o})}updateReply(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Update/${e.id}`,e,{headers:r})}acceptReply(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return console.log(t),this.http.patch(`${this.baseUrl}/Accept/${e}`,{},{headers:r})}rejectReply(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Reject/${e}`,{},{headers:r})}cancelReply(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Cancel/${e}`,{headers:r})}static \u0275fac=function(t){return new(t||n)(W(_e),W(q))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var Dr=class n{mockConversations=[{userId:"user_specialist_456",userFullName:"Ana Popescu",userProfilePictureUrl:"assets/avatar.svg",lastMessage:"Oferta este valabil\u0103 p\xE2n\u0103 m\xE2ine!",lastMessageAt:new Date("2024-01-01T10:45:00Z"),unreadCount:1},{userId:"user_specialist_789",userFullName:"Ion Vasile",userProfilePictureUrl:"assets/avatar.svg",lastMessage:"Bun\u0103 ziua! Cum merge treaba?",lastMessageAt:new Date("2024-01-01T10:00:00Z"),unreadCount:0}];mockConversationItems=[{id:"msg_001",conversationId:"conv_12345",senderId:"user_client_123",type:"message",createdAt:new Date("2024-01-01T10:00:00Z"),data:{Content:"Bun\u0103 ziua! Cum merge treaba?",SenderId:"user_client_123",CreatedAt:new Date("2024-01-01T10:00:00Z"),IsRead:!0}},{id:"req_001",conversationId:"conv_12345",senderId:"user_client_123",type:"request",createdAt:new Date("2024-01-01T10:15:00Z"),data:{RequestId:"req_001",RequestedStartDate:new Date("2024-01-02T09:00:00Z"),PhoneNumber:"0722123456",Address:"Strada Libert\u0103\u021Bii nr. 25, Bucure\u0219ti",Description:"Instalare aer condi\u021Bionat \xEEn living",Status:"Accepted",SenderId:"user_client_123"}},{id:"reply_001",conversationId:"conv_12345",senderId:"user_specialist_456",type:"reply",createdAt:new Date("2024-01-01T10:30:00Z"),data:{RequestId:"req_001",StartDate:new Date("2024-01-02T09:00:00Z"),EndDate:new Date("2024-01-02T12:00:00Z"),Price:450,Status:"Pending",SenderId:"user_specialist_456"}},{id:"msg_002",conversationId:"conv_12345",senderId:"user_specialist_456",type:"message",createdAt:new Date("2024-01-01T10:45:00Z"),data:{Content:"Oferta este valabil\u0103 p\xE2n\u0103 m\xE2ine!",CreatedAt:new Date("2024-01-01T10:45:00Z"),IsRead:!1}}];getExchanges(e){let t={response:{page:e?.page||1,pageSize:e?.pageSize||20,totalCount:this.mockConversations.length,data:this.mockConversations},errorMessage:void 0};return bo(t).pipe(Co(300))}getExchange(e,t){let r={response:{page:t?.page||1,pageSize:t?.pageSize||50,totalCount:this.mockConversationItems.length,data:this.mockConversationItems},errorMessage:void 0};return bo(r).pipe(Co(500))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var hp=n=>["/specialist",n];function pp(n,e){n&1&&(l(0,"div",10)(1,"p"),d(2,"Se \xEEncarc\u0103 conversa\u021Biile..."),c()())}function mp(n,e){if(n&1&&(l(0,"div",17),d(1),$(2,"slice"),c()),n&2){let t=E().$implicit;m(),F(" ",Sa(2,1,t.lastMessage,0,30),"... ")}}function fp(n,e){if(n&1&&(l(0,"div",18),d(1),c()),n&2){let t=E().$implicit;m(),F(" ",t.unreadCount," ")}}function gp(n,e){if(n&1){let t=N();l(0,"div",11),$(1,"async"),S("click",function(){let o=M(t).$implicit,u=E();return O(u.selectConversation(o))}),k(2,"img",12),l(3,"div",13)(4,"span",14),d(5),c(),D(6,mp,3,5,"div",15),c(),D(7,fp,2,1,"div",16),c()}if(n&2){let t=e.$implicit,r=E();Gt("active",t.userId===de(1,7,r.selectedUser$)),m(2),y("src",t.userProfilePictureUrl||"assets/avatar.svg",$e)("alt",t.userFullName),m(3),re(t.userFullName),m(),y("ngIf",t.lastMessage),m(),y("ngIf",t.unreadCount&&t.unreadCount>0)}}function _p(n,e){if(n&1){let t=N();l(0,"button",19),$(1,"async"),S("click",function(){M(t);let o=E();return O(o.loadMoreExchanges())}),d(2," \xCEncarc\u0103 mai multe conversa\u021Bii "),c()}if(n&2){let t=E();y("disabled",de(1,1,t.loading$)===!0)}}function yp(n,e){if(n&1){let t=N();l(0,"button",32),$(1,"async"),S("click",function(){M(t);let o=E(2);return O(o.loadMoreMessages())}),d(2," \xCEncarc\u0103 mesaje mai vechi "),c()}if(n&2){let t=E(2);y("disabled",de(1,1,t.loading$)===!0)}}function vp(n,e){if(n&1&&k(0,"app-message-bubble",38),n&2){let t=E().$implicit,r=E(2);y("message",r.asTypedMessage(t))("currentUserId",r.userId)}}function bp(n,e){if(n&1){let t=N();l(0,"app-request-message",39),S("requestAccepted",function(){M(t);let o=E().$implicit,u=E(2);return O(u.acceptRequest(o.item.id))})("requestRejected",function(){M(t);let o=E().$implicit,u=E(2);return O(u.rejectRequest(o.item.id))}),c()}if(n&2){let t=E().$implicit,r=E(2);y("request",r.asTypedRequest(t))("currentUserId",r.userId)}}function Cp(n,e){if(n&1){let t=N();l(0,"app-reply-message",40),S("replyAccepted",function(){M(t);let o=E().$implicit,u=E(2);return O(u.acceptReply(o.item.data.requestId,o.item.id))})("replyRejected",function(){M(t);let o=E().$implicit,u=E(2);return O(u.rejectReply(o.item.data.requestId,o.item.id))}),c()}if(n&2){let t=E().$implicit,r=E(2);y("reply",r.asTypedReply(t))("currentUserId",r.userId)}}function wp(n,e){if(n&1&&(l(0,"div",41)(1,"p"),d(2),c()()),n&2){let t=E().$implicit;m(2),F("\u26A0\uFE0F Invalid message type (ID: ",t.item.id,")")}}function xp(n,e){if(n&1&&(fe(0)(1,33),D(2,vp,1,2,"app-message-bubble",34)(3,bp,1,2,"app-request-message",35)(4,Cp,1,2,"app-reply-message",36)(5,wp,3,1,"div",37),ge()()),n&2){let t=e.$implicit;m(),y("ngSwitch",t.type),m(),y("ngSwitchCase","message"),m(),y("ngSwitchCase","request"),m(),y("ngSwitchCase","reply"),m(),y("ngSwitchCase","unknown")}}function Ep(n,e){n&1&&(l(0,"div",42)(1,"p"),d(2,"Nu exist\u0103 mesaje \xEEnc\u0103. \xCEncepe conversa\u021Bia!"),c()())}function Ip(n,e){n&1&&(l(0,"div",43)(1,"p"),d(2,"Se \xEEncarc\u0103 mesajele..."),c()())}function Sp(n,e){if(n&1){let t=N();l(0,"div",20)(1,"div",21)(2,"div"),d(3),c(),l(4,"div")(5,"button"),k(6,"img",22),c()()(),l(7,"div",23),D(8,yp,3,3,"button",24)(9,xp,6,5,"ng-container",25)(10,Ep,3,0,"div",26),$(11,"async"),$(12,"async"),D(13,Ip,3,0,"div",27),$(14,"async"),$(15,"async"),c(),l(16,"div",28)(17,"button")(18,"img",29),S("click",function(){M(t);let o=E();return O(o.openMediaPicker())}),c()(),l(19,"input",30),$(20,"async"),ne("ngModelChange",function(o){M(t);let u=E();return te(u.messageContent,o)||(u.messageContent=o),O(o)}),S("keydown.enter",function(){M(t);let o=E();return O(o.sendMessage(o.messageContent))}),c(),l(21,"button",31),$(22,"async"),S("click",function(){M(t);let o=E();return O(o.sendMessage(o.messageContent))}),d(23," \u2192 "),c()()()}if(n&2){let t,r,o=e.ngIf,u=E();m(3),re(o.fullName),m(3),y("routerLink",St(22,hp,o.userId)),m(2),y("ngIf",u.messagesMeta.hasMore),m(),y("ngForOf",u.getTypedConversationItems())("ngForTrackBy",u.trackByConversationItem),m(),y("ngIf",!((t=de(11,10,u.conversationItems$))!=null&&t.length)&&de(12,12,u.loading$)===!1),m(3),y("ngIf",de(14,14,u.loading$)===!0&&((r=de(15,16,u.conversationItems$))==null?null:r.length)),m(6),ee("ngModel",u.messageContent),y("disabled",de(20,18,u.loading$)===!0),m(2),y("disabled",!u.messageContent.trim()||de(22,20,u.loading$)===!0)}}function Tp(n,e){n&1&&(l(0,"div",44)(1,"p"),d(2,"Nu exist\u0103 conversa\u021Bii disponibile."),c()())}var Mr=class n{constructor(e,t,r,o,u,_,T){this.exchangeService=e;this.messageService=t;this.requestService=r;this.replyService=o;this.authService=u;this.cdr=_;this.mockExchangeService=T}destroy$=new Oi;conversationListPagination={page:1,pageSize:20};messagesPagination={page:1,pageSize:50};USE_MOCK_DATA=!1;exchangesSubject=new sn([]);conversationItemsSubject=new sn([]);selectedUserSubject=new sn(null);loadingSubject=new sn(!1);selectedUserInfoSubject=new sn(null);exchanges$=this.exchangesSubject.asObservable();conversationItems$=this.conversationItemsSubject.asObservable();selectedUser$=this.selectedUserSubject.asObservable();selectedUserInfo$=this.selectedUserInfoSubject.asObservable();loading$=this.loadingSubject.asObservable();conversationListMeta={totalCount:0,hasMore:!1};messagesMeta={totalCount:0,hasMore:!1};messageContent="";userId=null;trackByConversation=(e,t)=>t.userId;trackByConversationItem=(e,t)=>t.item.id;ngOnInit(){this.loadExchanges()}loadExchanges(e=!1){e||(this.conversationListPagination.page=1,this.exchangesSubject.next([])),this.loadingSubject.next(!0),(this.USE_MOCK_DATA?this.mockExchangeService:this.exchangeService).getExchanges(this.conversationListPagination).pipe(It(this.destroy$)).subscribe({next:r=>{if(r.response){let o=r.response,_=[...e?this.exchangesSubject.value:[],...o.data||[]];this.exchangesSubject.next(_),this.conversationListMeta={totalCount:o.totalCount,hasMore:_.length<o.totalCount},!e&&Array.isArray(o.data)&&o.data.length>0&&this.selectConversation(o.data[0])}this.loadingSubject.next(!1),this.cdr.markForCheck()},error:r=>{console.error("Error loading conversations:",r),this.loadingSubject.next(!1),this.cdr.markForCheck()}})}loadMoreExchanges(){this.conversationListMeta.hasMore&&!this.loadingSubject.value&&(this.conversationListPagination.page++,this.loadExchanges(!0))}selectConversation(e){this.selectedUserInfoSubject.next({userId:e.userId,fullName:e.userFullName,profilePictureUrl:e.userProfilePictureUrl}),this.loadConversationMessages(e.userId)}loadConversationMessages(e,t=!1){t||(this.messagesPagination.page=1,this.conversationItemsSubject.next([]));let r=this.USE_MOCK_DATA?this.mockExchangeService:this.exchangeService;this.selectedUserSubject.next(e),this.loadingSubject.next(!0),r.getExchange(e,this.messagesPagination).pipe(It(this.destroy$)).subscribe({next:o=>{if(o.response){let u=o.response,_=t?this.conversationItemsSubject.value:[],T=t?[...u.data||[],..._]:[..._,...u.data||[]];this.conversationItemsSubject.next(T),this.messagesMeta={totalCount:u.totalCount,hasMore:T.length<u.totalCount}}this.loadingSubject.next(!1),this.cdr.markForCheck()},error:o=>{console.error("Error loading conversation messages:",o),this.loadingSubject.next(!1),this.cdr.markForCheck()}})}loadMoreMessages(){let e=this.selectedUserSubject.value;e&&this.messagesMeta.hasMore&&!this.loadingSubject.value&&(this.messagesPagination.page++,this.loadConversationMessages(e,!0))}getTypedConversationItems(){let e=this.conversationItemsSubject.value;return e?e.map(t=>{let r=this.deserializeItem(t),o=r?t.type:"unknown";return{item:t,typed:r,type:o}}):[]}deserializeItem(e){if(!e||!e.data||!e.type)return null;let t=e.data,r={id:e.id,senderId:e.senderId||t.SenderId||t.senderId};try{switch(e.type.toLowerCase()){case"message":return pe(z({},r),{content:t.Content||t.content||"",createdAt:this.convertTimestamp(t.CreatedAt||t.createdAt||e.createdAt),isRead:!!(t.IsRead??t.isRead??!1)});case"request":return pe(z({},r),{requestedStartDate:this.convertTimestamp(t.RequestedStartDate||t.requestedStartDate),description:t.Description||t.description||"",status:t.Status||t.status||"Pending",senderContactInfo:t.SenderContactInfo||t.senderContactInfo});case"reply":return pe(z({},r),{requestId:t.RequestId||t.requestId||"",startDate:this.convertTimestamp(t.StartDate||t.startDate),endDate:this.convertTimestamp(t.EndDate||t.endDate),price:Number(t.Price||t.price||0),status:t.Status||t.status||"Pending",serviceTask:t.ServiceTask||t.serviceTask});default:return null}}catch(o){return console.error("Error deserializing conversation item:",o,e),null}}convertTimestamp(e){return e instanceof Date?e:e&&typeof e.toDate=="function"?e.toDate():e&&typeof e.seconds=="number"?new Date(e.seconds*1e3):typeof e=="string"?new Date(e):new Date}asTypedMessage(e){return e.typed}asTypedRequest(e){return e.typed}asTypedReply(e){return e.typed}sendMessage(e){let t=this.selectedUserSubject.value;if(!e.trim()||!t)return;let r={id:`temp_${Date.now()}`,conversationId:"temp",senderId:this.userId,type:"message",createdAt:_r.fromDate(new Date),data:{Content:e.trim(),SenderId:this.userId,CreatedAt:new Date,IsRead:!1}},o=this.conversationItemsSubject.value;this.conversationItemsSubject.next([...o,r]),this.messageContent="",this.cdr.markForCheck(),this.messageService.sendMessage(t,{content:e.trim()}).pipe(It(this.destroy$)).subscribe({next:()=>{this.loadConversationMessages(t)},error:u=>{console.error("Error sending message:",u),this.conversationItemsSubject.next(o),this.cdr.markForCheck()}})}acceptRequest(e){this.requestService.acceptRequest(e).pipe(qt(()=>{let t=this.selectedUserSubject.value;t&&this.loadConversationMessages(t)}),It(this.destroy$)).subscribe({next:()=>console.log("Request accepted"),error:t=>console.error("Error accepting request:",t)})}rejectRequest(e){this.requestService.rejectRequest(e).pipe(qt(()=>{let t=this.selectedUserSubject.value;t&&this.loadConversationMessages(t)}),It(this.destroy$)).subscribe({next:()=>console.log("Request rejected"),error:t=>console.error("Error rejecting request:",t)})}acceptReply(e,t){this.replyService.acceptReply(t).pipe(qt(()=>{let r=this.selectedUserSubject.value;r&&this.loadConversationMessages(r)}),It(this.destroy$)).subscribe({next:()=>console.log("Reply accepted"),error:r=>console.error("Error accepting reply:",r)})}rejectReply(e,t){this.replyService.rejectReply(t).pipe(qt(()=>{let r=this.selectedUserSubject.value;r&&this.loadConversationMessages(r)}),It(this.destroy$)).subscribe({next:()=>console.log("Reply rejected"),error:r=>console.error("Error rejecting reply:",r)})}openMediaPicker(){console.log("Open media picker")}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}getMessagePosition(e){return(e.item.senderId??e.item.senderId)===this.userId?"message-right":"message-left"}static \u0275fac=function(t){return new(t||n)(A(Tr),A(Ar),A(bn),A(Pr),A(q),A(Ni),A(Dr))};static \u0275cmp=R({type:n,selectors:[["app-messages"]],decls:15,vars:12,consts:[["noSelection",""],[1,"chat-wrapper"],[1,"chat-container"],[1,"sidebar"],[1,"sidebar-header"],["class","loading-indicator",4,"ngIf"],[1,"conversation-list"],["class","conversation",3,"active","click",4,"ngFor","ngForOf","ngForTrackBy"],["class","load-more-btn",3,"disabled","click",4,"ngIf"],["class","chat-area",4,"ngIf","ngIfElse"],[1,"loading-indicator"],[1,"conversation",3,"click"],[3,"src","alt"],[1,"conversation-info"],[1,"conversation-name"],["class","conversation-preview",4,"ngIf"],["class","unread-badge",4,"ngIf"],[1,"conversation-preview"],[1,"unread-badge"],[1,"load-more-btn",3,"click","disabled"],[1,"chat-area"],[1,"chat-header"],["src","assets/icons/info.svg","alt","specialist_info",3,"routerLink"],[1,"chat-messages"],["class","load-more-btn top",3,"disabled","click",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","empty-messages",4,"ngIf"],["class","messages-loading",4,"ngIf"],[1,"chat-input"],["src","assets/icons/photo_media.svg","alt","photo_media",3,"click"],["type","text","placeholder","Scrie un mesaj aici",3,"ngModelChange","keydown.enter","ngModel","disabled"],[1,"send-btn",3,"click","disabled"],[1,"load-more-btn","top",3,"click","disabled"],[3,"ngSwitch"],[3,"message","currentUserId",4,"ngSwitchCase"],[3,"request","currentUserId","requestAccepted","requestRejected",4,"ngSwitchCase"],[3,"reply","currentUserId","replyAccepted","replyRejected",4,"ngSwitchCase"],["class","error-message",4,"ngSwitchCase"],[3,"message","currentUserId"],[3,"requestAccepted","requestRejected","request","currentUserId"],[3,"replyAccepted","replyRejected","reply","currentUserId"],[1,"error-message"],[1,"empty-messages"],[1,"messages-loading"],[1,"chat-area","empty"]],template:function(t,r){if(t&1&&(l(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),d(4,"Convorbiri"),c(),D(5,pp,3,0,"div",5),$(6,"async"),l(7,"div",6),D(8,gp,8,9,"div",7),$(9,"async"),D(10,_p,3,3,"button",8),c()(),D(11,Sp,24,24,"div",9),$(12,"async"),D(13,Tp,3,0,"ng-template",null,0,Jn),c()()),t&2){let o=Ve(14);m(5),y("ngIf",de(6,6,r.loading$)===!0),m(3),y("ngForOf",de(9,8,r.exchanges$))("ngForTrackBy",r.trackByConversation),m(2),y("ngIf",r.conversationListMeta.hasMore),m(),y("ngIf",de(12,10,r.selectedUserInfo$))("ngIfElse",o)}},dependencies:[Er,Ir,un,ue,it,Y,dn,X,ke,Ne,Be,Da,Ra,Sr],styles:["*[_ngcontent-%COMP%]{box-sizing:border-box;font-family:Roboto Mono,monospace}[_nghost-%COMP%]{display:block;background-color:#f4f4f4;padding:2rem;position:relative}.chat-wrapper[_ngcontent-%COMP%]{width:100%;max-width:1000px;margin:auto;border:3px solid black;background-color:#e8d9ff}.chat-container[_ngcontent-%COMP%]{display:flex;height:600px}.sidebar[_ngcontent-%COMP%]{width:25%;border-right:3px solid black;display:flex;flex-direction:column}.sidebar-header[_ngcontent-%COMP%]{border-bottom:3px solid black;padding:12px}.conversation[_ngcontent-%COMP%]{padding:1rem;border-bottom:2px solid black;background-color:#c9b7ff;display:flex;align-items:center;gap:1rem;cursor:pointer}.conversation[_ngcontent-%COMP%]:hover{background-color:#b8a6ff}.conversation.active[_ngcontent-%COMP%]{background-color:#a695ff}.conversation[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%}.chat-area[_ngcontent-%COMP%]{width:75%;display:flex;flex-direction:column}.chat-header[_ngcontent-%COMP%]{border-bottom:3px solid black;padding:16px;background-color:#c9b7ff;display:flex;justify-content:space-between;align-items:center}.chat-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:none;border:none;cursor:pointer}.chat-messages[_ngcontent-%COMP%]{flex-grow:1;padding:1rem;overflow-y:auto;position:relative}.chat-messages[_ngcontent-%COMP%]   app-message-bubble[_ngcontent-%COMP%], .chat-messages[_ngcontent-%COMP%]   app-request-message[_ngcontent-%COMP%], .chat-messages[_ngcontent-%COMP%]   app-reply-message[_ngcontent-%COMP%]{display:block;width:100%}.chat-messages[_ngcontent-%COMP%]   ng-container[_ngcontent-%COMP%]{display:contents}.chat-input[_ngcontent-%COMP%]{border-top:2px solid black;display:flex;align-items:center;padding:.5rem;gap:.5rem}.chat-input[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{flex:1;padding:.5rem;border-radius:6px;border:none;font-family:Roboto Mono,monospace}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:none;border:none;cursor:pointer}.chat-input[_ngcontent-%COMP%]   .send-btn[_ngcontent-%COMP%]{background-color:#c9b7ff;padding:.5rem 1rem;border-radius:6px}.contact-link[_ngcontent-%COMP%]{position:absolute;top:10px;right:20px;font-size:.9rem}.message-left[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;margin:10px}.message-right[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin:10px}.action-buttons[_ngcontent-%COMP%]{margin-top:12px;display:flex;gap:10px;justify-content:center}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:6px;font-weight:500;cursor:pointer;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out;font-family:Roboto Mono,monospace}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.action-buttons[_ngcontent-%COMP%]   .accept-btn[_ngcontent-%COMP%]:hover{background-color:#9bc2a3;box-shadow:0 2px 6px #0003}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.action-buttons[_ngcontent-%COMP%]   .reject-btn[_ngcontent-%COMP%]:hover{background-color:#be8a90;box-shadow:0 2px 6px #0003}.conversation-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;z-index:10;display:flex;align-items:center;justify-content:center;padding:1rem;box-shadow:0 0 12px #0003}.no-conversations[_ngcontent-%COMP%]{padding:1rem;color:#888;font-style:italic}.chat-area.empty[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#888;font-style:italic}"]})};var An=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Category";addCategory(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.post(`${this.baseUrl}/Add`,e,{headers:r})}getCategoryById(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{headers:r})}getAllCategories(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`}),o=new Ye;return e&&(o=o.set("search",e)),this.http.get(`${this.baseUrl}/GetAll`,{headers:r,params:o})}getCategoriesForSpecialist(e){let t=new Ye;return e&&(t=t.set("search",e)),this.http.get(`${this.baseUrl}/GetAllForSpecialist`,{params:t})}getCategoriesAdminPage(e,t,r){let o=this.authService.getToken(),u=new L({Authorization:`Bearer ${o}`}),_=new Ye().set("search",e||"").set("page",t).set("pageSize",r);return this.http.get(`${this.baseUrl}/GetPageForAdmin`,{headers:u,params:_})}updateCategory(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Update/${e.id}`,e,{headers:r})}deleteCategory(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.delete(`${this.baseUrl}/Delete/${e}`,{headers:r})}static \u0275fac=function(t){return new(t||n)(W(_e),W(q))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};function Ap(n,e){if(n&1){let t=N();l(0,"span",8),S("click",function(){let o=M(t).$implicit,u=E();return O(u.toggle(o.id))}),d(1),c()}if(n&2){let t=e.$implicit,r=E();Gt("disabled",r.selectedCategoryIds.includes(t.id)),m(),F(" ",t.name," ")}}function Pp(n,e){if(n&1){let t=N();l(0,"span",11),d(1),l(2,"button",12),S("click",function(){let o=M(t).$implicit,u=E(2);return O(u.remove(o))}),d(3,"\xD7"),c()()}if(n&2){let t=e.$implicit,r=E(2);m(),F(" ",r.getCategoryName(t)," ")}}function Dp(n,e){if(n&1&&(fe(0),l(1,"div",9),D(2,Pp,4,1,"span",10),c(),ge()),n&2){let t=E();m(2),y("ngForOf",t.selectedCategoryIds)}}var Or=class n{constructor(e){this.categoryService=e}category=null;allCategories=[];searchTerm="";dummyCategories=[{id:"cat-001",name:"Traduceri medicale",description:"Traducerea documentelor medicale de specialitate."},{id:"cat-002",name:"Logopedie",description:"Servicii de diagnostic \u0219i terapie pentru tulbur\u0103ri de vorbire."},{id:"cat-003",name:"Psihoterapie",description:"Sesiuni individuale sau de grup pentru s\u0103n\u0103tatea mintal\u0103."},{id:"cat-004",name:"Nutri\u021Bie clinic\u0103",description:"Planuri alimentare personalizate pentru afec\u021Biuni cronice."},{id:"cat-005",name:"Fizioterapie",description:"Reabilitare fizic\u0103 post-traumatic\u0103 sau post-operatorie."}];placeholder="Caut\u0103 o categorie...";selectedCategoryIds=[];categoryChange=new j;ngOnInit(){this.allCategories=this.dummyCategories}getCategories(){this.categoryService.getAllCategories().subscribe({next:e=>{let t=this.removeDiacritics(this.searchTerm);this.allCategories=e.response.filter(r=>this.removeDiacritics(r.name).includes(t))},error:e=>{console.error("Eroare la ob\u021Binerea categoriilor:",e.errorMessage)}})}toggle(e){this.selectedCategoryIds.includes(e)||(this.selectedCategoryIds.push(e),this.categoryChange.emit(this.selectedCategoryIds))}remove(e){this.selectedCategoryIds=this.selectedCategoryIds.filter(t=>t!==e),this.categoryChange.emit(this.selectedCategoryIds)}getCategoryName(e){return this.allCategories?.find(t=>t.id===e)?.name||"Categorie necunoscut\u0103"}onSearch(e){this.searchTerm=e,this.getCategories()}removeDiacritics(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase()}static \u0275fac=function(t){return new(t||n)(A(An))};static \u0275cmp=R({type:n,selectors:[["app-category-selector"]],inputs:{selectedCategoryIds:"selectedCategoryIds"},outputs:{categoryChange:"categoryChange"},decls:11,vars:3,consts:[[1,"tag-selector"],[1,"section-title"],[1,"category-box"],[1,"search-category-wrapper"],[3,"searchChanged","placeholder"],[1,"category-options"],["class","tag option",3,"disabled","click",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"tag","option",3,"click"],[1,"category-box","category-options"],["class","tag selected",4,"ngFor","ngForOf"],[1,"tag","selected"],["type","button",3,"click"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"h3",1),d(2,"Alege din lista de categorii:"),c(),l(3,"div",2)(4,"div",3)(5,"app-search-input",4),S("searchChanged",function(u){return r.onSearch(u)}),c()(),l(6,"div",5),D(7,Ap,2,3,"span",6),c()(),l(8,"h3",1),d(9,"Categoriile selectate:"),c(),D(10,Dp,3,1,"ng-container",7),c()),t&2&&(m(5),y("placeholder",r.placeholder),m(2),y("ngForOf",r.allCategories),m(3),y("ngIf",r.selectedCategoryIds.length>0))},dependencies:[X,ue,Y,We],styles:[".tag-selector[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.category-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:1.5rem;padding:1rem;background-color:#e6dfff;border:2px solid #c9b7ff;border-radius:8px;box-shadow:0 0 4px #0000001a;flex-wrap:wrap}.category-options[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;align-items:flex-start}.tag.option[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem;font-family:Roboto Mono,monospace}.tag.option[_ngcontent-%COMP%]:hover{background-color:#333}.tag.option.disabled[_ngcontent-%COMP%]{background-color:#a1a1a1;cursor:not-allowed;opacity:.6}.tag.selected[_ngcontent-%COMP%]{background-color:#333;color:#fff;border-radius:6px;padding:4px 8px;margin-right:4px;font-size:.85rem;font-family:Roboto Mono,monospace}button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff}.section-title[_ngcontent-%COMP%]{margin-bottom:8px;font-family:Roboto Mono,monospace}.search-category-wrapper[_ngcontent-%COMP%]{background-color:#f6efff;border-radius:5px;width:300px;margin:auto;border:2px solid #c9b7ff}"]})};function Mp(n,e){if(n&1){let t=N();l(0,"div",4)(1,"div",5),k(2,"img",6),l(3,"button",7),S("click",function(){let o=M(t).index,u=E();return O(u.remove(o))}),d(4,"\u2715"),c()()()}if(n&2){let t=e.$implicit;m(2),y("src",t,$e)}}var Rr=class n{constructor(e,t){this.photoService=e;this.sanitizer=t}uploadedPictures=[];portfolioChange=new j;imagePreviews=[];onFileSelected(e){let t=e.target;if(t.files)for(let r of t.files){let o=r,u={fileStream:o,contentType:o.type,fileName:o.name};this.uploadedPictures.push(u),this.portfolioChange.emit(this.uploadedPictures);let _=new FileReader;_.onload=()=>{this.imagePreviews.push(_.result)},_.readAsDataURL(o)}}remove(e){this.uploadedPictures.splice(e,1),this.imagePreviews.splice(e,1),this.portfolioChange.emit(this.uploadedPictures)}static \u0275fac=function(t){return new(t||n)(A(wn),A(Na))};static \u0275cmp=R({type:n,selectors:[["app-portfolio-upload"]],inputs:{uploadedPictures:"uploadedPictures"},outputs:{portfolioChange:"portfolioChange"},decls:5,vars:1,consts:[[1,"porfolio-content"],["class","portfolio-preview",4,"ngFor","ngForOf"],[1,"custom-upload-btn"],["type","file","multiple","","accept","image/*","hidden","",3,"change"],[1,"portfolio-preview"],[1,"image-container"],["alt","Preview",3,"src"],[1,"delete-btn",3,"click"]],template:function(t,r){t&1&&(l(0,"div",0),D(1,Mp,5,1,"div",1),c(),l(2,"label",2),d(3," \u{1F4F8} Adaug\u0103 imagini "),l(4,"input",3),S("change",function(u){return r.onFileSelected(u)}),c()()),t&2&&(m(),y("ngForOf",r.imagePreviews))},dependencies:[ue],styles:[".portfolio-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:2rem;background-color:#f9f9f9;border-radius:8px;box-shadow:0 2px 10px #0000001a}.portfolio-upload[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;align-items:center}.porfolio-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:32px;align-items:flex-start;padding:32px}.portfolio-preview[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;max-width:100%}.portfolio-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:160px;height:150px;object-fit:cover;border-radius:8px;box-shadow:0 0 5px #0003;position:relative}.custom-upload-btn[_ngcontent-%COMP%]{display:inline-block;padding:.6rem 1.2rem;background-color:#e0cfff;color:#333;border:2px solid #a87fff;border-radius:8px;font-weight:700;cursor:pointer;transition:background-color .3s ease;box-shadow:0 1px 4px #0000001a;margin:0 auto}.custom-upload-btn[_ngcontent-%COMP%]:hover{background-color:#d4baff}.delete-btn[_ngcontent-%COMP%]{position:absolute;background-color:#333232;color:#fff;border:none;border-radius:50%;font-size:16px;cursor:pointer;width:24px;height:24px}.error-text[_ngcontent-%COMP%]{color:red;font-size:14px}.section-title[_ngcontent-%COMP%]{margin-bottom:8px;font-family:Roboto Mono,monospace}.image-container[_ngcontent-%COMP%]{position:relative;width:150px;height:150px}"]})};var Vr=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/SpecialistProfile";becomeSpecialist(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.put(`${this.baseUrl}/BecomeSpecialist`,e,{headers:r}).pipe(qt(o=>{o.response?.token&&localStorage.setItem("access_token",o.response.token)}))}getSpecialistProfile(){let e=this.authService.getToken(),t=new L({Authorization:`Bearer ${e}`});return this.http.get(`${this.baseUrl}/Get`,{headers:t})}updateSpecialistProfile(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.patch(`${this.baseUrl}/Update`,e,{headers:r})}static \u0275fac=function(t){return new(t||n)(W(_e),W(q))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var sl=()=>[];function Rp(n,e){if(n&1){let t=N();l(0,"app-dynamic-form",5),S("formSubmit",function(o){M(t);let u=E();return O(u.handleStep1(o))}),c()}if(n&2){let t=E();y("fields",t.step1FormFields)("submitText","Treci la pasul urm\u0103tor")}}function Vp(n,e){if(n&1){let t=N();l(0,"div",6)(1,"app-category-selector",7),S("categoryChange",function(o){M(t);let u=E();return O(u.updateCategories(o))}),c(),l(2,"div",8)(3,"div",9)(4,"button",10),S("click",function(){M(t);let o=E();return O(o.handleStep2())}),d(5,"Treci la pasul urm\u0103tor"),c()()()()}if(n&2){let t=E();m(),y("selectedCategoryIds",t.specialistData.categories||Le(1,sl))}}function kp(n,e){if(n&1){let t=N();l(0,"div",6)(1,"app-portfolio-upload",11),S("portfolioChange",function(o){M(t);let u=E();return O(u.updatePortfolio(o))}),c(),l(2,"div",8)(3,"div",9)(4,"button",10),S("click",function(){M(t);let o=E();return O(o.addEntity())}),d(5,"Finalizeaz\u0103"),c()()()()}if(n&2){let t=E();m(),y("uploadedPictures",t.specialistData.portfolio||Le(1,sl))}}var kr=class n{constructor(e,t,r){this.authService=e;this.specialistProfileService=t;this.router=r}step=1;portfolioImages=[];imagePreviews=[];specialistData={yearsExperience:0,phoneNumber:"",address:"",description:"",categories:[],portfolio:[]};formData={};step1FormFields=De({yearsExperience:0,phoneNumber:"",address:"",description:""},{address:{type:"text",class:"full-width"},yearsExperience:{type:"number",placeholder:"Ex: 5"},description:{type:"textarea",placeholder:"Descrie serviciile oferite",class:"full-width"}});isAddUserFormVisible=!1;ngOnInit(){let e={phoneNumber:"",address:"",yearsExperience:0,description:""};this.formData=z({},e)}handleStep1(e){this.specialistData=z(z({},this.specialistData),e),this.step=2}updateCategories(e){this.specialistData.categories=e}handleStep2(){this.step=3}updatePortfolio(e){this.portfolioImages=e.map(t=>t.fileStream),this.imagePreviews=e.map(t=>URL.createObjectURL(t.fileStream))}addEntity(){let e=this.authService.getUserId();if(!e){console.error("User ID not found");return}let t={userId:e,phoneNumber:this.specialistData.phoneNumber,address:this.specialistData.address,yearsExperience:this.specialistData.yearsExperience,description:this.specialistData.description,categories:this.specialistData.categories};this.specialistProfileService.becomeSpecialist(t).subscribe({next:()=>{this.closeAddUserForm(),this.router.navigate(["/home"])},error:r=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",r)}})}closeAddUserForm(){this.isAddUserFormVisible=!1}static \u0275fac=function(t){return new(t||n)(A(q),A(Vr),A(Se))};static \u0275cmp=R({type:n,selectors:[["app-become-specialist"]],decls:8,vars:4,consts:[[1,"form-wrapper"],[1,"form-box"],[3,"ngSwitch"],[3,"fields","submitText","formSubmit",4,"ngSwitchCase"],["class","form-layout",4,"ngSwitchCase"],[3,"formSubmit","fields","submitText"],[1,"form-layout"],[3,"categoryChange","selectedCategoryIds"],[1,"form-group","full-width"],[1,"button-wrapper"],[1,"send-button",3,"click"],[3,"portfolioChange","uploadedPictures"]],template:function(t,r){t&1&&(l(0,"h2"),d(1,"Devino specialist!"),c(),l(2,"div",0)(3,"div",1),fe(4,2),D(5,Rp,1,2,"app-dynamic-form",3)(6,Vp,6,2,"div",4)(7,kp,6,2,"div",4),ge(),c()()),t&2&&(m(4),y("ngSwitch",r.step),m(),y("ngSwitchCase",1),m(),y("ngSwitchCase",2),m(),y("ngSwitchCase",3))},dependencies:[Fe,un,dn,Or,Rr],styles:["h2[_ngcontent-%COMP%]{text-align:center;font-family:Roboto Mono,monospace;font-size:30px}.button-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center}.send-button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:300px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}.send-button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}.form-layout[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:24px 20px;padding:24px 32px;max-width:650px;margin:0 auto}.form-group[_ngcontent-%COMP%]{font-family:Roboto Mono,monospace;flex:1;display:flex;flex-direction:column}.form-group.full-width[_ngcontent-%COMP%]{flex:1 1 100%}"]})};var Np=["class","categories"],Fp=()=>[5,10,20];function Up(n,e){if(n&1){let t=N();l(0,"div",9)(1,"div",10)(2,"div",11)(3,"button",12),S("click",function(){M(t);let o=E();return O(o.closeAddEntityForm())}),d(4,"\xD7"),c()(),l(5,"app-dynamic-form",13),S("formSubmit",function(o){M(t);let u=E();return O(u.addEntity(o))}),c()()()}if(n&2){let t=E();m(5),y("fields",t.addEntityFormFields)("submitText","Trimite")}}function Lp(n,e){if(n&1){let t=N();l(0,"div",9)(1,"div",10)(2,"button",12),S("click",function(){M(t);let o=E();return O(o.closeUpdateEntityForm())}),d(3,"\xD7"),c(),l(4,"app-dynamic-form",14),S("formSubmit",function(o){M(t);let u=E();return O(u.updateEntity(o))}),c()()()}if(n&2){let t=E();m(4),y("fields",t.updateEntityFormFields)("initialData",t.formData)("submitText","Actualizeaz\u0103")}}function Bp(n,e){if(n&1){let t=N();l(0,"app-admin-details",18),S("close",function(){M(t);let o=E(2);return O(o.closeEntityDetails())}),c()}if(n&2){let t=E(2);y("entity",t.entityDetails)("title","Detalii categorie")}}function qp(n,e){if(n&1){let t=N();l(0,"div",15)(1,"div",16)(2,"button",12),S("click",function(){M(t);let o=E();return O(o.closeEntityDetails())}),d(3,"\xD7"),c(),D(4,Bp,1,2,"app-admin-details",17),c()()}if(n&2){let t=E();m(4),y("ngIf",t.isEntityDetailsVisible)}}var Nr=class n{constructor(e){this.adminService=e}dummy_categories=[{id:"c1",name:"Psihologie",description:"Categoria pentru speciali\u0219ti \xEEn psihologie",specialistsCount:5,specialistIds:["s1","s2","s3","s4","s5"]},{id:"c2",name:"Nutri\u021Bie",description:"Categoria pentru speciali\u0219ti \xEEn nutri\u021Bie",specialistsCount:3,specialistIds:["s6","s7","s8"]}];searchTerm="";entities=[];selectedEntity=null;entityDetails={};entityDetailsId;pageSize=10;currentPage=1;totalItems=0;isAddEntityFormVisible=!1;isUpdateEntityFormVisible=!1;isEntityDetailsVisible=!1;selectedEntityId=null;columns=[{key:"id",header:"ID"},{key:"name",header:"Denumire"},{key:"description",header:"Descriere"},{key:"specialistsCount",header:"Num\u0103r speciali\u0219ti"},{key:"specialistIds",header:"Speciali\u0219tii cu aceast\u0103 categorie"},{key:"actions",header:"Ac\u021Biuni",type:"action",actions:[{label:"Detalii",class:"view",callback:e=>this.getEntity(e.id)},{label:"Modific\u0103",class:"edit",callback:e=>this.editEntity(e)},{label:"\u0218terge",class:"delete",callback:e=>this.deleteEntity(e)}]}];defaultEntity={name:"",description:""};formData={};error=null;addEntityFormFields=De(this.defaultEntity,{description:{type:"input",placeholder:"Descrie categoria",required:!1}});updateEntityFormFields=De({name:this.selectedEntity?.name||"",description:this.selectedEntity?.description||""});placeholder="Caut\u0103 o categorie...";ngOnInit(){let e={name:"",description:""};this.formData=z({},e),this.getPage()}onSearch(e){this.searchTerm=e,this.currentPage=1,this.getPage()}getEntity(e){console.log(e),this.adminService.getCategoryById(e).subscribe({next:t=>{this.entityDetailsId=t.response?.id,this.entityDetails=Cn(t.response??{}),this.isEntityDetailsVisible=!0},error:t=>{console.error("Eroare la preluarea utilizatorului:",t.errorMessage?.status),alert("Nu s-au putut \xEEnc\u0103rca detaliile utilizatorului.")}})}getPage(){this.adminService.getCategoriesAdminPage(this.searchTerm,this.currentPage,this.pageSize).subscribe({next:e=>{console.log(e.response),this.entities=e.response?.data??[],this.totalItems=e.response?.totalCount??0},error:e=>{this.error=e.error?.errorMessage?.message||"A ap\u0103rut o eroare."}})}addEntity(e){let t=e;this.adminService.addCategory(t).subscribe({next:()=>{this.closeAddEntityForm(),this.getPage()},error:r=>{console.error("Eroare la ad\u0103ugarea utilizatorului:",r)}})}editEntity(e){this.selectedEntityId=e.id,this.formData={name:e.name,description:e.description},this.isUpdateEntityFormVisible=!0}updateEntity(e){if(!this.selectedEntityId){console.error("Niciun utilizator nu a fost selectat pentru actualizare."),alert("Eroare: Nu a fost selectat niciun utilizator pentru actualizare.");return}let t={id:this.selectedEntityId,name:e.name||this.formData.name,description:e.description||this.formData.description};this.adminService.updateCategory(t).subscribe({next:()=>{this.closeUpdateEntityForm(),this.getPage()},error:r=>{console.error("Eroare la actualizare:",r)}})}showEntityDetails(e){this.isEntityDetailsVisible=!0}closeEntityDetails(){this.isEntityDetailsVisible=!1,this.selectedEntity=null}closeUpdateEntityForm(){this.selectedEntityId=null,this.resetForm(),this.isUpdateEntityFormVisible=!1}openAddEntityForm(){this.selectedEntityId=null,this.resetForm(),this.isAddEntityFormVisible=!0}viewEntity(e){this.isEntityDetailsVisible=!0}deleteEntity(e){confirm(`Sigur dori\u021Bi s\u0103 \u0219terge\u021Bi categoria ${e.name}?`)&&this.adminService.deleteCategory(e.id).subscribe({next:()=>{this.getPage()},error:t=>{console.error("Eroare la \u0219tergerea utilizatorului:",t)}})}closeAddEntityForm(){this.isAddEntityFormVisible=!1,this.resetForm()}resetForm(){this.formData={name:"",description:""}}onPageChange(e){this.currentPage=e,this.getPage()}onPageSizeChange(e){this.pageSize=e,this.currentPage=1,this.getPage()}static \u0275fac=function(t){return new(t||n)(A(An))};static \u0275cmp=R({type:n,selectors:[["app-admin",8,"categories"]],attrs:Np,decls:13,vars:11,consts:[[3,"pageChange","pageSizeChange","currentPage","pageSize","pageSizeOptions","totalItems"],[1,"admin-wrapper"],[1,"admin-table-container"],[1,"search-box-wrapper"],[3,"searchChanged","placeholder"],[1,"add-btn",3,"click"],[3,"columns","data"],["class","modal-overlay",4,"ngIf"],["class","admin-overlay",4,"ngIf"],[1,"modal-overlay"],[1,"modal"],[1,"close-button-wrapper"],[1,"close-button",3,"click"],[3,"formSubmit","fields","submitText"],[3,"formSubmit","fields","initialData","submitText"],[1,"admin-overlay"],[1,"admin-modal"],[3,"entity","title","close",4,"ngIf"],[3,"close","entity","title"]],template:function(t,r){t&1&&(l(0,"app-pagination",0),S("pageChange",function(u){return r.onPageChange(u)})("pageSizeChange",function(u){return r.onPageSizeChange(u)}),c(),l(1,"div",1)(2,"div",2)(3,"h2"),d(4,"Administreaz\u0103 toate categoriile"),c(),l(5,"div",3)(6,"app-search-input",4),S("searchChanged",function(u){return r.onSearch(u)}),c()(),l(7,"button",5),S("click",function(){return r.openAddEntityForm()}),d(8,"Adaug\u0103 categorie"),c(),k(9,"app-dynamic-table",6),c()(),D(10,Up,6,2,"div",7)(11,Lp,5,3,"div",7)(12,qp,5,1,"div",8)),t&2&&(y("currentPage",r.currentPage)("pageSize",r.pageSize)("pageSizeOptions",Le(10,Fp))("totalItems",r.totalItems),m(6),y("placeholder",r.placeholder),m(3),y("columns",r.columns)("data",r.entities),m(),y("ngIf",r.isAddEntityFormVisible),m(),y("ngIf",r.isUpdateEntityFormVisible),m(),y("ngIf",r.isEntityDetailsVisible))},dependencies:[Vt,Fe,We,Rt,st,Y],styles:[".admin-wrapper[_ngcontent-%COMP%]{text-align:center}.admin-table-container[_ngcontent-%COMP%]{display:inline-block;padding:24px;background-color:#d9c8ff;border:2px solid #4b358e;border-radius:8px;font-family:Roboto Mono,monospace;box-shadow:0 4px 8px #0000001a;margin:40px auto}.admin-table-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:16px}.admin-table[_ngcontent-%COMP%]{width:max-content;max-width:100%;margin-left:auto;margin-right:auto;border-collapse:collapse;background-color:#f8f4ff;border-radius:6px}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .admin-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #ddd;text-align:left;font-size:14px;white-space:nowrap}.admin-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#cfbdfe;color:#333;font-weight:700}.action-link[_ngcontent-%COMP%]{margin-right:12px;cursor:pointer;text-decoration:none;font-weight:700}.action-link.view[_ngcontent-%COMP%]{color:#00f}.action-link.edit[_ngcontent-%COMP%]{color:green}.action-link.delete[_ngcontent-%COMP%]{color:red}.add-btn[_ngcontent-%COMP%]{background-color:#916fc7;color:#fff;border:3px solid #4b358e;margin-top:14px;margin-bottom:20px;padding:8px 16px;font-weight:700;border-radius:6px;cursor:pointer;transition:background-color .3s;font-family:Roboto Mono,monospace}.add-btn[_ngcontent-%COMP%]:hover{background-color:#3a2973}",".admin-wrapper[_ngcontent-%COMP%]{padding:24px 32px;font-family:Roboto Mono,monospace;text-align:center}.page-title[_ngcontent-%COMP%]{font-size:24px;margin-bottom:24px}.divider[_ngcontent-%COMP%]{border:none;height:3px;background-color:#bfa3ff;margin:16px 0}.card[_ngcontent-%COMP%]{background-color:#e3d1ff;padding:32px;border-radius:12px;max-width:600px;width:90%;box-shadow:0 10px 30px #0003;font-family:Roboto Mono,monospace;border:2px solid #bfa3ff;position:relative}.admin-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000}.admin-modal[_ngcontent-%COMP%]{position:relative;background:#fff;border-radius:12px;box-shadow:0 0 20px #0000004d;max-width:700px;width:90%}strong[_ngcontent-%COMP%]{white-space:nowrap}"]})};var Fr=class n{settings={fullName:"",email:"",phoneNumber:"",language:"ro",darkMode:!1,emailNotifications:!0,smsNotifications:!1};onImageUpload(e){let t=e.target.files?.[0];t&&console.log("Uploaded image:",t.name)}changePassword(){alert("Password change flow goes here.")}deactivateAccount(){confirm("E\u0219ti sigur c\u0103 vrei s\u0103 dezactivezi contul?")&&console.log("Account deactivated")}deleteAccount(){confirm("E\u0219ti sigur c\u0103 vrei s\u0103 \u0219tergi contul? Aceast\u0103 ac\u021Biune este ireversibil\u0103.")&&console.log("Account deleted")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-settings"]],decls:48,vars:7,consts:[[1,"settings-container"],[1,"settings-title"],[1,"settings-section"],["for","fullName"],["id","fullName","type","text","name","fullName",3,"ngModelChange","ngModel"],["for","email"],["id","email","type","email","name","email",3,"ngModelChange","ngModel"],["for","phone"],["id","phone","type","text","name","phone",3,"ngModelChange","ngModel"],["for","profileImage"],["id","profileImage","type","file",3,"change"],["type","button",3,"click"],["for","language"],["id","language","name","language",3,"ngModelChange","ngModel"],["value","ro"],["value","en"],["type","checkbox","name","darkMode",3,"ngModelChange","ngModel"],["type","checkbox","name","emailNotifications",3,"ngModelChange","ngModel"],["type","checkbox","name","smsNotifications",3,"ngModelChange","ngModel"],[1,"danger",3,"click"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"h1",1),d(2,"Set\u0103rile contului"),c(),l(3,"section",2)(4,"h2"),d(5,"Profilul t\u0103u"),c(),l(6,"form")(7,"label",3),d(8,"Nume complet"),c(),l(9,"input",4),ne("ngModelChange",function(u){return te(r.settings.fullName,u)||(r.settings.fullName=u),u}),c(),l(10,"label",5),d(11,"Adresa e-mail"),c(),l(12,"input",6),ne("ngModelChange",function(u){return te(r.settings.email,u)||(r.settings.email=u),u}),c(),l(13,"label",7),d(14,"Num\u0103r de telefon"),c(),l(15,"input",8),ne("ngModelChange",function(u){return te(r.settings.phoneNumber,u)||(r.settings.phoneNumber=u),u}),c(),l(16,"label",9),d(17,"Poza de profil"),c(),l(18,"input",10),S("change",function(u){return r.onImageUpload(u)}),c(),l(19,"button",11),S("click",function(){return r.changePassword()}),d(20,"Schimb\u0103 parola"),c()()(),l(21,"section",2)(22,"h2"),d(23,"Set\u0103ri aplica\u021Bie"),c(),l(24,"form")(25,"label",12),d(26,"Limba aplica\u021Biei"),c(),l(27,"select",13),ne("ngModelChange",function(u){return te(r.settings.language,u)||(r.settings.language=u),u}),l(28,"option",14),d(29,"Rom\xE2n\u0103"),c(),l(30,"option",15),d(31,"English"),c()(),l(32,"label")(33,"input",16),ne("ngModelChange",function(u){return te(r.settings.darkMode,u)||(r.settings.darkMode=u),u}),c(),d(34," Activeaz\u0103 modul \xEEntrunecat "),c(),l(35,"label")(36,"input",17),ne("ngModelChange",function(u){return te(r.settings.emailNotifications,u)||(r.settings.emailNotifications=u),u}),c(),d(37," Notific\u0103ri prin e-mail "),c(),l(38,"label")(39,"input",18),ne("ngModelChange",function(u){return te(r.settings.smsNotifications,u)||(r.settings.smsNotifications=u),u}),c(),d(40," Notific\u0103ri prin SMS "),c()()(),l(41,"section",2)(42,"h2"),d(43,"Siguran\u021B\u0103 \u0219i ac\u021Biuni"),c(),l(44,"button",19),S("click",function(){return r.deactivateAccount()}),d(45,"Dezactiveaz\u0103 contul"),c(),l(46,"button",19),S("click",function(){return r.deleteAccount()}),d(47,"\u0218terge contul"),c()()()),t&2&&(m(9),ee("ngModel",r.settings.fullName),m(3),ee("ngModel",r.settings.email),m(3),ee("ngModel",r.settings.phoneNumber),m(12),ee("ngModel",r.settings.language),m(6),ee("ngModel",r.settings.darkMode),m(3),ee("ngModel",r.settings.emailNotifications),m(3),ee("ngModel",r.settings.smsNotifications))},dependencies:[X,ot,gn,_n,ke,Ao,Pt,Ne,rt,Be,gt],styles:[".settings-container[_ngcontent-%COMP%]{max-width:700px;margin:0 auto;padding:2rem;background-color:#f9f6ff;border-radius:12px;box-shadow:0 0 8px #0000001a}.settings-title[_ngcontent-%COMP%]{font-size:1.8rem;margin-bottom:2rem;font-weight:700;text-align:center}.settings-section[_ngcontent-%COMP%]{margin-bottom:2.5rem;border-top:1px solid #ccc;padding-top:1.5rem}.settings-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem;margin-bottom:1rem}.settings-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:500;margin:.5rem 0 .25rem}.settings-section[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .settings-section[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-bottom:1rem;border-radius:6px;border:1px solid #ccc;font-size:1rem}button[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;margin-top:1rem;border:none;border-radius:6px;background-color:#6541f0;color:#fff;font-weight:700;cursor:pointer;transition:background-color .3s}button[_ngcontent-%COMP%]:hover{background-color:#5134c9}button.danger[_ngcontent-%COMP%]{background-color:#d9534f;margin-right:1rem}button.danger[_ngcontent-%COMP%]:hover{background-color:#c9302c}"]})};var Ur=class n{constructor(e,t){this.http=e;this.authService=t}baseUrl="http://localhost:5241/api/Review";addReview(e,t){let r=this.authService.getToken(),o=new L({Authorization:`Bearer ${r}`});return this.http.post(`${this.baseUrl}task/${e}/confirm/reviews`,t,{headers:o})}getReviews(e,t){let r=this.authService.getToken(),o=new L({Authorization:`Bearer ${r}`}),u=new Ye().set("page",e).set("pageSize",t);return this.http.get(`${this.baseUrl}/GetPage`,{params:u,headers:o})}getReview(e){let t=this.authService.getToken(),r=new L({Authorization:`Bearer ${t}`});return this.http.get(`${this.baseUrl}/GetById/${e}`,{headers:r})}static \u0275fac=function(t){return new(t||n)(W(_e),W(q))};static \u0275prov=J({token:n,factory:n.\u0275fac,providedIn:"root"})};var jp=()=>[];function $p(n,e){if(n&1&&k(0,"img",9),n&2){let t=E().$implicit;y("src",t.senderUserProfilePictureUrl,$e)}}function Gp(n,e){n&1&&(fe(0),k(1,"img",10),ge())}function Kp(n,e){if(n&1&&(l(0,"div",3)(1,"div",4),D(2,$p,1,1,"img",5),l(3,"div",6)(4,"strong"),d(5),c(),l(6,"span",7),D(7,Gp,2,0,"ng-container",8),c()()(),l(8,"p"),d(9),c(),l(10,"small"),d(11),$(12,"date"),c()()),n&2){let t=e.$implicit;m(2),y("ngIf",t.senderUserProfilePictureUrl),m(3),re(t.senderUserFullName),m(2),y("ngForOf",Le(8,jp).constructor(t.rating)),m(2),re(t.content),m(2),re(Ge(12,5,t.createdAt,"shortDate"))}}var Lr=class n{constructor(e){this.reviewService=e}reviews=[];page=1;pageSize=5;dummyReviews=[{id:"1",senderUserFullName:"Ana Popescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/women/21.jpg",rating:5,content:"Excelent! A fost foarte profesionist\u0103 \u0219i m-a ajutat rapid.",createdAt:new Date("2024-12-05T14:35:00"),updatedAt:new Date("2024-12-05T14:35:00")},{id:"2",senderUserFullName:"Andrei Ionescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/men/32.jpg",rating:4,content:"Serviciu bun, dar am avut o mic\u0103 \xEEnt\xE2rziere la \xEEnceput.",createdAt:new Date("2025-01-10T09:20:00"),updatedAt:new Date("2025-01-10T09:20:00")},{id:"3",senderUserFullName:"Mihai Georgescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/men/45.jpg",rating:3,content:"Experien\u021B\u0103 ok, dar se poate \xEEmbun\u0103t\u0103\u021Bi comunicarea.",createdAt:new Date("2025-03-18T17:45:00"),updatedAt:new Date("2025-03-18T17:45:00")},{id:"4",senderUserFullName:"Elena Tudor",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/women/55.jpg",rating:5,content:"Foarte mul\u021Bumit\u0103! Recomand cu \xEEncredere!",createdAt:new Date("2025-04-02T11:10:00"),updatedAt:new Date("2025-04-02T11:10:00")},{id:"5",senderUserFullName:"Radu Vasile",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/men/61.jpg",rating:2,content:"Din p\u0103cate, nu a fost ce am a\u0219teptat. Probleme de punctualitate.",createdAt:new Date("2025-02-14T08:30:00"),updatedAt:new Date("2025-02-14T08:30:00")},{id:"6",senderUserFullName:"Ioana Marinescu",senderUserProfilePictureUrl:"https://randomuser.me/api/portraits/women/88.jpg",rating:4,content:"Totul a decurs bine, dar a\u0219 fi vrut mai multe explica\u021Bii.",createdAt:new Date("2025-05-22T15:50:00"),updatedAt:new Date("2025-05-22T15:50:00")}];ngOnInit(){this.reviews=this.dummyReviews,this.loadReviews()}loadReviews(){this.reviewService.getReviews(this.page,this.pageSize).subscribe({next:e=>{this.reviews=e.response?.data||[]},error:e=>{console.error("Error loading reviews",e)}})}static \u0275fac=function(t){return new(t||n)(A(Ur))};static \u0275cmp=R({type:n,selectors:[["app-reviews"]],decls:5,vars:1,consts:[[1,"account-card"],[1,"reviews-container"],["class","review-card",4,"ngFor","ngForOf"],[1,"review-card"],[1,"header"],["alt","Profil",3,"src",4,"ngIf"],[1,"review-info"],[1,"rating"],[4,"ngFor","ngForOf"],["alt","Profil",3,"src"],["src","assets/icons/star-filled.svg","alt","star",2,"width","24px","height","24px","margin-right","0"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"h2"),d(3,"Recenziile tale"),c(),D(4,Kp,13,9,"div",2),c()()),t&2&&(m(4),y("ngForOf",r.reviews))},dependencies:[ue,Y,nt],styles:[".account-card[_ngcontent-%COMP%]{background:#e0caff;max-width:1000px;margin:32px auto;box-shadow:0 4px 16px #0000001a;font-family:Roboto Mono,monospace;border:3px solid black}.reviews-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:32px}.reviews-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px;text-align:center;margin-bottom:32px;font-weight:700;color:#000}.review-card[_ngcontent-%COMP%]{background-color:#f5f2ff;border-radius:10px;padding:1.25rem;margin-bottom:1.5rem;box-shadow:0 2px 8px #0000000d;transition:transform .2s}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;object-fit:cover;margin-right:16px}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .review-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;padding-top:4px}.review-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .review-info[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:18px;line-height:1;margin-left:3px;margin-bottom:2px}.review-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-size:1rem;color:#333}.review-card[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block;text-align:right;color:#777;font-size:.85rem}.rating[_ngcontent-%COMP%]{display:flex;align-items:center}.rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{width:24px;height:24px;margin-right:1px}"]})};var ll="basil",Wp=function(e){return e===3?"v3":e},ul="https://js.stripe.com",Hp="".concat(ul,"/").concat(ll,"/stripe.js"),Qp=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Jp=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,al="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",Yp=function(e){return Qp.test(e)||Jp.test(e)},Xp=function(){for(var e=document.querySelectorAll('script[src^="'.concat(ul,'"]')),t=0;t<e.length;t++){var r=e[t];if(Yp(r.src))return r}return null},cl=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(Hp).concat(t);var o=document.head||document.body;if(!o)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return o.appendChild(r),r},Zp=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.3.1",startTime:t})},hi=null,Br=null,qr=null,em=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},tm=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},nm=function(e){return hi!==null?hi:(hi=new Promise(function(t,r){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe&&e&&console.warn(al),window.Stripe){t(window.Stripe);return}try{var o=Xp();if(o&&e)console.warn(al);else if(!o)o=cl(e);else if(o&&qr!==null&&Br!==null){var u;o.removeEventListener("load",qr),o.removeEventListener("error",Br),(u=o.parentNode)===null||u===void 0||u.removeChild(o),o=cl(e)}qr=tm(t,r),Br=em(r),o.addEventListener("load",qr),o.addEventListener("error",Br)}catch(_){r(_);return}}),hi.catch(function(t){return hi=null,Promise.reject(t)}))},im=function(e,t,r){if(e===null)return null;var o=t[0],u=o.match(/^pk_test/),_=Wp(e.version),T=ll;u&&_!==T&&console.warn("Stripe.js@".concat(_," was loaded on the page, but @stripe/stripe-js@").concat("7.3.1"," expected Stripe.js@").concat(T,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var V=e.apply(void 0,t);return Zp(V,r),V},pi,dl=!1,hl=function(){return pi||(pi=nm(null).catch(function(e){return pi=null,Promise.reject(e)}),pi)};Promise.resolve().then(function(){return hl()}).catch(function(n){dl||console.warn(n)});var pl=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];dl=!0;var o=Date.now();return hl().then(function(u){return im(u,t,o)})};var zr=class n{serviceTask={id:"12345",replyId:"67890",userId:"user123",specialistId:"spec456",description:"Montare mobilier",address:"Str. Exemplu 123",startDate:new Date,endDate:new Date,specialistFullName:"Ion Popescu",price:350,status:"Confirmed",completedAt:new Date,cancelledAt:new Date};cardPaymentSelected=!1;showError=!1;ngAfterViewInit(){this.setupStripe()}setupStripe(){return ae(this,null,function*(){let e=yield pl("pk_test_51RY4TaRP4R8qcMUlWSJwbW6GBjetIiG7jc4fLrsUcl7xMS8uTMcI2mfDHId8YRAku8lllViJiAY0mVPObrvgLYke00QP5RVa7S");if(!e){console.error("Stripe failed to initialize.");return}let r=e.elements().create("card");r.mount("#card-element");let o=yield fetch("http://localhost:5241/api/stripe/account/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"}}),{clientSecret:u}=yield o.json();console.log("Client secret:",u);let _=document.getElementById("payment-form");if(!_){console.error("Payment form not found.");return}_.addEventListener("submit",T=>ae(this,null,function*(){T.preventDefault();let V=yield e.confirmCardPayment(u,{payment_method:{card:r,billing_details:{name:"Test Client"}}});V.error?console.error(V.error.message):V.paymentIntent.status==="succeeded"&&alert("Plat\u0103 reu\u0219it\u0103!")}))})}selectCardPayment(){this.cardPaymentSelected=!0,this.showError=!1}payForService(){if(!this.cardPaymentSelected){this.showError=!0;return}console.log("Plat\u0103 ini\u021Biat\u0103 cu cardul bancar."),window.open("https://www.plata-cu-cardul.ro","_blank")}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-service-payment"]],decls:7,vars:0,consts:[["id","payment-form"],["for","card-element",2,"display","block","margin-bottom","8px"],["id","card-element",2,"padding","10px","border","1px solid #ccc","border-radius","6px","margin-bottom","12px"],["id","card-errors","role","alert",2,"color","red","margin-bottom","12px"],["id","submit","type","submit",2,"padding","10px 20px","background-color","#8e44ad","color","white","border","none","border-radius","4px","cursor","pointer"]],template:function(t,r){t&1&&(l(0,"form",0)(1,"label",1),d(2," Num\u0103r card "),c(),k(3,"div",2)(4,"div",3),l(5,"button",4),d(6," Pl\u0103te\u0219te "),c()())},dependencies:[X,ot,rt,gt],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f9f7ff;margin:0;padding:0}.container[_ngcontent-%COMP%]{max-width:700px;margin:40px auto;background-color:#fff;padding:32px;border-radius:12px;box-shadow:0 4px 16px #0000001a;border:2px solid #8e44ad}h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:24px}.task-detail[_ngcontent-%COMP%]{margin-bottom:12px}.task-detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#555;display:block}.task-detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#333;font-size:1rem}.pay-section[_ngcontent-%COMP%]{margin-top:32px;text-align:center}.price[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;color:#27ae60;margin-bottom:16px}.pay-button[_ngcontent-%COMP%]{background-color:#8e44ad;color:#fff;padding:12px 24px;border:none;border-radius:8px;font-size:1rem;cursor:pointer;transition:background-color .2s ease}.pay-button[_ngcontent-%COMP%]:hover{background-color:#732d91}"]})};var jr=class n{constructor(e){this.fb=e;this.contactForm=this.fb.group({name:["",Tt.required],email:["",[Tt.required,Tt.email]],subject:["",Tt.required],message:["",Tt.required]})}contactForm;onSubmit(){if(this.contactForm.valid){let e=this.contactForm.value;console.log("Contact form data:",e),alert("Mesajul a fost trimis cu succes!"),this.contactForm.reset()}}static \u0275fac=function(t){return new(t||n)(A(_c))};static \u0275cmp=R({type:n,selectors:[["app-contact-us"]],decls:47,vars:1,consts:[[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"contact-wrapper"],[3,"ngSubmit","formGroup"],["for","name"],["id","name","type","text","formControlName","name","placeholder","Ex: Ana Popescu"],["for","email"],["id","email","type","email","formControlName","email","placeholder","Ex: ana@email.com"],["for","subject"],["id","subject","type","text","formControlName","subject","placeholder","Subiectul mesajului"],["for","message"],["id","message","rows","5","formControlName","message","placeholder","Scrie-ne mesajul t\u0103u..."],[1,"form-actions"],["type","submit"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),d(3,"Ai o \u021Beav\u0103 spart\u0103?"),c(),l(4,"h1",2),d(5,"\u021Ai s-a stricat chiuveta?"),c(),l(6,"h1"),d(7,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),l(8,"strong",3),d(9,"ExpertEase"),c(),d(10,"!"),c()(),l(11,"p"),d(12,"Peste "),l(13,"strong"),d(14,"100 de speciali\u0219ti"),c(),d(15," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),c()(),l(16,"div",4)(17,"h2"),d(18,"Contacteaz\u0103-ne"),c(),l(19,"p")(20,"strong"),d(21,"Email:"),c(),d(22," contact@expertease.ro"),c(),l(23,"p")(24,"strong"),d(25,"Telefon:"),c(),d(26," +40 712 345 678"),c(),l(27,"p")(28,"strong"),d(29,"Adres\u0103:"),c(),d(30," Str. Exemplului 123, Bucure\u0219ti"),c(),l(31,"form",5),S("ngSubmit",function(){return r.onSubmit()}),l(32,"label",6),d(33,"Nume complet"),c(),k(34,"input",7),l(35,"label",8),d(36,"Email"),c(),k(37,"input",9),l(38,"label",10),d(39,"Subiect"),c(),k(40,"input",11),l(41,"label",12),d(42,"Mesaj"),c(),k(43,"textarea",13),l(44,"div",14)(45,"button",15),d(46,"Trimite"),c()()()()),t&2&&(m(31),y("formGroup",r.contactForm))},dependencies:[Dt,ot,ke,Ne,rt,Fo,Uo],styles:[".home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.contact-wrapper[_ngcontent-%COMP%]{max-width:600px;margin:10px auto;padding:24px;font-family:Roboto Mono,monospace;border:2px solid #3c1a7d;border-radius:8px;background-color:#fff}h2[_ngcontent-%COMP%]{color:#3c1a7d;margin-bottom:24px;text-align:center}label[_ngcontent-%COMP%]{display:block;margin:12px 0 4px}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;height:auto;padding:8px 10px;line-height:1.4;font-size:14px;box-sizing:border-box;border:1px solid #ccc;border-radius:4px;margin-bottom:12px;font-family:Roboto Mono,monospace}.form-actions[_ngcontent-%COMP%]{text-align:center;margin-top:20px}button[_ngcontent-%COMP%]{background-color:#d9c8ff;color:#000;font-family:Roboto Mono,monospace;font-size:16px;font-weight:700;border:2px solid black;border-radius:5px;padding:0;width:300px;height:44px;cursor:pointer;transition:background-color .3s ease;align-self:center}button[_ngcontent-%COMP%]:hover{background-color:#cbb6ff}"]})};var $r=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-terms"]],decls:104,vars:0,consts:[[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"terms-container"],["href","/confidentialitate",1,"privacy-link"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),d(3,"Ai o \u021Beav\u0103 spart\u0103?"),c(),l(4,"h1",2),d(5,"\u021Ai s-a stricat chiuveta?"),c(),l(6,"h1"),d(7,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),l(8,"strong",3),d(9,"ExpertEase"),c(),d(10,"!"),c()(),l(11,"p"),d(12,"Peste "),l(13,"strong"),d(14,"100 de speciali\u0219ti"),c(),d(15," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),c()(),l(16,"div",4)(17,"section")(18,"h2"),d(19,"Introducere"),c(),l(20,"p"),d(21," Acest document stabile\u0219te termenii \u0219i condi\u021Biile de utilizare a platformei "),l(22,"strong"),d(23,"ExpertEase"),c(),d(24,". Prin accesarea sau utilizarea serviciilor noastre, sunte\u021Bi de acord cu ace\u0219ti termeni. "),c()(),l(25,"section")(26,"h2"),d(27,"Defini\u021Bii"),c(),l(28,"p")(29,"strong"),d(30,"Platform\u0103:"),c(),d(31," aplica\u021Bia ExpertEase care faciliteaz\u0103 conexiunea dintre clien\u021Bi \u0219i speciali\u0219ti."),c(),l(32,"p")(33,"strong"),d(34,"Client:"),c(),d(35," utilizator care solicit\u0103 servicii."),c(),l(36,"p")(37,"strong"),d(38,"Specialist:"),c(),d(39," utilizator care ofer\u0103 servicii."),c()(),l(40,"section")(41,"h2"),d(42,"Condi\u021Bii de utilizare"),c(),l(43,"ul")(44,"li"),d(45,"Accesul necesit\u0103 crearea unui cont valid."),c(),l(46,"li"),d(47,"Utilizatorii trebuie s\u0103 aib\u0103 minim 18 ani."),c(),l(48,"li"),d(49,"Este interzis\u0103 utilizarea platformei \xEEn scopuri ilegale, abuzive sau frauduloase."),c()()(),l(50,"section")(51,"h2"),d(52,"Obliga\u021Biile utilizatorilor"),c(),l(53,"p")(54,"strong"),d(55,"Clien\u021Bi:"),c()(),l(56,"ul")(57,"li"),d(58,"S\u0103 ofere informa\u021Bii clare \u0219i reale despre cerere."),c(),l(59,"li"),d(60,"S\u0103 respecte termenii agrea\u021Bi cu specialistul."),c()(),l(61,"p")(62,"strong"),d(63,"Speciali\u0219ti:"),c()(),l(64,"ul")(65,"li"),d(66,"S\u0103 ofere servicii conforme cu descrierea."),c(),l(67,"li"),d(68,"S\u0103 respecte confiden\u021Bialitatea \u0219i termenele stabilite."),c()()(),l(69,"section")(70,"h2"),d(71,"Pl\u0103\u021Bi \u0219i comisioane"),c(),l(72,"p"),d(73," Pl\u0103\u021Bile se realizeaz\u0103 prin Stripe. Comisioanele platformei, dac\u0103 exist\u0103, vor fi afi\u0219ate transparent \xEEnainte de confirmarea serviciului. "),c()(),l(74,"section")(75,"h2"),d(76,"Limitarea r\u0103spunderii"),c(),l(77,"p"),d(78," Platforma ExpertEase ac\u021Bioneaz\u0103 doar ca intermediar. Nu ne asum\u0103m responsabilitatea pentru calitatea serviciilor oferite de speciali\u0219ti. "),c()(),l(79,"section")(80,"h2"),d(81,"Suspendarea contului"),c(),l(82,"p"),d(83," Ne rezerv\u0103m dreptul de a suspenda sau \u0219terge conturi care \xEEncalc\u0103 ace\u0219ti termeni sau folosesc platforma \xEEn mod abuziv. "),c()(),l(84,"section")(85,"h2"),d(86,"Protec\u021Bia datelor"),c(),l(87,"p"),d(88," Datele personale sunt gestionate conform "),l(89,"a",5),d(90,"Politicii de confiden\u021Bialitate"),c(),d(91,". "),c()(),l(92,"section")(93,"h2"),d(94,"Modificarea termenilor"),c(),l(95,"p"),d(96," Putem actualiza ace\u0219ti termeni periodic. Modific\u0103rile vor fi anun\u021Bate \xEEn aplica\u021Bie \u0219i vor intra \xEEn vigoare la publicare. "),c()(),l(97,"section")(98,"h2"),d(99,"Contact"),c(),l(100,"p"),d(101," Pentru \xEEntreb\u0103ri legate de ace\u0219ti termeni, ne pute\u021Bi contacta la: "),l(102,"strong"),d(103,"contact@expertease.ro"),c()()()())},styles:[".home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.home-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%}.terms-container[_ngcontent-%COMP%]{max-width:900px;margin:10px auto;padding:0 24px;font-family:Roboto Mono,monospace;font-size:16px;line-height:1.6}.terms-container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{border:2px solid #3c1a7d;border-radius:8px;padding:24px;margin-bottom:32px;background-color:#fff}.terms-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px;color:#3c1a7d}.terms-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:24px;margin-top:8px;margin-bottom:12px}.terms-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.privacy-link[_ngcontent-%COMP%]{color:#000;text-decoration:none;font-weight:700}.privacy-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var Gr=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=R({type:n,selectors:[["app-privacy"]],decls:103,vars:0,consts:[[1,"home-wrapper"],[1,"home-header"],[2,"font-style","italic"],[1,"brand-highlight"],[1,"privacy-container"]],template:function(t,r){t&1&&(l(0,"div",0)(1,"div",1)(2,"h1",2),d(3,"Ai o \u021Beav\u0103 spart\u0103?"),c(),l(4,"h1",2),d(5,"\u021Ai s-a stricat chiuveta?"),c(),l(6,"h1"),d(7,"Nu-i problem\u0103, g\u0103se\u0219te specialistul potrivit pe "),l(8,"strong",3),d(9,"ExpertEase"),c(),d(10,"!"),c()(),l(11,"p"),d(12,"Peste "),l(13,"strong"),d(14,"100 de speciali\u0219ti"),c(),d(15," \xEEnregistra\u021Bi pe platforma noastr\u0103!"),c()(),l(16,"div",4)(17,"section")(18,"h2"),d(19,"Politica de Confiden\u021Bialitate"),c(),l(20,"p"),d(21," Aceast\u0103 politic\u0103 explic\u0103 modul \xEEn care ExpertEase colecteaz\u0103, utilizeaz\u0103 \u0219i protejeaz\u0103 datele personale ale utilizatorilor platformei. Ne angaj\u0103m s\u0103 respect\u0103m confiden\u021Bialitatea \u0219i s\u0103 protej\u0103m toate informa\u021Biile personale furnizate. "),c()(),l(22,"section")(23,"h2"),d(24,"Tipuri de date colectate"),c(),l(25,"ul")(26,"li"),d(27,"Nume \u0219i prenume"),c(),l(28,"li"),d(29,"Adres\u0103 de email"),c(),l(30,"li"),d(31,"Num\u0103r de telefon (dac\u0103 este furnizat)"),c(),l(32,"li"),d(33,"Mesaje transmise prin formularele de contact"),c(),l(34,"li"),d(35,"Date pentru autentificare \xEEn cont"),c(),l(36,"li"),d(37,"Date de plat\u0103 (prin Stripe)"),c(),l(38,"li"),d(39,"Informa\u021Bii despre dispozitiv \u0219i IP (pentru securitate)"),c()()(),l(40,"section")(41,"h2"),d(42,"Scopul prelucr\u0103rii datelor"),c(),l(43,"ul")(44,"li"),d(45,"Crearea \u0219i administrarea contului de utilizator"),c(),l(46,"li"),d(47,"Procesarea solicit\u0103rilor \u0219i a pl\u0103\u021Bilor"),c(),l(48,"li"),d(49,"Comunicare \xEEntre utilizatori (client\u2013specialist)"),c(),l(50,"li"),d(51,"\xCEmbun\u0103t\u0103\u021Birea platformei \u0219i a experien\u021Bei de utilizare"),c(),l(52,"li"),d(53,"Respectarea obliga\u021Biilor legale"),c()()(),l(54,"section")(55,"h2"),d(56,"Temeiuri legale (GDPR)"),c(),l(57,"p"),d(58," Datele sunt colectate \xEEn baza consim\u021B\u0103m\xE2ntului dumneavoastr\u0103, a interesului legitim al platformei sau \xEEn scopul execut\u0103rii unui contract. "),c()(),l(59,"section")(60,"h2"),d(61,"Durata de stocare a datelor"),c(),l(62,"p"),d(63," Datele sunt p\u0103strate pe durata existen\u021Bei contului sau conform obliga\u021Biilor legale. Utilizatorii pot solicita \u0219tergerea acestora \xEEn orice moment. "),c()(),l(64,"section")(65,"h2"),d(66,"Partajarea datelor"),c(),l(67,"p"),d(68," Datele nu sunt v\xE2ndute c\u0103tre ter\u021Bi. Ele pot fi partajate doar cu furnizori de servicii esen\u021Biali (ex: Stripe pentru procesarea pl\u0103\u021Bilor). "),c()(),l(69,"section")(70,"h2"),d(71,"Drepturile utilizatorilor"),c(),l(72,"ul")(73,"li"),d(74,"Dreptul de acces la date"),c(),l(75,"li"),d(76,"Dreptul de rectificare sau \u0219tergere"),c(),l(77,"li"),d(78,"Dreptul de restric\u021Bionare a prelucr\u0103rii"),c(),l(79,"li"),d(80,"Dreptul de opozi\u021Bie"),c(),l(81,"li"),d(82,"Dreptul la portabilitatea datelor"),c(),l(83,"li"),d(84,"Dreptul de a depune pl\xE2ngere la ANSPDCP"),c()()(),l(85,"section")(86,"h2"),d(87,"Securitatea datelor"),c(),l(88,"p"),d(89," Implement\u0103m m\u0103suri tehnice \u0219i organizatorice pentru a proteja datele (criptare, acces limitat, autentificare securizat\u0103). "),c()(),l(90,"section")(91,"h2"),d(92,"Modific\u0103ri ale politicii"),c(),l(93,"p"),d(94," Politica poate fi actualizat\u0103. Modific\u0103rile vor fi publicate pe aceast\u0103 pagin\u0103 \u0219i vor intra \xEEn vigoare imediat. "),c()(),l(95,"section")(96,"h2"),d(97,"Contact"),c(),l(98,"p"),d(99," Pentru \xEEntreb\u0103ri legate de datele tale, ne po\u021Bi scrie la "),l(100,"strong"),d(101,"contact@expertease.ro"),c(),d(102,". "),c()()())},styles:[".home-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;font-family:Roboto Mono,monospace}.home-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.home-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:.5rem 0;text-align:center}.brand-highlight[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px;color:#3c1a7d}.privacy-container[_ngcontent-%COMP%]{max-width:900px;margin:10px auto;padding:0 24px;font-family:Roboto Mono,monospace;font-size:16px;line-height:1.6}.privacy-container[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{border:2px solid #3c1a7d;border-radius:8px;padding:24px;margin-bottom:32px;background-color:#fff}.privacy-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:12px;color:#3c1a7d}.privacy-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:24px;margin-top:8px;margin-bottom:12px}.privacy-container[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}"]})};var Kr=[{path:"home",component:nr},{path:"about",component:ir},{path:"contact-us",component:jr},{path:"terms",component:$r},{path:"privacy",component:Gr},{path:"profile",component:hr,canActivate:[ur]},{path:"home/:id",loadComponent:()=>import("./chunk-MISVJHW7.js").then(n=>n.SpecialistDetailsComponent)},{path:"specialist/:id",component:Eo},{path:"messages",component:Mr},{path:"profile/user/become-specialist",component:kr},{path:"profile/user-settings",component:Fr},{path:"profile/user-reviews",component:Lr},{path:"request-form",component:yn},{path:"register",component:rr},{path:"login",component:or},{path:"specialist-details",component:Eo},{path:"service-payment",component:zr},{path:"admin",component:sr},{path:"admin/users",component:ar},{path:"admin/specialists",component:cr},{path:"admin/categories",component:Nr},{path:"",redirectTo:"/home",pathMatch:"full"},{path:"**",component:lr}];var _s={providers:[Aa({eventCoalescing:!0}),Ui(Kr),ka()]};var rm=n=>({show:n}),Wr=class n{constructor(e,t){this.authService=e;this.router=t;this.router.events.pipe(wa(r=>r instanceof Fa)).subscribe(r=>{console.log("Navigated to:",r)})}title="ExpertEase.Frontend";navbarOpen=!1;toggleNavbar(){this.navbarOpen=!this.navbarOpen}static \u0275fac=function(t){return new(t||n)(A(q),A(Se))};static \u0275cmp=R({type:n,selectors:[["app-root"]],decls:35,vars:5,consts:[[1,"navbar"],["routerLink","/home","data-btn","Acas\u0103",1,"logo-button","toggle-btn"],["src","logo.svg","alt","Logo"],[1,"navbar-toggle",3,"click"],[1,"navbar-links",3,"ngClass"],["routerLink","profile/user/become-specialist","routerLinkActive","active"],["routerLink","/about","routerLinkActive","active"],["routerLink","/messages","routerLinkActive","active"],["routerLinkActive","active",3,"routerLink"],["routerLink","/admin","routerLinkActive","active"],[1,"site-footer"],[1,"footer-content"],[1,"footer-links"],["routerLink","/contact-us","routerLinkActive","active"],["routerLink","/terms","routerLinkActive","active"],["routerLink","/privacy","routerLinkActive","active"]],template:function(t,r){t&1&&(l(0,"nav",0)(1,"button",1),k(2,"img",2),c(),l(3,"button",3),S("click",function(){return r.toggleNavbar()}),d(4,"\u2630"),c(),l(5,"ul",4)(6,"li")(7,"a",5),d(8,"Devino specialist!"),c()(),l(9,"li")(10,"a",6),d(11,"Despre noi"),c()(),l(12,"li")(13,"a",7),d(14,"Mesajele tale"),c()(),l(15,"li")(16,"a",8),d(17),c()(),l(18,"li")(19,"a",9),d(20,"Admin Dashboard"),c()()()(),k(21,"router-outlet"),l(22,"footer",10)(23,"div",11)(24,"p"),d(25,"\xA9 2025 ExpertEase. Toate drepturile rezervate."),c(),l(26,"nav",12)(27,"a",6),d(28,"Despre noi"),c(),l(29,"a",13),d(30,"Contacteaz\u0103-ne!"),c(),l(31,"a",14),d(32,"Termeni \u0219i condi\u021Bii"),c(),l(33,"a",15),d(34,"Politic\u0103 de confiden\u021Bialitate"),c()()()()),t&2&&(m(5),y("ngClass",St(3,rm,r.navbarOpen)),m(11),y("routerLink",r.authService.getToken()?"/profile":"/register"),m(),F(" ",r.authService.getToken()?"Contul t\u0103u":"\xCEnregistreaz\u0103-te!"," "))},dependencies:[se,Ke,Fi,it],styles:[".navbar[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center;padding:16px 32px;background-color:#1e1e2f;color:#fff;box-shadow:0 2px 2px #0000001a;position:relative}.navbar-toggle[_ngcontent-%COMP%]{display:none;font-size:32px;background:none;border:none;color:#fff;cursor:pointer}.navbar-links[_ngcontent-%COMP%]{list-style:none;display:grid;grid-auto-flow:column;gap:24px;margin:0;padding:0;font-family:Roboto Mono,monospace}.navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:2px 0;transition:border-bottom .2s ease}.navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{border-bottom:2px solid white}@media (max-width: 768px){.navbar[_ngcontent-%COMP%]{grid-template-columns:1fr auto;grid-template-rows:auto auto;row-gap:16px}.navbar-toggle[_ngcontent-%COMP%]{display:block}.navbar-links[_ngcontent-%COMP%]{display:none;grid-auto-flow:row;width:100%;grid-column:1/-1}.navbar-links.show[_ngcontent-%COMP%]{display:grid}}.site-footer[_ngcontent-%COMP%]{background-color:#3c1a7d;color:#fff;padding:24px;text-align:center;font-family:Roboto Mono,monospace;margin-top:64px}.site-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{max-width:900px;margin:0 auto}.footer-links[_ngcontent-%COMP%]{margin-top:12px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin:0 12px;font-size:14px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};Va(Wr,pe(z({},_s),{providers:[..._s.providers,Ui(Kr)]})).catch(n=>console.error(n));
